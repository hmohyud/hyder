/*! For license information please see main.16b149c7.js.LICENSE.txt */
(()=>{"use strict";var t={4:(t,e,n)=>{var i=n(853),r=n(43),a=n(950);function s(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function l(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(4098&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function c(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function u(t){if(l(t)!==t)throw Error(s(188))}function h(t){var e=t.tag;if(5===e||26===e||27===e||6===e)return t;for(t=t.child;null!==t;){if(null!==(e=h(t)))return e;t=t.sibling}return null}var d=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),x=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),E=Symbol.for("react.lazy");Symbol.for("react.scope");var C=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var M=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var T=Symbol.iterator;function P(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=T&&t[T]||t["@@iterator"])?t:null}var R=Symbol.for("react.client.reference");function D(t){if(null==t)return null;if("function"===typeof t)return t.$$typeof===R?null:t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case m:return"Fragment";case y:return"Profiler";case v:return"StrictMode";case k:return"Suspense";case S:return"SuspenseList";case C:return"Activity"}if("object"===typeof t)switch(t.$$typeof){case g:return"Portal";case x:return(t.displayName||"Context")+".Provider";case w:return(t._context.displayName||"Context")+".Consumer";case _:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case A:return null!==(e=t.displayName||null)?e:D(t.type)||"Memo";case E:e=t._payload,t=t._init;try{return D(t(e))}catch(n){}}return null}var L=Array.isArray,N=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},O=[],B=-1;function j(t){return{current:t}}function W(t){0>B||(t.current=O[B],O[B]=null,B--)}function z(t,e){B++,O[B]=t.current,t.current=e}var U=j(null),H=j(null),V=j(null),G=j(null);function q(t,e){switch(z(V,e),z(H,t),z(U,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?rh(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)t=ah(e=rh(e),t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}W(U),z(U,t)}function X(){W(U),W(H),W(V)}function Y(t){null!==t.memoizedState&&z(G,t);var e=U.current,n=ah(e,t.type);e!==n&&(z(H,t),z(U,n))}function K(t){H.current===t&&(W(U),W(H)),G.current===t&&(W(G),Yh._currentValue=F)}var Q=Object.prototype.hasOwnProperty,$=i.unstable_scheduleCallback,J=i.unstable_cancelCallback,Z=i.unstable_shouldYield,tt=i.unstable_requestPaint,et=i.unstable_now,nt=i.unstable_getCurrentPriorityLevel,it=i.unstable_ImmediatePriority,rt=i.unstable_UserBlockingPriority,at=i.unstable_NormalPriority,st=i.unstable_LowPriority,ot=i.unstable_IdlePriority,lt=i.log,ct=i.unstable_setDisableYieldValue,ut=null,ht=null;function dt(t){if("function"===typeof lt&&ct(t),ht&&"function"===typeof ht.setStrictMode)try{ht.setStrictMode(ut,t)}catch(e){}}var ft=Math.clz32?Math.clz32:function(t){return t>>>=0,0===t?32:31-(pt(t)/gt|0)|0},pt=Math.log,gt=Math.LN2;var mt=256,vt=4194304;function yt(t){var e=42&t;if(0!==e)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&t;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&t;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function bt(t,e,n){var i=t.pendingLanes;if(0===i)return 0;var r=0,a=t.suspendedLanes,s=t.pingedLanes;t=t.warmLanes;var o=134217727&i;return 0!==o?0!==(i=o&~a)?r=yt(i):0!==(s&=o)?r=yt(s):n||0!==(n=o&~t)&&(r=yt(n)):0!==(o=i&~a)?r=yt(o):0!==s?r=yt(s):n||0!==(n=i&~t)&&(r=yt(n)),0===r?0:0!==e&&e!==r&&0===(e&a)&&((a=r&-r)>=(n=e&-e)||32===a&&0!==(4194048&n))?e:r}function wt(t,e){return 0===(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)}function xt(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function _t(){var t=mt;return 0===(4194048&(mt<<=1))&&(mt=256),t}function kt(){var t=vt;return 0===(62914560&(vt<<=1))&&(vt=4194304),t}function St(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function At(t,e){t.pendingLanes|=e,268435456!==e&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Et(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-ft(e);t.entangledLanes|=e,t.entanglements[i]=1073741824|t.entanglements[i]|4194090&n}function Ct(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-ft(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}function Mt(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Tt(t){return 2<(t&=-t)?8<t?0!==(134217727&t)?32:268435456:8:2}function Pt(){var t=I.p;return 0!==t?t:void 0===(t=window.event)?32:cd(t.type)}var Rt=Math.random().toString(36).slice(2),Dt="__reactFiber$"+Rt,Lt="__reactProps$"+Rt,Nt="__reactContainer$"+Rt,It="__reactEvents$"+Rt,Ft="__reactListeners$"+Rt,Ot="__reactHandles$"+Rt,Bt="__reactResources$"+Rt,jt="__reactMarker$"+Rt;function Wt(t){delete t[Dt],delete t[Lt],delete t[It],delete t[Ft],delete t[Ot]}function zt(t){var e=t[Dt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Nt]||n[Dt]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=bh(t);null!==t;){if(n=t[Dt])return n;t=bh(t)}return e}n=(t=n).parentNode}return null}function Ut(t){if(t=t[Dt]||t[Nt]){var e=t.tag;if(5===e||6===e||13===e||26===e||27===e||3===e)return t}return null}function Ht(t){var e=t.tag;if(5===e||26===e||27===e||6===e)return t.stateNode;throw Error(s(33))}function Vt(t){var e=t[Bt];return e||(e=t[Bt]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Gt(t){t[jt]=!0}var qt=new Set,Xt={};function Yt(t,e){Kt(t,e),Kt(t+"Capture",e)}function Kt(t,e){for(Xt[t]=e,t=0;t<e.length;t++)qt.add(e[t])}var Qt,$t,Jt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zt={},te={};function ee(t,e,n){if(r=e,Q.call(te,r)||!Q.call(Zt,r)&&(Jt.test(r)?te[r]=!0:(Zt[r]=!0,0)))if(null===n)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":return void t.removeAttribute(e);case"boolean":var i=e.toLowerCase().slice(0,5);if("data-"!==i&&"aria-"!==i)return void t.removeAttribute(e)}t.setAttribute(e,""+n)}var r}function ne(t,e,n){if(null===n)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void t.removeAttribute(e)}t.setAttribute(e,""+n)}}function ie(t,e,n,i){if(null===i)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":return void t.removeAttribute(n)}t.setAttributeNS(e,n,""+i)}}function re(t){if(void 0===Qt)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Qt=e&&e[1]||"",$t=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Qt+t+$t}var ae=!1;function se(t,e){if(!t||ae)return"";ae=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(r){var i=r}Reflect.construct(t,[],n)}else{try{n.call()}catch(a){i=a}t.call(n.prototype)}}else{try{throw Error()}catch(s){i=s}(n=t())&&"function"===typeof n.catch&&n.catch((function(){}))}}catch(o){if(o&&i&&"string"===typeof o.stack)return[o.stack,i.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=i.DetermineComponentFrameRoot(),s=a[0],o=a[1];if(s&&o){var l=s.split("\n"),c=o.split("\n");for(r=i=0;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(i===l.length||r===c.length)for(i=l.length-1,r=c.length-1;1<=i&&0<=r&&l[i]!==c[r];)r--;for(;1<=i&&0<=r;i--,r--)if(l[i]!==c[r]){if(1!==i||1!==r)do{if(i--,0>--r||l[i]!==c[r]){var u="\n"+l[i].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}}while(1<=i&&0<=r);break}}}finally{ae=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?re(n):""}function oe(t){switch(t.tag){case 26:case 27:case 5:return re(t.type);case 16:return re("Lazy");case 13:return re("Suspense");case 19:return re("SuspenseList");case 0:case 15:return se(t.type,!1);case 11:return se(t.type.render,!1);case 1:return se(t.type,!0);case 31:return re("Activity");default:return""}}function le(t){try{var e="";do{e+=oe(t),t=t.return}while(t);return e}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ce(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function ue(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function he(t){t._valueTracker||(t._valueTracker=function(t){var e=ue(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(t){i=""+t,a.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(t){i=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function de(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=ue(t)?t.checked?"true":"false":t.value),(t=i)!==n&&(e.setValue(t),!0)}function fe(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}var pe=/[\n"\\]/g;function ge(t){return t.replace(pe,(function(t){return"\\"+t.charCodeAt(0).toString(16)+" "}))}function me(t,e,n,i,r,a,s,o){t.name="",null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?t.type=s:t.removeAttribute("type"),null!=e?"number"===s?(0===e&&""===t.value||t.value!=e)&&(t.value=""+ce(e)):t.value!==""+ce(e)&&(t.value=""+ce(e)):"submit"!==s&&"reset"!==s||t.removeAttribute("value"),null!=e?ye(t,s,ce(e)):null!=n?ye(t,s,ce(n)):null!=i&&t.removeAttribute("value"),null==r&&null!=a&&(t.defaultChecked=!!a),null!=r&&(t.checked=r&&"function"!==typeof r&&"symbol"!==typeof r),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?t.name=""+ce(o):t.removeAttribute("name")}function ve(t,e,n,i,r,a,s,o){if(null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(t.type=a),null!=e||null!=n){if(!("submit"!==a&&"reset"!==a||void 0!==e&&null!==e))return;n=null!=n?""+ce(n):"",e=null!=e?""+ce(e):n,o||e===t.value||(t.value=e),t.defaultValue=e}i="function"!==typeof(i=null!=i?i:r)&&"symbol"!==typeof i&&!!i,t.checked=o?t.checked:!!i,t.defaultChecked=!!i,null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(t.name=s)}function ye(t,e,n){"number"===e&&fe(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function be(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+ce(n),e=null,r=0;r<t.length;r++){if(t[r].value===n)return t[r].selected=!0,void(i&&(t[r].defaultSelected=!0));null!==e||t[r].disabled||(e=t[r])}null!==e&&(e.selected=!0)}}function we(t,e,n){null==e||((e=""+ce(e))!==t.value&&(t.value=e),null!=n)?t.defaultValue=null!=n?""+ce(n):"":t.defaultValue!==e&&(t.defaultValue=e)}function xe(t,e,n,i){if(null==e){if(null!=i){if(null!=n)throw Error(s(92));if(L(i)){if(1<i.length)throw Error(s(93));i=i[0]}n=i}null==n&&(n=""),e=n}n=ce(e),t.defaultValue=n,(i=t.textContent)===n&&""!==i&&null!==i&&(t.value=i)}function _e(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var ke=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Se(t,e,n){var i=0===e.indexOf("--");null==n||"boolean"===typeof n||""===n?i?t.setProperty(e,""):"float"===e?t.cssFloat="":t[e]="":i?t.setProperty(e,n):"number"!==typeof n||0===n||ke.has(e)?"float"===e?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function Ae(t,e,n){if(null!=e&&"object"!==typeof e)throw Error(s(62));if(t=t.style,null!=n){for(var i in n)!n.hasOwnProperty(i)||null!=e&&e.hasOwnProperty(i)||(0===i.indexOf("--")?t.setProperty(i,""):"float"===i?t.cssFloat="":t[i]="");for(var r in e)i=e[r],e.hasOwnProperty(r)&&n[r]!==i&&Se(t,r,i)}else for(var a in e)e.hasOwnProperty(a)&&Se(t,a,e[a])}function Ee(t){if(-1===t.indexOf("-"))return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ce=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Me=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Te(t){return Me.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Pe=null;function Re(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var De=null,Le=null;function Ne(t){var e=Ut(t);if(e&&(t=e.stateNode)){var n=t[Lt]||null;t:switch(t=e.stateNode,e.type){case"input":if(me(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ge(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=i[Lt]||null;if(!r)throw Error(s(90));me(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(e=0;e<n.length;e++)(i=n[e]).form===t.form&&de(i)}break t;case"textarea":we(t,n.value,n.defaultValue);break t;case"select":null!=(e=n.value)&&be(t,!!n.multiple,e,!1)}}}var Ie=!1;function Fe(t,e,n){if(Ie)return t(e,n);Ie=!0;try{return t(e)}finally{if(Ie=!1,(null!==De||null!==Le)&&(zc(),De&&(e=De,t=Le,Le=De=null,Ne(e),t)))for(e=0;e<t.length;e++)Ne(t[e])}}function Oe(t,e){var n=t.stateNode;if(null===n)return null;var i=n[Lt]||null;if(null===i)return null;n=i[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!i;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(s(231,e,typeof n));return n}var Be=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),je=!1;if(Be)try{var We={};Object.defineProperty(We,"passive",{get:function(){je=!0}}),window.addEventListener("test",We,We),window.removeEventListener("test",We,We)}catch(Ld){je=!1}var ze=null,Ue=null,He=null;function Ve(){if(He)return He;var t,e,n=Ue,i=n.length,r="value"in ze?ze.value:ze.textContent,a=r.length;for(t=0;t<i&&n[t]===r[t];t++);var s=i-t;for(e=1;e<=s&&n[i-e]===r[a-e];e++);return He=r.slice(t,1<e?1-e:void 0)}function Ge(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function qe(){return!0}function Xe(){return!1}function Ye(t){function e(e,n,i,r,a){for(var s in this._reactName=e,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=a,this.currentTarget=null,t)t.hasOwnProperty(s)&&(e=t[s],this[s]=e?e(r):r[s]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?qe:Xe,this.isPropagationStopped=Xe,this}return d(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=qe)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=qe)},persist:function(){},isPersistent:qe}),e}var Ke,Qe,$e,Je={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ze=Ye(Je),tn=d({},Je,{view:0,detail:0}),en=Ye(tn),nn=d({},tn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pn,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$e&&($e&&"mousemove"===t.type?(Ke=t.screenX-$e.screenX,Qe=t.screenY-$e.screenY):Qe=Ke=0,$e=t),Ke)},movementY:function(t){return"movementY"in t?t.movementY:Qe}}),rn=Ye(nn),an=Ye(d({},nn,{dataTransfer:0})),sn=Ye(d({},tn,{relatedTarget:0})),on=Ye(d({},Je,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Ye(d({},Je,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}})),cn=Ye(d({},Je,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=dn[t])&&!!e[t]}function pn(){return fn}var gn=Ye(d({},tn,{key:function(t){if(t.key){var e=un[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=Ge(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?hn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pn,charCode:function(t){return"keypress"===t.type?Ge(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?Ge(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}})),mn=Ye(d({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),vn=Ye(d({},tn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pn})),yn=Ye(d({},Je,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Ye(d({},nn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0})),wn=Ye(d({},Je,{newState:0,oldState:0})),xn=[9,13,27,32],_n=Be&&"CompositionEvent"in window,kn=null;Be&&"documentMode"in document&&(kn=document.documentMode);var Sn=Be&&"TextEvent"in window&&!kn,An=Be&&(!_n||kn&&8<kn&&11>=kn),En=String.fromCharCode(32),Cn=!1;function Mn(t,e){switch(t){case"keyup":return-1!==xn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tn(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Pn=!1;var Rn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Rn[t.type]:"textarea"===e}function Ln(t,e,n,i){De?Le?Le.push(i):Le=[i]:De=i,0<(e=Vu(e,"onChange")).length&&(n=new Ze("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Nn=null,In=null;function Fn(t){Fu(t,0)}function On(t){if(de(Ht(t)))return t}function Bn(t,e){if("change"===t)return e}var jn=!1;if(Be){var Wn;if(Be){var zn="oninput"in document;if(!zn){var Un=document.createElement("div");Un.setAttribute("oninput","return;"),zn="function"===typeof Un.oninput}Wn=zn}else Wn=!1;jn=Wn&&(!document.documentMode||9<document.documentMode)}function Hn(){Nn&&(Nn.detachEvent("onpropertychange",Vn),In=Nn=null)}function Vn(t){if("value"===t.propertyName&&On(In)){var e=[];Ln(e,In,t,Re(t)),Fe(Fn,e)}}function Gn(t,e,n){"focusin"===t?(Hn(),In=n,(Nn=e).attachEvent("onpropertychange",Vn)):"focusout"===t&&Hn()}function qn(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return On(In)}function Xn(t,e){if("click"===t)return On(e)}function Yn(t,e){if("input"===t||"change"===t)return On(e)}var Kn="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e};function Qn(t,e){if(Kn(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Q.call(e,r)||!Kn(t[r],e[r]))return!1}return!0}function $n(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Jn(t,e){var n,i=$n(t);for(t=0;i;){if(3===i.nodeType){if(n=t+i.textContent.length,t<=e&&n>=e)return{node:i,offset:e-t};t=n}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=$n(i)}}function Zn(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?Zn(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function ti(t){for(var e=fe((t=null!=t&&null!=t.ownerDocument&&null!=t.ownerDocument.defaultView?t.ownerDocument.defaultView:window).document);e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(i){n=!1}if(!n)break;e=fe((t=e.contentWindow).document)}return e}function ei(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var ni=Be&&"documentMode"in document&&11>=document.documentMode,ii=null,ri=null,ai=null,si=!1;function oi(t,e,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;si||null==ii||ii!==fe(i)||("selectionStart"in(i=ii)&&ei(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},ai&&Qn(ai,i)||(ai=i,0<(i=Vu(ri,"onSelect")).length&&(e=new Ze("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=ii)))}function li(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ci={animationend:li("Animation","AnimationEnd"),animationiteration:li("Animation","AnimationIteration"),animationstart:li("Animation","AnimationStart"),transitionrun:li("Transition","TransitionRun"),transitionstart:li("Transition","TransitionStart"),transitioncancel:li("Transition","TransitionCancel"),transitionend:li("Transition","TransitionEnd")},ui={},hi={};function di(t){if(ui[t])return ui[t];if(!ci[t])return t;var e,n=ci[t];for(e in n)if(n.hasOwnProperty(e)&&e in hi)return ui[t]=n[e];return t}Be&&(hi=document.createElement("div").style,"AnimationEvent"in window||(delete ci.animationend.animation,delete ci.animationiteration.animation,delete ci.animationstart.animation),"TransitionEvent"in window||delete ci.transitionend.transition);var fi=di("animationend"),pi=di("animationiteration"),gi=di("animationstart"),mi=di("transitionrun"),vi=di("transitionstart"),yi=di("transitioncancel"),bi=di("transitionend"),wi=new Map,xi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _i(t,e){wi.set(t,e),Yt(e,[t])}xi.push("scrollEnd");var ki=new WeakMap;function Si(t,e){if("object"===typeof t&&null!==t){var n=ki.get(t);return void 0!==n?n:(e={value:t,source:e,stack:le(e)},ki.set(t,e),e)}return{value:t,source:e,stack:le(e)}}var Ai=[],Ei=0,Ci=0;function Mi(){for(var t=Ei,e=Ci=Ei=0;e<t;){var n=Ai[e];Ai[e++]=null;var i=Ai[e];Ai[e++]=null;var r=Ai[e];Ai[e++]=null;var a=Ai[e];if(Ai[e++]=null,null!==i&&null!==r){var s=i.pending;null===s?r.next=r:(r.next=s.next,s.next=r),i.pending=r}0!==a&&Di(n,r,a)}}function Ti(t,e,n,i){Ai[Ei++]=t,Ai[Ei++]=e,Ai[Ei++]=n,Ai[Ei++]=i,Ci|=i,t.lanes|=i,null!==(t=t.alternate)&&(t.lanes|=i)}function Pi(t,e,n,i){return Ti(t,e,n,i),Li(t)}function Ri(t,e){return Ti(t,null,null,e),Li(t)}function Di(t,e,n){t.lanes|=n;var i=t.alternate;null!==i&&(i.lanes|=n);for(var r=!1,a=t.return;null!==a;)a.childLanes|=n,null!==(i=a.alternate)&&(i.childLanes|=n),22===a.tag&&(null===(t=a.stateNode)||1&t._visibility||(r=!0)),t=a,a=a.return;return 3===t.tag?(a=t.stateNode,r&&null!==e&&(r=31-ft(n),null===(i=(t=a.hiddenUpdates)[r])?t[r]=[e]:i.push(e),e.lane=536870912|n),a):null}function Li(t){if(50<Dc)throw Dc=0,Lc=null,Error(s(185));for(var e=t.return;null!==e;)e=(t=e).return;return 3===t.tag?t.stateNode:null}var Ni={};function Ii(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fi(t,e,n,i){return new Ii(t,e,n,i)}function Oi(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Bi(t,e){var n=t.alternate;return null===n?((n=Fi(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&t.flags,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function ji(t,e){t.flags&=65011714;var n=t.alternate;return null===n?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Wi(t,e,n,i,r,a){var o=0;if(i=t,"function"===typeof t)Oi(t)&&(o=1);else if("string"===typeof t)o=function(t,e,n){if(1===n||null!=e.itemProp)return!1;switch(t){case"meta":case"title":return!0;case"style":if("string"!==typeof e.precedence||"string"!==typeof e.href||""===e.href)break;return!0;case"link":if("string"!==typeof e.rel||"string"!==typeof e.href||""===e.href||e.onLoad||e.onError)break;return"stylesheet"!==e.rel||(t=e.disabled,"string"===typeof e.precedence&&null==t);case"script":if(e.async&&"function"!==typeof e.async&&"symbol"!==typeof e.async&&!e.onLoad&&!e.onError&&e.src&&"string"===typeof e.src)return!0}return!1}(t,n,U.current)?26:"html"===t||"head"===t||"body"===t?27:5;else t:switch(t){case C:return(t=Fi(31,n,e,r)).elementType=C,t.lanes=a,t;case m:return zi(n.children,r,a,e);case v:o=8,r|=24;break;case y:return(t=Fi(12,n,e,2|r)).elementType=y,t.lanes=a,t;case k:return(t=Fi(13,n,e,r)).elementType=k,t.lanes=a,t;case S:return(t=Fi(19,n,e,r)).elementType=S,t.lanes=a,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case b:case x:o=10;break t;case w:o=9;break t;case _:o=11;break t;case A:o=14;break t;case E:o=16,i=null;break t}o=29,n=Error(s(130,null===t?"null":typeof t,"")),i=null}return(e=Fi(o,n,e,r)).elementType=t,e.type=i,e.lanes=a,e}function zi(t,e,n,i){return(t=Fi(7,t,i,e)).lanes=n,t}function Ui(t,e,n){return(t=Fi(6,t,null,e)).lanes=n,t}function Hi(t,e,n){return(e=Fi(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Vi=[],Gi=0,qi=null,Xi=0,Yi=[],Ki=0,Qi=null,$i=1,Ji="";function Zi(t,e){Vi[Gi++]=Xi,Vi[Gi++]=qi,qi=t,Xi=e}function tr(t,e,n){Yi[Ki++]=$i,Yi[Ki++]=Ji,Yi[Ki++]=Qi,Qi=t;var i=$i;t=Ji;var r=32-ft(i)-1;i&=~(1<<r),n+=1;var a=32-ft(e)+r;if(30<a){var s=r-r%5;a=(i&(1<<s)-1).toString(32),i>>=s,r-=s,$i=1<<32-ft(e)+r|n<<r|i,Ji=a+t}else $i=1<<a|n<<r|i,Ji=t}function er(t){null!==t.return&&(Zi(t,1),tr(t,1,0))}function nr(t){for(;t===qi;)qi=Vi[--Gi],Vi[Gi]=null,Xi=Vi[--Gi],Vi[Gi]=null;for(;t===Qi;)Qi=Yi[--Ki],Yi[Ki]=null,Ji=Yi[--Ki],Yi[Ki]=null,$i=Yi[--Ki],Yi[Ki]=null}var ir=null,rr=null,ar=!1,sr=null,or=!1,lr=Error(s(519));function cr(t){throw gr(Si(Error(s(418,"")),t)),lr}function ur(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[Dt]=t,e[Lt]=i,n){case"dialog":Ou("cancel",e),Ou("close",e);break;case"iframe":case"object":case"embed":Ou("load",e);break;case"video":case"audio":for(n=0;n<Nu.length;n++)Ou(Nu[n],e);break;case"source":Ou("error",e);break;case"img":case"image":case"link":Ou("error",e),Ou("load",e);break;case"details":Ou("toggle",e);break;case"input":Ou("invalid",e),ve(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),he(e);break;case"select":Ou("invalid",e);break;case"textarea":Ou("invalid",e),xe(e,i.value,i.defaultValue,i.children),he(e)}"string"!==typeof(n=i.children)&&"number"!==typeof n&&"bigint"!==typeof n||e.textContent===""+n||!0===i.suppressHydrationWarning||Qu(e.textContent,n)?(null!=i.popover&&(Ou("beforetoggle",e),Ou("toggle",e)),null!=i.onScroll&&Ou("scroll",e),null!=i.onScrollEnd&&Ou("scrollend",e),null!=i.onClick&&(e.onclick=$u),e=!0):e=!1,e||cr(t)}function hr(t){for(ir=t.return;ir;)switch(ir.tag){case 5:case 13:return void(or=!1);case 27:case 3:return void(or=!0);default:ir=ir.return}}function dr(t){if(t!==ir)return!1;if(!ar)return hr(t),ar=!0,!1;var e,n=t.tag;if((e=3!==n&&27!==n)&&((e=5===n)&&(e=!("form"!==(e=t.type)&&"button"!==e)||sh(t.type,t.memoizedProps)),e=!e),e&&rr&&cr(t),hr(t),13===n){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(8===t.nodeType)if("/$"===(e=t.data)){if(0===n){rr=vh(t.nextSibling);break t}n--}else"$"!==e&&"$!"!==e&&"$?"!==e||n++;t=t.nextSibling}rr=null}}else 27===n?(n=rr,fh(t.type)?(t=yh,yh=null,rr=t):rr=n):rr=ir?vh(t.stateNode.nextSibling):null;return!0}function fr(){rr=ir=null,ar=!1}function pr(){var t=sr;return null!==t&&(null===bc?bc=t:bc.push.apply(bc,t),sr=null),t}function gr(t){null===sr?sr=[t]:sr.push(t)}var mr=j(null),vr=null,yr=null;function br(t,e,n){z(mr,e._currentValue),e._currentValue=n}function wr(t){t._currentValue=mr.current,W(mr)}function xr(t,e,n){for(;null!==t;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==i&&(i.childLanes|=e)):null!==i&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function _r(t,e,n,i){var r=t.child;for(null!==r&&(r.return=t);null!==r;){var a=r.dependencies;if(null!==a){var o=r.child;a=a.firstContext;t:for(;null!==a;){var l=a;a=r;for(var c=0;c<e.length;c++)if(l.context===e[c]){a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),xr(a.return,n,t),i||(o=null);break t}a=l.next}}else if(18===r.tag){if(null===(o=r.return))throw Error(s(341));o.lanes|=n,null!==(a=o.alternate)&&(a.lanes|=n),xr(o,n,t),o=null}else o=r.child;if(null!==o)o.return=r;else for(o=r;null!==o;){if(o===t){o=null;break}if(null!==(r=o.sibling)){r.return=o.return,o=r;break}o=o.return}r=o}}function kr(t,e,n,i){t=null;for(var r=e,a=!1;null!==r;){if(!a)if(0!==(524288&r.flags))a=!0;else if(0!==(262144&r.flags))break;if(10===r.tag){var o=r.alternate;if(null===o)throw Error(s(387));if(null!==(o=o.memoizedProps)){var l=r.type;Kn(r.pendingProps.value,o.value)||(null!==t?t.push(l):t=[l])}}else if(r===G.current){if(null===(o=r.alternate))throw Error(s(387));o.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(null!==t?t.push(Yh):t=[Yh])}r=r.return}null!==t&&_r(e,t,n,i),e.flags|=262144}function Sr(t){for(t=t.firstContext;null!==t;){if(!Kn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ar(t){vr=t,yr=null,null!==(t=t.dependencies)&&(t.firstContext=null)}function Er(t){return Mr(vr,t)}function Cr(t,e){return null===vr&&Ar(t),Mr(t,e)}function Mr(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},null===yr){if(null===t)throw Error(s(308));yr=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else yr=yr.next=e;return n}var Tr="undefined"!==typeof AbortController?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(e,n){t.push(n)}};this.abort=function(){e.aborted=!0,t.forEach((function(t){return t()}))}},Pr=i.unstable_scheduleCallback,Rr=i.unstable_NormalPriority,Dr={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lr(){return{controller:new Tr,data:new Map,refCount:0}}function Nr(t){t.refCount--,0===t.refCount&&Pr(Rr,(function(){t.controller.abort()}))}var Ir=null,Fr=0,Or=0,Br=null;function jr(){if(0===--Fr&&null!==Ir){null!==Br&&(Br.status="fulfilled");var t=Ir;Ir=null,Or=0,Br=null;for(var e=0;e<t.length;e++)(0,t[e])()}}var Wr=N.S;N.S=function(t,e){"object"===typeof e&&null!==e&&"function"===typeof e.then&&function(t,e){if(null===Ir){var n=Ir=[];Fr=0,Or=Tu(),Br={status:"pending",value:void 0,then:function(t){n.push(t)}}}Fr++,e.then(jr,jr)}(0,e),null!==Wr&&Wr(t,e)};var zr=j(null);function Ur(){var t=zr.current;return null!==t?t:ic.pooledCache}function Hr(t,e){z(zr,null===e?zr.current:e.pool)}function Vr(){var t=Ur();return null===t?null:{parent:Dr._currentValue,pool:t}}var Gr=Error(s(460)),qr=Error(s(474)),Xr=Error(s(542)),Yr={then:function(){}};function Kr(t){return"fulfilled"===(t=t.status)||"rejected"===t}function Qr(){}function $r(t,e,n){switch(void 0===(n=t[n])?t.push(e):n!==e&&(e.then(Qr,Qr),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw ta(t=e.reason),t;default:if("string"===typeof e.status)e.then(Qr,Qr);else{if(null!==(t=ic)&&100<t.shellSuspendCounter)throw Error(s(482));(t=e).status="pending",t.then((function(t){if("pending"===e.status){var n=e;n.status="fulfilled",n.value=t}}),(function(t){if("pending"===e.status){var n=e;n.status="rejected",n.reason=t}}))}switch(e.status){case"fulfilled":return e.value;case"rejected":throw ta(t=e.reason),t}throw Jr=e,Gr}}var Jr=null;function Zr(){if(null===Jr)throw Error(s(459));var t=Jr;return Jr=null,t}function ta(t){if(t===Gr||t===Xr)throw Error(s(483))}var ea=!1;function na(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ia(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ra(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function aa(t,e,n){var i=t.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&nc)){var r=i.pending;return null===r?e.next=e:(e.next=r.next,r.next=e),i.pending=e,e=Li(t),Di(t,null,n),e}return Ti(t,i,e,n),Li(t)}function sa(t,e,n){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194048&n))){var i=e.lanes;n|=i&=t.pendingLanes,e.lanes=n,Ct(t,n)}}function oa(t,e){var n=t.updateQueue,i=t.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?r=a=s:a=a.next=s,n=n.next}while(null!==n);null===a?r=a=e:a=a.next=e}else r=a=e;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:i.shared,callbacks:i.callbacks},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var la=!1;function ca(){if(la){if(null!==Br)throw Br}}function ua(t,e,n,i){la=!1;var r=t.updateQueue;ea=!1;var a=r.firstBaseUpdate,s=r.lastBaseUpdate,o=r.shared.pending;if(null!==o){r.shared.pending=null;var l=o,c=l.next;l.next=null,null===s?a=c:s.next=c,s=l;var u=t.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==a){var h=r.baseState;for(s=0,u=c=l=null,o=a;;){var f=-536870913&o.lane,p=f!==o.lane;if(p?(ac&f)===f:(i&f)===f){0!==f&&f===Or&&(la=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});t:{var g=t,m=o;f=e;var v=n;switch(m.tag){case 1:if("function"===typeof(g=m.payload)){h=g.call(v,h,f);break t}h=g;break t;case 3:g.flags=-65537&g.flags|128;case 0:if(null===(f="function"===typeof(g=m.payload)?g.call(v,h,f):g)||void 0===f)break t;h=d({},h,f);break t;case 2:ea=!0}}null!==(f=o.callback)&&(t.flags|=64,p&&(t.flags|=8192),null===(p=r.callbacks)?r.callbacks=[f]:p.push(f))}else p={lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=p,l=h):u=u.next=p,s|=f;if(null===(o=o.next)){if(null===(o=r.shared.pending))break;o=(p=o).next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}null===u&&(l=h),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null===a&&(r.shared.lanes=0),fc|=s,t.lanes=s,t.memoizedState=h}}function ha(t,e){if("function"!==typeof t)throw Error(s(191,t));t.call(e)}function da(t,e){var n=t.callbacks;if(null!==n)for(t.callbacks=null,t=0;t<n.length;t++)ha(n[t],e)}var fa=j(null),pa=j(0);function ga(t,e){z(pa,t=hc),z(fa,e),hc=t|e.baseLanes}function ma(){z(pa,hc),z(fa,fa.current)}function va(){hc=pa.current,W(fa),W(pa)}var ya=0,ba=null,wa=null,xa=null,_a=!1,ka=!1,Sa=!1,Aa=0,Ea=0,Ca=null,Ma=0;function Ta(){throw Error(s(321))}function Pa(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Kn(t[n],e[n]))return!1;return!0}function Ra(t,e,n,i,r,a){return ya=a,ba=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,N.H=null===t||null===t.memoizedState?Gs:qs,Sa=!1,a=n(i,r),Sa=!1,ka&&(a=La(e,n,i,r)),Da(t),a}function Da(t){N.H=Vs;var e=null!==wa&&null!==wa.next;if(ya=0,xa=wa=ba=null,_a=!1,Ea=0,Ca=null,e)throw Error(s(300));null===t||Co||null!==(t=t.dependencies)&&Sr(t)&&(Co=!0)}function La(t,e,n,i){ba=t;var r=0;do{if(ka&&(Ca=null),Ea=0,ka=!1,25<=r)throw Error(s(301));if(r+=1,xa=wa=null,null!=t.updateQueue){var a=t.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}N.H=Xs,a=e(n,i)}while(ka);return a}function Na(){var t=N.H,e=t.useState()[0];return e="function"===typeof e.then?Wa(e):e,t=t.useState()[0],(null!==wa?wa.memoizedState:null)!==t&&(ba.flags|=1024),e}function Ia(){var t=0!==Aa;return Aa=0,t}function Fa(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Oa(t){if(_a){for(t=t.memoizedState;null!==t;){var e=t.queue;null!==e&&(e.pending=null),t=t.next}_a=!1}ya=0,xa=wa=ba=null,ka=!1,Ea=Aa=0,Ca=null}function Ba(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===xa?ba.memoizedState=xa=t:xa=xa.next=t,xa}function ja(){if(null===wa){var t=ba.alternate;t=null!==t?t.memoizedState:null}else t=wa.next;var e=null===xa?ba.memoizedState:xa.next;if(null!==e)xa=e,wa=t;else{if(null===t){if(null===ba.alternate)throw Error(s(467));throw Error(s(310))}t={memoizedState:(wa=t).memoizedState,baseState:wa.baseState,baseQueue:wa.baseQueue,queue:wa.queue,next:null},null===xa?ba.memoizedState=xa=t:xa=xa.next=t}return xa}function Wa(t){var e=Ea;return Ea+=1,null===Ca&&(Ca=[]),t=$r(Ca,t,e),e=ba,null===(null===xa?e.memoizedState:xa.next)&&(e=e.alternate,N.H=null===e||null===e.memoizedState?Gs:qs),t}function za(t){if(null!==t&&"object"===typeof t){if("function"===typeof t.then)return Wa(t);if(t.$$typeof===x)return Er(t)}throw Error(s(438,String(t)))}function Ua(t){var e=null,n=ba.updateQueue;if(null!==n&&(e=n.memoCache),null==e){var i=ba.alternate;null!==i&&(null!==(i=i.updateQueue)&&(null!=(i=i.memoCache)&&(e={data:i.data.map((function(t){return t.slice()})),index:0})))}if(null==e&&(e={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},ba.updateQueue=n),n.memoCache=e,void 0===(n=e.data[e.index]))for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=M;return e.index++,n}function Ha(t,e){return"function"===typeof e?e(t):e}function Va(t){return Ga(ja(),wa,t)}function Ga(t,e,n){var i=t.queue;if(null===i)throw Error(s(311));i.lastRenderedReducer=n;var r=t.baseQueue,a=i.pending;if(null!==a){if(null!==r){var o=r.next;r.next=a.next,a.next=o}e.baseQueue=r=a,i.pending=null}if(a=t.baseState,null===r)t.memoizedState=a;else{var l=o=null,c=null,u=e=r.next,h=!1;do{var d=-536870913&u.lane;if(d!==u.lane?(ac&d)===d:(ya&d)===d){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===Or&&(h=!0);else{if((ya&f)===f){u=u.next,f===Or&&(h=!0);continue}d={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=d,o=a):c=c.next=d,ba.lanes|=f,fc|=f}d=u.action,Sa&&n(a,d),a=u.hasEagerState?u.eagerState:n(a,d)}else f={lane:d,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,o=a):c=c.next=f,ba.lanes|=d,fc|=d;u=u.next}while(null!==u&&u!==e);if(null===c?o=a:c.next=l,!Kn(a,t.memoizedState)&&(Co=!0,h&&null!==(n=Br)))throw n;t.memoizedState=a,t.baseState=o,t.baseQueue=c,i.lastRenderedState=a}return null===r&&(i.lanes=0),[t.memoizedState,i.dispatch]}function qa(t){var e=ja(),n=e.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,a=e.memoizedState;if(null!==r){n.pending=null;var o=r=r.next;do{a=t(a,o.action),o=o.next}while(o!==r);Kn(a,e.memoizedState)||(Co=!0),e.memoizedState=a,null===e.baseQueue&&(e.baseState=a),n.lastRenderedState=a}return[a,i]}function Xa(t,e,n){var i=ba,r=ja(),a=ar;if(a){if(void 0===n)throw Error(s(407));n=n()}else n=e();var o=!Kn((wa||r).memoizedState,n);if(o&&(r.memoizedState=n,Co=!0),r=r.queue,ms(2048,8,Qa.bind(null,i,r,t),[t]),r.getSnapshot!==e||o||null!==xa&&1&xa.memoizedState.tag){if(i.flags|=2048,fs(9,{destroy:void 0,resource:void 0},Ka.bind(null,i,r,n,e),null),null===ic)throw Error(s(349));a||0!==(124&ya)||Ya(i,e,n)}return n}function Ya(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},null===(e=ba.updateQueue)?(e={lastEffect:null,events:null,stores:null,memoCache:null},ba.updateQueue=e,e.stores=[t]):null===(n=e.stores)?e.stores=[t]:n.push(t)}function Ka(t,e,n,i){e.value=n,e.getSnapshot=i,$a(e)&&Ja(t)}function Qa(t,e,n){return n((function(){$a(e)&&Ja(t)}))}function $a(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Kn(t,n)}catch(i){return!0}}function Ja(t){var e=Ri(t,2);null!==e&&Fc(e,t,2)}function Za(t){var e=Ba();if("function"===typeof t){var n=t;if(t=n(),Sa){dt(!0);try{n()}finally{dt(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:t},e}function ts(t,e,n,i){return t.baseState=n,Ga(t,wa,"function"===typeof i?i:Ha)}function es(t,e,n,i,r){if(zs(t))throw Error(s(485));if(null!==(t=e.action)){var a={payload:r,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(t){a.listeners.push(t)}};null!==N.T?n(!0):a.isTransition=!1,i(a),null===(n=e.pending)?(a.next=e.pending=a,ns(e,a)):(a.next=n.next,e.pending=n.next=a)}}function ns(t,e){var n=e.action,i=e.payload,r=t.state;if(e.isTransition){var a=N.T,s={};N.T=s;try{var o=n(r,i),l=N.S;null!==l&&l(s,o),is(t,e,o)}catch(c){as(t,e,c)}finally{N.T=a}}else try{is(t,e,a=n(r,i))}catch(u){as(t,e,u)}}function is(t,e,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then((function(n){rs(t,e,n)}),(function(n){return as(t,e,n)})):rs(t,e,n)}function rs(t,e,n){e.status="fulfilled",e.value=n,ss(e),t.state=n,null!==(e=t.pending)&&((n=e.next)===e?t.pending=null:(n=n.next,e.next=n,ns(t,n)))}function as(t,e,n){var i=t.pending;if(t.pending=null,null!==i){i=i.next;do{e.status="rejected",e.reason=n,ss(e),e=e.next}while(e!==i)}t.action=null}function ss(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function os(t,e){return e}function ls(t,e){if(ar){var n=ic.formState;if(null!==n){t:{var i=ba;if(ar){if(rr){e:{for(var r=rr,a=or;8!==r.nodeType;){if(!a){r=null;break e}if(null===(r=vh(r.nextSibling))){r=null;break e}}r="F!"===(a=r.data)||"F"===a?r:null}if(r){rr=vh(r.nextSibling),i="F!"===r.data;break t}}cr(i)}i=!1}i&&(e=n[0])}}return(n=Ba()).memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:e},n.queue=i,n=Bs.bind(null,ba,i),i.dispatch=n,i=Za(!1),a=Ws.bind(null,ba,!1,i.queue),r={state:e,dispatch:null,action:t,pending:null},(i=Ba()).queue=r,n=es.bind(null,ba,r,a,n),r.dispatch=n,i.memoizedState=t,[e,n,!1]}function cs(t){return us(ja(),wa,t)}function us(t,e,n){if(e=Ga(t,e,os)[0],t=Va(Ha)[0],"object"===typeof e&&null!==e&&"function"===typeof e.then)try{var i=Wa(e)}catch(s){if(s===Gr)throw Xr;throw s}else i=e;var r=(e=ja()).queue,a=r.dispatch;return n!==e.memoizedState&&(ba.flags|=2048,fs(9,{destroy:void 0,resource:void 0},hs.bind(null,r,n),null)),[i,a,t]}function hs(t,e){t.action=e}function ds(t){var e=ja(),n=wa;if(null!==n)return us(e,n,t);ja(),e=e.memoizedState;var i=(n=ja()).queue.dispatch;return n.memoizedState=t,[e,i,!1]}function fs(t,e,n,i){return t={tag:t,create:n,deps:i,inst:e,next:null},null===(e=ba.updateQueue)&&(e={lastEffect:null,events:null,stores:null,memoCache:null},ba.updateQueue=e),null===(n=e.lastEffect)?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function ps(){return ja().memoizedState}function gs(t,e,n,i){var r=Ba();i=void 0===i?null:i,ba.flags|=t,r.memoizedState=fs(1|e,{destroy:void 0,resource:void 0},n,i)}function ms(t,e,n,i){var r=ja();i=void 0===i?null:i;var a=r.memoizedState.inst;null!==wa&&null!==i&&Pa(i,wa.memoizedState.deps)?r.memoizedState=fs(e,a,n,i):(ba.flags|=t,r.memoizedState=fs(1|e,a,n,i))}function vs(t,e){gs(8390656,8,t,e)}function ys(t,e){ms(2048,8,t,e)}function bs(t,e){return ms(4,2,t,e)}function ws(t,e){return ms(4,4,t,e)}function xs(t,e){if("function"===typeof e){t=t();var n=e(t);return function(){"function"===typeof n?n():e(null)}}if(null!==e&&void 0!==e)return t=t(),e.current=t,function(){e.current=null}}function _s(t,e,n){n=null!==n&&void 0!==n?n.concat([t]):null,ms(4,4,xs.bind(null,e,t),n)}function ks(){}function Ss(t,e){var n=ja();e=void 0===e?null:e;var i=n.memoizedState;return null!==e&&Pa(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function As(t,e){var n=ja();e=void 0===e?null:e;var i=n.memoizedState;if(null!==e&&Pa(e,i[1]))return i[0];if(i=t(),Sa){dt(!0);try{t()}finally{dt(!1)}}return n.memoizedState=[i,e],i}function Es(t,e,n){return void 0===n||0!==(1073741824&ya)?t.memoizedState=e:(t.memoizedState=n,t=Ic(),ba.lanes|=t,fc|=t,n)}function Cs(t,e,n,i){return Kn(n,e)?n:null!==fa.current?(t=Es(t,n,i),Kn(t,e)||(Co=!0),t):0===(42&ya)?(Co=!0,t.memoizedState=n):(t=Ic(),ba.lanes|=t,fc|=t,e)}function Ms(t,e,n,i,r){var a=I.p;I.p=0!==a&&8>a?a:8;var s=N.T,o={};N.T=o,Ws(t,!1,e,n);try{var l=r(),c=N.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)js(t,e,function(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(t){n.push(t)}};return t.then((function(){i.status="fulfilled",i.value=e;for(var t=0;t<n.length;t++)(0,n[t])(e)}),(function(t){for(i.status="rejected",i.reason=t,t=0;t<n.length;t++)(0,n[t])(void 0)})),i}(l,i),Nc());else js(t,e,i,Nc())}catch(u){js(t,e,{then:function(){},status:"rejected",reason:u},Nc())}finally{I.p=a,N.T=s}}function Ts(){}function Ps(t,e,n,i){if(5!==t.tag)throw Error(s(476));var r=Rs(t).queue;Ms(t,r,e,F,null===n?Ts:function(){return Ds(t),n(i)})}function Rs(t){var e=t.memoizedState;if(null!==e)return e;var n={};return(e={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:F},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:n},next:null},t.memoizedState=e,null!==(t=t.alternate)&&(t.memoizedState=e),e}function Ds(t){js(t,Rs(t).next.queue,{},Nc())}function Ls(){return Er(Yh)}function Ns(){return ja().memoizedState}function Is(){return ja().memoizedState}function Fs(t){for(var e=t.return;null!==e;){switch(e.tag){case 24:case 3:var n=Nc(),i=aa(e,t=ra(n),n);return null!==i&&(Fc(i,e,n),sa(i,e,n)),e={cache:Lr()},void(t.payload=e)}e=e.return}}function Os(t,e,n){var i=Nc();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},zs(t)?Us(e,n):null!==(n=Pi(t,e,n,i))&&(Fc(n,t,i),Hs(n,e,i))}function Bs(t,e,n){js(t,e,n,Nc())}function js(t,e,n,i){var r={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(zs(t))Us(e,r);else{var a=t.alternate;if(0===t.lanes&&(null===a||0===a.lanes)&&null!==(a=e.lastRenderedReducer))try{var s=e.lastRenderedState,o=a(s,n);if(r.hasEagerState=!0,r.eagerState=o,Kn(o,s))return Ti(t,e,r,0),null===ic&&Mi(),!1}catch(l){}if(null!==(n=Pi(t,e,r,i)))return Fc(n,t,i),Hs(n,e,i),!0}return!1}function Ws(t,e,n,i){if(i={lane:2,revertLane:Tu(),action:i,hasEagerState:!1,eagerState:null,next:null},zs(t)){if(e)throw Error(s(479))}else null!==(e=Pi(t,n,i,2))&&Fc(e,t,2)}function zs(t){var e=t.alternate;return t===ba||null!==e&&e===ba}function Us(t,e){ka=_a=!0;var n=t.pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Hs(t,e,n){if(0!==(4194048&n)){var i=e.lanes;n|=i&=t.pendingLanes,e.lanes=n,Ct(t,n)}}var Vs={readContext:Er,use:za,useCallback:Ta,useContext:Ta,useEffect:Ta,useImperativeHandle:Ta,useLayoutEffect:Ta,useInsertionEffect:Ta,useMemo:Ta,useReducer:Ta,useRef:Ta,useState:Ta,useDebugValue:Ta,useDeferredValue:Ta,useTransition:Ta,useSyncExternalStore:Ta,useId:Ta,useHostTransitionStatus:Ta,useFormState:Ta,useActionState:Ta,useOptimistic:Ta,useMemoCache:Ta,useCacheRefresh:Ta},Gs={readContext:Er,use:za,useCallback:function(t,e){return Ba().memoizedState=[t,void 0===e?null:e],t},useContext:Er,useEffect:vs,useImperativeHandle:function(t,e,n){n=null!==n&&void 0!==n?n.concat([t]):null,gs(4194308,4,xs.bind(null,e,t),n)},useLayoutEffect:function(t,e){return gs(4194308,4,t,e)},useInsertionEffect:function(t,e){gs(4,2,t,e)},useMemo:function(t,e){var n=Ba();e=void 0===e?null:e;var i=t();if(Sa){dt(!0);try{t()}finally{dt(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=Ba();if(void 0!==n){var r=n(e);if(Sa){dt(!0);try{n(e)}finally{dt(!1)}}}else r=e;return i.memoizedState=i.baseState=r,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},i.queue=t,t=t.dispatch=Os.bind(null,ba,t),[i.memoizedState,t]},useRef:function(t){return t={current:t},Ba().memoizedState=t},useState:function(t){var e=(t=Za(t)).queue,n=Bs.bind(null,ba,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:ks,useDeferredValue:function(t,e){return Es(Ba(),t,e)},useTransition:function(){var t=Za(!1);return t=Ms.bind(null,ba,t.queue,!0,!1),Ba().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=ba,r=Ba();if(ar){if(void 0===n)throw Error(s(407));n=n()}else{if(n=e(),null===ic)throw Error(s(349));0!==(124&ac)||Ya(i,e,n)}r.memoizedState=n;var a={value:n,getSnapshot:e};return r.queue=a,vs(Qa.bind(null,i,a,t),[t]),i.flags|=2048,fs(9,{destroy:void 0,resource:void 0},Ka.bind(null,i,a,n,e),null),n},useId:function(){var t=Ba(),e=ic.identifierPrefix;if(ar){var n=Ji;e="\xab"+e+"R"+(n=($i&~(1<<32-ft($i)-1)).toString(32)+n),0<(n=Aa++)&&(e+="H"+n.toString(32)),e+="\xbb"}else e="\xab"+e+"r"+(n=Ma++).toString(32)+"\xbb";return t.memoizedState=e},useHostTransitionStatus:Ls,useFormState:ls,useActionState:ls,useOptimistic:function(t){var e=Ba();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=Ws.bind(null,ba,!0,n),n.dispatch=e,[t,e]},useMemoCache:Ua,useCacheRefresh:function(){return Ba().memoizedState=Fs.bind(null,ba)}},qs={readContext:Er,use:za,useCallback:Ss,useContext:Er,useEffect:ys,useImperativeHandle:_s,useInsertionEffect:bs,useLayoutEffect:ws,useMemo:As,useReducer:Va,useRef:ps,useState:function(){return Va(Ha)},useDebugValue:ks,useDeferredValue:function(t,e){return Cs(ja(),wa.memoizedState,t,e)},useTransition:function(){var t=Va(Ha)[0],e=ja().memoizedState;return["boolean"===typeof t?t:Wa(t),e]},useSyncExternalStore:Xa,useId:Ns,useHostTransitionStatus:Ls,useFormState:cs,useActionState:cs,useOptimistic:function(t,e){return ts(ja(),0,t,e)},useMemoCache:Ua,useCacheRefresh:Is},Xs={readContext:Er,use:za,useCallback:Ss,useContext:Er,useEffect:ys,useImperativeHandle:_s,useInsertionEffect:bs,useLayoutEffect:ws,useMemo:As,useReducer:qa,useRef:ps,useState:function(){return qa(Ha)},useDebugValue:ks,useDeferredValue:function(t,e){var n=ja();return null===wa?Es(n,t,e):Cs(n,wa.memoizedState,t,e)},useTransition:function(){var t=qa(Ha)[0],e=ja().memoizedState;return["boolean"===typeof t?t:Wa(t),e]},useSyncExternalStore:Xa,useId:Ns,useHostTransitionStatus:Ls,useFormState:ds,useActionState:ds,useOptimistic:function(t,e){var n=ja();return null!==wa?ts(n,0,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Ua,useCacheRefresh:Is},Ys=null,Ks=0;function Qs(t){var e=Ks;return Ks+=1,null===Ys&&(Ys=[]),$r(Ys,t,e)}function $s(t,e){e=e.props.ref,t.ref=void 0!==e?e:null}function Js(t,e){if(e.$$typeof===f)throw Error(s(525));throw t=Object.prototype.toString.call(e),Error(s(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Zs(t){return(0,t._init)(t._payload)}function to(t){function e(e,n){if(t){var i=e.deletions;null===i?(e.deletions=[n],e.flags|=16):i.push(n)}}function n(n,i){if(!t)return null;for(;null!==i;)e(n,i),i=i.sibling;return null}function i(t){for(var e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(t,e){return(t=Bi(t,e)).index=0,t.sibling=null,t}function a(e,n,i){return e.index=i,t?null!==(i=e.alternate)?(i=i.index)<n?(e.flags|=67108866,n):i:(e.flags|=67108866,n):(e.flags|=1048576,n)}function o(e){return t&&null===e.alternate&&(e.flags|=67108866),e}function l(t,e,n,i){return null===e||6!==e.tag?((e=Ui(n,t.mode,i)).return=t,e):((e=r(e,n)).return=t,e)}function c(t,e,n,i){var a=n.type;return a===m?h(t,e,n.props.children,i,n.key):null!==e&&(e.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===E&&Zs(a)===e.type)?($s(e=r(e,n.props),n),e.return=t,e):($s(e=Wi(n.type,n.key,n.props,null,t.mode,i),n),e.return=t,e)}function u(t,e,n,i){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Hi(n,t.mode,i)).return=t,e):((e=r(e,n.children||[])).return=t,e)}function h(t,e,n,i,a){return null===e||7!==e.tag?((e=zi(n,t.mode,i,a)).return=t,e):((e=r(e,n)).return=t,e)}function d(t,e,n){if("string"===typeof e&&""!==e||"number"===typeof e||"bigint"===typeof e)return(e=Ui(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case p:return $s(n=Wi(e.type,e.key,e.props,null,t.mode,n),e),n.return=t,n;case g:return(e=Hi(e,t.mode,n)).return=t,e;case E:return d(t,e=(0,e._init)(e._payload),n)}if(L(e)||P(e))return(e=zi(e,t.mode,n,null)).return=t,e;if("function"===typeof e.then)return d(t,Qs(e),n);if(e.$$typeof===x)return d(t,Cr(t,e),n);Js(t,e)}return null}function f(t,e,n,i){var r=null!==e?e.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==r?null:l(t,e,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===r?c(t,e,n,i):null;case g:return n.key===r?u(t,e,n,i):null;case E:return f(t,e,n=(r=n._init)(n._payload),i)}if(L(n)||P(n))return null!==r?null:h(t,e,n,i,null);if("function"===typeof n.then)return f(t,e,Qs(n),i);if(n.$$typeof===x)return f(t,e,Cr(t,n),i);Js(t,n)}return null}function v(t,e,n,i,r){if("string"===typeof i&&""!==i||"number"===typeof i||"bigint"===typeof i)return l(e,t=t.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case p:return c(e,t=t.get(null===i.key?n:i.key)||null,i,r);case g:return u(e,t=t.get(null===i.key?n:i.key)||null,i,r);case E:return v(t,e,n,i=(0,i._init)(i._payload),r)}if(L(i)||P(i))return h(e,t=t.get(n)||null,i,r,null);if("function"===typeof i.then)return v(t,e,n,Qs(i),r);if(i.$$typeof===x)return v(t,e,n,Cr(e,i),r);Js(e,i)}return null}function y(l,c,u,h){if("object"===typeof u&&null!==u&&u.type===m&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case p:t:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===m){if(7===c.tag){n(l,c.sibling),(h=r(c,u.props.children)).return=l,l=h;break t}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===E&&Zs(b)===c.type){n(l,c.sibling),$s(h=r(c,u.props),u),h.return=l,l=h;break t}n(l,c);break}e(l,c),c=c.sibling}u.type===m?((h=zi(u.props.children,l.mode,h,u.key)).return=l,l=h):($s(h=Wi(u.type,u.key,u.props,null,l.mode,h),u),h.return=l,l=h)}return o(l);case g:t:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(h=r(c,u.children||[])).return=l,l=h;break t}n(l,c);break}e(l,c),c=c.sibling}(h=Hi(u,l.mode,h)).return=l,l=h}return o(l);case E:return y(l,c,u=(b=u._init)(u._payload),h)}if(L(u))return function(r,s,o,l){for(var c=null,u=null,h=s,p=s=0,g=null;null!==h&&p<o.length;p++){h.index>p?(g=h,h=null):g=h.sibling;var m=f(r,h,o[p],l);if(null===m){null===h&&(h=g);break}t&&h&&null===m.alternate&&e(r,h),s=a(m,s,p),null===u?c=m:u.sibling=m,u=m,h=g}if(p===o.length)return n(r,h),ar&&Zi(r,p),c;if(null===h){for(;p<o.length;p++)null!==(h=d(r,o[p],l))&&(s=a(h,s,p),null===u?c=h:u.sibling=h,u=h);return ar&&Zi(r,p),c}for(h=i(h);p<o.length;p++)null!==(g=v(h,r,p,o[p],l))&&(t&&null!==g.alternate&&h.delete(null===g.key?p:g.key),s=a(g,s,p),null===u?c=g:u.sibling=g,u=g);return t&&h.forEach((function(t){return e(r,t)})),ar&&Zi(r,p),c}(l,c,u,h);if(P(u)){if("function"!==typeof(b=P(u)))throw Error(s(150));return function(r,o,l,c){if(null==l)throw Error(s(151));for(var u=null,h=null,p=o,g=o=0,m=null,y=l.next();null!==p&&!y.done;g++,y=l.next()){p.index>g?(m=p,p=null):m=p.sibling;var b=f(r,p,y.value,c);if(null===b){null===p&&(p=m);break}t&&p&&null===b.alternate&&e(r,p),o=a(b,o,g),null===h?u=b:h.sibling=b,h=b,p=m}if(y.done)return n(r,p),ar&&Zi(r,g),u;if(null===p){for(;!y.done;g++,y=l.next())null!==(y=d(r,y.value,c))&&(o=a(y,o,g),null===h?u=y:h.sibling=y,h=y);return ar&&Zi(r,g),u}for(p=i(p);!y.done;g++,y=l.next())null!==(y=v(p,r,g,y.value,c))&&(t&&null!==y.alternate&&p.delete(null===y.key?g:y.key),o=a(y,o,g),null===h?u=y:h.sibling=y,h=y);return t&&p.forEach((function(t){return e(r,t)})),ar&&Zi(r,g),u}(l,c,u=b.call(u),h)}if("function"===typeof u.then)return y(l,c,Qs(u),h);if(u.$$typeof===x)return y(l,c,Cr(l,u),h);Js(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(h=r(c,u)).return=l,l=h):(n(l,c),(h=Ui(u,l.mode,h)).return=l,l=h),o(l)):n(l,c)}return function(t,e,n,i){try{Ks=0;var r=y(t,e,n,i);return Ys=null,r}catch(s){if(s===Gr||s===Xr)throw s;var a=Fi(29,s,null,t.mode);return a.lanes=i,a.return=t,a}}}var eo=to(!0),no=to(!1),io=j(null),ro=null;function ao(t){var e=t.alternate;z(co,1&co.current),z(io,t),null===ro&&(null===e||null!==fa.current||null!==e.memoizedState)&&(ro=t)}function so(t){if(22===t.tag){if(z(co,co.current),z(io,t),null===ro){var e=t.alternate;null!==e&&null!==e.memoizedState&&(ro=t)}}else oo()}function oo(){z(co,co.current),z(io,io.current)}function lo(t){W(io),ro===t&&(ro=null),W(co)}var co=j(0);function uo(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||mh(n)))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function ho(t,e,n,i){n=null===(n=n(i,e=t.memoizedState))||void 0===n?e:d({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var fo={enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Nc(),r=ra(i);r.payload=e,void 0!==n&&null!==n&&(r.callback=n),null!==(e=aa(t,r,i))&&(Fc(e,t,i),sa(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Nc(),r=ra(i);r.tag=1,r.payload=e,void 0!==n&&null!==n&&(r.callback=n),null!==(e=aa(t,r,i))&&(Fc(e,t,i),sa(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Nc(),i=ra(n);i.tag=2,void 0!==e&&null!==e&&(i.callback=e),null!==(e=aa(t,i,n))&&(Fc(e,t,n),sa(e,t,n))}};function po(t,e,n,i,r,a,s){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(i,a,s):!e.prototype||!e.prototype.isPureReactComponent||(!Qn(n,i)||!Qn(r,a))}function go(t,e,n,i){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,i),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&fo.enqueueReplaceState(e,e.state,null)}function mo(t,e){var n=e;if("ref"in e)for(var i in n={},e)"ref"!==i&&(n[i]=e[i]);if(t=t.defaultProps)for(var r in n===e&&(n=d({},n)),t)void 0===n[r]&&(n[r]=t[r]);return n}var vo="function"===typeof reportError?reportError:function(t){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof t&&null!==t&&"string"===typeof t.message?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",t);console.error(t)};function yo(t){vo(t)}function bo(t){console.error(t)}function wo(t){vo(t)}function xo(t,e){try{(0,t.onUncaughtError)(e.value,{componentStack:e.stack})}catch(n){setTimeout((function(){throw n}))}}function _o(t,e,n){try{(0,t.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===e.tag?e.stateNode:null})}catch(i){setTimeout((function(){throw i}))}}function ko(t,e,n){return(n=ra(n)).tag=3,n.payload={element:null},n.callback=function(){xo(t,e)},n}function So(t){return(t=ra(t)).tag=3,t}function Ao(t,e,n,i){var r=n.type.getDerivedStateFromError;if("function"===typeof r){var a=i.value;t.payload=function(){return r(a)},t.callback=function(){_o(e,n,i)}}var s=n.stateNode;null!==s&&"function"===typeof s.componentDidCatch&&(t.callback=function(){_o(e,n,i),"function"!==typeof r&&(null===Sc?Sc=new Set([this]):Sc.add(this));var t=i.stack;this.componentDidCatch(i.value,{componentStack:null!==t?t:""})})}var Eo=Error(s(461)),Co=!1;function Mo(t,e,n,i){e.child=null===t?no(e,null,n,i):eo(e,t.child,n,i)}function To(t,e,n,i,r){n=n.render;var a=e.ref;if("ref"in i){var s={};for(var o in i)"ref"!==o&&(s[o]=i[o])}else s=i;return Ar(e),i=Ra(t,e,n,s,a,r),o=Ia(),null===t||Co?(ar&&o&&er(e),e.flags|=1,Mo(t,e,i,r),e.child):(Fa(t,e,r),Ko(t,e,r))}function Po(t,e,n,i,r){if(null===t){var a=n.type;return"function"!==typeof a||Oi(a)||void 0!==a.defaultProps||null!==n.compare?((t=Wi(n.type,null,i,e,e.mode,r)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=a,Ro(t,e,a,i,r))}if(a=t.child,!Qo(t,r)){var s=a.memoizedProps;if((n=null!==(n=n.compare)?n:Qn)(s,i)&&t.ref===e.ref)return Ko(t,e,r)}return e.flags|=1,(t=Bi(a,i)).ref=e.ref,t.return=e,e.child=t}function Ro(t,e,n,i,r){if(null!==t){var a=t.memoizedProps;if(Qn(a,i)&&t.ref===e.ref){if(Co=!1,e.pendingProps=i=a,!Qo(t,r))return e.lanes=t.lanes,Ko(t,e,r);0!==(131072&t.flags)&&(Co=!0)}}return Io(t,e,n,i,r)}function Do(t,e,n){var i=e.pendingProps,r=i.children,a=null!==t?t.memoizedState:null;if("hidden"===i.mode){if(0!==(128&e.flags)){if(i=null!==a?a.baseLanes|n:n,null!==t){for(r=e.child=t.child,a=0;null!==r;)a=a|r.lanes|r.childLanes,r=r.sibling;e.childLanes=a&~i}else e.childLanes=0,e.child=null;return Lo(t,e,i,n)}if(0===(536870912&n))return e.lanes=e.childLanes=536870912,Lo(t,e,null!==a?a.baseLanes|n:n,n);e.memoizedState={baseLanes:0,cachePool:null},null!==t&&Hr(0,null!==a?a.cachePool:null),null!==a?ga(e,a):ma(),so(e)}else null!==a?(Hr(0,a.cachePool),ga(e,a),oo(),e.memoizedState=null):(null!==t&&Hr(0,null),ma(),oo());return Mo(t,e,r,n),e.child}function Lo(t,e,n,i){var r=Ur();return r=null===r?null:{parent:Dr._currentValue,pool:r},e.memoizedState={baseLanes:n,cachePool:r},null!==t&&Hr(0,null),ma(),so(e),null!==t&&kr(t,e,i,!0),null}function No(t,e){var n=e.ref;if(null===n)null!==t&&null!==t.ref&&(e.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(s(284));null!==t&&t.ref===n||(e.flags|=4194816)}}function Io(t,e,n,i,r){return Ar(e),n=Ra(t,e,n,i,void 0,r),i=Ia(),null===t||Co?(ar&&i&&er(e),e.flags|=1,Mo(t,e,n,r),e.child):(Fa(t,e,r),Ko(t,e,r))}function Fo(t,e,n,i,r,a){return Ar(e),e.updateQueue=null,n=La(e,i,n,r),Da(t),i=Ia(),null===t||Co?(ar&&i&&er(e),e.flags|=1,Mo(t,e,n,a),e.child):(Fa(t,e,a),Ko(t,e,a))}function Oo(t,e,n,i,r){if(Ar(e),null===e.stateNode){var a=Ni,s=n.contextType;"object"===typeof s&&null!==s&&(a=Er(s)),a=new n(i,a),e.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=fo,e.stateNode=a,a._reactInternals=e,(a=e.stateNode).props=i,a.state=e.memoizedState,a.refs={},na(e),s=n.contextType,a.context="object"===typeof s&&null!==s?Er(s):Ni,a.state=e.memoizedState,"function"===typeof(s=n.getDerivedStateFromProps)&&(ho(e,n,s,i),a.state=e.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(s=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),s!==a.state&&fo.enqueueReplaceState(a,a.state,null),ua(e,i,a,r),ca(),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308),i=!0}else if(null===t){a=e.stateNode;var o=e.memoizedProps,l=mo(n,o);a.props=l;var c=a.context,u=n.contextType;s=Ni,"object"===typeof u&&null!==u&&(s=Er(u));var h=n.getDerivedStateFromProps;u="function"===typeof h||"function"===typeof a.getSnapshotBeforeUpdate,o=e.pendingProps!==o,u||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o||c!==s)&&go(e,a,i,s),ea=!1;var d=e.memoizedState;a.state=d,ua(e,i,a,r),ca(),c=e.memoizedState,o||d!==c||ea?("function"===typeof h&&(ho(e,n,h,i),c=e.memoizedState),(l=ea||po(e,n,l,i,d,c,s))?(u||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.flags|=4194308)):("function"===typeof a.componentDidMount&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=c),a.props=i,a.state=c,a.context=s,i=l):("function"===typeof a.componentDidMount&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,ia(t,e),u=mo(n,s=e.memoizedProps),a.props=u,h=e.pendingProps,d=a.context,c=n.contextType,l=Ni,"object"===typeof c&&null!==c&&(l=Er(c)),(c="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==h||d!==l)&&go(e,a,i,l),ea=!1,d=e.memoizedState,a.state=d,ua(e,i,a,r),ca();var f=e.memoizedState;s!==h||d!==f||ea||null!==t&&null!==t.dependencies&&Sr(t.dependencies)?("function"===typeof o&&(ho(e,n,o,i),f=e.memoizedState),(u=ea||po(e,n,u,i,d,f,l)||null!==t&&null!==t.dependencies&&Sr(t.dependencies))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(i,f,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(i,f,l)),"function"===typeof a.componentDidUpdate&&(e.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=f),a.props=i,a.state=f,a.context=l,i=u):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),i=!1)}return a=i,No(t,e),i=0!==(128&e.flags),a||i?(a=e.stateNode,n=i&&"function"!==typeof n.getDerivedStateFromError?null:a.render(),e.flags|=1,null!==t&&i?(e.child=eo(e,t.child,null,r),e.child=eo(e,null,n,r)):Mo(t,e,n,r),e.memoizedState=a.state,t=e.child):t=Ko(t,e,r),t}function Bo(t,e,n,i){return fr(),e.flags|=256,Mo(t,e,n,i),e.child}var jo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wo(t){return{baseLanes:t,cachePool:Vr()}}function zo(t,e,n){return t=null!==t?t.childLanes&~n:0,e&&(t|=mc),t}function Uo(t,e,n){var i,r=e.pendingProps,a=!1,o=0!==(128&e.flags);if((i=o)||(i=(null===t||null!==t.memoizedState)&&0!==(2&co.current)),i&&(a=!0,e.flags&=-129),i=0!==(32&e.flags),e.flags&=-33,null===t){if(ar){if(a?ao(e):oo(),ar){var l,c=rr;if(l=c){t:{for(l=c,c=or;8!==l.nodeType;){if(!c){c=null;break t}if(null===(l=vh(l.nextSibling))){c=null;break t}}c=l}null!==c?(e.memoizedState={dehydrated:c,treeContext:null!==Qi?{id:$i,overflow:Ji}:null,retryLane:536870912,hydrationErrors:null},(l=Fi(18,null,null,0)).stateNode=c,l.return=e,e.child=l,ir=e,rr=null,l=!0):l=!1}l||cr(e)}if(null!==(c=e.memoizedState)&&null!==(c=c.dehydrated))return mh(c)?e.lanes=32:e.lanes=536870912,null;lo(e)}return c=r.children,r=r.fallback,a?(oo(),c=Vo({mode:"hidden",children:c},a=e.mode),r=zi(r,a,n,null),c.return=e,r.return=e,c.sibling=r,e.child=c,(a=e.child).memoizedState=Wo(n),a.childLanes=zo(t,i,n),e.memoizedState=jo,r):(ao(e),Ho(e,c))}if(null!==(l=t.memoizedState)&&null!==(c=l.dehydrated)){if(o)256&e.flags?(ao(e),e.flags&=-257,e=Go(t,e,n)):null!==e.memoizedState?(oo(),e.child=t.child,e.flags|=128,e=null):(oo(),a=r.fallback,c=e.mode,r=Vo({mode:"visible",children:r.children},c),(a=zi(a,c,n,null)).flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,eo(e,t.child,null,n),(r=e.child).memoizedState=Wo(n),r.childLanes=zo(t,i,n),e.memoizedState=jo,e=a);else if(ao(e),mh(c)){if(i=c.nextSibling&&c.nextSibling.dataset)var u=i.dgst;i=u,(r=Error(s(419))).stack="",r.digest=i,gr({value:r,source:null,stack:null}),e=Go(t,e,n)}else if(Co||kr(t,e,n,!1),i=0!==(n&t.childLanes),Co||i){if(null!==(i=ic)&&(0!==(r=0!==((r=0!==(42&(r=n&-n))?1:Mt(r))&(i.suspendedLanes|n))?0:r)&&r!==l.retryLane))throw l.retryLane=r,Ri(t,r),Fc(i,t,r),Eo;"$?"===c.data||Xc(),e=Go(t,e,n)}else"$?"===c.data?(e.flags|=192,e.child=t.child,e=null):(t=l.treeContext,rr=vh(c.nextSibling),ir=e,ar=!0,sr=null,or=!1,null!==t&&(Yi[Ki++]=$i,Yi[Ki++]=Ji,Yi[Ki++]=Qi,$i=t.id,Ji=t.overflow,Qi=e),(e=Ho(e,r.children)).flags|=4096);return e}return a?(oo(),a=r.fallback,c=e.mode,u=(l=t.child).sibling,(r=Bi(l,{mode:"hidden",children:r.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?a=Bi(u,a):(a=zi(a,c,n,null)).flags|=2,a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,null===(c=t.child.memoizedState)?c=Wo(n):(null!==(l=c.cachePool)?(u=Dr._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Vr(),c={baseLanes:c.baseLanes|n,cachePool:l}),a.memoizedState=c,a.childLanes=zo(t,i,n),e.memoizedState=jo,r):(ao(e),t=(n=t.child).sibling,(n=Bi(n,{mode:"visible",children:r.children})).return=e,n.sibling=null,null!==t&&(null===(i=e.deletions)?(e.deletions=[t],e.flags|=16):i.push(t)),e.child=n,e.memoizedState=null,n)}function Ho(t,e){return(e=Vo({mode:"visible",children:e},t.mode)).return=t,t.child=e}function Vo(t,e){return(t=Fi(22,t,null,e)).lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Go(t,e,n){return eo(e,t.child,null,n),(t=Ho(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function qo(t,e,n){t.lanes|=e;var i=t.alternate;null!==i&&(i.lanes|=e),xr(t.return,e,n)}function Xo(t,e,n,i,r){var a=t.memoizedState;null===a?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=r)}function Yo(t,e,n){var i=e.pendingProps,r=i.revealOrder,a=i.tail;if(Mo(t,e,i.children,n),0!==(2&(i=co.current)))i=1&i|2,e.flags|=128;else{if(null!==t&&0!==(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&qo(t,n,e);else if(19===t.tag)qo(t,n,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}switch(z(co,i),r){case"forwards":for(n=e.child,r=null;null!==n;)null!==(t=n.alternate)&&null===uo(t)&&(r=n),n=n.sibling;null===(n=r)?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Xo(e,!1,r,n,a);break;case"backwards":for(n=null,r=e.child,e.child=null;null!==r;){if(null!==(t=r.alternate)&&null===uo(t)){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Xo(e,!0,n,null,a);break;case"together":Xo(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ko(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),fc|=e.lanes,0===(n&e.childLanes)){if(null===t)return null;if(kr(t,e,n,!1),0===(n&e.childLanes))return null}if(null!==t&&e.child!==t.child)throw Error(s(153));if(null!==e.child){for(n=Bi(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Bi(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function Qo(t,e){return 0!==(t.lanes&e)||!(null===(t=t.dependencies)||!Sr(t))}function $o(t,e,n){if(null!==t)if(t.memoizedProps!==e.pendingProps)Co=!0;else{if(!Qo(t,n)&&0===(128&e.flags))return Co=!1,function(t,e,n){switch(e.tag){case 3:q(e,e.stateNode.containerInfo),br(0,Dr,t.memoizedState.cache),fr();break;case 27:case 5:Y(e);break;case 4:q(e,e.stateNode.containerInfo);break;case 10:br(0,e.type,e.memoizedProps.value);break;case 13:var i=e.memoizedState;if(null!==i)return null!==i.dehydrated?(ao(e),e.flags|=128,null):0!==(n&e.child.childLanes)?Uo(t,e,n):(ao(e),null!==(t=Ko(t,e,n))?t.sibling:null);ao(e);break;case 19:var r=0!==(128&t.flags);if((i=0!==(n&e.childLanes))||(kr(t,e,n,!1),i=0!==(n&e.childLanes)),r){if(i)return Yo(t,e,n);e.flags|=128}if(null!==(r=e.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),z(co,co.current),i)break;return null;case 22:case 23:return e.lanes=0,Do(t,e,n);case 24:br(0,Dr,t.memoizedState.cache)}return Ko(t,e,n)}(t,e,n);Co=0!==(131072&t.flags)}else Co=!1,ar&&0!==(1048576&e.flags)&&tr(e,Xi,e.index);switch(e.lanes=0,e.tag){case 16:t:{t=e.pendingProps;var i=e.elementType,r=i._init;if(i=r(i._payload),e.type=i,"function"!==typeof i){if(void 0!==i&&null!==i){if((r=i.$$typeof)===_){e.tag=11,e=To(null,e,i,t,n);break t}if(r===A){e.tag=14,e=Po(null,e,i,t,n);break t}}throw e=D(i)||i,Error(s(306,e,""))}Oi(i)?(t=mo(i,t),e.tag=1,e=Oo(null,e,i,t,n)):(e.tag=0,e=Io(null,e,i,t,n))}return e;case 0:return Io(t,e,e.type,e.pendingProps,n);case 1:return Oo(t,e,i=e.type,r=mo(i,e.pendingProps),n);case 3:t:{if(q(e,e.stateNode.containerInfo),null===t)throw Error(s(387));i=e.pendingProps;var a=e.memoizedState;r=a.element,ia(t,e),ua(e,i,null,n);var o=e.memoizedState;if(i=o.cache,br(0,Dr,i),i!==a.cache&&_r(e,[Dr],n,!0),ca(),i=o.element,a.isDehydrated){if(a={element:i,isDehydrated:!1,cache:o.cache},e.updateQueue.baseState=a,e.memoizedState=a,256&e.flags){e=Bo(t,e,i,n);break t}if(i!==r){gr(r=Si(Error(s(424)),e)),e=Bo(t,e,i,n);break t}if(9===(t=e.stateNode.containerInfo).nodeType)t=t.body;else t="HTML"===t.nodeName?t.ownerDocument.body:t;for(rr=vh(t.firstChild),ir=e,ar=!0,sr=null,or=!0,n=no(e,null,i,n),e.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fr(),i===r){e=Ko(t,e,n);break t}Mo(t,e,i,n)}e=e.child}return e;case 26:return No(t,e),null===t?(n=Mh(e.type,null,e.pendingProps,null))?e.memoizedState=n:ar||(n=e.type,t=e.pendingProps,(i=ih(V.current).createElement(n))[Dt]=e,i[Lt]=t,th(i,n,t),Gt(i),e.stateNode=i):e.memoizedState=Mh(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Y(e),null===t&&ar&&(i=e.stateNode=wh(e.type,e.pendingProps,V.current),ir=e,or=!0,r=rr,fh(e.type)?(yh=r,rr=vh(i.firstChild)):rr=r),Mo(t,e,e.pendingProps.children,n),No(t,e),null===t&&(e.flags|=4194304),e.child;case 5:return null===t&&ar&&((r=i=rr)&&(i=function(t,e,n,i){for(;1===t.nodeType;){var r=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&("INPUT"!==t.nodeName||"hidden"!==t.type))break}else if(i){if(!t[jt])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if("stylesheet"===(a=t.getAttribute("rel"))&&t.hasAttribute("data-precedence"))break;if(a!==r.rel||t.getAttribute("href")!==(null==r.href||""===r.href?null:r.href)||t.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin)||t.getAttribute("title")!==(null==r.title?null:r.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(((a=t.getAttribute("src"))!==(null==r.src?null:r.src)||t.getAttribute("type")!==(null==r.type?null:r.type)||t.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin))&&a&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else{if("input"!==e||"hidden"!==t.type)return t;var a=null==r.name?null:""+r.name;if("hidden"===r.type&&t.getAttribute("name")===a)return t}if(null===(t=vh(t.nextSibling)))break}return null}(i,e.type,e.pendingProps,or),null!==i?(e.stateNode=i,ir=e,rr=vh(i.firstChild),or=!1,r=!0):r=!1),r||cr(e)),Y(e),r=e.type,a=e.pendingProps,o=null!==t?t.memoizedProps:null,i=a.children,sh(r,a)?i=null:null!==o&&sh(r,o)&&(e.flags|=32),null!==e.memoizedState&&(r=Ra(t,e,Na,null,null,n),Yh._currentValue=r),No(t,e),Mo(t,e,i,n),e.child;case 6:return null===t&&ar&&((t=n=rr)&&(null!==(n=function(t,e,n){if(""===e)return null;for(;3!==t.nodeType;){if((1!==t.nodeType||"INPUT"!==t.nodeName||"hidden"!==t.type)&&!n)return null;if(null===(t=vh(t.nextSibling)))return null}return t}(n,e.pendingProps,or))?(e.stateNode=n,ir=e,rr=null,t=!0):t=!1),t||cr(e)),null;case 13:return Uo(t,e,n);case 4:return q(e,e.stateNode.containerInfo),i=e.pendingProps,null===t?e.child=eo(e,null,i,n):Mo(t,e,i,n),e.child;case 11:return To(t,e,e.type,e.pendingProps,n);case 7:return Mo(t,e,e.pendingProps,n),e.child;case 8:case 12:return Mo(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,br(0,e.type,i.value),Mo(t,e,i.children,n),e.child;case 9:return r=e.type._context,i=e.pendingProps.children,Ar(e),i=i(r=Er(r)),e.flags|=1,Mo(t,e,i,n),e.child;case 14:return Po(t,e,e.type,e.pendingProps,n);case 15:return Ro(t,e,e.type,e.pendingProps,n);case 19:return Yo(t,e,n);case 31:return i=e.pendingProps,n=e.mode,i={mode:i.mode,children:i.children},null===t?((n=Vo(i,n)).ref=e.ref,e.child=n,n.return=e,e=n):((n=Bi(t.child,i)).ref=e.ref,e.child=n,n.return=e,e=n),e;case 22:return Do(t,e,n);case 24:return Ar(e),i=Er(Dr),null===t?(null===(r=Ur())&&(r=ic,a=Lr(),r.pooledCache=a,a.refCount++,null!==a&&(r.pooledCacheLanes|=n),r=a),e.memoizedState={parent:i,cache:r},na(e),br(0,Dr,r)):(0!==(t.lanes&n)&&(ia(t,e),ua(e,null,null,n),ca()),r=t.memoizedState,a=e.memoizedState,r.parent!==i?(r={parent:i,cache:i},e.memoizedState=r,0===e.lanes&&(e.memoizedState=e.updateQueue.baseState=r),br(0,Dr,i)):(i=a.cache,br(0,Dr,i),i!==r.cache&&_r(e,[Dr],n,!0))),Mo(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(s(156,e.tag))}function Jo(t){t.flags|=4}function Zo(t,e){if("stylesheet"!==e.type||0!==(4&e.state.loading))t.flags&=-16777217;else if(t.flags|=16777216,!zh(e)){if(null!==(e=io.current)&&((4194048&ac)===ac?null!==ro:(62914560&ac)!==ac&&0===(536870912&ac)||e!==ro))throw Jr=Yr,qr;t.flags|=8192}}function tl(t,e){null!==e&&(t.flags|=4),16384&t.flags&&(e=22!==t.tag?kt():536870912,t.lanes|=e,vc|=e)}function el(t,e){if(!ar)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?e||null===t.tail?t.tail=null:t.tail.sibling=null:i.sibling=null}}function nl(t){var e=null!==t.alternate&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;null!==r;)n|=r.lanes|r.childLanes,i|=65011712&r.subtreeFlags,i|=65011712&r.flags,r.return=t,r=r.sibling;else for(r=t.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function il(t,e,n){var i=e.pendingProps;switch(nr(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(e),null;case 3:return n=e.stateNode,i=null,null!==t&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),wr(Dr),X(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==t&&null!==t.child||(dr(e)?Jo(e):null===t||t.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,pr())),nl(e),null;case 26:return n=e.memoizedState,null===t?(Jo(e),null!==n?(nl(e),Zo(e,n)):(nl(e),e.flags&=-16777217)):n?n!==t.memoizedState?(Jo(e),nl(e),Zo(e,n)):(nl(e),e.flags&=-16777217):(t.memoizedProps!==i&&Jo(e),nl(e),e.flags&=-16777217),null;case 27:K(e),n=V.current;var r=e.type;if(null!==t&&null!=e.stateNode)t.memoizedProps!==i&&Jo(e);else{if(!i){if(null===e.stateNode)throw Error(s(166));return nl(e),null}t=U.current,dr(e)?ur(e):(t=wh(r,i,n),e.stateNode=t,Jo(e))}return nl(e),null;case 5:if(K(e),n=e.type,null!==t&&null!=e.stateNode)t.memoizedProps!==i&&Jo(e);else{if(!i){if(null===e.stateNode)throw Error(s(166));return nl(e),null}if(t=U.current,dr(e))ur(e);else{switch(r=ih(V.current),t){case 1:t=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(t=r.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t="string"===typeof i.is?r.createElement("select",{is:i.is}):r.createElement("select"),i.multiple?t.multiple=!0:i.size&&(t.size=i.size);break;default:t="string"===typeof i.is?r.createElement(n,{is:i.is}):r.createElement(n)}}t[Dt]=e,t[Lt]=i;t:for(r=e.child;null!==r;){if(5===r.tag||6===r.tag)t.appendChild(r.stateNode);else if(4!==r.tag&&27!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)break t;for(;null===r.sibling;){if(null===r.return||r.return===e)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}e.stateNode=t;t:switch(th(t,n,i),n){case"button":case"input":case"select":case"textarea":t=!!i.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Jo(e)}}return nl(e),e.flags&=-16777217,null;case 6:if(t&&null!=e.stateNode)t.memoizedProps!==i&&Jo(e);else{if("string"!==typeof i&&null===e.stateNode)throw Error(s(166));if(t=V.current,dr(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,null!==(r=ir))switch(r.tag){case 27:case 5:i=r.memoizedProps}t[Dt]=e,(t=!!(t.nodeValue===n||null!==i&&!0===i.suppressHydrationWarning||Qu(t.nodeValue,n)))||cr(e)}else(t=ih(t).createTextNode(i))[Dt]=e,e.stateNode=t}return nl(e),null;case 13:if(i=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(r=dr(e),null!==i&&null!==i.dehydrated){if(null===t){if(!r)throw Error(s(318));if(!(r=null!==(r=e.memoizedState)?r.dehydrated:null))throw Error(s(317));r[Dt]=e}else fr(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;nl(e),r=!1}else r=pr(),null!==t&&null!==t.memoizedState&&(t.memoizedState.hydrationErrors=r),r=!0;if(!r)return 256&e.flags?(lo(e),e):(lo(e),null)}if(lo(e),0!==(128&e.flags))return e.lanes=n,e;if(n=null!==i,t=null!==t&&null!==t.memoizedState,n){r=null,null!==(i=e.child).alternate&&null!==i.alternate.memoizedState&&null!==i.alternate.memoizedState.cachePool&&(r=i.alternate.memoizedState.cachePool.pool);var a=null;null!==i.memoizedState&&null!==i.memoizedState.cachePool&&(a=i.memoizedState.cachePool.pool),a!==r&&(i.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),tl(e,e.updateQueue),nl(e),null;case 4:return X(),null===t&&Wu(e.stateNode.containerInfo),nl(e),null;case 10:return wr(e.type),nl(e),null;case 19:if(W(co),null===(r=e.memoizedState))return nl(e),null;if(i=0!==(128&e.flags),null===(a=r.rendering))if(i)el(r,!1);else{if(0!==dc||null!==t&&0!==(128&t.flags))for(t=e.child;null!==t;){if(null!==(a=uo(t))){for(e.flags|=128,el(r,!1),t=a.updateQueue,e.updateQueue=t,tl(e,t),e.subtreeFlags=0,t=n,n=e.child;null!==n;)ji(n,t),n=n.sibling;return z(co,1&co.current|2),e.child}t=t.sibling}null!==r.tail&&et()>_c&&(e.flags|=128,i=!0,el(r,!1),e.lanes=4194304)}else{if(!i)if(null!==(t=uo(a))){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,tl(e,t),el(r,!0),null===r.tail&&"hidden"===r.tailMode&&!a.alternate&&!ar)return nl(e),null}else 2*et()-r.renderingStartTime>_c&&536870912!==n&&(e.flags|=128,i=!0,el(r,!1),e.lanes=4194304);r.isBackwards?(a.sibling=e.child,e.child=a):(null!==(t=r.last)?t.sibling=a:e.child=a,r.last=a)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=et(),e.sibling=null,t=co.current,z(co,i?1&t|2:1&t),e):(nl(e),null);case 22:case 23:return lo(e),va(),i=null!==e.memoizedState,null!==t?null!==t.memoizedState!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?0!==(536870912&n)&&0===(128&e.flags)&&(nl(e),6&e.subtreeFlags&&(e.flags|=8192)):nl(e),null!==(n=e.updateQueue)&&tl(e,n.retryQueue),n=null,null!==t&&null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(n=t.memoizedState.cachePool.pool),i=null,null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),null!==t&&W(zr),null;case 24:return n=null,null!==t&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),wr(Dr),nl(e),null;case 25:case 30:return null}throw Error(s(156,e.tag))}function rl(t,e){switch(nr(e),e.tag){case 1:return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return wr(Dr),X(),0!==(65536&(t=e.flags))&&0===(128&t)?(e.flags=-65537&t|128,e):null;case 26:case 27:case 5:return K(e),null;case 13:if(lo(e),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(s(340));fr()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return W(co),null;case 4:return X(),null;case 10:return wr(e.type),null;case 22:case 23:return lo(e),va(),null!==t&&W(zr),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 24:return wr(Dr),null;default:return null}}function al(t,e){switch(nr(e),e.tag){case 3:wr(Dr),X();break;case 26:case 27:case 5:K(e);break;case 4:X();break;case 13:lo(e);break;case 19:W(co);break;case 10:wr(e.type);break;case 22:case 23:lo(e),va(),null!==t&&W(zr);break;case 24:wr(Dr)}}function sl(t,e){try{var n=e.updateQueue,i=null!==n?n.lastEffect:null;if(null!==i){var r=i.next;n=r;do{if((n.tag&t)===t){i=void 0;var a=n.create,s=n.inst;i=a(),s.destroy=i}n=n.next}while(n!==r)}}catch(o){uu(e,e.return,o)}}function ol(t,e,n){try{var i=e.updateQueue,r=null!==i?i.lastEffect:null;if(null!==r){var a=r.next;i=a;do{if((i.tag&t)===t){var s=i.inst,o=s.destroy;if(void 0!==o){s.destroy=void 0,r=e;var l=n,c=o;try{c()}catch(u){uu(r,l,u)}}}i=i.next}while(i!==a)}}catch(u){uu(e,e.return,u)}}function ll(t){var e=t.updateQueue;if(null!==e){var n=t.stateNode;try{da(e,n)}catch(i){uu(t,t.return,i)}}}function cl(t,e,n){n.props=mo(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){uu(t,e,i)}}function ul(t,e){try{var n=t.ref;if(null!==n){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;default:i=t.stateNode}"function"===typeof n?t.refCleanup=n(i):n.current=i}}catch(r){uu(t,e,r)}}function hl(t,e){var n=t.ref,i=t.refCleanup;if(null!==n)if("function"===typeof i)try{i()}catch(r){uu(t,e,r)}finally{t.refCleanup=null,null!=(t=t.alternate)&&(t.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(a){uu(t,e,a)}else n.current=null}function dl(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break t;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){uu(t,t.return,r)}}function fl(t,e,n){try{var i=t.stateNode;!function(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,a=null,o=null,l=null,c=null,u=null,h=null;for(p in n){var d=n[p];if(n.hasOwnProperty(p)&&null!=d)switch(p){case"checked":case"value":break;case"defaultValue":c=d;default:i.hasOwnProperty(p)||Ju(t,e,p,null,i,d)}}for(var f in i){var p=i[f];if(d=n[f],i.hasOwnProperty(f)&&(null!=p||null!=d))switch(f){case"type":a=p;break;case"name":r=p;break;case"checked":u=p;break;case"defaultChecked":h=p;break;case"value":o=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(s(137,e));break;default:p!==d&&Ju(t,e,f,p,i,d)}}return void me(t,o,l,c,u,h,a,r);case"select":for(a in p=o=l=f=null,n)if(c=n[a],n.hasOwnProperty(a)&&null!=c)switch(a){case"value":break;case"multiple":p=c;default:i.hasOwnProperty(a)||Ju(t,e,a,null,i,c)}for(r in i)if(a=i[r],c=n[r],i.hasOwnProperty(r)&&(null!=a||null!=c))switch(r){case"value":f=a;break;case"defaultValue":l=a;break;case"multiple":o=a;default:a!==c&&Ju(t,e,r,a,i,c)}return e=l,n=o,i=p,void(null!=f?be(t,!!n,f,!1):!!i!==!!n&&(null!=e?be(t,!!n,e,!0):be(t,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(r=n[l],n.hasOwnProperty(l)&&null!=r&&!i.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Ju(t,e,l,null,i,r)}for(o in i)if(r=i[o],a=n[o],i.hasOwnProperty(o)&&(null!=r||null!=a))switch(o){case"value":f=r;break;case"defaultValue":p=r;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=r)throw Error(s(91));break;default:r!==a&&Ju(t,e,o,r,i,a)}return void we(t,f,p);case"option":for(var g in n)if(f=n[g],n.hasOwnProperty(g)&&null!=f&&!i.hasOwnProperty(g))if("selected"===g)t.selected=!1;else Ju(t,e,g,null,i,f);for(c in i)if(f=i[c],p=n[c],i.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)t.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else Ju(t,e,c,f,i,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var m in n)f=n[m],n.hasOwnProperty(m)&&null!=f&&!i.hasOwnProperty(m)&&Ju(t,e,m,null,i,f);for(u in i)if(f=i[u],p=n[u],i.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(s(137,e));break;default:Ju(t,e,u,f,i,p)}return;default:if(Ee(e)){for(var v in n)f=n[v],n.hasOwnProperty(v)&&void 0!==f&&!i.hasOwnProperty(v)&&Zu(t,e,v,void 0,i,f);for(h in i)f=i[h],p=n[h],!i.hasOwnProperty(h)||f===p||void 0===f&&void 0===p||Zu(t,e,h,f,i,p);return}}for(var y in n)f=n[y],n.hasOwnProperty(y)&&null!=f&&!i.hasOwnProperty(y)&&Ju(t,e,y,null,i,f);for(d in i)f=i[d],p=n[d],!i.hasOwnProperty(d)||f===p||null==f&&null==p||Ju(t,e,d,f,i,p)}(i,t.type,n,e),i[Lt]=e}catch(r){uu(t,t.return,r)}}function pl(t){return 5===t.tag||3===t.tag||26===t.tag||27===t.tag&&fh(t.type)||4===t.tag}function gl(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||pl(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(27===t.tag&&fh(t.type))continue t;if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function ml(t,e,n){var i=t.tag;if(5===i||6===i)t=t.stateNode,e?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(t,e):((e=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=$u));else if(4!==i&&(27===i&&fh(t.type)&&(n=t.stateNode,e=null),null!==(t=t.child)))for(ml(t,e,n),t=t.sibling;null!==t;)ml(t,e,n),t=t.sibling}function vl(t,e,n){var i=t.tag;if(5===i||6===i)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==i&&(27===i&&fh(t.type)&&(n=t.stateNode),null!==(t=t.child)))for(vl(t,e,n),t=t.sibling;null!==t;)vl(t,e,n),t=t.sibling}function yl(t){var e=t.stateNode,n=t.memoizedProps;try{for(var i=t.type,r=e.attributes;r.length;)e.removeAttributeNode(r[0]);th(e,i,n),e[Dt]=t,e[Lt]=n}catch(a){uu(t,t.return,a)}}var bl=!1,wl=!1,xl=!1,_l="function"===typeof WeakSet?WeakSet:Set,kl=null;function Sl(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Ol(t,n),4&i&&sl(5,n);break;case 1:if(Ol(t,n),4&i)if(t=n.stateNode,null===e)try{t.componentDidMount()}catch(s){uu(n,n.return,s)}else{var r=mo(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(r,e,t.__reactInternalSnapshotBeforeUpdate)}catch(o){uu(n,n.return,o)}}64&i&&ll(n),512&i&&ul(n,n.return);break;case 3:if(Ol(t,n),64&i&&null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:e=n.child.stateNode}try{da(t,e)}catch(s){uu(n,n.return,s)}}break;case 27:null===e&&4&i&&yl(n);case 26:case 5:Ol(t,n),null===e&&4&i&&dl(n),512&i&&ul(n,n.return);break;case 12:Ol(t,n);break;case 13:Ol(t,n),4&i&&Pl(t,n),64&i&&(null!==(t=n.memoizedState)&&(null!==(t=t.dehydrated)&&function(t,e){var n=t.ownerDocument;if("$?"!==t.data||"complete"===n.readyState)e();else{var i=function(){e(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}(t,n=pu.bind(null,n))));break;case 22:if(!(i=null!==n.memoizedState||bl)){e=null!==e&&null!==e.memoizedState||wl,r=bl;var a=wl;bl=i,(wl=e)&&!a?jl(t,n,0!==(8772&n.subtreeFlags)):Ol(t,n),bl=r,wl=a}break;case 30:break;default:Ol(t,n)}}function Al(t){var e=t.alternate;null!==e&&(t.alternate=null,Al(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&Wt(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var El=null,Cl=!1;function Ml(t,e,n){for(n=n.child;null!==n;)Tl(t,e,n),n=n.sibling}function Tl(t,e,n){if(ht&&"function"===typeof ht.onCommitFiberUnmount)try{ht.onCommitFiberUnmount(ut,n)}catch(a){}switch(n.tag){case 26:wl||hl(n,e),Ml(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:wl||hl(n,e);var i=El,r=Cl;fh(n.type)&&(El=n.stateNode,Cl=!1),Ml(t,e,n),xh(n.stateNode),El=i,Cl=r;break;case 5:wl||hl(n,e);case 6:if(i=El,r=Cl,El=null,Ml(t,e,n),Cl=r,null!==(El=i))if(Cl)try{(9===El.nodeType?El.body:"HTML"===El.nodeName?El.ownerDocument.body:El).removeChild(n.stateNode)}catch(s){uu(n,e,s)}else try{El.removeChild(n.stateNode)}catch(s){uu(n,e,s)}break;case 18:null!==El&&(Cl?(ph(9===(t=El).nodeType?t.body:"HTML"===t.nodeName?t.ownerDocument.body:t,n.stateNode),Cd(t)):ph(El,n.stateNode));break;case 4:i=El,r=Cl,El=n.stateNode.containerInfo,Cl=!0,Ml(t,e,n),El=i,Cl=r;break;case 0:case 11:case 14:case 15:wl||ol(2,n,e),wl||ol(4,n,e),Ml(t,e,n);break;case 1:wl||(hl(n,e),"function"===typeof(i=n.stateNode).componentWillUnmount&&cl(n,e,i)),Ml(t,e,n);break;case 21:Ml(t,e,n);break;case 22:wl=(i=wl)||null!==n.memoizedState,Ml(t,e,n),wl=i;break;default:Ml(t,e,n)}}function Pl(t,e){if(null===e.memoizedState&&(null!==(t=e.alternate)&&(null!==(t=t.memoizedState)&&null!==(t=t.dehydrated))))try{Cd(t)}catch(n){uu(e,e.return,n)}}function Rl(t,e){var n=function(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return null===e&&(e=t.stateNode=new _l),e;case 22:return null===(e=(t=t.stateNode)._retryCache)&&(e=t._retryCache=new _l),e;default:throw Error(s(435,t.tag))}}(t);e.forEach((function(e){var i=gu.bind(null,t,e);n.has(e)||(n.add(e),e.then(i,i))}))}function Dl(t,e){var n=e.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i],a=t,o=e,l=o;t:for(;null!==l;){switch(l.tag){case 27:if(fh(l.type)){El=l.stateNode,Cl=!1;break t}break;case 5:El=l.stateNode,Cl=!1;break t;case 3:case 4:El=l.stateNode.containerInfo,Cl=!0;break t}l=l.return}if(null===El)throw Error(s(160));Tl(a,o,r),El=null,Cl=!1,null!==(a=r.alternate)&&(a.return=null),r.return=null}if(13878&e.subtreeFlags)for(e=e.child;null!==e;)Nl(e,t),e=e.sibling}var Ll=null;function Nl(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Dl(e,t),Il(t),4&i&&(ol(3,t,t.return),sl(3,t),ol(5,t,t.return));break;case 1:Dl(e,t),Il(t),512&i&&(wl||null===n||hl(n,n.return)),64&i&&bl&&(null!==(t=t.updateQueue)&&(null!==(i=t.callbacks)&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=null===n?i:n.concat(i))));break;case 26:var r=Ll;if(Dl(e,t),Il(t),512&i&&(wl||null===n||hl(n,n.return)),4&i){var a=null!==n?n.memoizedState:null;if(i=t.memoizedState,null===n)if(null===i)if(null===t.stateNode){t:{i=t.type,n=t.memoizedProps,r=r.ownerDocument||r;e:switch(i){case"title":(!(a=r.getElementsByTagName("title")[0])||a[jt]||a[Dt]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=r.createElement(i),r.head.insertBefore(a,r.querySelector("head > title"))),th(a,i,n),a[Dt]=t,Gt(a),i=a;break t;case"link":var o=jh("link","href",r).get(i+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((a=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&a.getAttribute("rel")===(null==n.rel?null:n.rel)&&a.getAttribute("title")===(null==n.title?null:n.title)&&a.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break e}th(a=r.createElement(i),i,n),r.head.appendChild(a);break;case"meta":if(o=jh("meta","content",r).get(i+(n.content||"")))for(l=0;l<o.length;l++)if((a=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&a.getAttribute("name")===(null==n.name?null:n.name)&&a.getAttribute("property")===(null==n.property?null:n.property)&&a.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&a.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break e}th(a=r.createElement(i),i,n),r.head.appendChild(a);break;default:throw Error(s(468,i))}a[Dt]=t,Gt(a),i=a}t.stateNode=i}else Wh(r,t.type,t.stateNode);else t.stateNode=Nh(r,i,t.memoizedProps);else a!==i?(null===a?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):a.count--,null===i?Wh(r,t.type,t.stateNode):Nh(r,i,t.memoizedProps)):null===i&&null!==t.stateNode&&fl(t,t.memoizedProps,n.memoizedProps)}break;case 27:Dl(e,t),Il(t),512&i&&(wl||null===n||hl(n,n.return)),null!==n&&4&i&&fl(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Dl(e,t),Il(t),512&i&&(wl||null===n||hl(n,n.return)),32&t.flags){r=t.stateNode;try{_e(r,"")}catch(p){uu(t,t.return,p)}}4&i&&null!=t.stateNode&&fl(t,r=t.memoizedProps,null!==n?n.memoizedProps:r),1024&i&&(xl=!0);break;case 6:if(Dl(e,t),Il(t),4&i){if(null===t.stateNode)throw Error(s(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(p){uu(t,t.return,p)}}break;case 3:if(Bh=null,r=Ll,Ll=Sh(e.containerInfo),Dl(e,t),Ll=r,Il(t),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Cd(e.containerInfo)}catch(p){uu(t,t.return,p)}xl&&(xl=!1,Fl(t));break;case 4:i=Ll,Ll=Sh(t.stateNode.containerInfo),Dl(e,t),Il(t),Ll=i;break;case 12:default:Dl(e,t),Il(t);break;case 13:Dl(e,t),Il(t),8192&t.child.flags&&null!==t.memoizedState!==(null!==n&&null!==n.memoizedState)&&(xc=et()),4&i&&(null!==(i=t.updateQueue)&&(t.updateQueue=null,Rl(t,i)));break;case 22:r=null!==t.memoizedState;var c=null!==n&&null!==n.memoizedState,u=bl,h=wl;if(bl=u||r,wl=h||c,Dl(e,t),wl=h,bl=u,Il(t),8192&i)t:for(e=t.stateNode,e._visibility=r?-2&e._visibility:1|e._visibility,r&&(null===n||c||bl||wl||Bl(t)),n=null,e=t;;){if(5===e.tag||26===e.tag){if(null===n){c=n=e;try{if(a=c.stateNode,r)"function"===typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var d=c.memoizedProps.style,f=void 0!==d&&null!==d&&d.hasOwnProperty("display")?d.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(p){uu(c,c.return,p)}}}else if(6===e.tag){if(null===n){c=e;try{c.stateNode.nodeValue=r?"":c.memoizedProps}catch(p){uu(c,c.return,p)}}}else if((22!==e.tag&&23!==e.tag||null===e.memoizedState||e===t)&&null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;null===e.sibling;){if(null===e.return||e.return===t)break t;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}4&i&&(null!==(i=t.updateQueue)&&(null!==(n=i.retryQueue)&&(i.retryQueue=null,Rl(t,n))));break;case 19:Dl(e,t),Il(t),4&i&&(null!==(i=t.updateQueue)&&(t.updateQueue=null,Rl(t,i)));case 30:case 21:}}function Il(t){var e=t.flags;if(2&e){try{for(var n,i=t.return;null!==i;){if(pl(i)){n=i;break}i=i.return}if(null==n)throw Error(s(160));switch(n.tag){case 27:var r=n.stateNode;vl(t,gl(t),r);break;case 5:var a=n.stateNode;32&n.flags&&(_e(a,""),n.flags&=-33),vl(t,gl(t),a);break;case 3:case 4:var o=n.stateNode.containerInfo;ml(t,gl(t),o);break;default:throw Error(s(161))}}catch(l){uu(t,t.return,l)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function Fl(t){if(1024&t.subtreeFlags)for(t=t.child;null!==t;){var e=t;Fl(e),5===e.tag&&1024&e.flags&&e.stateNode.reset(),t=t.sibling}}function Ol(t,e){if(8772&e.subtreeFlags)for(e=e.child;null!==e;)Sl(t,e.alternate,e),e=e.sibling}function Bl(t){for(t=t.child;null!==t;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:ol(4,e,e.return),Bl(e);break;case 1:hl(e,e.return);var n=e.stateNode;"function"===typeof n.componentWillUnmount&&cl(e,e.return,n),Bl(e);break;case 27:xh(e.stateNode);case 26:case 5:hl(e,e.return),Bl(e);break;case 22:null===e.memoizedState&&Bl(e);break;default:Bl(e)}t=t.sibling}}function jl(t,e,n){for(n=n&&0!==(8772&e.subtreeFlags),e=e.child;null!==e;){var i=e.alternate,r=t,a=e,s=a.flags;switch(a.tag){case 0:case 11:case 15:jl(r,a,n),sl(4,a);break;case 1:if(jl(r,a,n),"function"===typeof(r=(i=a).stateNode).componentDidMount)try{r.componentDidMount()}catch(c){uu(i,i.return,c)}if(null!==(r=(i=a).updateQueue)){var o=i.stateNode;try{var l=r.shared.hiddenCallbacks;if(null!==l)for(r.shared.hiddenCallbacks=null,r=0;r<l.length;r++)ha(l[r],o)}catch(c){uu(i,i.return,c)}}n&&64&s&&ll(a),ul(a,a.return);break;case 27:yl(a);case 26:case 5:jl(r,a,n),n&&null===i&&4&s&&dl(a),ul(a,a.return);break;case 12:jl(r,a,n);break;case 13:jl(r,a,n),n&&4&s&&Pl(r,a);break;case 22:null===a.memoizedState&&jl(r,a,n),ul(a,a.return);break;case 30:break;default:jl(r,a,n)}e=e.sibling}}function Wl(t,e){var n=null;null!==t&&null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(n=t.memoizedState.cachePool.pool),t=null,null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(t=e.memoizedState.cachePool.pool),t!==n&&(null!=t&&t.refCount++,null!=n&&Nr(n))}function zl(t,e){t=null,null!==e.alternate&&(t=e.alternate.memoizedState.cache),(e=e.memoizedState.cache)!==t&&(e.refCount++,null!=t&&Nr(t))}function Ul(t,e,n,i){if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Hl(t,e,n,i),e=e.sibling}function Hl(t,e,n,i){var r=e.flags;switch(e.tag){case 0:case 11:case 15:Ul(t,e,n,i),2048&r&&sl(9,e);break;case 1:case 13:default:Ul(t,e,n,i);break;case 3:Ul(t,e,n,i),2048&r&&(t=null,null!==e.alternate&&(t=e.alternate.memoizedState.cache),(e=e.memoizedState.cache)!==t&&(e.refCount++,null!=t&&Nr(t)));break;case 12:if(2048&r){Ul(t,e,n,i),t=e.stateNode;try{var a=e.memoizedProps,s=a.id,o=a.onPostCommit;"function"===typeof o&&o(s,null===e.alternate?"mount":"update",t.passiveEffectDuration,-0)}catch(l){uu(e,e.return,l)}}else Ul(t,e,n,i);break;case 23:break;case 22:a=e.stateNode,s=e.alternate,null!==e.memoizedState?2&a._visibility?Ul(t,e,n,i):Gl(t,e):2&a._visibility?Ul(t,e,n,i):(a._visibility|=2,Vl(t,e,n,i,0!==(10256&e.subtreeFlags))),2048&r&&Wl(s,e);break;case 24:Ul(t,e,n,i),2048&r&&zl(e.alternate,e)}}function Vl(t,e,n,i,r){for(r=r&&0!==(10256&e.subtreeFlags),e=e.child;null!==e;){var a=t,s=e,o=n,l=i,c=s.flags;switch(s.tag){case 0:case 11:case 15:Vl(a,s,o,l,r),sl(8,s);break;case 23:break;case 22:var u=s.stateNode;null!==s.memoizedState?2&u._visibility?Vl(a,s,o,l,r):Gl(a,s):(u._visibility|=2,Vl(a,s,o,l,r)),r&&2048&c&&Wl(s.alternate,s);break;case 24:Vl(a,s,o,l,r),r&&2048&c&&zl(s.alternate,s);break;default:Vl(a,s,o,l,r)}e=e.sibling}}function Gl(t,e){if(10256&e.subtreeFlags)for(e=e.child;null!==e;){var n=t,i=e,r=i.flags;switch(i.tag){case 22:Gl(n,i),2048&r&&Wl(i.alternate,i);break;case 24:Gl(n,i),2048&r&&zl(i.alternate,i);break;default:Gl(n,i)}e=e.sibling}}var ql=8192;function Xl(t){if(t.subtreeFlags&ql)for(t=t.child;null!==t;)Yl(t),t=t.sibling}function Yl(t){switch(t.tag){case 26:Xl(t),t.flags&ql&&null!==t.memoizedState&&function(t,e,n){if(null===Uh)throw Error(s(475));var i=Uh;if("stylesheet"===e.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&e.state.loading)){if(null===e.instance){var r=Th(n.href),a=t.querySelector(Ph(r));if(a)return null!==(t=a._p)&&"object"===typeof t&&"function"===typeof t.then&&(i.count++,i=Vh.bind(i),t.then(i,i)),e.state.loading|=4,e.instance=a,void Gt(a);a=t.ownerDocument||t,n=Rh(n),(r=_h.get(r))&&Fh(n,r),Gt(a=a.createElement("link"));var o=a;o._p=new Promise((function(t,e){o.onload=t,o.onerror=e})),th(a,"link",n),e.instance=a}null===i.stylesheets&&(i.stylesheets=new Map),i.stylesheets.set(e,t),(t=e.state.preload)&&0===(3&e.state.loading)&&(i.count++,e=Vh.bind(i),t.addEventListener("load",e),t.addEventListener("error",e))}}(Ll,t.memoizedState,t.memoizedProps);break;case 5:default:Xl(t);break;case 3:case 4:var e=Ll;Ll=Sh(t.stateNode.containerInfo),Xl(t),Ll=e;break;case 22:null===t.memoizedState&&(null!==(e=t.alternate)&&null!==e.memoizedState?(e=ql,ql=16777216,Xl(t),ql=e):Xl(t))}}function Kl(t){var e=t.alternate;if(null!==e&&null!==(t=e.child)){e.child=null;do{e=t.sibling,t.sibling=null,t=e}while(null!==t)}}function Ql(t){var e=t.deletions;if(0!==(16&t.flags)){if(null!==e)for(var n=0;n<e.length;n++){var i=e[n];kl=i,Zl(i,t)}Kl(t)}if(10256&t.subtreeFlags)for(t=t.child;null!==t;)$l(t),t=t.sibling}function $l(t){switch(t.tag){case 0:case 11:case 15:Ql(t),2048&t.flags&&ol(9,t,t.return);break;case 3:case 12:default:Ql(t);break;case 22:var e=t.stateNode;null!==t.memoizedState&&2&e._visibility&&(null===t.return||13!==t.return.tag)?(e._visibility&=-3,Jl(t)):Ql(t)}}function Jl(t){var e=t.deletions;if(0!==(16&t.flags)){if(null!==e)for(var n=0;n<e.length;n++){var i=e[n];kl=i,Zl(i,t)}Kl(t)}for(t=t.child;null!==t;){switch((e=t).tag){case 0:case 11:case 15:ol(8,e,e.return),Jl(e);break;case 22:2&(n=e.stateNode)._visibility&&(n._visibility&=-3,Jl(e));break;default:Jl(e)}t=t.sibling}}function Zl(t,e){for(;null!==kl;){var n=kl;switch(n.tag){case 0:case 11:case 15:ol(8,n,e);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var i=n.memoizedState.cachePool.pool;null!=i&&i.refCount++}break;case 24:Nr(n.memoizedState.cache)}if(null!==(i=n.child))i.return=n,kl=i;else t:for(n=t;null!==kl;){var r=(i=kl).sibling,a=i.return;if(Al(i),i===n){kl=null;break t}if(null!==r){r.return=a,kl=r;break t}kl=a}}}var tc={getCacheForType:function(t){var e=Er(Dr),n=e.data.get(t);return void 0===n&&(n=t(),e.data.set(t,n)),n}},ec="function"===typeof WeakMap?WeakMap:Map,nc=0,ic=null,rc=null,ac=0,sc=0,oc=null,lc=!1,cc=!1,uc=!1,hc=0,dc=0,fc=0,pc=0,gc=0,mc=0,vc=0,yc=null,bc=null,wc=!1,xc=0,_c=1/0,kc=null,Sc=null,Ac=0,Ec=null,Cc=null,Mc=0,Tc=0,Pc=null,Rc=null,Dc=0,Lc=null;function Nc(){if(0!==(2&nc)&&0!==ac)return ac&-ac;if(null!==N.T){return 0!==Or?Or:Tu()}return Pt()}function Ic(){0===mc&&(mc=0===(536870912&ac)||ar?_t():536870912);var t=io.current;return null!==t&&(t.flags|=32),mc}function Fc(t,e,n){(t!==ic||2!==sc&&9!==sc)&&null===t.cancelPendingCommit||(Hc(t,0),Wc(t,ac,mc,!1)),At(t,n),0!==(2&nc)&&t===ic||(t===ic&&(0===(2&nc)&&(pc|=n),4===dc&&Wc(t,ac,mc,!1)),_u(t))}function Oc(t,e,n){if(0!==(6&nc))throw Error(s(327));for(var i=!n&&0===(124&e)&&0===(e&t.expiredLanes)||wt(t,e),r=i?function(t,e){var n=nc;nc|=2;var i=Gc(),r=qc();ic!==t||ac!==e?(kc=null,_c=et()+500,Hc(t,e)):cc=wt(t,e);t:for(;;)try{if(0!==sc&&null!==rc){e=rc;var a=oc;e:switch(sc){case 1:sc=0,oc=null,Zc(t,e,a,1);break;case 2:case 9:if(Kr(a)){sc=0,oc=null,Jc(e);break}e=function(){2!==sc&&9!==sc||ic!==t||(sc=7),_u(t)},a.then(e,e);break t;case 3:sc=7;break t;case 4:sc=5;break t;case 7:Kr(a)?(sc=0,oc=null,Jc(e)):(sc=0,oc=null,Zc(t,e,a,7));break;case 5:var o=null;switch(rc.tag){case 26:o=rc.memoizedState;case 5:case 27:var l=rc;if(!o||zh(o)){sc=0,oc=null;var c=l.sibling;if(null!==c)rc=c;else{var u=l.return;null!==u?(rc=u,tu(u)):rc=null}break e}}sc=0,oc=null,Zc(t,e,a,5);break;case 6:sc=0,oc=null,Zc(t,e,a,6);break;case 8:Uc(),dc=6;break t;default:throw Error(s(462))}}Qc();break}catch(h){Vc(t,h)}return yr=vr=null,N.H=i,N.A=r,nc=n,null!==rc?0:(ic=null,ac=0,Mi(),dc)}(t,e):Yc(t,e,!0),a=i;;){if(0===r){cc&&!i&&Wc(t,e,0,!1);break}if(n=t.current.alternate,!a||jc(n)){if(2===r){if(a=e,t.errorRecoveryDisabledLanes&a)var o=0;else o=0!==(o=-536870913&t.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){e=o;t:{var l=t;r=yc;var c=l.current.memoizedState.isDehydrated;if(c&&(Hc(l,o).flags|=256),2!==(o=Yc(l,o,!1))){if(uc&&!c){l.errorRecoveryDisabledLanes|=a,pc|=a,r=4;break t}a=bc,bc=r,null!==a&&(null===bc?bc=a:bc.push.apply(bc,a))}r=o}if(a=!1,2!==r)continue}}if(1===r){Hc(t,0),Wc(t,e,0,!0);break}t:{switch(i=t,a=r){case 0:case 1:throw Error(s(345));case 4:if((4194048&e)!==e)break;case 6:Wc(i,e,mc,!lc);break t;case 2:bc=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&e)===e&&10<(r=xc+300-et())){if(Wc(i,e,mc,!lc),0!==bt(i,0,!0))break t;i.timeoutHandle=lh(Bc.bind(null,i,n,bc,kc,wc,e,mc,pc,vc,lc,a,2,-0,0),r)}else Bc(i,n,bc,kc,wc,e,mc,pc,vc,lc,a,0,-0,0)}break}r=Yc(t,e,!1),a=!1}_u(t)}function Bc(t,e,n,i,r,a,o,l,c,u,h,d,f,p){if(t.timeoutHandle=-1,(8192&(d=e.subtreeFlags)||16785408===(16785408&d))&&(Uh={stylesheets:null,count:0,unsuspend:Hh},Yl(e),null!==(d=function(){if(null===Uh)throw Error(s(475));var t=Uh;return t.stylesheets&&0===t.count&&qh(t,t.stylesheets),0<t.count?function(e){var n=setTimeout((function(){if(t.stylesheets&&qh(t,t.stylesheets),t.unsuspend){var e=t.unsuspend;t.unsuspend=null,e()}}),6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}())))return t.cancelPendingCommit=d(nu.bind(null,t,e,a,n,i,r,o,l,c,h,1,f,p)),void Wc(t,a,o,!u);nu(t,e,a,n,i,r,o,l,c)}function jc(t){for(var e=t;;){var n=e.tag;if((0===n||11===n||15===n)&&16384&e.flags&&(null!==(n=e.updateQueue)&&null!==(n=n.stores)))for(var i=0;i<n.length;i++){var r=n[i],a=r.getSnapshot;r=r.value;try{if(!Kn(a(),r))return!1}catch(s){return!1}}if(n=e.child,16384&e.subtreeFlags&&null!==n)n.return=e,e=n;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Wc(t,e,n,i){e&=~gc,e&=~pc,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var r=e;0<r;){var a=31-ft(r),s=1<<a;i[a]=-1,r&=~s}0!==n&&Et(t,n,e)}function zc(){return 0!==(6&nc)||(ku(0,!1),!1)}function Uc(){if(null!==rc){if(0===sc)var t=rc.return;else yr=vr=null,Oa(t=rc),Ys=null,Ks=0,t=rc;for(;null!==t;)al(t.alternate,t),t=t.return;rc=null}}function Hc(t,e){var n=t.timeoutHandle;-1!==n&&(t.timeoutHandle=-1,ch(n)),null!==(n=t.cancelPendingCommit)&&(t.cancelPendingCommit=null,n()),Uc(),ic=t,rc=n=Bi(t.current,null),ac=e,sc=0,oc=null,lc=!1,cc=wt(t,e),uc=!1,vc=mc=gc=pc=fc=dc=0,bc=yc=null,wc=!1,0!==(8&e)&&(e|=32&e);var i=t.entangledLanes;if(0!==i)for(t=t.entanglements,i&=e;0<i;){var r=31-ft(i),a=1<<r;e|=t[r],i&=~a}return hc=e,Mi(),n}function Vc(t,e){ba=null,N.H=Vs,e===Gr||e===Xr?(e=Zr(),sc=3):e===qr?(e=Zr(),sc=4):sc=e===Eo?8:null!==e&&"object"===typeof e&&"function"===typeof e.then?6:1,oc=e,null===rc&&(dc=1,xo(t,Si(e,t.current)))}function Gc(){var t=N.H;return N.H=Vs,null===t?Vs:t}function qc(){var t=N.A;return N.A=tc,t}function Xc(){dc=4,lc||(4194048&ac)!==ac&&null!==io.current||(cc=!0),0===(134217727&fc)&&0===(134217727&pc)||null===ic||Wc(ic,ac,mc,!1)}function Yc(t,e,n){var i=nc;nc|=2;var r=Gc(),a=qc();ic===t&&ac===e||(kc=null,Hc(t,e)),e=!1;var s=dc;t:for(;;)try{if(0!==sc&&null!==rc){var o=rc,l=oc;switch(sc){case 8:Uc(),s=6;break t;case 3:case 2:case 9:case 6:null===io.current&&(e=!0);var c=sc;if(sc=0,oc=null,Zc(t,o,l,c),n&&cc){s=0;break t}break;default:c=sc,sc=0,oc=null,Zc(t,o,l,c)}}Kc(),s=dc;break}catch(u){Vc(t,u)}return e&&t.shellSuspendCounter++,yr=vr=null,nc=i,N.H=r,N.A=a,null===rc&&(ic=null,ac=0,Mi()),s}function Kc(){for(;null!==rc;)$c(rc)}function Qc(){for(;null!==rc&&!Z();)$c(rc)}function $c(t){var e=$o(t.alternate,t,hc);t.memoizedProps=t.pendingProps,null===e?tu(t):rc=e}function Jc(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Fo(n,e,e.pendingProps,e.type,void 0,ac);break;case 11:e=Fo(n,e,e.pendingProps,e.type.render,e.ref,ac);break;case 5:Oa(e);default:al(n,e),e=$o(n,e=rc=ji(e,hc),hc)}t.memoizedProps=t.pendingProps,null===e?tu(t):rc=e}function Zc(t,e,n,i){yr=vr=null,Oa(e),Ys=null,Ks=0;var r=e.return;try{if(function(t,e,n,i,r){if(n.flags|=32768,null!==i&&"object"===typeof i&&"function"===typeof i.then){if(null!==(e=n.alternate)&&kr(e,n,r,!0),null!==(n=io.current)){switch(n.tag){case 13:return null===ro?Xc():null===n.alternate&&0===dc&&(dc=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===Yr?n.flags|=16384:(null===(e=n.updateQueue)?n.updateQueue=new Set([i]):e.add(i),hu(t,i,r)),!1;case 22:return n.flags|=65536,i===Yr?n.flags|=16384:(null===(e=n.updateQueue)?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):null===(n=e.retryQueue)?e.retryQueue=new Set([i]):n.add(i),hu(t,i,r)),!1}throw Error(s(435,n.tag))}return hu(t,i,r),Xc(),!1}if(ar)return null!==(e=io.current)?(0===(65536&e.flags)&&(e.flags|=256),e.flags|=65536,e.lanes=r,i!==lr&&gr(Si(t=Error(s(422),{cause:i}),n))):(i!==lr&&gr(Si(e=Error(s(423),{cause:i}),n)),(t=t.current.alternate).flags|=65536,r&=-r,t.lanes|=r,i=Si(i,n),oa(t,r=ko(t.stateNode,i,r)),4!==dc&&(dc=2)),!1;var a=Error(s(520),{cause:i});if(a=Si(a,n),null===yc?yc=[a]:yc.push(a),4!==dc&&(dc=2),null===e)return!0;i=Si(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=r&-r,n.lanes|=t,oa(n,t=ko(n.stateNode,i,t)),!1;case 1:if(e=n.type,a=n.stateNode,0===(128&n.flags)&&("function"===typeof e.getDerivedStateFromError||null!==a&&"function"===typeof a.componentDidCatch&&(null===Sc||!Sc.has(a))))return n.flags|=65536,r&=-r,n.lanes|=r,Ao(r=So(r),t,n,i),oa(n,r),!1}n=n.return}while(null!==n);return!1}(t,r,e,n,ac))return dc=1,xo(t,Si(n,t.current)),void(rc=null)}catch(a){if(null!==r)throw rc=r,a;return dc=1,xo(t,Si(n,t.current)),void(rc=null)}32768&e.flags?(ar||1===i?t=!0:cc||0!==(536870912&ac)?t=!1:(lc=t=!0,(2===i||9===i||3===i||6===i)&&(null!==(i=io.current)&&13===i.tag&&(i.flags|=16384))),eu(e,t)):tu(e)}function tu(t){var e=t;do{if(0!==(32768&e.flags))return void eu(e,lc);t=e.return;var n=il(e.alternate,e,hc);if(null!==n)return void(rc=n);if(null!==(e=e.sibling))return void(rc=e);rc=e=t}while(null!==e);0===dc&&(dc=5)}function eu(t,e){do{var n=rl(t.alternate,t);if(null!==n)return n.flags&=32767,void(rc=n);if(null!==(n=t.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&null!==(t=t.sibling))return void(rc=t);rc=t=n}while(null!==t);dc=6,rc=null}function nu(t,e,n,i,r,a,o,l,c){t.cancelPendingCommit=null;do{ou()}while(0!==Ac);if(0!==(6&nc))throw Error(s(327));if(null!==e){if(e===t.current)throw Error(s(177));if(a=e.lanes|e.childLanes,function(t,e,n,i,r,a){var s=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var o=t.entanglements,l=t.expirationTimes,c=t.hiddenUpdates;for(n=s&~n;0<n;){var u=31-ft(n),h=1<<u;o[u]=0,l[u]=-1;var d=c[u];if(null!==d)for(c[u]=null,u=0;u<d.length;u++){var f=d[u];null!==f&&(f.lane&=-536870913)}n&=~h}0!==i&&Et(t,i,0),0!==a&&0===r&&0!==t.tag&&(t.suspendedLanes|=a&~(s&~e))}(t,n,a|=Ci,o,l,c),t===ic&&(rc=ic=null,ac=0),Cc=e,Ec=t,Mc=n,Tc=a,Pc=r,Rc=i,0!==(10256&e.subtreeFlags)||0!==(10256&e.flags)?(t.callbackNode=null,t.callbackPriority=0,$(at,(function(){return lu(),null}))):(t.callbackNode=null,t.callbackPriority=0),i=0!==(13878&e.flags),0!==(13878&e.subtreeFlags)||i){i=N.T,N.T=null,r=I.p,I.p=2,o=nc,nc|=4;try{!function(t,e){if(t=t.containerInfo,eh=nd,ei(t=ti(t))){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{var i=(n=(n=t.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch(m){n=null;break t}var o=0,l=-1,c=-1,u=0,h=0,d=t,f=null;e:for(;;){for(var p;d!==n||0!==r&&3!==d.nodeType||(l=o+r),d!==a||0!==i&&3!==d.nodeType||(c=o+i),3===d.nodeType&&(o+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===t)break e;if(f===n&&++u===r&&(l=o),f===a&&++h===i&&(c=o),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nh={focusedElem:t,selectionRange:n},nd=!1,kl=e;null!==kl;)if(t=(e=kl).child,0!==(1024&e.subtreeFlags)&&null!==t)t.return=e,kl=t;else for(;null!==kl;){switch(a=(e=kl).alternate,t=e.flags,e.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&t)&&null!==a){t=void 0,n=e,r=a.memoizedProps,a=a.memoizedState,i=n.stateNode;try{var g=mo(n.type,r,(n.elementType,n.type));t=i.getSnapshotBeforeUpdate(g,a),i.__reactInternalSnapshotBeforeUpdate=t}catch(v){uu(n,n.return,v)}}break;case 3:if(0!==(1024&t))if(9===(n=(t=e.stateNode.containerInfo).nodeType))gh(t);else if(1===n)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":gh(t);break;default:t.textContent=""}break;default:if(0!==(1024&t))throw Error(s(163))}if(null!==(t=e.sibling)){t.return=e.return,kl=t;break}kl=e.return}}(t,e)}finally{nc=o,I.p=r,N.T=i}}Ac=1,iu(),ru(),au()}}function iu(){if(1===Ac){Ac=0;var t=Ec,e=Cc,n=0!==(13878&e.flags);if(0!==(13878&e.subtreeFlags)||n){n=N.T,N.T=null;var i=I.p;I.p=2;var r=nc;nc|=4;try{Nl(e,t);var a=nh,s=ti(t.containerInfo),o=a.focusedElem,l=a.selectionRange;if(s!==o&&o&&o.ownerDocument&&Zn(o.ownerDocument.documentElement,o)){if(null!==l&&ei(o)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var h=o.ownerDocument||document,d=h&&h.defaultView||window;if(d.getSelection){var f=d.getSelection(),p=o.textContent.length,g=Math.min(l.start,p),m=void 0===l.end?g:Math.min(l.end,p);!f.extend&&g>m&&(s=m,m=g,g=s);var v=Jn(o,g),y=Jn(o,m);if(v&&y&&(1!==f.rangeCount||f.anchorNode!==v.node||f.anchorOffset!==v.offset||f.focusNode!==y.node||f.focusOffset!==y.offset)){var b=h.createRange();b.setStart(v.node,v.offset),f.removeAllRanges(),g>m?(f.addRange(b),f.extend(y.node,y.offset)):(b.setEnd(y.node,y.offset),f.addRange(b))}}}}for(h=[],f=o;f=f.parentNode;)1===f.nodeType&&h.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<h.length;o++){var w=h[o];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}nd=!!eh,nh=eh=null}finally{nc=r,I.p=i,N.T=n}}t.current=e,Ac=2}}function ru(){if(2===Ac){Ac=0;var t=Ec,e=Cc,n=0!==(8772&e.flags);if(0!==(8772&e.subtreeFlags)||n){n=N.T,N.T=null;var i=I.p;I.p=2;var r=nc;nc|=4;try{Sl(t,e.alternate,e)}finally{nc=r,I.p=i,N.T=n}}Ac=3}}function au(){if(4===Ac||3===Ac){Ac=0,tt();var t=Ec,e=Cc,n=Mc,i=Rc;0!==(10256&e.subtreeFlags)||0!==(10256&e.flags)?Ac=5:(Ac=0,Cc=Ec=null,su(t,t.pendingLanes));var r=t.pendingLanes;if(0===r&&(Sc=null),Tt(n),e=e.stateNode,ht&&"function"===typeof ht.onCommitFiberRoot)try{ht.onCommitFiberRoot(ut,e,void 0,128===(128&e.current.flags))}catch(l){}if(null!==i){e=N.T,r=I.p,I.p=2,N.T=null;try{for(var a=t.onRecoverableError,s=0;s<i.length;s++){var o=i[s];a(o.value,{componentStack:o.stack})}}finally{N.T=e,I.p=r}}0!==(3&Mc)&&ou(),_u(t),r=t.pendingLanes,0!==(4194090&n)&&0!==(42&r)?t===Lc?Dc++:(Dc=0,Lc=t):Dc=0,ku(0,!1)}}function su(t,e){0===(t.pooledCacheLanes&=e)&&(null!=(e=t.pooledCache)&&(t.pooledCache=null,Nr(e)))}function ou(t){return iu(),ru(),au(),lu()}function lu(){if(5!==Ac)return!1;var t=Ec,e=Tc;Tc=0;var n=Tt(Mc),i=N.T,r=I.p;try{I.p=32>n?32:n,N.T=null,n=Pc,Pc=null;var a=Ec,o=Mc;if(Ac=0,Cc=Ec=null,Mc=0,0!==(6&nc))throw Error(s(331));var l=nc;if(nc|=4,$l(a.current),Hl(a,a.current,o,n),nc=l,ku(0,!1),ht&&"function"===typeof ht.onPostCommitFiberRoot)try{ht.onPostCommitFiberRoot(ut,a)}catch(c){}return!0}finally{I.p=r,N.T=i,su(t,e)}}function cu(t,e,n){e=Si(n,e),null!==(t=aa(t,e=ko(t.stateNode,e,2),2))&&(At(t,2),_u(t))}function uu(t,e,n){if(3===t.tag)cu(t,t,n);else for(;null!==e;){if(3===e.tag){cu(e,t,n);break}if(1===e.tag){var i=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Sc||!Sc.has(i))){t=Si(n,t),null!==(i=aa(e,n=So(2),2))&&(Ao(n,i,e,t),At(i,2),_u(i));break}}e=e.return}}function hu(t,e,n){var i=t.pingCache;if(null===i){i=t.pingCache=new ec;var r=new Set;i.set(e,r)}else void 0===(r=i.get(e))&&(r=new Set,i.set(e,r));r.has(n)||(uc=!0,r.add(n),t=du.bind(null,t,e,n),e.then(t,t))}function du(t,e,n){var i=t.pingCache;null!==i&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,ic===t&&(ac&n)===n&&(4===dc||3===dc&&(62914560&ac)===ac&&300>et()-xc?0===(2&nc)&&Hc(t,0):gc|=n,vc===ac&&(vc=0)),_u(t)}function fu(t,e){0===e&&(e=kt()),null!==(t=Ri(t,e))&&(At(t,e),_u(t))}function pu(t){var e=t.memoizedState,n=0;null!==e&&(n=e.retryLane),fu(t,n)}function gu(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(s(314))}null!==i&&i.delete(e),fu(t,n)}var mu=null,vu=null,yu=!1,bu=!1,wu=!1,xu=0;function _u(t){t!==vu&&null===t.next&&(null===vu?mu=vu=t:vu=vu.next=t),bu=!0,yu||(yu=!0,hh((function(){0!==(6&nc)?$(it,Su):Au()})))}function ku(t,e){if(!wu&&bu){wu=!0;do{for(var n=!1,i=mu;null!==i;){if(!e)if(0!==t){var r=i.pendingLanes;if(0===r)var a=0;else{var s=i.suspendedLanes,o=i.pingedLanes;a=(1<<31-ft(42|t)+1)-1,a=201326741&(a&=r&~(s&~o))?201326741&a|1:a?2|a:0}0!==a&&(n=!0,Mu(i,a))}else a=ac,0===(3&(a=bt(i,i===ic?a:0,null!==i.cancelPendingCommit||-1!==i.timeoutHandle)))||wt(i,a)||(n=!0,Mu(i,a));i=i.next}}while(n);wu=!1}}function Su(){Au()}function Au(){bu=yu=!1;var t=0;0!==xu&&(function(){var t=window.event;if(t&&"popstate"===t.type)return t!==oh&&(oh=t,!0);return oh=null,!1}()&&(t=xu),xu=0);for(var e=et(),n=null,i=mu;null!==i;){var r=i.next,a=Eu(i,e);0===a?(i.next=null,null===n?mu=r:n.next=r,null===r&&(vu=n)):(n=i,(0!==t||0!==(3&a))&&(bu=!0)),i=r}ku(t,!1)}function Eu(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,a=-62914561&t.pendingLanes;0<a;){var s=31-ft(a),o=1<<s,l=r[s];-1===l?0!==(o&n)&&0===(o&i)||(r[s]=xt(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}if(n=ac,n=bt(t,t===(e=ic)?n:0,null!==t.cancelPendingCommit||-1!==t.timeoutHandle),i=t.callbackNode,0===n||t===e&&(2===sc||9===sc)||null!==t.cancelPendingCommit)return null!==i&&null!==i&&J(i),t.callbackNode=null,t.callbackPriority=0;if(0===(3&n)||wt(t,n)){if((e=n&-n)===t.callbackPriority)return e;switch(null!==i&&J(i),Tt(n)){case 2:case 8:n=rt;break;case 32:default:n=at;break;case 268435456:n=ot}return i=Cu.bind(null,t),n=$(n,i),t.callbackPriority=e,t.callbackNode=n,e}return null!==i&&null!==i&&J(i),t.callbackPriority=2,t.callbackNode=null,2}function Cu(t,e){if(0!==Ac&&5!==Ac)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(ou()&&t.callbackNode!==n)return null;var i=ac;return 0===(i=bt(t,t===ic?i:0,null!==t.cancelPendingCommit||-1!==t.timeoutHandle))?null:(Oc(t,i,e),Eu(t,et()),null!=t.callbackNode&&t.callbackNode===n?Cu.bind(null,t):null)}function Mu(t,e){if(ou())return null;Oc(t,e,!0)}function Tu(){return 0===xu&&(xu=_t()),xu}function Pu(t){return null==t||"symbol"===typeof t||"boolean"===typeof t?null:"function"===typeof t?t:Te(""+t)}function Ru(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}for(var Du=0;Du<xi.length;Du++){var Lu=xi[Du];_i(Lu.toLowerCase(),"on"+(Lu[0].toUpperCase()+Lu.slice(1)))}_i(fi,"onAnimationEnd"),_i(pi,"onAnimationIteration"),_i(gi,"onAnimationStart"),_i("dblclick","onDoubleClick"),_i("focusin","onFocus"),_i("focusout","onBlur"),_i(mi,"onTransitionRun"),_i(vi,"onTransitionStart"),_i(yi,"onTransitionCancel"),_i(bi,"onTransitionEnd"),Kt("onMouseEnter",["mouseout","mouseover"]),Kt("onMouseLeave",["mouseout","mouseover"]),Kt("onPointerEnter",["pointerout","pointerover"]),Kt("onPointerLeave",["pointerout","pointerover"]),Yt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Iu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nu));function Fu(t,e){e=0!==(4&e);for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;t:{var a=void 0;if(e)for(var s=i.length-1;0<=s;s--){var o=i[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&r.isPropagationStopped())break t;a=o,r.currentTarget=c;try{a(r)}catch(u){vo(u)}r.currentTarget=null,a=l}else for(s=0;s<i.length;s++){if(l=(o=i[s]).instance,c=o.currentTarget,o=o.listener,l!==a&&r.isPropagationStopped())break t;a=o,r.currentTarget=c;try{a(r)}catch(u){vo(u)}r.currentTarget=null,a=l}}}}function Ou(t,e){var n=e[It];void 0===n&&(n=e[It]=new Set);var i=t+"__bubble";n.has(i)||(zu(e,t,2,!1),n.add(i))}function Bu(t,e,n){var i=0;e&&(i|=4),zu(n,t,i,e)}var ju="_reactListening"+Math.random().toString(36).slice(2);function Wu(t){if(!t[ju]){t[ju]=!0,qt.forEach((function(e){"selectionchange"!==e&&(Iu.has(e)||Bu(e,!1,t),Bu(e,!0,t))}));var e=9===t.nodeType?t:t.ownerDocument;null===e||e[ju]||(e[ju]=!0,Bu("selectionchange",!1,e))}}function zu(t,e,n,i){switch(cd(e)){case 2:var r=id;break;case 8:r=rd;break;default:r=ad}n=r.bind(null,e,n,t),r=void 0,!je||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(r=!0),i?void 0!==r?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):void 0!==r?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Uu(t,e,n,i,r){var a=i;if(0===(1&e)&&0===(2&e)&&null!==i)t:for(;;){if(null===i)return;var s=i.tag;if(3===s||4===s){var o=i.stateNode.containerInfo;if(o===r)break;if(4===s)for(s=i.return;null!==s;){var c=s.tag;if((3===c||4===c)&&s.stateNode.containerInfo===r)return;s=s.return}for(;null!==o;){if(null===(s=zt(o)))return;if(5===(c=s.tag)||6===c||26===c||27===c){i=a=s;continue t}o=o.parentNode}}i=i.return}Fe((function(){var i=a,r=Re(n),s=[];t:{var o=wi.get(t);if(void 0!==o){var c=Ze,u=t;switch(t){case"keypress":if(0===Ge(n))break t;case"keydown":case"keyup":c=gn;break;case"focusin":u="focus",c=sn;break;case"focusout":u="blur",c=sn;break;case"beforeblur":case"afterblur":c=sn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=an;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=vn;break;case fi:case pi:case gi:c=on;break;case bi:c=yn;break;case"scroll":case"scrollend":c=en;break;case"wheel":c=bn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=mn;break;case"toggle":case"beforetoggle":c=wn}var h=0!==(4&e),d=!h&&("scroll"===t||"scrollend"===t),f=h?null!==o?o+"Capture":null:o;h=[];for(var p,g=i;null!==g;){var m=g;if(p=m.stateNode,5!==(m=m.tag)&&26!==m&&27!==m||null===p||null===f||null!=(m=Oe(g,f))&&h.push(Hu(g,m,p)),d)break;g=g.return}0<h.length&&(o=new c(o,u,null,n,r),s.push({event:o,listeners:h}))}}if(0===(7&e)){if(c="mouseout"===t||"pointerout"===t,(!(o="mouseover"===t||"pointerover"===t)||n===Pe||!(u=n.relatedTarget||n.fromElement)||!zt(u)&&!u[Nt])&&(c||o)&&(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=i,null!==(u=(u=n.relatedTarget||n.toElement)?zt(u):null)&&(d=l(u),h=u.tag,u!==d||5!==h&&27!==h&&6!==h)&&(u=null)):(c=null,u=i),c!==u)){if(h=rn,m="onMouseLeave",f="onMouseEnter",g="mouse","pointerout"!==t&&"pointerover"!==t||(h=mn,m="onPointerLeave",f="onPointerEnter",g="pointer"),d=null==c?o:Ht(c),p=null==u?o:Ht(u),(o=new h(m,g+"leave",c,n,r)).target=d,o.relatedTarget=p,m=null,zt(r)===i&&((h=new h(f,g+"enter",u,n,r)).target=p,h.relatedTarget=d,m=h),d=m,c&&u)t:{for(f=u,g=0,p=h=c;p;p=Gu(p))g++;for(p=0,m=f;m;m=Gu(m))p++;for(;0<g-p;)h=Gu(h),g--;for(;0<p-g;)f=Gu(f),p--;for(;g--;){if(h===f||null!==f&&h===f.alternate)break t;h=Gu(h),f=Gu(f)}h=null}else h=null;null!==c&&qu(s,o,c,h,!1),null!==u&&null!==d&&qu(s,d,u,h,!0)}if("select"===(c=(o=i?Ht(i):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var v=Bn;else if(Dn(o))if(jn)v=Yn;else{v=qn;var y=Gn}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?i&&Ee(i.elementType)&&(v=Bn):v=Xn;switch(v&&(v=v(t,i))?Ln(s,v,n,r):(y&&y(t,o,i),"focusout"===t&&i&&"number"===o.type&&null!=i.memoizedProps.value&&ye(o,"number",o.value)),y=i?Ht(i):window,t){case"focusin":(Dn(y)||"true"===y.contentEditable)&&(ii=y,ri=i,ai=null);break;case"focusout":ai=ri=ii=null;break;case"mousedown":si=!0;break;case"contextmenu":case"mouseup":case"dragend":si=!1,oi(s,n,r);break;case"selectionchange":if(ni)break;case"keydown":case"keyup":oi(s,n,r)}var b;if(_n)t:{switch(t){case"compositionstart":var w="onCompositionStart";break t;case"compositionend":w="onCompositionEnd";break t;case"compositionupdate":w="onCompositionUpdate";break t}w=void 0}else Pn?Mn(t,n)&&(w="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(w="onCompositionStart");w&&(An&&"ko"!==n.locale&&(Pn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Pn&&(b=Ve()):(Ue="value"in(ze=r)?ze.value:ze.textContent,Pn=!0)),0<(y=Vu(i,w)).length&&(w=new cn(w,t,null,n,r),s.push({event:w,listeners:y}),b?w.data=b:null!==(b=Tn(n))&&(w.data=b))),(b=Sn?function(t,e){switch(t){case"compositionend":return Tn(e);case"keypress":return 32!==e.which?null:(Cn=!0,En);case"textInput":return(t=e.data)===En&&Cn?null:t;default:return null}}(t,n):function(t,e){if(Pn)return"compositionend"===t||!_n&&Mn(t,e)?(t=Ve(),He=Ue=ze=null,Pn=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return An&&"ko"!==e.locale?null:e.data}}(t,n))&&(0<(w=Vu(i,"onBeforeInput")).length&&(y=new cn("onBeforeInput","beforeinput",null,n,r),s.push({event:y,listeners:w}),y.data=b)),function(t,e,n,i,r){if("submit"===e&&n&&n.stateNode===r){var a=Pu((r[Lt]||null).action),s=i.submitter;s&&null!==(e=(e=s[Lt]||null)?Pu(e.formAction):s.getAttribute("formAction"))&&(a=e,s=null);var o=new Ze("action","action",null,i,r);t.push({event:o,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(0!==xu){var t=s?Ru(r,s):new FormData(r);Ps(n,{pending:!0,data:t,method:r.method,action:a},null,t)}}else"function"===typeof a&&(o.preventDefault(),t=s?Ru(r,s):new FormData(r),Ps(n,{pending:!0,data:t,method:r.method,action:a},a,t))},currentTarget:r}]})}}(s,t,i,n,r)}Fu(s,e)}))}function Hu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Vu(t,e){for(var n=e+"Capture",i=[];null!==t;){var r=t,a=r.stateNode;if(5!==(r=r.tag)&&26!==r&&27!==r||null===a||(null!=(r=Oe(t,n))&&i.unshift(Hu(t,r,a)),null!=(r=Oe(t,e))&&i.push(Hu(t,r,a))),3===t.tag)return i;t=t.return}return[]}function Gu(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag&&27!==t.tag);return t||null}function qu(t,e,n,i,r){for(var a=e._reactName,s=[];null!==n&&n!==i;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===i)break;5!==o&&26!==o&&27!==o||null===c||(l=c,r?null!=(c=Oe(n,a))&&s.unshift(Hu(n,c,l)):r||null!=(c=Oe(n,a))&&s.push(Hu(n,c,l))),n=n.return}0!==s.length&&t.push({event:e,listeners:s})}var Xu=/\r\n?/g,Yu=/\u0000|\uFFFD/g;function Ku(t){return("string"===typeof t?t:""+t).replace(Xu,"\n").replace(Yu,"")}function Qu(t,e){return e=Ku(e),Ku(t)===e}function $u(){}function Ju(t,e,n,i,r,a){switch(n){case"children":"string"===typeof i?"body"===e||"textarea"===e&&""===i||_e(t,i):("number"===typeof i||"bigint"===typeof i)&&"body"!==e&&_e(t,""+i);break;case"className":ne(t,"class",i);break;case"tabIndex":ne(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":ne(t,n,i);break;case"style":Ae(t,i,a);break;case"data":if("object"!==e){ne(t,"data",i);break}case"src":case"href":if(""===i&&("a"!==e||"href"!==n)){t.removeAttribute(n);break}if(null==i||"function"===typeof i||"symbol"===typeof i||"boolean"===typeof i){t.removeAttribute(n);break}i=Te(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if("function"===typeof i){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof a&&("formAction"===n?("input"!==e&&Ju(t,e,"name",r.name,r,null),Ju(t,e,"formEncType",r.formEncType,r,null),Ju(t,e,"formMethod",r.formMethod,r,null),Ju(t,e,"formTarget",r.formTarget,r,null)):(Ju(t,e,"encType",r.encType,r,null),Ju(t,e,"method",r.method,r,null),Ju(t,e,"target",r.target,r,null))),null==i||"symbol"===typeof i||"boolean"===typeof i){t.removeAttribute(n);break}i=Te(""+i),t.setAttribute(n,i);break;case"onClick":null!=i&&(t.onclick=$u);break;case"onScroll":null!=i&&Ou("scroll",t);break;case"onScrollEnd":null!=i&&Ou("scrollend",t);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!==typeof i||!("__html"in i))throw Error(s(61));if(null!=(n=i.__html)){if(null!=r.children)throw Error(s(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&"function"!==typeof i&&"symbol"!==typeof i;break;case"muted":t.muted=i&&"function"!==typeof i&&"symbol"!==typeof i;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==i||"function"===typeof i||"boolean"===typeof i||"symbol"===typeof i){t.removeAttribute("xlink:href");break}n=Te(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=i&&"function"!==typeof i&&"symbol"!==typeof i?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&"function"!==typeof i&&"symbol"!==typeof i?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":!0===i?t.setAttribute(n,""):!1!==i&&null!=i&&"function"!==typeof i&&"symbol"!==typeof i?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":null==i||"function"===typeof i||"symbol"===typeof i||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":Ou("beforetoggle",t),Ou("toggle",t),ee(t,"popover",i);break;case"xlinkActuate":ie(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":ie(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":ie(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":ie(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":ie(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":ie(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":ie(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":ie(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":ie(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":ee(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&ee(t,n=Ce.get(n)||n,i)}}function Zu(t,e,n,i,r,a){switch(n){case"style":Ae(t,i,a);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!==typeof i||!("__html"in i))throw Error(s(61));if(null!=(n=i.__html)){if(null!=r.children)throw Error(s(60));t.innerHTML=n}}break;case"children":"string"===typeof i?_e(t,i):("number"===typeof i||"bigint"===typeof i)&&_e(t,""+i);break;case"onScroll":null!=i&&Ou("scroll",t);break;case"onScrollEnd":null!=i&&Ou("scrollend",t);break;case"onClick":null!=i&&(t.onclick=$u);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Xt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(r=n.endsWith("Capture"),e=n.slice(2,r?n.length-7:void 0),"function"===typeof(a=null!=(a=t[Lt]||null)?a[n]:null)&&t.removeEventListener(e,a,r),"function"!==typeof i)?n in t?t[n]=i:!0===i?t.setAttribute(n,""):ee(t,n,i):("function"!==typeof a&&null!==a&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,r)))}}function th(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ou("error",t),Ou("load",t);var i,r=!1,a=!1;for(i in n)if(n.hasOwnProperty(i)){var o=n[i];if(null!=o)switch(i){case"src":r=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,e));default:Ju(t,e,i,o,n,null)}}return a&&Ju(t,e,"srcSet",n.srcSet,n,null),void(r&&Ju(t,e,"src",n.src,n,null));case"input":Ou("invalid",t);var l=i=o=a=null,c=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var h=n[r];if(null!=h)switch(r){case"name":a=h;break;case"type":o=h;break;case"checked":c=h;break;case"defaultChecked":u=h;break;case"value":i=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(s(137,e));break;default:Ju(t,e,r,h,n,null)}}return ve(t,i,l,c,u,o,a,!1),void he(t);case"select":for(a in Ou("invalid",t),r=o=i=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":i=l;break;case"defaultValue":o=l;break;case"multiple":r=l;default:Ju(t,e,a,l,n,null)}return e=i,n=o,t.multiple=!!r,void(null!=e?be(t,!!r,e,!1):null!=n&&be(t,!!r,n,!0));case"textarea":for(o in Ou("invalid",t),i=a=r=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":r=l;break;case"defaultValue":a=l;break;case"children":i=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:Ju(t,e,o,l,n,null)}return xe(t,r,a,i),void he(t);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(r=n[c]))if("selected"===c)t.selected=r&&"function"!==typeof r&&"symbol"!==typeof r;else Ju(t,e,c,r,n,null);return;case"dialog":Ou("beforetoggle",t),Ou("toggle",t),Ou("cancel",t),Ou("close",t);break;case"iframe":case"object":Ou("load",t);break;case"video":case"audio":for(r=0;r<Nu.length;r++)Ou(Nu[r],t);break;case"image":Ou("error",t),Ou("load",t);break;case"details":Ou("toggle",t);break;case"embed":case"source":case"link":Ou("error",t),Ou("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(r=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,e));default:Ju(t,e,u,r,n,null)}return;default:if(Ee(e)){for(h in n)n.hasOwnProperty(h)&&(void 0!==(r=n[h])&&Zu(t,e,h,r,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(r=n[l])&&Ju(t,e,l,r,n,null))}var eh=null,nh=null;function ih(t){return 9===t.nodeType?t:t.ownerDocument}function rh(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ah(t,e){if(0===t)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return 1===t&&"foreignObject"===e?0:t}function sh(t,e){return"textarea"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"bigint"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var oh=null;var lh="function"===typeof setTimeout?setTimeout:void 0,ch="function"===typeof clearTimeout?clearTimeout:void 0,uh="function"===typeof Promise?Promise:void 0,hh="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof uh?function(t){return uh.resolve(null).then(t).catch(dh)}:lh;function dh(t){setTimeout((function(){throw t}))}function fh(t){return"head"===t}function ph(t,e){var n=e,i=0,r=0;do{var a=n.nextSibling;if(t.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0<i&&8>i){n=i;var s=t.ownerDocument;if(1&n&&xh(s.documentElement),2&n&&xh(s.body),4&n)for(xh(n=s.head),s=n.firstChild;s;){var o=s.nextSibling,l=s.nodeName;s[jt]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=o}}if(0===r)return t.removeChild(a),void Cd(e);r--}else"$"===n||"$?"===n||"$!"===n?r++:i=n.charCodeAt(0)-48;else i=0;n=a}while(n);Cd(e)}function gh(t){var e=t.firstChild;for(e&&10===e.nodeType&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":gh(n),Wt(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}t.removeChild(n)}}function mh(t){return"$!"===t.data||"$?"===t.data&&"complete"===t.ownerDocument.readyState}function vh(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e||"F!"===e||"F"===e)break;if("/$"===e)return null}}return t}var yh=null;function bh(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}function wh(t,e,n){switch(e=ih(n),t){case"html":if(!(t=e.documentElement))throw Error(s(452));return t;case"head":if(!(t=e.head))throw Error(s(453));return t;case"body":if(!(t=e.body))throw Error(s(454));return t;default:throw Error(s(451))}}function xh(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Wt(t)}var _h=new Map,kh=new Set;function Sh(t){return"function"===typeof t.getRootNode?t.getRootNode():9===t.nodeType?t:t.ownerDocument}var Ah=I.d;I.d={f:function(){var t=Ah.f(),e=zc();return t||e},r:function(t){var e=Ut(t);null!==e&&5===e.tag&&"form"===e.type?Ds(e):Ah.r(t)},D:function(t){Ah.D(t),Ch("dns-prefetch",t,null)},C:function(t,e){Ah.C(t,e),Ch("preconnect",t,e)},L:function(t,e,n){Ah.L(t,e,n);var i=Eh;if(i&&t&&e){var r='link[rel="preload"][as="'+ge(e)+'"]';"image"===e&&n&&n.imageSrcSet?(r+='[imagesrcset="'+ge(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(r+='[imagesizes="'+ge(n.imageSizes)+'"]')):r+='[href="'+ge(t)+'"]';var a=r;switch(e){case"style":a=Th(t);break;case"script":a=Dh(t)}_h.has(a)||(t=d({rel:"preload",href:"image"===e&&n&&n.imageSrcSet?void 0:t,as:e},n),_h.set(a,t),null!==i.querySelector(r)||"style"===e&&i.querySelector(Ph(a))||"script"===e&&i.querySelector(Lh(a))||(th(e=i.createElement("link"),"link",t),Gt(e),i.head.appendChild(e)))}},m:function(t,e){Ah.m(t,e);var n=Eh;if(n&&t){var i=e&&"string"===typeof e.as?e.as:"script",r='link[rel="modulepreload"][as="'+ge(i)+'"][href="'+ge(t)+'"]',a=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Dh(t)}if(!_h.has(a)&&(t=d({rel:"modulepreload",href:t},e),_h.set(a,t),null===n.querySelector(r))){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Lh(a)))return}th(i=n.createElement("link"),"link",t),Gt(i),n.head.appendChild(i)}}},X:function(t,e){Ah.X(t,e);var n=Eh;if(n&&t){var i=Vt(n).hoistableScripts,r=Dh(t),a=i.get(r);a||((a=n.querySelector(Lh(r)))||(t=d({src:t,async:!0},e),(e=_h.get(r))&&Oh(t,e),Gt(a=n.createElement("script")),th(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(r,a))}},S:function(t,e,n){Ah.S(t,e,n);var i=Eh;if(i&&t){var r=Vt(i).hoistableStyles,a=Th(t);e=e||"default";var s=r.get(a);if(!s){var o={loading:0,preload:null};if(s=i.querySelector(Ph(a)))o.loading=5;else{t=d({rel:"stylesheet",href:t,"data-precedence":e},n),(n=_h.get(a))&&Fh(t,n);var l=s=i.createElement("link");Gt(l),th(l,"link",t),l._p=new Promise((function(t,e){l.onload=t,l.onerror=e})),l.addEventListener("load",(function(){o.loading|=1})),l.addEventListener("error",(function(){o.loading|=2})),o.loading|=4,Ih(s,e,i)}s={type:"stylesheet",instance:s,count:1,state:o},r.set(a,s)}}},M:function(t,e){Ah.M(t,e);var n=Eh;if(n&&t){var i=Vt(n).hoistableScripts,r=Dh(t),a=i.get(r);a||((a=n.querySelector(Lh(r)))||(t=d({src:t,async:!0,type:"module"},e),(e=_h.get(r))&&Oh(t,e),Gt(a=n.createElement("script")),th(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(r,a))}}};var Eh="undefined"===typeof document?null:document;function Ch(t,e,n){var i=Eh;if(i&&"string"===typeof e&&e){var r=ge(e);r='link[rel="'+t+'"][href="'+r+'"]',"string"===typeof n&&(r+='[crossorigin="'+n+'"]'),kh.has(r)||(kh.add(r),t={rel:t,crossOrigin:n,href:e},null===i.querySelector(r)&&(th(e=i.createElement("link"),"link",t),Gt(e),i.head.appendChild(e)))}}function Mh(t,e,n,i){var r,a,o,l,c=(c=V.current)?Sh(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(e=Th(n.href),(i=(n=Vt(c).hoistableStyles).get(e))||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){t=Th(n.href);var u=Vt(c).hoistableStyles,h=u.get(t);if(h||(c=c.ownerDocument||c,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(t,h),(u=c.querySelector(Ph(t)))&&!u._p&&(h.instance=u,h.state.loading=5),_h.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},_h.set(t,n),u||(r=c,a=t,o=n,l=h.state,r.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=r.createElement("link"),l.preload=a,a.addEventListener("load",(function(){return l.loading|=1})),a.addEventListener("error",(function(){return l.loading|=2})),th(a,"link",o),Gt(a),r.head.appendChild(a))))),e&&null===i)throw Error(s(528,""));return h}if(e&&null!==i)throw Error(s(529,""));return null;case"script":return e=n.async,"string"===typeof(n=n.src)&&e&&"function"!==typeof e&&"symbol"!==typeof e?(e=Dh(n),(i=(n=Vt(c).hoistableScripts).get(e))||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Th(t){return'href="'+ge(t)+'"'}function Ph(t){return'link[rel="stylesheet"]['+t+"]"}function Rh(t){return d({},t,{"data-precedence":t.precedence,precedence:null})}function Dh(t){return'[src="'+ge(t)+'"]'}function Lh(t){return"script[async]"+t}function Nh(t,e,n){if(e.count++,null===e.instance)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+ge(n.href)+'"]');if(i)return e.instance=i,Gt(i),i;var r=d({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Gt(i=(t.ownerDocument||t).createElement("style")),th(i,"style",r),Ih(i,n.precedence,t),e.instance=i;case"stylesheet":r=Th(n.href);var a=t.querySelector(Ph(r));if(a)return e.state.loading|=4,e.instance=a,Gt(a),a;i=Rh(n),(r=_h.get(r))&&Fh(i,r),Gt(a=(t.ownerDocument||t).createElement("link"));var o=a;return o._p=new Promise((function(t,e){o.onload=t,o.onerror=e})),th(a,"link",i),e.state.loading|=4,Ih(a,n.precedence,t),e.instance=a;case"script":return a=Dh(n.src),(r=t.querySelector(Lh(a)))?(e.instance=r,Gt(r),r):(i=n,(r=_h.get(a))&&Oh(i=d({},n),r),Gt(r=(t=t.ownerDocument||t).createElement("script")),th(r,"link",i),t.head.appendChild(r),e.instance=r);case"void":return null;default:throw Error(s(443,e.type))}else"stylesheet"===e.type&&0===(4&e.state.loading)&&(i=e.instance,e.state.loading|=4,Ih(i,n.precedence,t));return e.instance}function Ih(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,a=r,s=0;s<i.length;s++){var o=i[s];if(o.dataset.precedence===e)a=o;else if(a!==r)break}a?a.parentNode.insertBefore(t,a.nextSibling):(e=9===n.nodeType?n.head:n).insertBefore(t,e.firstChild)}function Fh(t,e){null==t.crossOrigin&&(t.crossOrigin=e.crossOrigin),null==t.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),null==t.title&&(t.title=e.title)}function Oh(t,e){null==t.crossOrigin&&(t.crossOrigin=e.crossOrigin),null==t.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),null==t.integrity&&(t.integrity=e.integrity)}var Bh=null;function jh(t,e,n){if(null===Bh){var i=new Map,r=Bh=new Map;r.set(n,i)}else(i=(r=Bh).get(n))||(i=new Map,r.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),r=0;r<n.length;r++){var a=n[r];if(!(a[jt]||a[Dt]||"link"===t&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var s=a.getAttribute(e)||"";s=t+s;var o=i.get(s);o?o.push(a):i.set(s,[a])}}return i}function Wh(t,e,n){(t=t.ownerDocument||t).head.insertBefore(n,"title"===e?t.querySelector("head > title"):null)}function zh(t){return"stylesheet"!==t.type||0!==(3&t.state.loading)}var Uh=null;function Hh(){}function Vh(){if(this.count--,0===this.count)if(this.stylesheets)qh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}var Gh=null;function qh(t,e){t.stylesheets=null,null!==t.unsuspend&&(t.count++,Gh=new Map,e.forEach(Xh,t),Gh=null,Vh.call(t))}function Xh(t,e){if(!(4&e.state.loading)){var n=Gh.get(t);if(n)var i=n.get(null);else{n=new Map,Gh.set(t,n);for(var r=t.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<r.length;a++){var s=r[a];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),i=s)}i&&n.set(null,i)}s=(r=e.instance).getAttribute("data-precedence"),(a=n.get(s)||i)===i&&n.set(null,r),n.set(s,r),this.count++,i=Vh.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),a?a.parentNode.insertBefore(r,a.nextSibling):(t=9===t.nodeType?t.head:t).insertBefore(r,t.firstChild),e.state.loading|=4}}var Yh={$$typeof:x,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function Kh(t,e,n,i,r,a,s,o){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=St(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=St(0),this.hiddenUpdates=St(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Qh(t,e,n,i,r,a,s,o,l,c,u,h){return t=new Kh(t,e,n,s,o,l,c,h),e=1,!0===a&&(e|=24),a=Fi(3,null,null,e),t.current=a,a.stateNode=t,(e=Lr()).refCount++,t.pooledCache=e,e.refCount++,a.memoizedState={element:i,isDehydrated:n,cache:e},na(a),t}function $h(t){return t?t=Ni:Ni}function Jh(t,e,n,i,r,a){r=$h(r),null===i.context?i.context=r:i.pendingContext=r,(i=ra(e)).payload={element:n},null!==(a=void 0===a?null:a)&&(i.callback=a),null!==(n=aa(t,i,e))&&(Fc(n,0,e),sa(n,t,e))}function Zh(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function td(t,e){Zh(t,e),(t=t.alternate)&&Zh(t,e)}function ed(t){if(13===t.tag){var e=Ri(t,67108864);null!==e&&Fc(e,0,67108864),td(t,67108864)}}var nd=!0;function id(t,e,n,i){var r=N.T;N.T=null;var a=I.p;try{I.p=2,ad(t,e,n,i)}finally{I.p=a,N.T=r}}function rd(t,e,n,i){var r=N.T;N.T=null;var a=I.p;try{I.p=8,ad(t,e,n,i)}finally{I.p=a,N.T=r}}function ad(t,e,n,i){if(nd){var r=sd(i);if(null===r)Uu(t,e,i,od,n),yd(t,i);else if(function(t,e,n,i,r){switch(e){case"focusin":return hd=bd(hd,t,e,n,i,r),!0;case"dragenter":return dd=bd(dd,t,e,n,i,r),!0;case"mouseover":return fd=bd(fd,t,e,n,i,r),!0;case"pointerover":var a=r.pointerId;return pd.set(a,bd(pd.get(a)||null,t,e,n,i,r)),!0;case"gotpointercapture":return a=r.pointerId,gd.set(a,bd(gd.get(a)||null,t,e,n,i,r)),!0}return!1}(r,t,e,n,i))i.stopPropagation();else if(yd(t,i),4&e&&-1<vd.indexOf(t)){for(;null!==r;){var a=Ut(r);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var s=yt(a.pendingLanes);if(0!==s){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var l=1<<31-ft(s);o.entanglements[1]|=l,s&=~l}_u(a),0===(6&nc)&&(_c=et()+500,ku(0,!1))}}break;case 13:null!==(o=Ri(a,2))&&Fc(o,0,2),zc(),td(a,2)}if(null===(a=sd(i))&&Uu(t,e,i,od,n),a===r)break;r=a}null!==r&&i.stopPropagation()}else Uu(t,e,i,null,n)}}function sd(t){return ld(t=Re(t))}var od=null;function ld(t){if(od=null,null!==(t=zt(t))){var e=l(t);if(null===e)t=null;else{var n=e.tag;if(13===n){if(null!==(t=c(e)))return t;t=null}else if(3===n){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return od=t,null}function cd(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nt()){case it:return 2;case rt:return 8;case at:case st:return 32;case ot:return 268435456;default:return 32}default:return 32}}var ud=!1,hd=null,dd=null,fd=null,pd=new Map,gd=new Map,md=[],vd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yd(t,e){switch(t){case"focusin":case"focusout":hd=null;break;case"dragenter":case"dragleave":dd=null;break;case"mouseover":case"mouseout":fd=null;break;case"pointerover":case"pointerout":pd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":gd.delete(e.pointerId)}}function bd(t,e,n,i,r,a){return null===t||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[r]},null!==e&&(null!==(e=Ut(e))&&ed(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,null!==r&&-1===e.indexOf(r)&&e.push(r),t)}function wd(t){var e=zt(t.target);if(null!==e){var n=l(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=c(n)))return t.blockedOn=e,void function(t,e){var n=I.p;try{return I.p=t,e()}finally{I.p=n}}(t.priority,(function(){if(13===n.tag){var t=Nc();t=Mt(t);var e=Ri(n,t);null!==e&&Fc(e,0,t),td(n,t)}}))}else if(3===e&&n.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function xd(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=sd(t.nativeEvent);if(null!==n)return null!==(e=Ut(n))&&ed(e),t.blockedOn=n,!1;var i=new(n=t.nativeEvent).constructor(n.type,n);Pe=i,n.target.dispatchEvent(i),Pe=null,e.shift()}return!0}function _d(t,e,n){xd(t)&&n.delete(e)}function kd(){ud=!1,null!==hd&&xd(hd)&&(hd=null),null!==dd&&xd(dd)&&(dd=null),null!==fd&&xd(fd)&&(fd=null),pd.forEach(_d),gd.forEach(_d)}function Sd(t,e){t.blockedOn===e&&(t.blockedOn=null,ud||(ud=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,kd)))}var Ad=null;function Ed(t){Ad!==t&&(Ad=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,(function(){Ad===t&&(Ad=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],r=t[e+2];if("function"!==typeof i){if(null===ld(i||n))continue;break}var a=Ut(n);null!==a&&(t.splice(e,3),e-=3,Ps(a,{pending:!0,data:r,method:n.method,action:i},i,r))}})))}function Cd(t){function e(e){return Sd(e,t)}null!==hd&&Sd(hd,t),null!==dd&&Sd(dd,t),null!==fd&&Sd(fd,t),pd.forEach(e),gd.forEach(e);for(var n=0;n<md.length;n++){var i=md[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<md.length&&null===(n=md[0]).blockedOn;)wd(n),null===n.blockedOn&&md.shift();if(null!=(n=(t.ownerDocument||t).$$reactFormReplay))for(i=0;i<n.length;i+=3){var r=n[i],a=n[i+1],s=r[Lt]||null;if("function"===typeof a)s||Ed(n);else if(s){var o=null;if(a&&a.hasAttribute("formAction")){if(r=a,s=a[Lt]||null)o=s.formAction;else if(null!==ld(r))continue}else o=s.action;"function"===typeof o?n[i+1]=o:(n.splice(i,3),i-=3),Ed(n)}}}function Md(t){this._internalRoot=t}function Td(t){this._internalRoot=t}Td.prototype.render=Md.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(s(409));Jh(e.current,Nc(),t,e,null,null)},Td.prototype.unmount=Md.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;Jh(t.current,2,null,t,null,null),zc(),e[Nt]=null}},Td.prototype.unstable_scheduleHydration=function(t){if(t){var e=Pt();t={blockedOn:null,target:t,priority:e};for(var n=0;n<md.length&&0!==e&&e<md[n].priority;n++);md.splice(n,0,t),0===n&&wd(t)}};var Pd=r.version;if("19.1.0"!==Pd)throw Error(s(527,Pd,"19.1.0"));I.findDOMNode=function(t){var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(s(188));throw t=Object.keys(t).join(","),Error(s(268,t))}return t=function(t){var e=t.alternate;if(!e){if(null===(e=l(t)))throw Error(s(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(null===r)break;var a=r.alternate;if(null===a){if(null!==(i=r.return)){n=i;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return u(r),t;if(a===i)return u(r),e;a=a.sibling}throw Error(s(188))}if(n.return!==i.return)n=r,i=a;else{for(var o=!1,c=r.child;c;){if(c===n){o=!0,n=r,i=a;break}if(c===i){o=!0,i=r,n=a;break}c=c.sibling}if(!o){for(c=a.child;c;){if(c===n){o=!0,n=a,i=r;break}if(c===i){o=!0,i=a,n=r;break}c=c.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==i)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?t:e}(e),t=null===(t=null!==t?h(t):null)?null:t.stateNode};var Rd={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:N,reconcilerVersion:"19.1.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Dd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dd.isDisabled&&Dd.supportsFiber)try{ut=Dd.inject(Rd),ht=Dd}catch(Nd){}}e.createRoot=function(t,e){if(!o(t))throw Error(s(299));var n=!1,i="",r=yo,a=bo,l=wo;return null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(n=!0),void 0!==e.identifierPrefix&&(i=e.identifierPrefix),void 0!==e.onUncaughtError&&(r=e.onUncaughtError),void 0!==e.onCaughtError&&(a=e.onCaughtError),void 0!==e.onRecoverableError&&(l=e.onRecoverableError),void 0!==e.unstable_transitionCallbacks&&e.unstable_transitionCallbacks),e=Qh(t,1,!1,null,0,n,i,r,a,l,0,null),t[Nt]=e.current,Wu(t),new Md(e)},e.hydrateRoot=function(t,e,n){if(!o(t))throw Error(s(299));var i=!1,r="",a=yo,l=bo,c=wo,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(r=n.identifierPrefix),void 0!==n.onUncaughtError&&(a=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(e=Qh(t,1,!0,e,0,i,r,a,l,c,0,u)).context=$h(null),n=e.current,(r=ra(i=Mt(i=Nc()))).callback=null,aa(n,r,i),n=i,e.current.lanes=n,At(e,n),_u(e),t[Nt]=e.current,Wu(t),new Td(e)},e.version="19.1.0"},43:(t,e,n)=>{t.exports=n(288)},288:(t,e)=>{var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(t,e,n){this.props=t,this.context=e,this.refs=m,this.updater=n||p}function y(){}function b(t,e,n){this.props=t,this.context=e,this.refs=m,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},v.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,g(w,v.prototype),w.isPureReactComponent=!0;var x=Array.isArray,_={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function S(t,e,i,r,a,s){return i=s.ref,{$$typeof:n,type:t,key:e,ref:void 0!==i?i:null,props:s}}function A(t){return"object"===typeof t&&null!==t&&t.$$typeof===n}var E=/\/+/g;function C(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function M(){}function T(t,e,r,a,s){var o=typeof t;"undefined"!==o&&"boolean"!==o||(t=null);var l,c,u=!1;if(null===t)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case n:case i:u=!0;break;case d:return T((u=t._init)(t._payload),e,r,a,s)}}if(u)return s=s(t),u=""===a?"."+C(t,0):a,x(s)?(r="",null!=u&&(r=u.replace(E,"$&/")+"/"),T(s,e,r,"",(function(t){return t}))):null!=s&&(A(s)&&(l=s,c=r+(null==s.key||t&&t.key===s.key?"":(""+s.key).replace(E,"$&/")+"/")+u,s=S(l.type,c,void 0,0,0,l.props)),e.push(s)),1;u=0;var h,p=""===a?".":a+":";if(x(t))for(var g=0;g<t.length;g++)u+=T(a=t[g],e,r,o=p+C(a,g),s);else if("function"===typeof(g=null===(h=t)||"object"!==typeof h?null:"function"===typeof(h=f&&h[f]||h["@@iterator"])?h:null))for(t=g.call(t),g=0;!(a=t.next()).done;)u+=T(a=a.value,e,r,o=p+C(a,g++),s);else if("object"===o){if("function"===typeof t.then)return T(function(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch("string"===typeof t.status?t.then(M,M):(t.status="pending",t.then((function(e){"pending"===t.status&&(t.status="fulfilled",t.value=e)}),(function(e){"pending"===t.status&&(t.status="rejected",t.reason=e)}))),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}(t),e,r,a,s);throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return u}function P(t,e,n){if(null==t)return t;var i=[],r=0;return T(t,i,"","",(function(t){return e.call(n,t,r++)})),i}function R(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var D="function"===typeof reportError?reportError:function(t){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof t&&null!==t&&"string"===typeof t.message?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",t);console.error(t)};function L(){}e.Children={map:P,forEach:function(t,e,n){P(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return P(t,(function(){e++})),e},toArray:function(t){return P(t,(function(t){return t}))||[]},only:function(t){if(!A(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=v,e.Fragment=r,e.Profiler=s,e.PureComponent=b,e.StrictMode=a,e.Suspense=u,e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,e.__COMPILER_RUNTIME={__proto__:null,c:function(t){return _.H.useMemoCache(t)}},e.cache=function(t){return function(){return t.apply(null,arguments)}},e.cloneElement=function(t,e,n){if(null===t||void 0===t)throw Error("The argument must be a React element, but you passed "+t+".");var i=g({},t.props),r=t.key;if(null!=e)for(a in void 0!==e.ref&&void 0,void 0!==e.key&&(r=""+e.key),e)!k.call(e,a)||"key"===a||"__self"===a||"__source"===a||"ref"===a&&void 0===e.ref||(i[a]=e[a]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var s=Array(a),o=0;o<a;o++)s[o]=arguments[o+2];i.children=s}return S(t.type,r,void 0,0,0,i)},e.createContext=function(t){return(t={$$typeof:l,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider=t,t.Consumer={$$typeof:o,_context:t},t},e.createElement=function(t,e,n){var i,r={},a=null;if(null!=e)for(i in void 0!==e.key&&(a=""+e.key),e)k.call(e,i)&&"key"!==i&&"__self"!==i&&"__source"!==i&&(r[i]=e[i]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];r.children=o}if(t&&t.defaultProps)for(i in s=t.defaultProps)void 0===r[i]&&(r[i]=s[i]);return S(t,a,void 0,0,0,r)},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:c,render:t}},e.isValidElement=A,e.lazy=function(t){return{$$typeof:d,_payload:{_status:-1,_result:t},_init:R}},e.memo=function(t,e){return{$$typeof:h,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=_.T,n={};_.T=n;try{var i=t(),r=_.S;null!==r&&r(n,i),"object"===typeof i&&null!==i&&"function"===typeof i.then&&i.then(L,D)}catch(a){D(a)}finally{_.T=e}},e.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},e.use=function(t){return _.H.use(t)},e.useActionState=function(t,e,n){return _.H.useActionState(t,e,n)},e.useCallback=function(t,e){return _.H.useCallback(t,e)},e.useContext=function(t){return _.H.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t,e){return _.H.useDeferredValue(t,e)},e.useEffect=function(t,e,n){var i=_.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(t,e)},e.useId=function(){return _.H.useId()},e.useImperativeHandle=function(t,e,n){return _.H.useImperativeHandle(t,e,n)},e.useInsertionEffect=function(t,e){return _.H.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return _.H.useLayoutEffect(t,e)},e.useMemo=function(t,e){return _.H.useMemo(t,e)},e.useOptimistic=function(t,e){return _.H.useOptimistic(t,e)},e.useReducer=function(t,e,n){return _.H.useReducer(t,e,n)},e.useRef=function(t){return _.H.useRef(t)},e.useState=function(t){return _.H.useState(t)},e.useSyncExternalStore=function(t,e,n){return _.H.useSyncExternalStore(t,e,n)},e.useTransition=function(){return _.H.useTransition()},e.version="19.1.0"},358:(t,e)=>{const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,i=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function l(t,e,n){do{const n=t.charCodeAt(e);if(32!==n&&9!==n)return e}while(++e<n);return n}function c(t,e,n){for(;e>n;){const n=t.charCodeAt(--e);if(32!==n&&9!==n)return e+1}return n}function u(t){if(-1===t.indexOf("%"))return t;try{return decodeURIComponent(t)}catch(e){return t}}},391:(t,e,n)=>{!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(4)},440:t=>{var e=function(){};t.exports=e},579:(t,e,n)=>{t.exports=n(799)},672:(t,e,n)=>{var i=n(43);function r(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(r(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(t,e){return"font"===t?"":"string"===typeof e?"use-credentials"===e?e:"":void 0}e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,e.createPortal=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)throw Error(r(299));return function(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==i?null:""+i,children:t,containerInfo:e,implementation:n}}(t,e,null,n)},e.flushSync=function(t){var e=l.T,n=s.p;try{if(l.T=null,s.p=2,t)return t()}finally{l.T=e,s.p=n,s.d.f()}},e.preconnect=function(t,e){"string"===typeof t&&(e?e="string"===typeof(e=e.crossOrigin)?"use-credentials"===e?e:"":void 0:e=null,s.d.C(t,e))},e.prefetchDNS=function(t){"string"===typeof t&&s.d.D(t)},e.preinit=function(t,e){if("string"===typeof t&&e&&"string"===typeof e.as){var n=e.as,i=c(n,e.crossOrigin),r="string"===typeof e.integrity?e.integrity:void 0,a="string"===typeof e.fetchPriority?e.fetchPriority:void 0;"style"===n?s.d.S(t,"string"===typeof e.precedence?e.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:a}):"script"===n&&s.d.X(t,{crossOrigin:i,integrity:r,fetchPriority:a,nonce:"string"===typeof e.nonce?e.nonce:void 0})}},e.preinitModule=function(t,e){if("string"===typeof t)if("object"===typeof e&&null!==e){if(null==e.as||"script"===e.as){var n=c(e.as,e.crossOrigin);s.d.M(t,{crossOrigin:n,integrity:"string"===typeof e.integrity?e.integrity:void 0,nonce:"string"===typeof e.nonce?e.nonce:void 0})}}else null==e&&s.d.M(t)},e.preload=function(t,e){if("string"===typeof t&&"object"===typeof e&&null!==e&&"string"===typeof e.as){var n=e.as,i=c(n,e.crossOrigin);s.d.L(t,n,{crossOrigin:i,integrity:"string"===typeof e.integrity?e.integrity:void 0,nonce:"string"===typeof e.nonce?e.nonce:void 0,type:"string"===typeof e.type?e.type:void 0,fetchPriority:"string"===typeof e.fetchPriority?e.fetchPriority:void 0,referrerPolicy:"string"===typeof e.referrerPolicy?e.referrerPolicy:void 0,imageSrcSet:"string"===typeof e.imageSrcSet?e.imageSrcSet:void 0,imageSizes:"string"===typeof e.imageSizes?e.imageSizes:void 0,media:"string"===typeof e.media?e.media:void 0})}},e.preloadModule=function(t,e){if("string"===typeof t)if(e){var n=c(e.as,e.crossOrigin);s.d.m(t,{as:"string"===typeof e.as&&"script"!==e.as?e.as:void 0,crossOrigin:n,integrity:"string"===typeof e.integrity?e.integrity:void 0})}else s.d.m(t)},e.requestFormReset=function(t){s.d.r(t)},e.unstable_batchedUpdates=function(t,e){return t(e)},e.useFormState=function(t,e,n){return l.H.useFormState(t,e,n)},e.useFormStatus=function(){return l.H.useHostTransitionStatus()},e.version="19.1.0"},799:(t,e)=>{var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function r(t,e,i){var r=null;if(void 0!==i&&(r=""+i),void 0!==e.key&&(r=""+e.key),"key"in e)for(var a in i={},e)"key"!==a&&(i[a]=e[a]);else i=e;return e=i.ref,{$$typeof:n,type:t,key:r,ref:void 0!==e?e:null,props:i}}e.Fragment=i,e.jsx=r,e.jsxs=r},853:(t,e,n)=>{t.exports=n(896)},896:(t,e)=>{function n(t,e){var n=t.length;t.push(e);t:for(;0<n;){var i=n-1>>>1,r=t[i];if(!(0<a(r,e)))break t;t[i]=e,t[n]=r,n=i}}function i(t){return 0===t.length?null:t[0]}function r(t){if(0===t.length)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;t:for(var i=0,r=t.length,s=r>>>1;i<s;){var o=2*(i+1)-1,l=t[o],c=o+1,u=t[c];if(0>a(l,n))c<r&&0>a(u,l)?(t[i]=u,t[c]=n,i=c):(t[i]=l,t[o]=n,i=o);else{if(!(c<r&&0>a(u,n)))break t;t[i]=u,t[c]=n,i=c}}}return e}function a(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}if(e.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,g=!1,m=!1,v=!1,y="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function x(t){for(var e=i(u);null!==e;){if(null===e.callback)r(u);else{if(!(e.startTime<=t))break;r(u),e.sortIndex=e.expirationTime,n(c,e)}e=i(u)}}function _(t){if(m=!1,x(t),!g)if(null!==i(c))g=!0,S||(S=!0,k());else{var e=i(u);null!==e&&D(_,e.startTime-t)}}var k,S=!1,A=-1,E=5,C=-1;function M(){return!!v||!(e.unstable_now()-C<E)}function T(){if(v=!1,S){var t=e.unstable_now();C=t;var n=!0;try{t:{g=!1,m&&(m=!1,b(A),A=-1),p=!0;var a=f;try{e:{for(x(t),d=i(c);null!==d&&!(d.expirationTime>t&&M());){var s=d.callback;if("function"===typeof s){d.callback=null,f=d.priorityLevel;var o=s(d.expirationTime<=t);if(t=e.unstable_now(),"function"===typeof o){d.callback=o,x(t),n=!0;break e}d===i(c)&&r(c),x(t)}else r(c);d=i(c)}if(null!==d)n=!0;else{var l=i(u);null!==l&&D(_,l.startTime-t),n=!1}}break t}finally{d=null,f=a,p=!1}n=void 0}}finally{n?k():S=!1}}}if("function"===typeof w)k=function(){w(T)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,R=P.port2;P.port1.onmessage=T,k=function(){R.postMessage(null)}}else k=function(){y(T,0)};function D(t,n){A=y((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_next=function(t){switch(f){case 1:case 2:case 3:var e=3;break;default:e=f}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_requestPaint=function(){v=!0},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_scheduleCallback=function(t,r,a){var s=e.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,t){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return t={id:h++,callback:r,priorityLevel:t,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>s?(t.sortIndex=a,n(u,t),null===i(c)&&t===i(u)&&(m?(b(A),A=-1):m=!0,D(_,a-s))):(t.sortIndex=o,n(c,t),g||p||(g=!0,S||(S=!0,k()))),t},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(t){var e=f;return function(){var n=f;f=e;try{return t.apply(this,arguments)}finally{f=n}}}},950:(t,e,n)=>{!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(672)}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var a=e[i]={exports:{}};return t[i](a,a.exports,n),a.exports}n.m=t,n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.f={},n.e=t=>Promise.all(Object.keys(n.f).reduce(((e,i)=>(n.f[i](t,e),e)),[])),n.u=t=>"static/js/"+t+".adc34edb.chunk.js",n.miniCssF=t=>{},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={},e="site:";n.l=(i,r,a,s)=>{if(t[i])t[i].push(r);else{var o,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var h=c[u];if(h.getAttribute("src")==i||h.getAttribute("data-webpack")==e+a){o=h;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",e+a),o.src=i),t[i]=[r];var d=(e,n)=>{o.onerror=o.onload=null,clearTimeout(f);var r=t[i];if(delete t[i],o.parentNode&&o.parentNode.removeChild(o),r&&r.forEach((t=>t(n))),e)return e(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=d.bind(null,o.onerror),o.onload=d.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.p="/hyder/",(()=>{var t={792:0};n.f.j=(e,i)=>{var r=n.o(t,e)?t[e]:void 0;if(0!==r)if(r)i.push(r[2]);else{var a=new Promise(((n,i)=>r=t[e]=[n,i]));i.push(r[2]=a);var s=n.p+n.u(e),o=new Error;n.l(s,(i=>{if(n.o(t,e)&&(0!==(r=t[e])&&(t[e]=void 0),r)){var a=i&&("load"===i.type?"missing":i.type),s=i&&i.target&&i.target.src;o.message="Loading chunk "+e+" failed.\n("+a+": "+s+")",o.name="ChunkLoadError",o.type=a,o.request=s,r[1](o)}}),"chunk-"+e,e)}};var e=(e,i)=>{var r,a,s=i[0],o=i[1],l=i[2],c=0;if(s.some((e=>0!==t[e]))){for(r in o)n.o(o,r)&&(n.m[r]=o[r]);if(l)l(n)}for(e&&e(i);c<s.length;c++)a=s[c],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0},i=self.webpackChunksite=self.webpackChunksite||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))})();var i={};n.r(i),n.d(i,{dU:()=>Ow,ng:()=>yo,EA:()=>am,Tm:()=>Ov,D6:()=>mv,YE:()=>Tv,rE:()=>my});var r=n(43),a=n(391);function s(t,e){if(null==t)return{};var n,i,r=function(t,e){if(null==t)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(-1!==e.indexOf(i))continue;n[i]=t[i]}return n}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],-1===e.indexOf(n)&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function l(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=o(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}function c(t,e,n){return(e=l(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}n(358);const d=["sri"],f=["page"],p=["page","matches"],g=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],m=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],v=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var y="popstate";function b(){return E((function(t,e){let{pathname:n="/",search:i="",hash:r=""}=A(t.location.hash.substring(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),k("",{pathname:n,search:i,hash:r},e.state&&e.state.usr||null,e.state&&e.state.key||"default")}),(function(t,e){let n=t.document.querySelector("base"),i="";if(n&&n.getAttribute("href")){let e=t.location.href,n=e.indexOf("#");i=-1===n?e:e.slice(0,n)}return i+"#"+("string"===typeof e?e:S(e))}),(function(t,e){x("/"===t.pathname.charAt(0),"relative pathnames are not supported in hash history.push(".concat(JSON.stringify(e),")"))}),arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function w(t,e){if(!1===t||null===t||"undefined"===typeof t)throw new Error(e)}function x(t,e){if(!t){"undefined"!==typeof console&&console.warn(e);try{throw new Error(e)}catch(n){}}}function _(t,e){return{usr:t.state,key:t.key,idx:e}}function k(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0;return h(h({pathname:"string"===typeof t?t:t.pathname,search:"",hash:""},"string"===typeof e?A(e):e),{},{state:n,key:e&&e.key||i||Math.random().toString(36).substring(2,10)})}function S(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&"?"!==n&&(e+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(e+="#"===i.charAt(0)?i:"#"+i),e}function A(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function E(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:r=document.defaultView,v5Compat:a=!1}=i,s=r.history,o="POP",l=null,c=u();function u(){return(s.state||{idx:null}).idx}function d(){o="POP";let t=u(),e=null==t?null:t-c;c=t,l&&l({action:o,location:p.location,delta:e})}function f(t){return C(t)}null==c&&(c=0,s.replaceState(h(h({},s.state),{},{idx:c}),""));let p={get action(){return o},get location(){return t(r,s)},listen(t){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(y,d),l=t,()=>{r.removeEventListener(y,d),l=null}},createHref:t=>e(r,t),createURL:f,encodeLocation(t){let e=f(t);return{pathname:e.pathname,search:e.search,hash:e.hash}},push:function(t,e){o="PUSH";let i=k(p.location,t,e);n&&n(i,t),c=u()+1;let h=_(i,c),d=p.createHref(i);try{s.pushState(h,"",d)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;r.location.assign(d)}a&&l&&l({action:o,location:p.location,delta:1})},replace:function(t,e){o="REPLACE";let i=k(p.location,t,e);n&&n(i,t),c=u();let r=_(i,c),h=p.createHref(i);s.replaceState(r,"",h),a&&l&&l({action:o,location:p.location,delta:0})},go:t=>s.go(t)};return p}function C(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),w(n,"No window.location.(origin|href) available to create URL");let i="string"===typeof t?t:S(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}new WeakMap;function M(t,e){return T(t,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function T(t,e,n,i){let r=V(("string"===typeof e?A(e):e).pathname||"/",n);if(null==r)return null;let a=P(t);!function(t){t.sort(((t,e)=>t.score!==e.score?e.score-t.score:function(t,e){let n=t.length===e.length&&t.slice(0,-1).every(((t,n)=>t===e[n]));return n?t[t.length-1]-e[e.length-1]:0}(t.routesMeta.map((t=>t.childrenIndex)),e.routesMeta.map((t=>t.childrenIndex)))))}(a);let s=null;for(let o=0;null==s&&o<a.length;++o){let t=H(r);s=W(a[o],t,i)}return s}function P(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=(t,r,a)=>{let s={relativePath:void 0===a?t.path||"":a,caseSensitive:!0===t.caseSensitive,childrenIndex:r,route:t};s.relativePath.startsWith("/")&&(w(s.relativePath.startsWith(i),'Absolute route path "'.concat(s.relativePath,'" nested under path "').concat(i,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),s.relativePath=s.relativePath.slice(i.length));let o=K([i,s.relativePath]),l=n.concat(s);t.children&&t.children.length>0&&(w(!0!==t.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(o,'".')),P(t.children,e,l,o)),(null!=t.path||t.index)&&e.push({path:o,score:j(o,t.index),routesMeta:l})};return t.forEach(((t,e)=>{var n;if(""!==t.path&&null!==(n=t.path)&&void 0!==n&&n.includes("?"))for(let i of R(t.path))r(t,e,i);else r(t,e)})),e}function R(t){let e=t.split("/");if(0===e.length)return[];let[n,...i]=e,r=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===i.length)return r?[a,""]:[a];let s=R(i.join("/")),o=[];return o.push(...s.map((t=>""===t?a:[a,t].join("/")))),r&&o.push(...s),o.map((e=>t.startsWith("/")&&""===e?"/":e))}var D=/^:[\w-]+$/,L=3,N=2,I=1,F=10,O=-2,B=t=>"*"===t;function j(t,e){let n=t.split("/"),i=n.length;return n.some(B)&&(i+=O),e&&(i+=N),n.filter((t=>!B(t))).reduce(((t,e)=>t+(D.test(e)?L:""===e?I:F)),i)}function W(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:i}=t,r={},a="/",s=[];for(let o=0;o<i.length;++o){let t=i[o],l=o===i.length-1,c="/"===a?e:e.slice(a.length)||"/",u=z({path:t.relativePath,caseSensitive:t.caseSensitive,end:l},c),h=t.route;if(!u&&l&&n&&!i[i.length-1].route.index&&(u=z({path:t.relativePath,caseSensitive:t.caseSensitive,end:!1},c)),!u)return null;Object.assign(r,u.params),s.push({params:r,pathname:K([a,u.pathname]),pathnameBase:Q(K([a,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(a=K([a,u.pathnameBase]))}return s}function z(t,e){"string"===typeof t&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=U(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let a=r[0],s=a.replace(/(.)\/+$/,"$1"),o=r.slice(1),l=i.reduce(((t,e,n)=>{let{paramName:i,isOptional:r}=e;if("*"===i){let t=o[n]||"";s=a.slice(0,a.length-t.length).replace(/(.)\/+$/,"$1")}const l=o[n];return t[i]=r&&!l?void 0:(l||"").replace(/%2F/g,"/"),t}),{});return{params:l,pathname:a,pathnameBase:s,pattern:t}}function U(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];x("*"===t||!t.endsWith("*")||t.endsWith("/*"),'Route path "'.concat(t,'" will be treated as if it were "').concat(t.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(t.replace(/\*$/,"/*"),'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((t,e,n)=>(i.push({paramName:e,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));return t.endsWith("*")?(i.push({paramName:"*"}),r+="*"===t||"/*"===t?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==t&&"/"!==t&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function H(t){try{return t.split("/").map((t=>decodeURIComponent(t).replace(/\//g,"%2F"))).join("/")}catch(e){return x(!1,'The URL path "'.concat(t,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(e,").")),t}}function V(t,e){if("/"===e)return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&"/"!==i?null:t.slice(n)||"/"}function G(t,e,n,i){return"Cannot include a '".concat(t,"' character in a manually specified `to.").concat(e,"` field [").concat(JSON.stringify(i),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function q(t){return t.filter(((t,e)=>0===e||t.route.path&&t.route.path.length>0))}function X(t){let e=q(t);return e.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase))}function Y(t,e,n){let i,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof t?i=A(t):(i=h({},t),w(!i.pathname||!i.pathname.includes("?"),G("?","pathname","search",i)),w(!i.pathname||!i.pathname.includes("#"),G("#","pathname","hash",i)),w(!i.search||!i.search.includes("#"),G("#","search","hash",i)));let a,s=""===t||""===i.pathname,o=s?"/":i.pathname;if(null==o)a=n;else{let t=e.length-1;if(!r&&o.startsWith("..")){let e=o.split("/");for(;".."===e[0];)e.shift(),t-=1;i.pathname=e.join("/")}a=t>=0?e[t]:"/"}let l=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:i="",hash:r=""}="string"===typeof t?A(t):t,a=n?n.startsWith("/")?n:function(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach((t=>{".."===t?n.length>1&&n.pop():"."!==t&&n.push(t)})),n.length>1?n.join("/"):"/"}(n,e):e;return{pathname:a,search:$(i),hash:J(r)}}(i,a),c=o&&"/"!==o&&o.endsWith("/"),u=(s||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}var K=t=>t.join("/").replace(/\/\/+/g,"/"),Q=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$=t=>t&&"?"!==t?t.startsWith("?")?t:"?"+t:"",J=t=>t&&"#"!==t?t.startsWith("#")?t:"#"+t:"";function Z(t){return null!=t&&"number"===typeof t.status&&"string"===typeof t.statusText&&"boolean"===typeof t.internal&&"data"in t}var tt=["POST","PUT","PATCH","DELETE"],et=(new Set(tt),["GET",...tt]);new Set(et),Symbol("ResetLoaderData");var nt=r.createContext(null);nt.displayName="DataRouter";var it=r.createContext(null);it.displayName="DataRouterState";var rt=r.createContext({isTransitioning:!1});rt.displayName="ViewTransition";var at=r.createContext(new Map);at.displayName="Fetchers";var st=r.createContext(null);st.displayName="Await";var ot=r.createContext(null);ot.displayName="Navigation";var lt=r.createContext(null);lt.displayName="Location";var ct=r.createContext({outlet:null,matches:[],isDataRoute:!1});ct.displayName="Route";var ut=r.createContext(null);ut.displayName="RouteError";function ht(){return null!=r.useContext(lt)}function dt(){return w(ht(),"useLocation() may be used only in the context of a <Router> component."),r.useContext(lt).location}var ft="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pt(t){r.useContext(ot).static||r.useLayoutEffect(t)}function gt(){let{isDataRoute:t}=r.useContext(ct);return t?function(){let{router:t}=St("useNavigate"),e=Et("useNavigate"),n=r.useRef(!1);pt((()=>{n.current=!0}));let i=r.useCallback((async function(i){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};x(n.current,ft),n.current&&("number"===typeof i?t.navigate(i):await t.navigate(i,h({fromRouteId:e},r)))}),[t,e]);return i}():function(){w(ht(),"useNavigate() may be used only in the context of a <Router> component.");let t=r.useContext(nt),{basename:e,navigator:n}=r.useContext(ot),{matches:i}=r.useContext(ct),{pathname:a}=dt(),s=JSON.stringify(X(i)),o=r.useRef(!1);pt((()=>{o.current=!0}));let l=r.useCallback((function(i){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(x(o.current,ft),!o.current)return;if("number"===typeof i)return void n.go(i);let l=Y(i,JSON.parse(s),a,"path"===r.relative);null==t&&"/"!==e&&(l.pathname="/"===l.pathname?e:K([e,l.pathname])),(r.replace?n.replace:n.push)(l,r.state,r)}),[e,n,s,a,t]);return l}()}r.createContext(null);function mt(t){let{relative:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=r.useContext(ct),{pathname:i}=dt(),a=JSON.stringify(X(n));return r.useMemo((()=>Y(t,JSON.parse(a),i,"path"===e)),[t,a,i,e])}function vt(t,e,n,i){w(ht(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:s}=r.useContext(ot),{matches:o}=r.useContext(ct),l=o[o.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",f=l&&l.route;{let t=f&&f.path||"";Tt(u,!f||t.endsWith("*")||t.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(u,'" (under <Route path="').concat(t,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(t,'"> to <Route path="').concat("/"===t?"*":"".concat(t,"/*"),'">.'))}let p,g=dt();if(e){var m;let t="string"===typeof e?A(e):e;w("/"===d||(null===(m=t.pathname)||void 0===m?void 0:m.startsWith(d)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(d,'" but pathname "').concat(t.pathname,'" was given in the `location` prop.')),p=t}else p=g;let v=p.pathname||"/",y=v;if("/"!==d){let t=d.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(t.length).join("/")}let b=!s&&n&&n.matches&&n.matches.length>0?n.matches:M(t,{pathname:y});x(f||null!=b,'No routes matched location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" ')),x(null==b||void 0!==b[b.length-1].route.element||void 0!==b[b.length-1].route.Component||void 0!==b[b.length-1].route.lazy,'Matched leaf route at location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let _=_t(b&&b.map((t=>Object.assign({},t,{params:Object.assign({},c,t.params),pathname:K([d,a.encodeLocation?a.encodeLocation(t.pathname).pathname:t.pathname]),pathnameBase:"/"===t.pathnameBase?d:K([d,a.encodeLocation?a.encodeLocation(t.pathnameBase).pathname:t.pathnameBase])}))),o,n,i);return e&&_?r.createElement(lt.Provider,{value:{location:h({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:"POP"}},_):_}function yt(){let t=Ct(),e=Z(t)?"".concat(t.status," ").concat(t.statusText):t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=r.createElement(r.Fragment,null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",r.createElement("code",{style:s},"ErrorBoundary")," or"," ",r.createElement("code",{style:s},"errorElement")," prop on your route.")),r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},e),n?r.createElement("pre",{style:a},n):null,o)}var bt=r.createElement(yt,null),wt=class extends r.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||"idle"!==e.revalidation&&"idle"===t.revalidation?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:void 0!==t.error?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return void 0!==this.state.error?r.createElement(ct.Provider,{value:this.props.routeContext},r.createElement(ut.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xt(t){let{routeContext:e,match:n,children:i}=t,a=r.useContext(nt);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(ct.Provider,{value:e},i)}function _t(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==t){if(!n)return null;if(n.errors)t=n.matches;else{if(0!==e.length||n.initialized||!(n.matches.length>0))return null;t=n.matches}}let i=t,a=null===n||void 0===n?void 0:n.errors;if(null!=a){let t=i.findIndex((t=>t.route.id&&void 0!==(null===a||void 0===a?void 0:a[t.route.id])));w(t>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(a).join(","))),i=i.slice(0,Math.min(i.length,t+1))}let s=!1,o=-1;if(n)for(let r=0;r<i.length;r++){let t=i[r];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(o=r),t.route.id){let{loaderData:e,errors:r}=n,a=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!r||void 0===r[t.route.id]);if(t.route.lazy||a){s=!0,i=o>=0?i.slice(0,o+1):[i[0]];break}}}return i.reduceRight(((t,l,c)=>{let u,h=!1,d=null,f=null;n&&(u=a&&l.route.id?a[l.route.id]:void 0,d=l.route.errorElement||bt,s&&(o<0&&0===c?(Tt("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,f=null):o===c&&(h=!0,f=l.route.hydrateFallbackElement||null)));let p=e.concat(i.slice(0,c+1)),g=()=>{let e;return e=u?d:h?f:l.route.Component?r.createElement(l.route.Component,null):l.route.element?l.route.element:t,r.createElement(xt,{match:l,routeContext:{outlet:t,matches:p,isDataRoute:null!=n},children:e})};return n&&(l.route.ErrorBoundary||l.route.errorElement||0===c)?r.createElement(wt,{location:n.location,revalidation:n.revalidation,component:d,error:u,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()}),null)}function kt(t){return"".concat(t," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function St(t){let e=r.useContext(nt);return w(e,kt(t)),e}function At(t){let e=r.useContext(it);return w(e,kt(t)),e}function Et(t){let e=function(t){let e=r.useContext(ct);return w(e,kt(t)),e}(t),n=e.matches[e.matches.length-1];return w(n.route.id,"".concat(t,' can only be used on routes that contain a unique "id"')),n.route.id}function Ct(){var t;let e=r.useContext(ut),n=At("useRouteError"),i=Et("useRouteError");return void 0!==e?e:null===(t=n.errors)||void 0===t?void 0:t[i]}var Mt={};function Tt(t,e,n){e||Mt[t]||(Mt[t]=!0,x(!1,n))}r.memo((function(t){let{routes:e,future:n,state:i}=t;return vt(e,void 0,i,n)}));function Pt(t){w(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Rt(t){let{basename:e="/",children:n=null,location:i,navigationType:a="POP",navigator:s,static:o=!1}=t;w(!ht(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),c=r.useMemo((()=>({basename:l,navigator:s,static:o,future:{}})),[l,s,o]);"string"===typeof i&&(i=A(i));let{pathname:u="/",search:h="",hash:d="",state:f=null,key:p="default"}=i,g=r.useMemo((()=>{let t=V(u,l);return null==t?null:{location:{pathname:t,search:h,hash:d,state:f,key:p},navigationType:a}}),[l,u,h,d,f,p,a]);return x(null!=g,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(u).concat(h).concat(d,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==g?null:r.createElement(ot.Provider,{value:c},r.createElement(lt.Provider,{children:n,value:g}))}function Dt(t){let{children:e,location:n}=t;return vt(Lt(e),n)}r.Component;function Lt(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return r.Children.forEach(t,((t,i)=>{if(!r.isValidElement(t))return;let a=[...e,i];if(t.type===r.Fragment)return void n.push.apply(n,Lt(t.props.children,a));w(t.type===Pt,"[".concat("string"===typeof t.type?t.type:t.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),w(!t.props.index||!t.props.children,"An index route cannot have child routes.");let s={id:t.props.id||a.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,hydrateFallbackElement:t.props.hydrateFallbackElement,HydrateFallback:t.props.HydrateFallback,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:!0===t.props.hasErrorBoundary||null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(s.children=Lt(t.props.children,a)),n.push(s)})),n}var Nt="get",It="application/x-www-form-urlencoded";function Ft(t){return null!=t&&"string"===typeof t.tagName}var Ot=null;var Bt=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function jt(t){return null==t||Bt.has(t)?t:(x(!1,'"'.concat(t,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(It,'"')),null)}function Wt(t,e){let n,i,r,a,s;if(function(t){return Ft(t)&&"form"===t.tagName.toLowerCase()}(t)){let s=t.getAttribute("action");i=s?V(s,e):null,n=t.getAttribute("method")||Nt,r=jt(t.getAttribute("enctype"))||It,a=new FormData(t)}else if(function(t){return Ft(t)&&"button"===t.tagName.toLowerCase()}(t)||function(t){return Ft(t)&&"input"===t.tagName.toLowerCase()}(t)&&("submit"===t.type||"image"===t.type)){let s=t.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=t.getAttribute("formaction")||s.getAttribute("action");if(i=o?V(o,e):null,n=t.getAttribute("formmethod")||s.getAttribute("method")||Nt,r=jt(t.getAttribute("formenctype"))||jt(s.getAttribute("enctype"))||It,a=new FormData(s,t),!function(){if(null===Ot)try{new FormData(document.createElement("form"),0),Ot=!1}catch(t){Ot=!0}return Ot}()){let{name:e,type:n,value:i}=t;if("image"===n){let t=e?"".concat(e,"."):"";a.append("".concat(t,"x"),"0"),a.append("".concat(t,"y"),"0")}else e&&a.append(e,i)}}else{if(Ft(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Nt,i=null,r=It,s=t}return a&&"text/plain"===r&&(s=a,a=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:a,body:s}}function zt(t,e){if(!1===t||null===t||"undefined"===typeof t)throw new Error(e)}async function Ut(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error("Error loading route module `".concat(t.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function Ht(t){return null!=t&&"string"===typeof t.page}function Vt(t){return null!=t&&(null==t.href?"preload"===t.rel&&"string"===typeof t.imageSrcSet&&"string"===typeof t.imageSizes:"string"===typeof t.rel&&"string"===typeof t.href)}function Gt(t,e,n,i,r,a){let s=(t,e)=>!n[e]||t.route.id!==n[e].route.id,o=(t,e)=>{var i;return n[e].pathname!==t.pathname||(null===(i=n[e].route.path)||void 0===i?void 0:i.endsWith("*"))&&n[e].params["*"]!==t.params["*"]};return"assets"===a?e.filter(((t,e)=>s(t,e)||o(t,e))):"data"===a?e.filter(((e,a)=>{let l=i.routes[e.route.id];if(!l||!l.hasLoader)return!1;if(s(e,a)||o(e,a))return!0;if(e.route.shouldRevalidate){var c;let i=e.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(t,window.origin),nextParams:e.params,defaultShouldRevalidate:!0});if("boolean"===typeof i)return i}return!0})):[]}function qt(t,e){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i=t.map((t=>{let i=e.routes[t.route.id];if(!i)return[];let r=[i.module];return i.clientActionModule&&(r=r.concat(i.clientActionModule)),i.clientLoaderModule&&(r=r.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(r=r.concat(i.hydrateFallbackModule)),i.imports&&(r=r.concat(i.imports)),r})).flat(1),[...new Set(i)];var i}function Xt(t,e){let n=new Set,i=new Set(e);return t.reduce(((t,r)=>{if(e&&!Ht(r)&&"script"===r.as&&r.href&&i.has(r.href))return t;let a=JSON.stringify(function(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}(r));return n.has(a)||(n.add(a),t.push({key:a,link:r})),t}),[])}function Yt(t){return{__html:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;Symbol("SingleFetchRedirect");var Kt=new Set([100,101,204,205]);function Qt(t,e){let n="string"===typeof t?new URL(t,"undefined"===typeof window?"server://singlefetch/":window.location.origin):t;return"/"===n.pathname?n.pathname="_root.data":e&&"/"===V(n.pathname,e)?n.pathname="".concat(e.replace(/\/$/,""),"/_root.data"):n.pathname="".concat(n.pathname.replace(/\/$/,""),".data"),n}r.Component;function $t(t){let{error:e,isOutsideRemixApp:n}=t;console.error(e);let i,a=r.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(Z(e))return r.createElement(Jt,{title:"Unhandled Thrown Response!"},r.createElement("h1",{style:{fontSize:"24px"}},e.status," ",e.statusText),a);if(e instanceof Error)i=e;else{let t=null==e?"Unknown Error":"object"===typeof e&&"toString"in e?e.toString():JSON.stringify(e);i=new Error(t)}return r.createElement(Jt,{title:"Application Error!",isOutsideRemixApp:n},r.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),r.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},i.stack),a)}function Jt(t){var e;let{title:n,renderScripts:i,isOutsideRemixApp:a,children:s}=t,{routeModules:o}=ie();return null!==(e=o.root)&&void 0!==e&&e.Layout&&!a?s:r.createElement("html",{lang:"en"},r.createElement("head",null,r.createElement("meta",{charSet:"utf-8"}),r.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),r.createElement("title",null,n)),r.createElement("body",null,r.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},s,i?r.createElement(ue,null):null)))}function Zt(t,e){return"lazy"===t.mode&&!0===e}function te(){let t=r.useContext(nt);return zt(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function ee(){let t=r.useContext(it);return zt(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var ne=r.createContext(void 0);function ie(){let t=r.useContext(ne);return zt(t,"You must render this element inside a <HydratedRouter> element"),t}function re(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function ae(t,e,n){if(n&&!ce)return[t[0]];if(e){let n=t.findIndex((t=>void 0!==e[t.route.id]));return t.slice(0,n+1)}return t}function se(t){let{page:e}=t,n=s(t,f),{router:i}=te(),a=r.useMemo((()=>M(i.routes,e,i.basename)),[i.routes,e,i.basename]);return a?r.createElement(le,h({page:e,matches:a},n)):null}function oe(t){let{manifest:e,routeModules:n}=ie(),[i,a]=r.useState([]);return r.useEffect((()=>{let i=!1;return async function(t,e,n){return Xt((await Promise.all(t.map((async t=>{let i=e.routes[t.route.id];if(i){let t=await Ut(i,n);return t.links?t.links():[]}return[]})))).flat(1).filter(Vt).filter((t=>"stylesheet"===t.rel||"preload"===t.rel)).map((t=>"stylesheet"===t.rel?h(h({},t),{},{rel:"prefetch",as:"style"}):h(h({},t),{},{rel:"prefetch"}))))}(t,e,n).then((t=>{i||a(t)})),()=>{i=!0}}),[t,e,n]),i}function le(t){let{page:e,matches:n}=t,i=s(t,p),a=dt(),{manifest:o,routeModules:l}=ie(),{basename:c}=te(),{loaderData:u,matches:d}=ee(),f=r.useMemo((()=>Gt(e,n,d,o,a,"data")),[e,n,d,o,a]),g=r.useMemo((()=>Gt(e,n,d,o,a,"assets")),[e,n,d,o,a]),m=r.useMemo((()=>{if(e===a.pathname+a.search+a.hash)return[];let t=new Set,i=!1;if(n.forEach((e=>{var n;let r=o.routes[e.route.id];r&&r.hasLoader&&(!f.some((t=>t.route.id===e.route.id))&&e.route.id in u&&null!==(n=l[e.route.id])&&void 0!==n&&n.shouldRevalidate||r.hasClientLoader?i=!0:t.add(e.route.id))})),0===t.size)return[];let r=Qt(e,c);return i&&t.size>0&&r.searchParams.set("_routes",n.filter((e=>t.has(e.route.id))).map((t=>t.route.id)).join(",")),[r.pathname+r.search]}),[c,u,a,o,f,n,e,l]),v=r.useMemo((()=>qt(g,o)),[g,o]),y=oe(g);return r.createElement(r.Fragment,null,m.map((t=>r.createElement("link",h({key:t,rel:"prefetch",as:"fetch",href:t},i)))),v.map((t=>r.createElement("link",h({key:t,rel:"modulepreload",href:t},i)))),y.map((t=>{let{key:e,link:n}=t;return r.createElement("link",h({key:e},n))})))}ne.displayName="FrameworkContext";var ce=!1;function ue(t){let{manifest:e,serverHandoffString:n,isSpaMode:i,renderMeta:a,routeDiscovery:o,ssr:l}=ie(),{router:c,static:u,staticContext:f}=te(),{matches:p}=ee(),g=Zt(o,l);a&&(a.didRenderScripts=!0);let m=ae(p,null,i);r.useEffect((()=>{ce=!0}),[]);let v=r.useMemo((()=>{var i;let a=f?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",o=u?"".concat(null!==(i=e.hmr)&&void 0!==i&&i.runtime?"import ".concat(JSON.stringify(e.hmr.runtime),";"):"").concat(g?"":"import ".concat(JSON.stringify(e.url)),";\n").concat(m.map(((t,n)=>{let i="route".concat(n),r=e.routes[t.route.id];zt(r,"Route ".concat(t.route.id," not found in manifest"));let{clientActionModule:a,clientLoaderModule:s,clientMiddlewareModule:o,hydrateFallbackModule:l,module:c}=r,u=[...a?[{module:a,varName:"".concat(i,"_clientAction")}]:[],...s?[{module:s,varName:"".concat(i,"_clientLoader")}]:[],...o?[{module:o,varName:"".concat(i,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(i,"_HydrateFallback")}]:[],{module:c,varName:"".concat(i,"_main")}];return 1===u.length?"import * as ".concat(i," from ").concat(JSON.stringify(c),";"):[u.map((t=>"import * as ".concat(t.varName,' from "').concat(t.module,'";'))).join("\n"),"const ".concat(i," = {").concat(u.map((t=>"...".concat(t.varName))).join(","),"};")].join("\n")})).join("\n"),"\n  ").concat(g?"window.__reactRouterManifest = ".concat(JSON.stringify(function(t,e){let{sri:n}=t,i=s(t,d),r=new Set(e.state.matches.map((t=>t.route.id))),a=e.state.location.pathname.split("/").filter(Boolean),o=["/"];for(a.pop();a.length>0;)o.push("/".concat(a.join("/"))),a.pop();o.forEach((t=>{let n=M(e.routes,t,e.basename);n&&n.forEach((t=>r.add(t.route.id)))}));let l=[...r].reduce(((t,e)=>Object.assign(t,{[e]:i.routes[e]})),{});return h(h({},i),{},{routes:l,sri:!!n||void 0})}(e,c),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(m.map(((t,e)=>"".concat(JSON.stringify(t.route.id),":route").concat(e))).join(","),"};\n\nimport(").concat(JSON.stringify(e.entry.module),");"):" ";return r.createElement(r.Fragment,null,r.createElement("script",h(h({},t),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:Yt(a),type:void 0})),r.createElement("script",h(h({},t),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:Yt(o),type:"module",async:!0})))}),[]),y=ce?[]:function(t){return[...new Set(t)]}(e.entry.imports.concat(qt(m,e,{includeHydrateFallback:!0}))),b="object"===typeof e.sri?e.sri:{};return ce?null:r.createElement(r.Fragment,null,"object"===typeof e.sri?r.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:b})}}):null,g?null:r.createElement("link",{rel:"modulepreload",href:e.url,crossOrigin:t.crossOrigin,integrity:b[e.url],suppressHydrationWarning:!0}),r.createElement("link",{rel:"modulepreload",href:e.entry.module,crossOrigin:t.crossOrigin,integrity:b[e.entry.module],suppressHydrationWarning:!0}),y.map((e=>r.createElement("link",{key:e,rel:"modulepreload",href:e,crossOrigin:t.crossOrigin,integrity:b[e],suppressHydrationWarning:!0}))),v)}function he(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return t=>{e.forEach((e=>{"function"===typeof e?e(t):null!=e&&(e.current=t)}))}}var de="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{de&&(window.__reactRouterVersion="7.6.0")}catch(dE){}function fe(t){let{basename:e,children:n,window:i}=t,a=r.useRef();null==a.current&&(a.current=b({window:i,v5Compat:!0}));let s=a.current,[o,l]=r.useState({action:s.action,location:s.location}),c=r.useCallback((t=>{r.startTransition((()=>l(t)))}),[l]);return r.useLayoutEffect((()=>s.listen(c)),[s,c]),r.createElement(Rt,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s})}var pe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ge=r.forwardRef((function(t,e){let n,{onClick:i,discover:a="render",prefetch:o="none",relative:l,reloadDocument:c,replace:u,state:d,target:f,to:p,preventScrollReset:m,viewTransition:v}=t,y=s(t,g),{basename:b}=r.useContext(ot),_="string"===typeof p&&pe.test(p),k=!1;if("string"===typeof p&&_&&(n=p,de))try{let t=new URL(window.location.href),e=p.startsWith("//")?new URL(t.protocol+p):new URL(p),n=V(e.pathname,b);e.origin===t.origin&&null!=n?p=n+e.search+e.hash:k=!0}catch(dE){x(!1,'<Link to="'.concat(p,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let A=function(t){let{relative:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};w(ht(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=r.useContext(ot),{hash:a,pathname:s,search:o}=mt(t,{relative:e}),l=s;return"/"!==n&&(l="/"===s?n:K([n,s])),i.createHref({pathname:l,search:o,hash:a})}(p,{relative:l}),[E,C,M]=function(t,e){let n=r.useContext(ne),[i,a]=r.useState(!1),[s,o]=r.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:h,onTouchStart:d}=e,f=r.useRef(null);r.useEffect((()=>{if("render"===t&&o(!0),"viewport"===t){let t=new IntersectionObserver((t=>{t.forEach((t=>{o(t.isIntersecting)}))}),{threshold:.5});return f.current&&t.observe(f.current),()=>{t.disconnect()}}}),[t]),r.useEffect((()=>{if(i){let t=setTimeout((()=>{o(!0)}),100);return()=>{clearTimeout(t)}}}),[i]);let p=()=>{a(!0)},g=()=>{a(!1),o(!1)};return n?"intent"!==t?[s,f,{}]:[s,f,{onFocus:re(l,p),onBlur:re(c,g),onMouseEnter:re(u,p),onMouseLeave:re(h,g),onTouchStart:re(d,p)}]:[!1,f,{}]}(o,y),T=function(t){let{target:e,replace:n,state:i,preventScrollReset:a,relative:s,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=gt(),c=dt(),u=mt(t,{relative:s});return r.useCallback((r=>{if(function(t,e){return 0===t.button&&(!e||"_self"===e)&&!function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t)}(r,e)){r.preventDefault();let e=void 0!==n?n:S(c)===S(u);l(t,{replace:e,state:i,preventScrollReset:a,relative:s,viewTransition:o})}}),[c,l,u,n,i,e,t,a,s,o])}(p,{replace:u,state:d,target:f,preventScrollReset:m,relative:l,viewTransition:v});let P=r.createElement("a",h(h(h({},y),M),{},{href:n||A,onClick:k||c?i:function(t){i&&i(t),t.defaultPrevented||T(t)},ref:he(e,C),target:f,"data-discover":_||"render"!==a?void 0:"true"}));return E&&!_?r.createElement(r.Fragment,null,P,r.createElement(se,{page:A})):P}));ge.displayName="Link";var me=r.forwardRef((function(t,e){let{"aria-current":n="page",caseSensitive:i=!1,className:a="",end:o=!1,style:l,to:c,viewTransition:u,children:d}=t,f=s(t,m),p=mt(c,{relative:f.relative}),g=dt(),v=r.useContext(it),{navigator:y,basename:b}=r.useContext(ot),x=null!=v&&function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.useContext(rt);w(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=be("useViewTransitionState"),a=mt(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=V(n.currentLocation.pathname,i)||n.currentLocation.pathname,o=V(n.nextLocation.pathname,i)||n.nextLocation.pathname;return null!=z(a.pathname,o)||null!=z(a.pathname,s)}(p)&&!0===u,_=y.encodeLocation?y.encodeLocation(p).pathname:p.pathname,k=g.pathname,S=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;i||(k=k.toLowerCase(),S=S?S.toLowerCase():null,_=_.toLowerCase()),S&&b&&(S=V(S,b)||S);const A="/"!==_&&_.endsWith("/")?_.length-1:_.length;let E,C=k===_||!o&&k.startsWith(_)&&"/"===k.charAt(A),M=null!=S&&(S===_||!o&&S.startsWith(_)&&"/"===S.charAt(_.length)),T={isActive:C,isPending:M,isTransitioning:x},P=C?n:void 0;E="function"===typeof a?a(T):[a,C?"active":null,M?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let R="function"===typeof l?l(T):l;return r.createElement(ge,h(h({},f),{},{"aria-current":P,className:E,ref:e,style:R,to:c,viewTransition:u}),"function"===typeof d?d(T):d)}));me.displayName="NavLink";var ve=r.forwardRef(((t,e)=>{let{discover:n="render",fetcherKey:i,navigate:a,reloadDocument:o,replace:l,state:c,method:u=Nt,action:d,onSubmit:f,relative:p,preventScrollReset:g,viewTransition:m}=t,y=s(t,v),b=_e(),x=function(t){let{relative:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=r.useContext(ot),i=r.useContext(ct);w(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),s=h({},mt(t||".",{relative:e})),o=dt();if(null==t){s.search=o.search;let t=new URLSearchParams(s.search),e=t.getAll("index");if(e.some((t=>""===t))){t.delete("index"),e.filter((t=>t)).forEach((e=>t.append("index",e)));let n=t.toString();s.search=n?"?".concat(n):""}}t&&"."!==t||!a.route.index||(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(s.pathname="/"===s.pathname?n:K([n,s.pathname]));return S(s)}(d,{relative:p}),_="get"===u.toLowerCase()?"get":"post",k="string"===typeof d&&pe.test(d);return r.createElement("form",h(h({ref:e,method:_,action:x,onSubmit:o?f:t=>{if(f&&f(t),t.defaultPrevented)return;t.preventDefault();let e=t.nativeEvent.submitter,n=(null===e||void 0===e?void 0:e.getAttribute("formmethod"))||u;b(e||t.currentTarget,{fetcherKey:i,method:n,navigate:a,replace:l,state:c,relative:p,preventScrollReset:g,viewTransition:m})}},y),{},{"data-discover":k||"render"!==n?void 0:"true"}))}));function ye(t){return"".concat(t," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function be(t){let e=r.useContext(nt);return w(e,ye(t)),e}ve.displayName="Form";var we=0,xe=()=>"__".concat(String(++we),"__");function _e(){let{router:t}=be("useSubmit"),{basename:e}=r.useContext(ot),n=Et("useRouteId");return r.useCallback((async function(i){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:a,method:s,encType:o,formData:l,body:c}=Wt(i,e);if(!1===r.navigate){let e=r.fetcherKey||xe();await t.fetch(e,n,r.action||a,{preventScrollReset:r.preventScrollReset,formData:l,body:c,formMethod:r.method||s,formEncType:r.encType||o,flushSync:r.flushSync})}else await t.navigate(r.action||a,{preventScrollReset:r.preventScrollReset,formData:l,body:c,formMethod:r.method||s,formEncType:r.encType||o,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})}),[t,e,n])}var ke=n(579);const Se=()=>(0,ke.jsxs)("svg",{viewBox:"0 0 24 24","aria-hidden":"true",children:[(0,ke.jsx)("path",{d:"M3 21V3"}),(0,ke.jsx)("path",{d:"M3 21h18"}),(0,ke.jsx)("path",{d:"M6 15l4-5 3 3 5-7"}),(0,ke.jsx)("circle",{cx:"6",cy:"15",r:"1.4"}),(0,ke.jsx)("circle",{cx:"10",cy:"10",r:"1.4"}),(0,ke.jsx)("circle",{cx:"13",cy:"13",r:"1.4"}),(0,ke.jsx)("circle",{cx:"18",cy:"6",r:"1.4"})]}),Ae=()=>(0,ke.jsxs)("svg",{viewBox:"0 0 24 24","aria-hidden":"true",children:[(0,ke.jsx)("path",{d:"M12 4l8 4-8 4-8-4 8-4z"}),(0,ke.jsx)("path",{d:"M4 12l8 4 8-4"}),(0,ke.jsx)("path",{d:"M4 16l8 4 8-4"})]}),Ee=()=>(0,ke.jsxs)("svg",{viewBox:"0 0 24 24","aria-hidden":"true",children:[(0,ke.jsx)("circle",{cx:"12",cy:"8",r:"4"}),(0,ke.jsx)("path",{d:"M4 20c0-4 4-6 8-6s8 2 8 6"})]}),Ce=()=>(0,ke.jsxs)("svg",{viewBox:"0 0 24 24","aria-hidden":"true",children:[(0,ke.jsx)("path",{d:"M7 3h7l5 5v13a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"}),(0,ke.jsx)("path",{d:"M14 3v5h5"}),(0,ke.jsx)("path",{d:"M9 13h6M9 17h6"})]});function Me(){const t=(0,r.useRef)(null),e=(0,r.useRef)(null),n=(0,r.useRef)(null),i=(0,r.useRef)(null),a=(0,r.useRef)(null);return(0,r.useEffect)((()=>{(t=>{if(!i.current)return;const e=document.createDocumentFragment();for(let n=0;n<t;n++){const t=document.createElement("span");t.className="particle",t.style.left=100*Math.random()+"%",t.style.top=100*Math.random()+"%";const n=1+2*Math.random();t.style.width="".concat(n,"px"),t.style.height="".concat(n,"px"),t.style.animationDuration="".concat(18+10*Math.random(),"s"),t.style.animationDelay="".concat(5*Math.random(),"s"),t.style.opacity=String(.25+.5*Math.random()),e.appendChild(t)}i.current.innerHTML="",i.current.appendChild(e)})(60),(t=>{if(!a.current)return;const e=document.createDocumentFragment(),n=[340,260,200,140];for(let i=0;i<t;i++){const t=document.createElement("span");t.className="floating-element";const i=60+80*Math.random();t.style.width="".concat(i,"px"),t.style.height="".concat(i,"px"),t.style.left=100*Math.random()+"%",t.style.top=100*Math.random()+"%",t.style.setProperty("--h",String(n[Math.random()*n.length|0])),t.style.animationDelay="".concat(8*Math.random(),"s"),t.style.animationDuration="".concat(22+14*Math.random(),"s"),e.appendChild(t)}a.current.innerHTML="",a.current.appendChild(e)})(8);const r=t.current,s=e.current,o=n.current;if(!r||!s||!o)return;let l=0,c=-9999,u=-9999,h=-9999,d=-9999,f=!1,p=!1;const g=()=>{h+=.2*(c-h),d+=.2*(u-d);const t=f?.85:1,e=f?1.6:1;if(r.style.transform="translate3d(".concat(h-12,"px, ").concat(d-12,"px, 0) scale(").concat(t,")"),s.style.transform="translate3d(".concat(c-4,"px, ").concat(u-4,"px, 0) scale(").concat(e,")"),o.style.transform="translate3d(".concat(c-80,"px, ").concat(u-80,"px, 0)"),Math.abs(h-c)<.1&&Math.abs(d-u)<.1)return p=!1,void(l=0);l=requestAnimationFrame(g)},m=()=>{p||(p=!0,l=requestAnimationFrame(g))},v=t=>{c=t.clientX,u=t.clientY,m()},y=()=>{f=!0,m()},b=()=>{f=!1,m()},w=()=>{c=u=h=d=-9999,r.style.transform="translate3d(-9999px,-9999px,0)",s.style.transform="translate3d(-9999px,-9999px,0)",o.style.transform="translate3d(-9999px,-9999px,0)",l&&cancelAnimationFrame(l),l=0,p=!1},x=()=>{document.hidden&&w()};return window.addEventListener("pointermove",v,{passive:!0}),window.addEventListener("pointerdown",y,{passive:!0}),window.addEventListener("pointerup",b,{passive:!0}),window.addEventListener("pointercancel",w,{passive:!0}),window.addEventListener("mouseleave",w,{passive:!0}),document.addEventListener("visibilitychange",x),()=>{l&&cancelAnimationFrame(l),window.removeEventListener("pointermove",v),window.removeEventListener("pointerdown",y),window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",w),window.removeEventListener("mouseleave",w),document.removeEventListener("visibilitychange",x),i.current&&(i.current.innerHTML=""),a.current&&(a.current.innerHTML="")}}),[]),(0,ke.jsxs)("div",{className:"landing",children:[(0,ke.jsx)("div",{className:"cursor",ref:t,"aria-hidden":"true"}),(0,ke.jsx)("div",{className:"cursor-dot",ref:e,"aria-hidden":"true"}),(0,ke.jsx)("div",{className:"mouse-glow",ref:n,"aria-hidden":"true"}),(0,ke.jsx)("div",{className:"magic-circle","aria-hidden":"true"}),(0,ke.jsx)("div",{className:"magic-circle alt","aria-hidden":"true"}),(0,ke.jsx)("div",{className:"magic-circle slow","aria-hidden":"true"}),(0,ke.jsx)("div",{className:"floating-elements",ref:a,"aria-hidden":"true"}),(0,ke.jsx)("div",{className:"particles",ref:i,"aria-hidden":"true"}),(0,ke.jsxs)("div",{className:"wrap",children:[(0,ke.jsxs)("header",{className:"hero",children:[(0,ke.jsx)("h1",{className:"title",children:"Hyder Mohyuddin"}),(0,ke.jsx)("p",{className:"subtitle",children:"AI & Software \u2022 Systems \u2022 Interfaces"}),(0,ke.jsxs)("p",{className:"mission",children:["I build dependable AI tools and interfaces. At UChicago with ",(0,ke.jsx)("strong",{children:"Professor Jason Salavon"}),", I absorbed responsibilities previously held across three ",(0,ke.jsx)("strong",{children:"CS M.S. teammates"})," and got comfortable being handed unknowns\u2014researching, shipping, and owning production systems. Recent work: real-time tensor devtools for ",(0,ke.jsx)("strong",{children:"Stable Diffusion/ComfyUI"})," (custom memory routing, layer-targeted transforms, node instrumentation) and a production ",(0,ke.jsx)("strong",{children:"SPIM research UI"})," (controls + analysis). Also experienced with ",(0,ke.jsx)("strong",{children:"GPT models"})," and ",(0,ke.jsx)("strong",{children:"modern web development"})," (React/JS, D3, Flask). I built this site to showcase my skills and how I work\u2014see my ",(0,ke.jsx)("strong",{children:"resume"})," for the full stack."]})]}),(0,ke.jsxs)("section",{className:"grid","aria-label":"Site sections",children:[(0,ke.jsxs)(ge,{to:"/skills",className:"card card-1 portal","aria-label":"Go to Skills",children:[(0,ke.jsx)("span",{className:"portal-glow portal-1","aria-hidden":"true"}),(0,ke.jsxs)("div",{className:"card-head",children:[(0,ke.jsx)("span",{className:"icon",children:(0,ke.jsx)(Se,{})}),(0,ke.jsx)("h2",{children:"Skills"})]}),(0,ke.jsx)("p",{className:"card-copy",children:"A visual and interactive map of my skills"}),(0,ke.jsx)("div",{className:"peek",children:(0,ke.jsx)("img",{src:"/hyder/previews/skills.jpg",alt:"Preview of Skills page",loading:"lazy"})})]}),(0,ke.jsxs)(ge,{to:"/projects",className:"card card-2 portal","aria-label":"Go to Projects",children:[(0,ke.jsx)("span",{className:"portal-glow portal-2","aria-hidden":"true"}),(0,ke.jsxs)("div",{className:"card-head",children:[(0,ke.jsx)("span",{className:"icon",children:(0,ke.jsx)(Ae,{})}),(0,ke.jsx)("h2",{children:"Projects"})]}),(0,ke.jsx)("p",{className:"card-copy",children:"See my write-ups on past projects"}),(0,ke.jsx)("div",{className:"peek",children:(0,ke.jsx)("img",{src:"/hyder/previews/projects.jpg",alt:"Preview of Projects page",loading:"lazy"})})]}),(0,ke.jsxs)(ge,{to:"/about",className:"card card-3 portal","aria-label":"Go to About",children:[(0,ke.jsx)("span",{className:"portal-glow portal-3","aria-hidden":"true"}),(0,ke.jsxs)("div",{className:"card-head",children:[(0,ke.jsx)("span",{className:"icon",children:(0,ke.jsx)(Ee,{})}),(0,ke.jsx)("h2",{children:"About"})]}),(0,ke.jsx)("p",{className:"card-copy",children:"Background, approach, and what I'm exploring"}),(0,ke.jsx)("div",{className:"peek",children:(0,ke.jsx)("img",{src:"/hyder/previews/about.jpg",alt:"Preview of About page",loading:"lazy"})})]}),(0,ke.jsxs)(ge,{to:"/resume",className:"card card-4 portal","aria-label":"Go to R\xe9sum\xe9",children:[(0,ke.jsx)("span",{className:"portal-glow portal-4","aria-hidden":"true"}),(0,ke.jsxs)("div",{className:"card-head",children:[(0,ke.jsx)("span",{className:"icon",children:(0,ke.jsx)(Ce,{})}),(0,ke.jsx)("h2",{children:"Resume"})]}),(0,ke.jsx)("p",{className:"card-copy",children:"Experience, education, and highlights"}),(0,ke.jsx)("div",{className:"peek",children:(0,ke.jsx)("img",{src:"/hyder/previews/resume.jpg",alt:"Preview of Resume page",loading:"lazy"})})]})]})]})]})}function Te(){}function Pe(t){return null==t?Te:function(){return this.querySelector(t)}}function Re(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function De(){return[]}function Le(t){return null==t?De:function(){return this.querySelectorAll(t)}}function Ne(t){return function(){return this.matches(t)}}function Ie(t){return function(e){return e.matches(t)}}var Fe=Array.prototype.find;function Oe(){return this.firstElementChild}var Be=Array.prototype.filter;function je(){return Array.from(this.children)}function We(t){return new Array(t.length)}function ze(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function Ue(t,e,n,i,r,a){for(var s,o=0,l=e.length,c=a.length;o<c;++o)(s=e[o])?(s.__data__=a[o],i[o]=s):n[o]=new ze(t,a[o]);for(;o<l;++o)(s=e[o])&&(r[o]=s)}function He(t,e,n,i,r,a,s){var o,l,c,u=new Map,h=e.length,d=a.length,f=new Array(h);for(o=0;o<h;++o)(l=e[o])&&(f[o]=c=s.call(l,l.__data__,o,e)+"",u.has(c)?r[o]=l:u.set(c,l));for(o=0;o<d;++o)c=s.call(t,a[o],o,a)+"",(l=u.get(c))?(i[o]=l,l.__data__=a[o],u.delete(c)):n[o]=new ze(t,a[o]);for(o=0;o<h;++o)(l=e[o])&&u.get(f[o])===l&&(r[o]=l)}function Ve(t){return t.__data__}function Ge(t){return"object"===typeof t&&"length"in t?t:Array.from(t)}function qe(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}ze.prototype={constructor:ze,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Xe="http://www.w3.org/1999/xhtml";const Ye={svg:"http://www.w3.org/2000/svg",xhtml:Xe,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ke(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Ye.hasOwnProperty(e)?{space:Ye[e],local:t}:t}function Qe(t){return function(){this.removeAttribute(t)}}function $e(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Je(t,e){return function(){this.setAttribute(t,e)}}function Ze(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function tn(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function en(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function nn(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function rn(t){return function(){this.style.removeProperty(t)}}function an(t,e,n){return function(){this.style.setProperty(t,e,n)}}function sn(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function on(t,e){return t.style.getPropertyValue(e)||nn(t).getComputedStyle(t,null).getPropertyValue(e)}function ln(t){return function(){delete this[t]}}function cn(t,e){return function(){this[t]=e}}function un(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function hn(t){return t.trim().split(/^|\s+/)}function dn(t){return t.classList||new fn(t)}function fn(t){this._node=t,this._names=hn(t.getAttribute("class")||"")}function pn(t,e){for(var n=dn(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function gn(t,e){for(var n=dn(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function mn(t){return function(){pn(this,t)}}function vn(t){return function(){gn(this,t)}}function yn(t,e){return function(){(e.apply(this,arguments)?pn:gn)(this,t)}}function bn(){this.textContent=""}function wn(t){return function(){this.textContent=t}}function xn(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function _n(){this.innerHTML=""}function kn(t){return function(){this.innerHTML=t}}function Sn(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function An(){this.nextSibling&&this.parentNode.appendChild(this)}function En(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Cn(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Xe&&e.documentElement.namespaceURI===Xe?e.createElement(t):e.createElementNS(n,t)}}function Mn(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Tn(t){var e=Ke(t);return(e.local?Mn:Cn)(e)}function Pn(){return null}function Rn(){var t=this.parentNode;t&&t.removeChild(this)}function Dn(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ln(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Nn(t){return function(){var e=this.__on;if(e){for(var n,i=0,r=-1,a=e.length;i<a;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++r]=n:this.removeEventListener(n.type,n.listener,n.options);++r?e.length=r:delete this.__on}}}function In(t,e,n){return function(){var i,r=this.__on,a=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(r)for(var s=0,o=r.length;s<o;++s)if((i=r[s]).type===t.type&&i.name===t.name)return this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),void(i.value=e);this.addEventListener(t.type,a,n),i={type:t.type,name:t.name,value:e,listener:a,options:n},r?r.push(i):this.__on=[i]}}function Fn(t,e,n){var i=nn(t),r=i.CustomEvent;"function"===typeof r?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function On(t,e){return function(){return Fn(this,t,e)}}function Bn(t,e){return function(){return Fn(this,t,e.apply(this,arguments))}}fn.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var jn=[null];function Wn(t,e){this._groups=t,this._parents=e}function zn(){return new Wn([[document.documentElement]],jn)}Wn.prototype=zn.prototype={constructor:Wn,select:function(t){"function"!==typeof t&&(t=Pe(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var a,s,o=e[r],l=o.length,c=i[r]=new Array(l),u=0;u<l;++u)(a=o[u])&&(s=t.call(a,a.__data__,u,o))&&("__data__"in a&&(s.__data__=a.__data__),c[u]=s);return new Wn(i,this._parents)},selectAll:function(t){t="function"===typeof t?function(t){return function(){return Re(t.apply(this,arguments))}}(t):Le(t);for(var e=this._groups,n=e.length,i=[],r=[],a=0;a<n;++a)for(var s,o=e[a],l=o.length,c=0;c<l;++c)(s=o[c])&&(i.push(t.call(s,s.__data__,c,o)),r.push(s));return new Wn(i,r)},selectChild:function(t){return this.select(null==t?Oe:function(t){return function(){return Fe.call(this.children,t)}}("function"===typeof t?t:Ie(t)))},selectChildren:function(t){return this.selectAll(null==t?je:function(t){return function(){return Be.call(this.children,t)}}("function"===typeof t?t:Ie(t)))},filter:function(t){"function"!==typeof t&&(t=Ne(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var a,s=e[r],o=s.length,l=i[r]=[],c=0;c<o;++c)(a=s[c])&&t.call(a,a.__data__,c,s)&&l.push(a);return new Wn(i,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,Ve);var n=e?He:Ue,i=this._parents,r=this._groups;"function"!==typeof t&&(t=function(t){return function(){return t}}(t));for(var a=r.length,s=new Array(a),o=new Array(a),l=new Array(a),c=0;c<a;++c){var u=i[c],h=r[c],d=h.length,f=Ge(t.call(u,u&&u.__data__,c,i)),p=f.length,g=o[c]=new Array(p),m=s[c]=new Array(p);n(u,h,g,m,l[c]=new Array(d),f,e);for(var v,y,b=0,w=0;b<p;++b)if(v=g[b]){for(b>=w&&(w=b+1);!(y=m[w])&&++w<p;);v._next=y||null}}return(s=new Wn(s,i))._enter=o,s._exit=l,s},enter:function(){return new Wn(this._enter||this._groups.map(We),this._parents)},exit:function(){return new Wn(this._exit||this._groups.map(We),this._parents)},join:function(t,e,n){var i=this.enter(),r=this,a=this.exit();return"function"===typeof t?(i=t(i))&&(i=i.selection()):i=i.append(t+""),null!=e&&(r=e(r))&&(r=r.selection()),null==n?a.remove():n(a),i&&r?i.merge(r).order():r},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,r=n.length,a=i.length,s=Math.min(r,a),o=new Array(r),l=0;l<s;++l)for(var c,u=n[l],h=i[l],d=u.length,f=o[l]=new Array(d),p=0;p<d;++p)(c=u[p]||h[p])&&(f[p]=c);for(;l<r;++l)o[l]=n[l];return new Wn(o,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],a=r.length-1,s=r[a];--a>=0;)(i=r[a])&&(s&&4^i.compareDocumentPosition(s)&&s.parentNode.insertBefore(i,s),s=i);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=qe);for(var n=this._groups,i=n.length,r=new Array(i),a=0;a<i;++a){for(var s,o=n[a],l=o.length,c=r[a]=new Array(l),u=0;u<l;++u)(s=o[u])&&(c[u]=s);c.sort(e)}return new Wn(r,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,a=i.length;r<a;++r){var s=i[r];if(s)return s}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r,a=e[n],s=0,o=a.length;s<o;++s)(r=a[s])&&t.call(r,r.__data__,s,a);return this},attr:function(t,e){var n=Ke(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?$e:Qe:"function"===typeof e?n.local?en:tn:n.local?Ze:Je)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?rn:"function"===typeof e?sn:an)(t,e,null==n?"":n)):on(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?ln:"function"===typeof e?un:cn)(t,e)):this.node()[t]},classed:function(t,e){var n=hn(t+"");if(arguments.length<2){for(var i=dn(this.node()),r=-1,a=n.length;++r<a;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"===typeof e?yn:e?mn:vn)(n,e))},text:function(t){return arguments.length?this.each(null==t?bn:("function"===typeof t?xn:wn)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?_n:("function"===typeof t?Sn:kn)(t)):this.node().innerHTML},raise:function(){return this.each(An)},lower:function(){return this.each(En)},append:function(t){var e="function"===typeof t?t:Tn(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"===typeof t?t:Tn(t),i=null==e?Pn:"function"===typeof e?e:Pe(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(Rn)},clone:function(t){return this.select(t?Ln:Dn)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var i,r,a=function(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}(t+""),s=a.length;if(!(arguments.length<2)){for(o=e?In:Nn,i=0;i<s;++i)this.each(o(a[i],e,n));return this}var o=this.node().__on;if(o)for(var l,c=0,u=o.length;c<u;++c)for(i=0,l=o[c];i<s;++i)if((r=a[i]).type===l.type&&r.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"===typeof e?Bn:On)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i,r=t[e],a=0,s=r.length;a<s;++a)(i=r[a])&&(yield i)}};const Un=zn;var Hn={value:()=>{}};function Vn(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i||/[\s.]/.test(t))throw new Error("illegal type: "+t);i[t]=[]}return new Gn(i)}function Gn(t){this._=t}function qn(t,e){for(var n,i=0,r=t.length;i<r;++i)if((n=t[i]).name===e)return n.value}function Xn(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=Hn,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}Gn.prototype=Vn.prototype={constructor:Gn,on:function(t,e){var n,i,r=this._,a=(i=r,(t+"").trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!i.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))),s=-1,o=a.length;if(!(arguments.length<2)){if(null!=e&&"function"!==typeof e)throw new Error("invalid callback: "+e);for(;++s<o;)if(n=(t=a[s]).type)r[n]=Xn(r[n],t.name,e);else if(null==e)for(n in r)r[n]=Xn(r[n],t.name,null);return this}for(;++s<o;)if((n=(t=a[s]).type)&&(n=qn(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Gn(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),a=0;a<n;++a)r[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=0,n=(i=this._[t]).length;a<n;++a)i[a].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,a=i.length;r<a;++r)i[r].value.apply(e,n)}};const Yn=Vn;var Kn,Qn,$n=0,Jn=0,Zn=0,ti=0,ei=0,ni=0,ii="object"===typeof performance&&performance.now?performance:Date,ri="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ai(){return ei||(ri(si),ei=ii.now()+ni)}function si(){ei=0}function oi(){this._call=this._time=this._next=null}function li(t,e,n){var i=new oi;return i.restart(t,e,n),i}function ci(){ei=(ti=ii.now())+ni,$n=Jn=0;try{!function(){ai(),++$n;for(var t,e=Kn;e;)(t=ei-e._time)>=0&&e._call.call(void 0,t),e=e._next;--$n}()}finally{$n=0,function(){var t,e,n=Kn,i=1/0;for(;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Kn=e);Qn=t,hi(i)}(),ei=0}}function ui(){var t=ii.now(),e=t-ti;e>1e3&&(ni-=e,ti=t)}function hi(t){$n||(Jn&&(Jn=clearTimeout(Jn)),t-ei>24?(t<1/0&&(Jn=setTimeout(ci,t-ii.now()-ni)),Zn&&(Zn=clearInterval(Zn))):(Zn||(ti=ii.now(),Zn=setInterval(ui,1e3)),$n=1,ri(ci)))}function di(t,e,n){var i=new oi;return e=null==e?0:+e,i.restart((n=>{i.stop(),t(n+e)}),e,n),i}oi.prototype=li.prototype={constructor:oi,restart:function(t,e,n){if("function"!==typeof t)throw new TypeError("callback is not a function");n=(null==n?ai():+n)+(null==e?0:+e),this._next||Qn===this||(Qn?Qn._next=this:Kn=this,Qn=this),this._call=t,this._time=n,hi()},stop:function(){this._call&&(this._call=null,this._time=1/0,hi())}};var fi=Yn("start","end","cancel","interrupt"),pi=[];function gi(t,e,n,i,r,a){var s=t.__transition;if(s){if(n in s)return}else t.__transition={};!function(t,e,n){var i,r=t.__transition;function a(t){n.state=1,n.timer.restart(s,n.delay,n.time),n.delay<=t&&s(t-n.delay)}function s(a){var c,u,h,d;if(1!==n.state)return l();for(c in r)if((d=r[c]).name===n.name){if(3===d.state)return di(s);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[c]):+c<e&&(d.state=6,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[c])}if(di((function(){3===n.state&&(n.state=4,n.timer.restart(o,n.delay,n.time),o(a))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,i=new Array(h=n.tween.length),c=0,u=-1;c<h;++c)(d=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++u]=d);i.length=u+1}}function o(e){for(var r=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(l),n.state=5,1),a=-1,s=i.length;++a<s;)i[a].call(t,r);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){for(var i in n.state=6,n.timer.stop(),delete r[e],r)return;delete t.__transition}r[e]=n,n.timer=li(a,0,n.time)}(t,n,{name:e,index:i,group:r,on:fi,tween:pi,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})}function mi(t,e){var n=yi(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function vi(t,e){var n=yi(t,e);if(n.state>3)throw new Error("too late; already running");return n}function yi(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function bi(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var wi,xi=180/Math.PI,_i={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ki(t,e,n,i,r,a){var s,o,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*n+e*i)&&(n-=t*l,i-=e*l),(o=Math.sqrt(n*n+i*i))&&(n/=o,i/=o,l/=o),t*i<e*n&&(t=-t,e=-e,l=-l,s=-s),{translateX:r,translateY:a,rotate:Math.atan2(e,t)*xi,skewX:Math.atan(l)*xi,scaleX:s,scaleY:o}}function Si(t,e,n,i){function r(t){return t.length?t.pop()+" ":""}return function(a,s){var o=[],l=[];return a=t(a),s=t(s),function(t,i,r,a,s,o){if(t!==r||i!==a){var l=s.push("translate(",null,e,null,n);o.push({i:l-4,x:bi(t,r)},{i:l-2,x:bi(i,a)})}else(r||a)&&s.push("translate("+r+e+a+n)}(a.translateX,a.translateY,s.translateX,s.translateY,o,l),function(t,e,n,a){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),a.push({i:n.push(r(n)+"rotate(",null,i)-2,x:bi(t,e)})):e&&n.push(r(n)+"rotate("+e+i)}(a.rotate,s.rotate,o,l),function(t,e,n,a){t!==e?a.push({i:n.push(r(n)+"skewX(",null,i)-2,x:bi(t,e)}):e&&n.push(r(n)+"skewX("+e+i)}(a.skewX,s.skewX,o,l),function(t,e,n,i,a,s){if(t!==n||e!==i){var o=a.push(r(a)+"scale(",null,",",null,")");s.push({i:o-4,x:bi(t,n)},{i:o-2,x:bi(e,i)})}else 1===n&&1===i||a.push(r(a)+"scale("+n+","+i+")")}(a.scaleX,a.scaleY,s.scaleX,s.scaleY,o,l),a=s=null,function(t){for(var e,n=-1,i=l.length;++n<i;)o[(e=l[n]).i]=e.x(t);return o.join("")}}}var Ai=Si((function(t){const e=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?_i:ki(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),Ei=Si((function(t){return null==t?_i:(wi||(wi=document.createElementNS("http://www.w3.org/2000/svg","g")),wi.setAttribute("transform",t),(t=wi.transform.baseVal.consolidate())?ki((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):_i)}),", ",")",")");function Ci(t,e){var n,i;return function(){var r=vi(this,t),a=r.tween;if(a!==n)for(var s=0,o=(i=n=a).length;s<o;++s)if(i[s].name===e){(i=i.slice()).splice(s,1);break}r.tween=i}}function Mi(t,e,n){var i,r;if("function"!==typeof n)throw new Error;return function(){var a=vi(this,t),s=a.tween;if(s!==i){r=(i=s).slice();for(var o={name:e,value:n},l=0,c=r.length;l<c;++l)if(r[l].name===e){r[l]=o;break}l===c&&r.push(o)}a.tween=r}}function Ti(t,e,n){var i=t._id;return t.each((function(){var t=vi(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return yi(t,i).value[e]}}function Pi(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Ri(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Di(){}var Li=.7,Ni=1/Li,Ii="\\s*([+-]?\\d+)\\s*",Fi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Oi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Bi=/^#([0-9a-f]{3,8})$/,ji=new RegExp("^rgb\\(".concat(Ii,",").concat(Ii,",").concat(Ii,"\\)$")),Wi=new RegExp("^rgb\\(".concat(Oi,",").concat(Oi,",").concat(Oi,"\\)$")),zi=new RegExp("^rgba\\(".concat(Ii,",").concat(Ii,",").concat(Ii,",").concat(Fi,"\\)$")),Ui=new RegExp("^rgba\\(".concat(Oi,",").concat(Oi,",").concat(Oi,",").concat(Fi,"\\)$")),Hi=new RegExp("^hsl\\(".concat(Fi,",").concat(Oi,",").concat(Oi,"\\)$")),Vi=new RegExp("^hsla\\(".concat(Fi,",").concat(Oi,",").concat(Oi,",").concat(Fi,"\\)$")),Gi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function qi(){return this.rgb().formatHex()}function Xi(){return this.rgb().formatRgb()}function Yi(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Bi.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Ki(e):3===n?new Ji(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Qi(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Qi(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=ji.exec(t))?new Ji(e[1],e[2],e[3],1):(e=Wi.exec(t))?new Ji(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=zi.exec(t))?Qi(e[1],e[2],e[3],e[4]):(e=Ui.exec(t))?Qi(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Hi.exec(t))?rr(e[1],e[2]/100,e[3]/100,1):(e=Vi.exec(t))?rr(e[1],e[2]/100,e[3]/100,e[4]):Gi.hasOwnProperty(t)?Ki(Gi[t]):"transparent"===t?new Ji(NaN,NaN,NaN,0):null}function Ki(t){return new Ji(t>>16&255,t>>8&255,255&t,1)}function Qi(t,e,n,i){return i<=0&&(t=e=n=NaN),new Ji(t,e,n,i)}function $i(t,e,n,i){return 1===arguments.length?((r=t)instanceof Di||(r=Yi(r)),r?new Ji((r=r.rgb()).r,r.g,r.b,r.opacity):new Ji):new Ji(t,e,n,null==i?1:i);var r}function Ji(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function Zi(){return"#".concat(ir(this.r)).concat(ir(this.g)).concat(ir(this.b))}function tr(){const t=er(this.opacity);return"".concat(1===t?"rgb(":"rgba(").concat(nr(this.r),", ").concat(nr(this.g),", ").concat(nr(this.b)).concat(1===t?")":", ".concat(t,")"))}function er(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function nr(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ir(t){return((t=nr(t))<16?"0":"")+t.toString(16)}function rr(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new sr(t,e,n,i)}function ar(t){if(t instanceof sr)return new sr(t.h,t.s,t.l,t.opacity);if(t instanceof Di||(t=Yi(t)),!t)return new sr;if(t instanceof sr)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),a=Math.max(e,n,i),s=NaN,o=a-r,l=(a+r)/2;return o?(s=e===a?(n-i)/o+6*(n<i):n===a?(i-e)/o+2:(e-n)/o+4,o/=l<.5?a+r:2-a-r,s*=60):o=l>0&&l<1?0:s,new sr(s,o,l,t.opacity)}function sr(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function or(t){return(t=(t||0)%360)<0?t+360:t}function lr(t){return Math.max(0,Math.min(1,t||0))}function cr(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function ur(t,e,n,i,r){var a=t*t,s=a*t;return((1-3*t+3*a-s)*e+(4-6*a+3*s)*n+(1+3*t+3*a-3*s)*i+s*r)/6}Pi(Di,Yi,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:qi,formatHex:qi,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return ar(this).formatHsl()},formatRgb:Xi,toString:Xi}),Pi(Ji,$i,Ri(Di,{brighter(t){return t=null==t?Ni:Math.pow(Ni,t),new Ji(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?Li:Math.pow(Li,t),new Ji(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ji(nr(this.r),nr(this.g),nr(this.b),er(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Zi,formatHex:Zi,formatHex8:function(){return"#".concat(ir(this.r)).concat(ir(this.g)).concat(ir(this.b)).concat(ir(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:tr,toString:tr})),Pi(sr,(function(t,e,n,i){return 1===arguments.length?ar(t):new sr(t,e,n,null==i?1:i)}),Ri(Di,{brighter(t){return t=null==t?Ni:Math.pow(Ni,t),new sr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?Li:Math.pow(Li,t),new sr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new Ji(cr(t>=240?t-240:t+120,r,i),cr(t,r,i),cr(t<120?t+240:t-120,r,i),this.opacity)},clamp(){return new sr(or(this.h),lr(this.s),lr(this.l),er(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=er(this.opacity);return"".concat(1===t?"hsl(":"hsla(").concat(or(this.h),", ").concat(100*lr(this.s),"%, ").concat(100*lr(this.l),"%").concat(1===t?")":", ".concat(t,")"))}}));const hr=t=>()=>t;function dr(t,e){return function(n){return t+n*e}}function fr(t){return 1===(t=+t)?pr:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}(e,n,t):hr(isNaN(e)?n:e)}}function pr(t,e){var n=e-t;return n?dr(t,n):hr(isNaN(t)?e:t)}const gr=function t(e){var n=fr(e);function i(t,e){var i=n((t=$i(t)).r,(e=$i(e)).r),r=n(t.g,e.g),a=n(t.b,e.b),s=pr(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=r(e),t.b=a(e),t.opacity=s(e),t+""}}return i.gamma=t,i}(1);function mr(t){return function(e){var n,i,r=e.length,a=new Array(r),s=new Array(r),o=new Array(r);for(n=0;n<r;++n)i=$i(e[n]),a[n]=i.r||0,s[n]=i.g||0,o[n]=i.b||0;return a=t(a),s=t(s),o=t(o),i.opacity=1,function(t){return i.r=a(t),i.g=s(t),i.b=o(t),i+""}}}mr((function(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),r=t[i],a=t[i+1],s=i>0?t[i-1]:2*r-a,o=i<e-1?t[i+2]:2*a-r;return ur((n-i/e)*e,s,r,a,o)}})),mr((function(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e),r=t[(i+e-1)%e],a=t[i%e],s=t[(i+1)%e],o=t[(i+2)%e];return ur((n-i/e)*e,r,a,s,o)}}));var vr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yr=new RegExp(vr.source,"g");function br(t,e){var n,i,r,a=vr.lastIndex=yr.lastIndex=0,s=-1,o=[],l=[];for(t+="",e+="";(n=vr.exec(t))&&(i=yr.exec(e));)(r=i.index)>a&&(r=e.slice(a,r),o[s]?o[s]+=r:o[++s]=r),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:bi(n,i)})),a=yr.lastIndex;return a<e.length&&(r=e.slice(a),o[s]?o[s]+=r:o[++s]=r),o.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,i=0;i<e;++i)o[(n=l[i]).i]=n.x(t);return o.join("")})}function wr(t,e){var n;return("number"===typeof e?bi:e instanceof Yi?gr:(n=Yi(e))?(e=n,gr):br)(t,e)}function xr(t){return function(){this.removeAttribute(t)}}function _r(t){return function(){this.removeAttributeNS(t.space,t.local)}}function kr(t,e,n){var i,r,a=n+"";return function(){var s=this.getAttribute(t);return s===a?null:s===i?r:r=e(i=s,n)}}function Sr(t,e,n){var i,r,a=n+"";return function(){var s=this.getAttributeNS(t.space,t.local);return s===a?null:s===i?r:r=e(i=s,n)}}function Ar(t,e,n){var i,r,a;return function(){var s,o,l=n(this);if(null!=l)return(s=this.getAttribute(t))===(o=l+"")?null:s===i&&o===r?a:(r=o,a=e(i=s,l));this.removeAttribute(t)}}function Er(t,e,n){var i,r,a;return function(){var s,o,l=n(this);if(null!=l)return(s=this.getAttributeNS(t.space,t.local))===(o=l+"")?null:s===i&&o===r?a:(r=o,a=e(i=s,l));this.removeAttributeNS(t.space,t.local)}}function Cr(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}(t,r)),n}return r._value=e,r}function Mr(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&function(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}(t,r)),n}return r._value=e,r}function Tr(t,e){return function(){mi(this,t).delay=+e.apply(this,arguments)}}function Pr(t,e){return e=+e,function(){mi(this,t).delay=e}}function Rr(t,e){return function(){vi(this,t).duration=+e.apply(this,arguments)}}function Dr(t,e){return e=+e,function(){vi(this,t).duration=e}}var Lr=Un.prototype.constructor;function Nr(t){return function(){this.style.removeProperty(t)}}var Ir=0;function Fr(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function Or(){return++Ir}var Br=Un.prototype;Fr.prototype=function(t){return Un().transition(t)}.prototype={constructor:Fr,select:function(t){var e=this._name,n=this._id;"function"!==typeof t&&(t=Pe(t));for(var i=this._groups,r=i.length,a=new Array(r),s=0;s<r;++s)for(var o,l,c=i[s],u=c.length,h=a[s]=new Array(u),d=0;d<u;++d)(o=c[d])&&(l=t.call(o,o.__data__,d,c))&&("__data__"in o&&(l.__data__=o.__data__),h[d]=l,gi(h[d],e,n,d,h,yi(o,n)));return new Fr(a,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!==typeof t&&(t=Le(t));for(var i=this._groups,r=i.length,a=[],s=[],o=0;o<r;++o)for(var l,c=i[o],u=c.length,h=0;h<u;++h)if(l=c[h]){for(var d,f=t.call(l,l.__data__,h,c),p=yi(l,n),g=0,m=f.length;g<m;++g)(d=f[g])&&gi(d,e,n,g,f,p);a.push(f),s.push(l)}return new Fr(a,s,e,n)},selectChild:Br.selectChild,selectChildren:Br.selectChildren,filter:function(t){"function"!==typeof t&&(t=Ne(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var a,s=e[r],o=s.length,l=i[r]=[],c=0;c<o;++c)(a=s[c])&&t.call(a,a.__data__,c,s)&&l.push(a);return new Fr(i,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=n.length,a=Math.min(i,r),s=new Array(i),o=0;o<a;++o)for(var l,c=e[o],u=n[o],h=c.length,d=s[o]=new Array(h),f=0;f<h;++f)(l=c[f]||u[f])&&(d[f]=l);for(;o<i;++o)s[o]=e[o];return new Fr(s,this._parents,this._name,this._id)},selection:function(){return new Lr(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Or(),i=this._groups,r=i.length,a=0;a<r;++a)for(var s,o=i[a],l=o.length,c=0;c<l;++c)if(s=o[c]){var u=yi(s,e);gi(s,t,n,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Fr(i,this._parents,t,n)},call:Br.call,nodes:Br.nodes,node:Br.node,size:Br.size,empty:Br.empty,each:Br.each,on:function(t,e){var n=this._id;return arguments.length<2?yi(this.node(),n).on.on(t):this.each(function(t,e,n){var i,r,a=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?mi:vi;return function(){var s=a(this,t),o=s.on;o!==i&&(r=(i=o).copy()).on(e,n),s.on=r}}(n,t,e))},attr:function(t,e){var n=Ke(t),i="transform"===n?Ei:wr;return this.attrTween(t,"function"===typeof e?(n.local?Er:Ar)(n,i,Ti(this,"attr."+t,e)):null==e?(n.local?_r:xr)(n):(n.local?Sr:kr)(n,i,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!==typeof e)throw new Error;var i=Ke(t);return this.tween(n,(i.local?Cr:Mr)(i,e))},style:function(t,e,n){var i="transform"===(t+="")?Ai:wr;return null==e?this.styleTween(t,function(t,e){var n,i,r;return function(){var a=on(this,t),s=(this.style.removeProperty(t),on(this,t));return a===s?null:a===n&&s===i?r:r=e(n=a,i=s)}}(t,i)).on("end.style."+t,Nr(t)):"function"===typeof e?this.styleTween(t,function(t,e,n){var i,r,a;return function(){var s=on(this,t),o=n(this),l=o+"";return null==o&&(this.style.removeProperty(t),l=o=on(this,t)),s===l?null:s===i&&l===r?a:(r=l,a=e(i=s,o))}}(t,i,Ti(this,"style."+t,e))).each(function(t,e){var n,i,r,a,s="style."+e,o="end."+s;return function(){var l=vi(this,t),c=l.on,u=null==l.value[s]?a||(a=Nr(e)):void 0;c===n&&r===u||(i=(n=c).copy()).on(o,r=u),l.on=i}}(this._id,t)):this.styleTween(t,function(t,e,n){var i,r,a=n+"";return function(){var s=on(this,t);return s===a?null:s===i?r:r=e(i=s,n)}}(t,i,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!==typeof e)throw new Error;return this.tween(i,function(t,e,n){var i,r;function a(){var a=e.apply(this,arguments);return a!==r&&(i=(r=a)&&function(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}(t,a,n)),i}return a._value=e,a}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"===typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Ti(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!==typeof t)throw new Error;return this.tween(e,function(t){var e,n;function i(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&function(t){return function(e){this.textContent=t.call(this,e)}}(i)),e}return i._value=t,i}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i,r=yi(this.node(),n).tween,a=0,s=r.length;a<s;++a)if((i=r[a]).name===t)return i.value;return null}return this.each((null==e?Ci:Mi)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"===typeof t?Tr:Pr)(e,t)):yi(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"===typeof t?Rr:Dr)(e,t)):yi(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!==typeof e)throw new Error;return function(){vi(this,t).ease=e}}(e,t)):yi(this.node(),e).ease},easeVarying:function(t){if("function"!==typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!==typeof n)throw new Error;vi(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,i=n._id,r=n.size();return new Promise((function(a,s){var o={value:s},l={value:function(){0===--r&&a()}};n.each((function(){var n=vi(this,i),r=n.on;r!==t&&((e=(t=r).copy())._.cancel.push(o),e._.interrupt.push(o),e._.end.push(l)),n.on=e})),0===r&&a()}))},[Symbol.iterator]:Br[Symbol.iterator]};var jr={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Wr(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error("transition ".concat(e," not found"));return n}Un.prototype.interrupt=function(t){return this.each((function(){!function(t,e){var n,i,r,a=t.__transition,s=!0;if(a){for(r in e=null==e?null:e+"",a)(n=a[r]).name===e?(i=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(i?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete a[r]):s=!1;s&&delete t.__transition}}(this,t)}))},Un.prototype.transition=function(t){var e,n;t instanceof Fr?(e=t._id,t=t._name):(e=Or(),(n=jr).time=ai(),t=null==t?null:t+"");for(var i=this._groups,r=i.length,a=0;a<r;++a)for(var s,o=i[a],l=o.length,c=0;c<l;++c)(s=o[c])&&gi(s,t,e,c,o,n||Wr(s,e));return new Fr(i,this._parents,t,e)};const{abs:zr,max:Ur,min:Hr}=Math;function Vr(t){return[+t[0],+t[1]]}function Gr(t){return[Vr(t[0]),Vr(t[1])]}["w","e"].map(qr),["n","s"].map(qr),["n","w","e","s","nw","ne","sw","se"].map(qr);function qr(t){return{type:t}}function Xr(t){return"string"===typeof t?new Wn([[document.querySelector(t)]],[document.documentElement]):new Wn([[t]],jn)}function Yr(t,e){if(t=function(t){let e;for(;e=t.sourceEvent;)t=e;return t}(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,[(i=i.matrixTransform(e.getScreenCTM().inverse())).x,i.y]}if(e.getBoundingClientRect){var r=e.getBoundingClientRect();return[t.clientX-r.left-e.clientLeft,t.clientY-r.top-e.clientTop]}}return[t.pageX,t.pageY]}const Kr={passive:!1},Qr={capture:!0,passive:!1};function $r(t){t.stopImmediatePropagation()}function Jr(t){t.preventDefault(),t.stopImmediatePropagation()}const Zr=t=>()=>t;function ta(t,e){let{sourceEvent:n,subject:i,target:r,identifier:a,active:s,x:o,y:l,dx:c,dy:u,dispatch:h}=e;Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:i,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:h}})}function ea(t){return!t.ctrlKey&&!t.button}function na(){return this.parentNode}function ia(t,e){return null==e?{x:t.x,y:t.y}:e}function ra(){return navigator.maxTouchPoints||"ontouchstart"in this}function aa(){var t,e,n,i,r=ea,a=na,s=ia,o=ra,l={},c=Yn("start","drag","end"),u=0,h=0;function d(t){t.on("mousedown.drag",f).filter(o).on("touchstart.drag",m).on("touchmove.drag",v,Kr).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(s,o){if(!i&&r.call(this,s,o)){var l=b(this,a.call(this,s,o),s,o,"mouse");l&&(Xr(s.view).on("mousemove.drag",p,Qr).on("mouseup.drag",g,Qr),function(t){var e=t.document.documentElement,n=Xr(t).on("dragstart.drag",Jr,Qr);"onselectstart"in e?n.on("selectstart.drag",Jr,Qr):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}(s.view),$r(s),n=!1,t=s.clientX,e=s.clientY,l("start",s))}}function p(i){if(Jr(i),!n){var r=i.clientX-t,a=i.clientY-e;n=r*r+a*a>h}l.mouse("drag",i)}function g(t){Xr(t.view).on("mousemove.drag mouseup.drag",null),function(t,e){var n=t.document.documentElement,i=Xr(t).on("dragstart.drag",null);e&&(i.on("click.drag",Jr,Qr),setTimeout((function(){i.on("click.drag",null)}),0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}(t.view,n),Jr(t),l.mouse("end",t)}function m(t,e){if(r.call(this,t,e)){var n,i,s=t.changedTouches,o=a.call(this,t,e),l=s.length;for(n=0;n<l;++n)(i=b(this,o,t,e,s[n].identifier,s[n]))&&($r(t),i("start",t,s[n]))}}function v(t){var e,n,i=t.changedTouches,r=i.length;for(e=0;e<r;++e)(n=l[i[e].identifier])&&(Jr(t),n("drag",t,i[e]))}function y(t){var e,n,r=t.changedTouches,a=r.length;for(i&&clearTimeout(i),i=setTimeout((function(){i=null}),500),e=0;e<a;++e)(n=l[r[e].identifier])&&($r(t),n("end",t,r[e]))}function b(t,e,n,i,r,a){var o,h,f,p=c.copy(),g=Yr(a||n,e);if(null!=(f=s.call(t,new ta("beforestart",{sourceEvent:n,target:d,identifier:r,active:u,x:g[0],y:g[1],dx:0,dy:0,dispatch:p}),i)))return o=f.x-g[0]||0,h=f.y-g[1]||0,function n(a,s,c){var m,v=g;switch(a){case"start":l[r]=n,m=u++;break;case"end":delete l[r],--u;case"drag":g=Yr(c||s,e),m=u}p.call(a,t,new ta(a,{sourceEvent:s,subject:f,target:d,identifier:r,active:m,x:g[0]+o,y:g[1]+h,dx:g[0]-v[0],dy:g[1]-v[1],dispatch:p}),i)}}return d.filter=function(t){return arguments.length?(r="function"===typeof t?t:Zr(!!t),d):r},d.container=function(t){return arguments.length?(a="function"===typeof t?t:Zr(t),d):a},d.subject=function(t){return arguments.length?(s="function"===typeof t?t:Zr(t),d):s},d.touchable=function(t){return arguments.length?(o="function"===typeof t?t:Zr(!!t),d):o},d.on=function(){var t=c.on.apply(c,arguments);return t===c?d:t},d.clickDistance=function(t){return arguments.length?(h=(t=+t)*t,d):Math.sqrt(h)},d}function sa(t,e){var n,i=1;function r(){var r,a,s=n.length,o=0,l=0;for(r=0;r<s;++r)o+=(a=n[r]).x,l+=a.y;for(o=(o/s-t)*i,l=(l/s-e)*i,r=0;r<s;++r)(a=n[r]).x-=o,a.y-=l}return null==t&&(t=0),null==e&&(e=0),r.initialize=function(t){n=t},r.x=function(e){return arguments.length?(t=+e,r):t},r.y=function(t){return arguments.length?(e=+t,r):e},r.strength=function(t){return arguments.length?(i=+t,r):i},r}function oa(t,e,n,i){if(isNaN(e)||isNaN(n))return t;var r,a,s,o,l,c,u,h,d,f=t._root,p={data:i},g=t._x0,m=t._y0,v=t._x1,y=t._y1;if(!f)return t._root=p,t;for(;f.length;)if((c=e>=(a=(g+v)/2))?g=a:v=a,(u=n>=(s=(m+y)/2))?m=s:y=s,r=f,!(f=f[h=u<<1|c]))return r[h]=p,t;if(o=+t._x.call(null,f.data),l=+t._y.call(null,f.data),e===o&&n===l)return p.next=f,r?r[h]=p:t._root=p,t;do{r=r?r[h]=new Array(4):t._root=new Array(4),(c=e>=(a=(g+v)/2))?g=a:v=a,(u=n>=(s=(m+y)/2))?m=s:y=s}while((h=u<<1|c)===(d=(l>=s)<<1|o>=a));return r[d]=f,r[h]=p,t}function la(t,e,n,i,r){this.node=t,this.x0=e,this.y0=n,this.x1=i,this.y1=r}function ca(t){return t[0]}function ua(t){return t[1]}function ha(t,e,n){var i=new da(null==e?ca:e,null==n?ua:n,NaN,NaN,NaN,NaN);return null==t?i:i.addAll(t)}function da(t,e,n,i,r,a){this._x=t,this._y=e,this._x0=n,this._y0=i,this._x1=r,this._y1=a,this._root=void 0}function fa(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}ta.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var pa=ha.prototype=da.prototype;function ga(t){return function(){return t}}function ma(t){return 1e-6*(t()-.5)}function va(t){return t.x+t.vx}function ya(t){return t.y+t.vy}function ba(t){return t.index}function wa(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}pa.copy=function(){var t,e,n=new da(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return n;if(!i.length)return n._root=fa(i),n;for(t=[{source:i,target:n._root=new Array(4)}];i=t.pop();)for(var r=0;r<4;++r)(e=i.source[r])&&(e.length?t.push({source:e,target:i.target[r]=new Array(4)}):i.target[r]=fa(e));return n},pa.add=function(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return oa(this.cover(e,n),e,n,t)},pa.addAll=function(t){var e,n,i,r,a=t.length,s=new Array(a),o=new Array(a),l=1/0,c=1/0,u=-1/0,h=-1/0;for(n=0;n<a;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(r=+this._y.call(null,e))||(s[n]=i,o[n]=r,i<l&&(l=i),i>u&&(u=i),r<c&&(c=r),r>h&&(h=r));if(l>u||c>h)return this;for(this.cover(l,c).cover(u,h),n=0;n<a;++n)oa(this,s[n],o[n],t[n]);return this},pa.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,i=this._y0,r=this._x1,a=this._y1;if(isNaN(n))r=(n=Math.floor(t))+1,a=(i=Math.floor(e))+1;else{for(var s,o,l=r-n||1,c=this._root;n>t||t>=r||i>e||e>=a;)switch(o=(e<i)<<1|t<n,(s=new Array(4))[o]=c,c=s,l*=2,o){case 0:r=n+l,a=i+l;break;case 1:n=r-l,a=i+l;break;case 2:r=n+l,i=a-l;break;case 3:n=r-l,i=a-l}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=i,this._x1=r,this._y1=a,this},pa.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},pa.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},pa.find=function(t,e,n){var i,r,a,s,o,l,c,u=this._x0,h=this._y0,d=this._x1,f=this._y1,p=[],g=this._root;for(g&&p.push(new la(g,u,h,d,f)),null==n?n=1/0:(u=t-n,h=e-n,d=t+n,f=e+n,n*=n);l=p.pop();)if(!(!(g=l.node)||(r=l.x0)>d||(a=l.y0)>f||(s=l.x1)<u||(o=l.y1)<h))if(g.length){var m=(r+s)/2,v=(a+o)/2;p.push(new la(g[3],m,v,s,o),new la(g[2],r,v,m,o),new la(g[1],m,a,s,v),new la(g[0],r,a,m,v)),(c=(e>=v)<<1|t>=m)&&(l=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=l)}else{var y=t-+this._x.call(null,g.data),b=e-+this._y.call(null,g.data),w=y*y+b*b;if(w<n){var x=Math.sqrt(n=w);u=t-x,h=e-x,d=t+x,f=e+x,i=g.data}}return i},pa.remove=function(t){if(isNaN(a=+this._x.call(null,t))||isNaN(s=+this._y.call(null,t)))return this;var e,n,i,r,a,s,o,l,c,u,h,d,f=this._root,p=this._x0,g=this._y0,m=this._x1,v=this._y1;if(!f)return this;if(f.length)for(;;){if((c=a>=(o=(p+m)/2))?p=o:m=o,(u=s>=(l=(g+v)/2))?g=l:v=l,e=f,!(f=f[h=u<<1|c]))return this;if(!f.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,d=h)}for(;f.data!==t;)if(i=f,!(f=f.next))return this;return(r=f.next)&&delete f.next,i?(r?i.next=r:delete i.next,this):e?(r?e[h]=r:delete e[h],(f=e[0]||e[1]||e[2]||e[3])&&f===(e[3]||e[2]||e[1]||e[0])&&!f.length&&(n?n[d]=f:this._root=f),this):(this._root=r,this)},pa.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},pa.root=function(){return this._root},pa.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},pa.visit=function(t){var e,n,i,r,a,s,o=[],l=this._root;for(l&&o.push(new la(l,this._x0,this._y0,this._x1,this._y1));e=o.pop();)if(!t(l=e.node,i=e.x0,r=e.y0,a=e.x1,s=e.y1)&&l.length){var c=(i+a)/2,u=(r+s)/2;(n=l[3])&&o.push(new la(n,c,u,a,s)),(n=l[2])&&o.push(new la(n,i,u,c,s)),(n=l[1])&&o.push(new la(n,c,r,a,u)),(n=l[0])&&o.push(new la(n,i,r,c,u))}return this},pa.visitAfter=function(t){var e,n=[],i=[];for(this._root&&n.push(new la(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var r=e.node;if(r.length){var a,s=e.x0,o=e.y0,l=e.x1,c=e.y1,u=(s+l)/2,h=(o+c)/2;(a=r[0])&&n.push(new la(a,s,o,u,h)),(a=r[1])&&n.push(new la(a,u,o,l,h)),(a=r[2])&&n.push(new la(a,s,h,u,c)),(a=r[3])&&n.push(new la(a,u,h,l,c))}i.push(e)}for(;e=i.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},pa.x=function(t){return arguments.length?(this._x=t,this):this._x},pa.y=function(t){return arguments.length?(this._y=t,this):this._y};const xa=4294967296;function _a(t){return t.x}function ka(t){return t.y}var Sa=Math.PI*(3-Math.sqrt(5));function Aa(t){var e,n=1,i=.001,r=1-Math.pow(i,1/300),a=0,s=.6,o=new Map,l=li(h),c=Yn("tick","end"),u=function(){let t=1;return()=>(t=(1664525*t+1013904223)%xa)/xa}();function h(){d(),c.call("tick",e),n<i&&(l.stop(),c.call("end",e))}function d(i){var l,c,u=t.length;void 0===i&&(i=1);for(var h=0;h<i;++h)for(n+=(a-n)*r,o.forEach((function(t){t(n)})),l=0;l<u;++l)null==(c=t[l]).fx?c.x+=c.vx*=s:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=s:(c.y=c.fy,c.vy=0);return e}function f(){for(var e,n=0,i=t.length;n<i;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var r=10*Math.sqrt(.5+n),a=n*Sa;e.x=r*Math.cos(a),e.y=r*Math.sin(a)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function p(e){return e.initialize&&e.initialize(t,u),e}return null==t&&(t=[]),f(),e={tick:d,restart:function(){return l.restart(h),e},stop:function(){return l.stop(),e},nodes:function(n){return arguments.length?(t=n,f(),o.forEach(p),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(i=+t,e):i},alphaDecay:function(t){return arguments.length?(r=+t,e):+r},alphaTarget:function(t){return arguments.length?(a=+t,e):a},velocityDecay:function(t){return arguments.length?(s=1-t,e):1-s},randomSource:function(t){return arguments.length?(u=t,o.forEach(p),e):u},force:function(t,n){return arguments.length>1?(null==n?o.delete(t):o.set(t,p(n)),e):o.get(t)},find:function(e,n,i){var r,a,s,o,l,c=0,u=t.length;for(null==i?i=1/0:i*=i,c=0;c<u;++c)(s=(r=e-(o=t[c]).x)*r+(a=n-o.y)*a)<i&&(l=o,i=s);return l},on:function(t,n){return arguments.length>1?(c.on(t,n),e):c.on(t)}}}const Ea=Math.sqrt(50),Ca=Math.sqrt(10),Ma=Math.sqrt(2);function Ta(t,e,n){const i=(e-t)/Math.max(0,n),r=Math.floor(Math.log10(i)),a=i/Math.pow(10,r),s=a>=Ea?10:a>=Ca?5:a>=Ma?2:1;let o,l,c;return r<0?(c=Math.pow(10,-r)/s,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,r)*s,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=n&&n<2?Ta(t,e,2*n):[o,l,c]}function Pa(t,e,n){return Ta(t=+t,e=+e,n=+n)[2]}var Ra,Da=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function La(t){if(!(e=Da.exec(t)))throw new Error("invalid format: "+t);var e;return new Na({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Na(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Ia(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function Fa(t){return(t=Ia(Math.abs(t)))?t[1]:NaN}function Oa(t,e){var n=Ia(t,e);if(!n)return t+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}La.prototype=Na.prototype,Na.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Ba={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Oa(100*t,e),r:Oa,s:function(t,e){var n=Ia(t,e);if(!n)return t+"";var i=n[0],r=n[1],a=r-(Ra=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,s=i.length;return a===s?i:a>s?i+new Array(a-s+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+Ia(t,Math.max(0,e+a-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function ja(t){return t}var Wa,za,Ua,Ha=Array.prototype.map,Va=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Ga(t){var e,n,i=void 0===t.grouping||void 0===t.thousands?ja:(e=Ha.call(t.grouping,Number),n=t.thousands+"",function(t,i){for(var r=t.length,a=[],s=0,o=e[0],l=0;r>0&&o>0&&(l+o+1>i&&(o=Math.max(1,i-l)),a.push(t.substring(r-=o,r+o)),!((l+=o+1)>i));)o=e[s=(s+1)%e.length];return a.reverse().join(n)}),r=void 0===t.currency?"":t.currency[0]+"",a=void 0===t.currency?"":t.currency[1]+"",s=void 0===t.decimal?".":t.decimal+"",o=void 0===t.numerals?ja:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(Ha.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"\u2212":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=La(t)).fill,n=t.align,h=t.sign,d=t.symbol,f=t.zero,p=t.width,g=t.comma,m=t.precision,v=t.trim,y=t.type;"n"===y?(g=!0,y="g"):Ba[y]||(void 0===m&&(m=12),v=!0,y="g"),(f||"0"===e&&"="===n)&&(f=!0,e="0",n="=");var b="$"===d?r:"#"===d&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",w="$"===d?a:/[%p]/.test(y)?l:"",x=Ba[y],_=/[defgprs%]/.test(y);function k(t){var r,a,l,d=b,k=w;if("c"===y)k=x(t)+k,t="";else{var S=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:x(Math.abs(t),m),v&&(t=function(t){t:for(var e,n=t.length,i=1,r=-1;i<n;++i)switch(t[i]){case".":r=e=i;break;case"0":0===r&&(r=i),e=i;break;default:if(!+t[i])break t;r>0&&(r=0)}return r>0?t.slice(0,r)+t.slice(e+1):t}(t)),S&&0===+t&&"+"!==h&&(S=!1),d=(S?"("===h?h:c:"-"===h||"("===h?"":h)+d,k=("s"===y?Va[8+Ra/3]:"")+k+(S&&"("===h?")":""),_)for(r=-1,a=t.length;++r<a;)if(48>(l=t.charCodeAt(r))||l>57){k=(46===l?s+t.slice(r+1):t.slice(r))+k,t=t.slice(0,r);break}}g&&!f&&(t=i(t,1/0));var A=d.length+t.length+k.length,E=A<p?new Array(p-A+1).join(e):"";switch(g&&f&&(t=i(E+t,E.length?p-k.length:1/0),E=""),n){case"<":t=d+t+k+E;break;case"=":t=d+E+t+k;break;case"^":t=E.slice(0,A=E.length>>1)+d+t+k+E.slice(A);break;default:t=E+d+t+k}return o(t)}return m=void 0===m?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),k.toString=function(){return t+""},k}return{format:h,formatPrefix:function(t,e){var n=h(((t=La(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(Fa(e)/3))),r=Math.pow(10,-i),a=Va[8+i/3];return function(t){return n(r*t)+a}}}}function qa(t,e,n,i){var r,a=function(t,e,n){n=+n;const i=(e=+e)<(t=+t),r=i?Pa(e,t,n):Pa(t,e,n);return(i?-1:1)*(r<0?1/-r:r)}(t,e,n);switch((i=La(null==i?",f":i)).type){case"s":var s=Math.max(Math.abs(t),Math.abs(e));return null!=i.precision||isNaN(r=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Fa(e)/3)))-Fa(Math.abs(t)))}(a,s))||(i.precision=r),Ua(i,s);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(r=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Fa(e)-Fa(t))+1}(a,Math.max(Math.abs(t),Math.abs(e))))||(i.precision=r-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(r=function(t){return Math.max(0,-Fa(Math.abs(t)))}(a))||(i.precision=r-2*("%"===i.type))}return za(i)}function Xa(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){if(!((n=+n)>0))return[];if((t=+t)===(e=+e))return[t];const i=e<t,[r,a,s]=i?Ta(e,t,n):Ta(t,e,n);if(!(a>=r))return[];const o=a-r+1,l=new Array(o);if(i)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(r+c)/-s;else for(let c=0;c<o;++c)l[c]=(r+c)*s;return l}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var i=e();return qa(i[0],i[i.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var i,r,a=e(),s=0,o=a.length-1,l=a[s],c=a[o],u=10;for(c<l&&(r=l,l=c,c=r,r=s,s=o,o=r);u-- >0;){if((r=Pa(l,c,n))===i)return a[s]=l,a[o]=c,e(a);if(r>0)l=Math.floor(l/r)*r,c=Math.ceil(c/r)*r;else{if(!(r<0))break;l=Math.ceil(l*r)/r,c=Math.floor(c*r)/r}i=r}return t},t}function Ya(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ka(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Qa(t){let e,n,i;function r(t,i){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length;if(r<a){if(0!==e(i,i))return a;do{const e=r+a>>>1;n(t[e],i)<0?r=e+1:a=e}while(r<a)}return r}return 2!==t.length?(e=Ya,n=(e,n)=>Ya(t(e),n),i=(e,n)=>t(e)-n):(e=t===Ya||t===Ka?t:$a,n=t,i=t),{left:r,center:function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const a=r(t,e,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length)-1);return a>n&&i(t[a-1],e)>-i(t[a],e)?a-1:a},right:function(t,i){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length;if(r<a){if(0!==e(i,i))return a;do{const e=r+a>>>1;n(t[e],i)<=0?r=e+1:a=e}while(r<a)}return r}}}function $a(){return 0}Wa=Ga({thousands:",",grouping:[3],currency:["$",""]}),za=Wa.format,Ua=Wa.formatPrefix;const Ja=Qa(Ya),Za=Ja.right,ts=(Ja.left,Qa((function(t){return null===t?NaN:+t})).center,Za);function es(t,e){var n,i=e?e.length:0,r=t?Math.min(i,t.length):0,a=new Array(r),s=new Array(i);for(n=0;n<r;++n)a[n]=as(t[n],e[n]);for(;n<i;++n)s[n]=e[n];return function(t){for(n=0;n<r;++n)s[n]=a[n](t);return s}}function ns(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}}function is(t,e){var n,i={},r={};for(n in null!==t&&"object"===typeof t||(t={}),null!==e&&"object"===typeof e||(e={}),e)n in t?i[n]=as(t[n],e[n]):r[n]=e[n];return function(t){for(n in i)r[n]=i[n](t);return r}}function rs(t,e){e||(e=[]);var n,i=t?Math.min(e.length,t.length):0,r=e.slice();return function(a){for(n=0;n<i;++n)r[n]=t[n]*(1-a)+e[n]*a;return r}}function as(t,e){var n,i=typeof e;return null==e||"boolean"===i?hr(e):("number"===i?bi:"string"===i?(n=Yi(e))?(e=n,gr):br:e instanceof Yi?gr:e instanceof Date?ns:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?rs:Array.isArray(e)?es:"function"!==typeof e.valueOf&&"function"!==typeof e.toString||isNaN(e)?is:bi)(t,e)}function ss(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function os(t){return+t}var ls=[0,1];function cs(t){return t}function us(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function hs(t,e,n){var i=t[0],r=t[1],a=e[0],s=e[1];return r<i?(i=us(r,i),a=n(s,a)):(i=us(i,r),a=n(a,s)),function(t){return a(i(t))}}function ds(t,e,n){var i=Math.min(t.length,e.length)-1,r=new Array(i),a=new Array(i),s=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<i;)r[s]=us(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(e){var n=ts(t,e,1,i)-1;return a[n](r[n](e))}}function fs(){var t,e,n,i,r,a,s=ls,o=ls,l=as,c=cs;function u(){var t=Math.min(s.length,o.length);return c!==cs&&(c=function(t,e){var n;return t>e&&(n=t,t=e,e=n),function(n){return Math.max(t,Math.min(e,n))}}(s[0],s[t-1])),i=t>2?ds:hs,r=a=null,h}function h(e){return null==e||isNaN(e=+e)?n:(r||(r=i(s.map(t),o,l)))(t(c(e)))}return h.invert=function(n){return c(e((a||(a=i(o,s.map(t),bi)))(n)))},h.domain=function(t){return arguments.length?(s=Array.from(t,os),u()):s.slice()},h.range=function(t){return arguments.length?(o=Array.from(t),u()):o.slice()},h.rangeRound=function(t){return o=Array.from(t),l=ss,u()},h.clamp=function(t){return arguments.length?(c=!!t||cs,u()):c!==cs},h.interpolate=function(t){return arguments.length?(l=t,u()):l},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,i){return t=n,e=i,u()}}function ps(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function gs(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function ms(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function vs(t){return t<0?-t*t:t*t}function ys(t){var e=t(cs,cs),n=1;return e.exponent=function(e){return arguments.length?1===(n=+e)?t(cs,cs):.5===n?t(ms,vs):t(gs(n),gs(1/n)):n},Xa(e)}function bs(){var t=ys(fs());return t.copy=function(){return(e=t,n=bs(),n.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())).exponent(t.exponent());var e,n},ps.apply(t,arguments),t}function ws(t){return"string"===typeof t?new Wn([document.querySelectorAll(t)],[document.documentElement]):new Wn([Re(t)],jn)}function xs(t,e,n){this.k=t,this.x=e,this.y=n}xs.prototype={constructor:xs,scale:function(t){return 1===t?this:new xs(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new xs(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new xs(1,0,0);function _s(){const t=(0,r.useRef)(null),e=(0,r.useRef)(null),[n,i]=(0,r.useState)({skillNodes:[]}),[a,s]=(0,r.useState)(0),o=(0,r.useRef)(null),l=(0,r.useRef)(null),c=(0,r.useRef)(null),u=(0,r.useRef)(new Set),d=(0,r.useRef)({}),[f,p]=(0,r.useState)(new Set),[g,m]=(0,r.useState)(0),[v,y]=(0,r.useState)("category"),b=(0,r.useRef)(null),w=(0,r.useRef)(null),x=(0,r.useRef)(null),_=bs().exponent(2.2).domain([1,10]).range([8,40]),k=(0,r.useRef)(1),S=(0,r.useRef)(!1),[A,E]=(0,r.useState)(!1);(0,r.useEffect)((()=>{const t=.02,e=window.visualViewport||null,n=()=>{const t=window.outerWidth&&window.innerWidth?window.outerWidth/window.innerWidth:null,n=e?window.screen.availWidth/e.width:null,i=window.devicePixelRatio||1;return t&&isFinite(t)?t:n&&isFinite(n)?n:i},i=e=>{S.current=Math.abs(e-1)>t,E(S.current)},r=n();isFinite(r)&&(k.current=r,i(r));let a=!1;const s=()=>{a||(a=!0,requestAnimationFrame((()=>{a=!1,(()=>{const r=e?e.scale:1;if(Math.abs(r-1)>t)return;const a=n();isFinite(a)&&Math.abs(a-k.current)>t&&(k.current=a,i(a))})()})))};return window.addEventListener("resize",s,{passive:!0}),window.addEventListener("orientationchange",s,{passive:!0}),null===e||void 0===e||e.addEventListener("resize",s,{passive:!0}),null===e||void 0===e||e.addEventListener("scroll",s,{passive:!0}),()=>{window.removeEventListener("resize",s),window.removeEventListener("orientationchange",s),null===e||void 0===e||e.removeEventListener("resize",s),null===e||void 0===e||e.removeEventListener("scroll",s)}}),[]);const[C,M]=[_.range()[0],_.range()[1]],T=t=>Math.PI*t*t,P=T(C),R=T(M),D=(t,e,n)=>t+(e-t)*n,L=t=>{const e=Math.max(1,Math.min(10,t||1)),n=_(e);return i=(T(n)-P)/(R-P),Math.max(0,Math.min(1,i));var i},[N,I]=(0,r.useState)(!1),F="skills.hintAck",[O,B]=(0,r.useState)((()=>document.cookie.split("; ").some((t=>t.startsWith("".concat(F,"=1")))))),j=!O&&0===u.current.size;function W(t){let e=0;for(let a=0;a<t.length;a++)e=t.charCodeAt(a)+((e<<5)-e);const n=Math.abs(e)%360,i=50+Math.abs(e)%20,r=65+Math.abs(e)%10;return"hsl(".concat(n,", ").concat(i,"%, ").concat(r,"%)")}function z(t,e){return t?t.startsWith("hsl(")?t.replace(/^hsl\(/,"hsla(").replace(/\)$/,", ".concat(e,")")):t:"rgba(255,255,255,".concat(e,")")}return(0,r.useEffect)((()=>{var t;const e=window.matchMedia("(max-width: 500px)"),n=()=>I(e.matches);return n(),null===(t=e.addEventListener)||void 0===t||t.call(e,"change",n),()=>{var t;return null===(t=e.removeEventListener)||void 0===t?void 0:t.call(e,"change",n)}}),[]),(0,r.useEffect)((()=>{fetch("".concat("/hyder","/skillsData.json")).then((t=>t.json())).then((t=>{const e=t.skillNodes.map((t=>h(h({},t),{},{ringColor:W(t.id)})));i(h(h({},t),{},{skillNodes:e}))})).catch((t=>console.error("Failed to load skillsData.json:",t)))}),[]),(0,r.useEffect)((()=>{const n=()=>{if(!t.current||!e.current)return;const n=t.current.clientWidth,i=t.current.clientHeight;e.current.force("center",sa(n/2,i/2)).alpha(.5).restart()};return window.addEventListener("resize",n),n(),()=>window.removeEventListener("resize",n)}),[]),(0,r.useEffect)((()=>{let i=null,r=!1;if(!n.skillNodes.length)return;const a=Xr(t.current);a.selectAll("*").remove();const l=b.current;if(l){const e=l.getContext("2d");l.width=t.current.clientWidth,l.height=t.current.clientHeight,e.clearRect(0,0,l.width,l.height)}w.current||(w.current=document.createElement("canvas")),x.current||(x.current=document.createElement("canvas"));const f=t.current.clientWidth,p=t.current.clientHeight,g=n.skillNodes.map((t=>h(h({},t),{},{x:t.x||f/2+50*Math.random()-25,y:t.y||p/2+50*Math.random()-25,fx:null,fy:null,ringColor:W(t.id)}))),y=[];if("proficiency"===v){const t={};g.forEach((e=>{t[e.proficiency]||(t[e.proficiency]=[]),t[e.proficiency].push(e.id)})),Object.values(t).forEach((t=>{for(let e=0;e<t.length;e++)for(let n=e+1;n<t.length;n++)y.push({source:t[e],target:t[n]})}))}else if("category"===v){const t={};g.forEach((e=>{t[e.category]||(t[e.category]=[]),t[e.category].push(e.id)})),Object.values(t).forEach((t=>{for(let e=0;e<t.length;e++)for(let n=e+1;n<t.length;n++)y.push({source:t[e],target:t[n]})}))}const k=function(t){var e,n,i,r,a,s,o=ba,l=function(t){return 1/Math.min(r[t.source.index],r[t.target.index])},c=ga(30),u=1;function h(i){for(var r=0,o=t.length;r<u;++r)for(var l,c,h,d,f,p,g,m=0;m<o;++m)c=(l=t[m]).source,d=(h=l.target).x+h.vx-c.x-c.vx||ma(s),f=h.y+h.vy-c.y-c.vy||ma(s),d*=p=((p=Math.sqrt(d*d+f*f))-n[m])/p*i*e[m],f*=p,h.vx-=d*(g=a[m]),h.vy-=f*g,c.vx+=d*(g=1-g),c.vy+=f*g}function d(){if(i){var s,l,c=i.length,u=t.length,h=new Map(i.map(((t,e)=>[o(t,e,i),t])));for(s=0,r=new Array(c);s<u;++s)(l=t[s]).index=s,"object"!==typeof l.source&&(l.source=wa(h,l.source)),"object"!==typeof l.target&&(l.target=wa(h,l.target)),r[l.source.index]=(r[l.source.index]||0)+1,r[l.target.index]=(r[l.target.index]||0)+1;for(s=0,a=new Array(u);s<u;++s)l=t[s],a[s]=r[l.source.index]/(r[l.source.index]+r[l.target.index]);e=new Array(u),f(),n=new Array(u),p()}}function f(){if(i)for(var n=0,r=t.length;n<r;++n)e[n]=+l(t[n],n,t)}function p(){if(i)for(var e=0,r=t.length;e<r;++e)n[e]=+c(t[e],e,t)}return null==t&&(t=[]),h.initialize=function(t,e){i=t,s=e,d()},h.links=function(e){return arguments.length?(t=e,d(),h):t},h.id=function(t){return arguments.length?(o=t,h):o},h.iterations=function(t){return arguments.length?(u=+t,h):u},h.strength=function(t){return arguments.length?(l="function"===typeof t?t:ga(+t),f(),h):l},h.distance=function(t){return arguments.length?(c="function"===typeof t?t:ga(+t),p(),h):c},h}(y).id((t=>t.id));"ungrouped"===v?k.strength(0):k.distance(130).strength(.1),e.current=Aa(g).alphaMin(.001).alphaDecay(.01).velocityDecay(.2).force("link",k).force("charge",function(){var t,e,n,i,r,a=ga(-30),s=1,o=1/0,l=.81;function c(n){var r,a=t.length,s=ha(t,_a,ka).visitAfter(h);for(i=n,r=0;r<a;++r)e=t[r],s.visit(d)}function u(){if(t){var e,n,i=t.length;for(r=new Array(i),e=0;e<i;++e)n=t[e],r[n.index]=+a(n,e,t)}}function h(t){var e,n,i,a,s,o=0,l=0;if(t.length){for(i=a=s=0;s<4;++s)(e=t[s])&&(n=Math.abs(e.value))&&(o+=e.value,l+=n,i+=n*e.x,a+=n*e.y);t.x=i/l,t.y=a/l}else{(e=t).x=e.data.x,e.y=e.data.y;do{o+=r[e.data.index]}while(e=e.next)}t.value=o}function d(t,a,c,u){if(!t.value)return!0;var h=t.x-e.x,d=t.y-e.y,f=u-a,p=h*h+d*d;if(f*f/l<p)return p<o&&(0===h&&(p+=(h=ma(n))*h),0===d&&(p+=(d=ma(n))*d),p<s&&(p=Math.sqrt(s*p)),e.vx+=h*t.value*i/p,e.vy+=d*t.value*i/p),!0;if(!(t.length||p>=o)){(t.data!==e||t.next)&&(0===h&&(p+=(h=ma(n))*h),0===d&&(p+=(d=ma(n))*d),p<s&&(p=Math.sqrt(s*p)));do{t.data!==e&&(f=r[t.data.index]*i/p,e.vx+=h*f,e.vy+=d*f)}while(t=t.next)}}return c.initialize=function(e,i){t=e,n=i,u()},c.strength=function(t){return arguments.length?(a="function"===typeof t?t:ga(+t),u(),c):a},c.distanceMin=function(t){return arguments.length?(s=t*t,c):Math.sqrt(s)},c.distanceMax=function(t){return arguments.length?(o=t*t,c):Math.sqrt(o)},c.theta=function(t){return arguments.length?(l=t*t,c):Math.sqrt(l)},c}().strength(-20)).force("center",sa(f/2,p/2)).force("collide",function(t){var e,n,i,r=1,a=1;function s(){for(var t,s,l,c,u,h,d,f=e.length,p=0;p<a;++p)for(s=ha(e,va,ya).visitAfter(o),t=0;t<f;++t)l=e[t],h=n[l.index],d=h*h,c=l.x+l.vx,u=l.y+l.vy,s.visit(g);function g(t,e,n,a,s){var o=t.data,f=t.r,p=h+f;if(!o)return e>c+p||a<c-p||n>u+p||s<u-p;if(o.index>l.index){var g=c-o.x-o.vx,m=u-o.y-o.vy,v=g*g+m*m;v<p*p&&(0===g&&(v+=(g=ma(i))*g),0===m&&(v+=(m=ma(i))*m),v=(p-(v=Math.sqrt(v)))/v*r,l.vx+=(g*=v)*(p=(f*=f)/(d+f)),l.vy+=(m*=v)*p,o.vx-=g*(p=1-p),o.vy-=m*p)}}}function o(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function l(){if(e){var i,r,a=e.length;for(n=new Array(a),i=0;i<a;++i)r=e[i],n[r.index]=+t(r,i,e)}}return"function"!==typeof t&&(t=ga(null==t?1:+t)),s.initialize=function(t,n){e=t,i=n,l()},s.iterations=function(t){return arguments.length?(a=+t,s):a},s.strength=function(t){return arguments.length?(r=+t,s):r},s.radius=function(e){return arguments.length?(t="function"===typeof e?e:ga(+e),l(),s):t},s}().radius((t=>_(t.proficiency||1)+6)).strength(.5));for(let t=0;t<40;t++)e.current.tick();e.current.alpha(.2).restart();const A=a.append("g"),E=A.append("g").attr("stroke","#555").attr("stroke-opacity",.4).selectAll("line").data(y).join("line"),C=A.append("g").selectAll("g").data(g).join("g").style("cursor","pointer").each((function(t){t.gElement=Xr(this)})).on("click",(function(t,e){if(r)return;const i=u.current;i.has(e.id)?i.delete(e.id):i.add(e.id),m((t=>t+1)),ws("circle").attr("stroke",(t=>i.has(t.id)?t.ringColor:"#000")),ws("text").style("display","block"),o.current&&(i.has(e.id)?(o.current.innerHTML="<strong style='font-size: 14px;'>".concat(e.id,"</strong><br/>").concat(e.description||"No details available."),o.current.style.display="block"):o.current.style.display="none"),Object.entries(d.current).forEach((t=>{let[e,r]=t;const a=n.skillNodes.find((t=>t.id===e));a&&r&&(r.style.setProperty("--ring",a.ringColor),r.style.setProperty("--ring-tint","".concat(a.ringColor,"33")),r.dataset.selected=i.has(e)?"true":"false",r.style.removeProperty("background"),r.style.removeProperty("border-left"))}))})).on("mouseover",(function(){Xr(this).select("circle").transition().duration(200).attr("fill","#88f")})).on("mouseout",(function(){Xr(this).select("circle").transition().duration(200).attr("fill",(t=>t.id===c.current?"#f0f0f0":"#666"))})).call(aa().on("start",((t,n)=>{i=[t.sourceEvent.clientX,t.sourceEvent.clientY],r=!1,t.active||e.current.alphaTarget(.03).restart(),n.fx=n.x,n.fy=n.y})).on("drag",((e,n)=>{const[a,s]=i,o=e.sourceEvent.clientX-a,l=e.sourceEvent.clientY-s;Math.sqrt(o*o+l*l)>4&&(r=!0);const c=t.current;if(!c)return;const u=c.clientWidth,h=c.clientHeight;n.fx=Math.max(40,Math.min(u-40,e.x)),n.fy=Math.max(40,Math.min(h-40,e.y))})).on("end",((t,n)=>{t.active||e.current.alphaTarget(0),n.fx=null,n.fy=null})));C.append("circle").attr("r",(t=>_(t.proficiency||1))).attr("fill","#666").attr("stroke","#000").attr("stroke-width",2),ws("circle").attr("stroke",(t=>u.current.has(t.id)?t.ringColor:"#000")),Object.entries(d.current).forEach((t=>{let[e,i]=t;const r=n.skillNodes.find((t=>t.id===e));r&&i&&(i.style.background=u.current.has(e)?"".concat(r.ringColor,"33"):"#222",i.style.borderLeft=u.current.has(e)?"5px solid ".concat(r.ringColor):"1px solid #444")})),C.append("text").text((t=>t.id)).attr("font-size","11px").attr("text-anchor","middle").attr("dy",4).style("fill","#eee").style("font-family","monospace").style("pointer-events","none").style("user-select","none");let M=null;const T=()=>{var n,i,r,a;const o=performance.now(),l=e.current,c=l?l.alpha():0,h=null!==(n=null===(i=t.current)||void 0===i?void 0:i.clientWidth)&&void 0!==n?n:800,d=null!==(r=null===(a=t.current)||void 0===a?void 0:a.clientHeight)&&void 0!==r?r:600;C.attr("transform",(t=>(t.x=Math.max(40,Math.min(h-40,t.x)),t.y=Math.max(40,Math.min(d-40,t.y)),"translate(".concat(t.x,", ").concat(t.y,")")))),E.attr("x1",(t=>t.source.x)).attr("y1",(t=>t.source.y)).attr("x2",(t=>t.target.x)).attr("y2",(t=>t.target.y));const f=b.current;if(f&&t.current){const e=f.getContext("2d"),n=window.devicePixelRatio||1,i=t.current.clientWidth,r=t.current.clientHeight;f.width===Math.floor(i*n)&&f.height===Math.floor(r*n)||(f.width=Math.floor(i*n),f.height=Math.floor(r*n),f.style.width=i+"px",f.style.height=r+"px"),e.setTransform(n,0,0,n,0,0);const a=w.current,s=x.current;a.width===Math.floor(i*n)&&a.height===Math.floor(r*n)||(a.width=Math.floor(i*n),a.height=Math.floor(r*n),a.style.width=i+"px",a.style.height=r+"px"),s.width===Math.floor(i*n)&&s.height===Math.floor(r*n)||(s.width=Math.floor(i*n),s.height=Math.floor(r*n),s.style.width=i+"px",s.style.height=r+"px");const o=a.getContext("2d"),l=s.getContext("2d");o.setTransform(n,0,0,n,0,0),l.setTransform(n,0,0,n,0,0);const h=i,d=r;if(e.clearRect(0,0,h,d),o.clearRect(0,0,h,d),l.clearRect(0,0,h,d),!S.current){const t=g.map((t=>{const e=_(t.proficiency||1);return{x:t.x,y:t.y,r2:(50+2*e)**2,strength:8+.8*e}})),n=(e,n)=>{let i=0,r=0;for(const a of t){const t=e-a.x,s=n-a.y,o=t*t+s*s;if(o<a.r2){const e=Math.sqrt(o)||.001,n=(1-e/Math.sqrt(a.r2))**2;i+=t/e*n*a.strength,r+=s/e*n*a.strength}}return[e+i,n+r]},i=13;o.lineWidth=1,o.strokeStyle="#0a0a0a";for(let e=0;e<=d;e+=i){o.beginPath();let t=!0;for(let r=0;r<=h;r+=i){const[i,a]=n(r,e);t?(o.moveTo(i,a),t=!1):o.lineTo(i,a)}o.stroke()}for(let e=0;e<=h;e+=i){o.beginPath();let t=!0;for(let r=0;r<=d;r+=i){const[i,a]=n(e,r);t?(o.moveTo(i,a),t=!1):o.lineTo(i,a)}o.stroke()}e.drawImage(a,0,0);const r=u.current;r.size>0&&c<.12&&r.forEach((t=>{const n=g.find((e=>e.id===t));if(!n)return;const i=L(n.proficiency),r=D(190,360,i),o=D(.1,.45,i),c=D(.03,.18,i);l.clearRect(0,0,h,d);const u=l.createRadialGradient(n.x,n.y,0,n.x,n.y,r);u.addColorStop(0,z(n.ringColor,o)),u.addColorStop(.45,z(n.ringColor,c)),u.addColorStop(1,z(n.ringColor,0)),l.fillStyle=u,l.beginPath(),l.arc(n.x,n.y,r,0,2*Math.PI),l.fill(),l.globalCompositeOperation="destination-in",l.drawImage(a,0,0),l.globalCompositeOperation="source-over",e.globalCompositeOperation="screen",e.drawImage(s,0,0),e.globalCompositeOperation="source-over"}))}}s(Math.round(performance.now()-o)),M=requestAnimationFrame(T)};return M=requestAnimationFrame(T),()=>{M&&cancelAnimationFrame(M)}}),[n,v]),(0,ke.jsxs)("div",{ref:l,className:"skills-container",children:[(0,ke.jsx)("div",{className:"list-container",children:[...n.skillNodes].sort(((t,e)=>t.id.localeCompare(e.id))).map((t=>{const e=u.current.has(t.id);return(0,ke.jsx)("div",{className:"sidebar-node",ref:e=>{e&&(d.current[t.id]=e)},"data-selected":e?"true":"false",style:{"--ring":t.ringColor,"--ring-tint":"".concat(t.ringColor,"33")},onClick:()=>{const e=u.current;e.has(t.id)?e.delete(t.id):e.add(t.id),m((t=>t+1)),ws("circle").attr("stroke",(t=>e.has(t.id)?t.ringColor:"#000")),ws("text").style("display","block"),o.current&&(e.has(t.id)?(o.current.innerHTML="<strong style='font-size: 14px;'>".concat(t.id,"</strong><br/>").concat(t.description||"No details available."),o.current.style.display="block"):o.current.style.display="none"),Object.entries(d.current).forEach((t=>{let[i,r]=t;const a=n.skillNodes.find((t=>t.id===i));a&&r&&(r.style.setProperty("--ring",a.ringColor),r.style.setProperty("--ring-tint","".concat(a.ringColor,"33")),r.dataset.selected=e.has(i)?"true":"false")}))},children:t.id},t.id)}))}),(0,ke.jsx)("div",{className:"node-graph",children:(0,ke.jsxs)("div",{style:{position:"relative",width:"100%",height:"100%"},children:[A&&(0,ke.jsx)("div",{"aria-live":"polite",className:"zoom-hint",style:{position:"absolute",top:12,left:"50%",transform:"translateX(-50%)",background:"rgba(0,0,0,0.72)",color:"#fff",padding:"8px 12px",borderRadius:10,fontSize:12,zIndex:5,boxShadow:"0 4px 12px rgba(0,0,0,0.35)",backdropFilter:"blur(2px)",pointerEvents:"none"},children:"Please reset browser page zoom (100%) to see the grid."}),(0,ke.jsx)("canvas",{ref:b,className:"ripple-canvas"}),(0,ke.jsx)("svg",{ref:t,style:{width:"100%",height:"100%",overflow:"visible",outline:"solid 1px white"}}),(0,ke.jsxs)("div",{className:"speed-indicator",children:["\u23f1: ",a,"ms"]}),(0,ke.jsxs)("select",{className:"link-mode-selector",value:v,onChange:t=>y(t.target.value),children:[(0,ke.jsx)("option",{value:"proficiency",children:"Group by Proficiency"}),(0,ke.jsx)("option",{value:"category",children:"Group by Category"}),(0,ke.jsx)("option",{value:"ungrouped",children:"Ungrouped"})]}),(0,ke.jsx)("div",{className:"deselect-button",title:"Deselect all",onClick:()=>{u.current.clear(),p(new Set),ws("circle").attr("stroke","#000"),Object.entries(d.current).forEach((t=>{let[e,n]=t;n&&(n.style.background="#222",n.style.borderLeft="1px solid #444")})),m((t=>t+1))},children:"\u27f3"})]})}),(0,ke.jsxs)("div",{className:"tooltip-container",style:{position:"relative"},children:[j&&(0,ke.jsx)("div",{className:"hint-overlay",role:"status","aria-live":"polite",children:(0,ke.jsxs)("div",{className:"hint-card",onClick:t=>t.stopPropagation(),children:[(0,ke.jsx)("div",{className:"hint-title"}),(0,ke.jsx)("div",{className:"hint-text",children:N?(0,ke.jsxs)(ke.Fragment,{children:["Tap a ",(0,ke.jsx)("strong",{children:"skill in the list"})," to add a card. Tap a ",(0,ke.jsx)("strong",{children:"card"})," to expand it and see how I learned that skill."]}):(0,ke.jsxs)(ke.Fragment,{children:["Click a ",(0,ke.jsx)("span",{className:"hint-node-circle","aria-label":"graph node example",children:(0,ke.jsx)("span",{children:"node"})})," to add a card. Click a ",(0,ke.jsx)("strong",{children:"card"})," to expand it and see how I learned that skill."]})}),(0,ke.jsx)("button",{type:"button",className:"hint-dismiss","aria-label":"Dismiss tip",onClick:()=>{B(!0),document.cookie="".concat(F,"=1; max-age=86400; path=/; SameSite=Lax")},children:"Got it"})]})}),[...Array.from(u.current).reverse()].map((t=>{const e=n.skillNodes.find((e=>e.id===t));if(!e)return null;const i=f.has(t);return(0,ke.jsxs)("div",{className:"node-list-item",onClick:()=>{const e=new Set(f);i?e.delete(t):e.add(t),p(e)},style:{boxShadow:"0 0 6px ".concat(e.ringColor),border:"2px solid ".concat(e.ringColor)},children:[(0,ke.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,ke.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[(0,ke.jsx)("strong",{style:{fontSize:"13px"},children:e.id}),(0,ke.jsx)("span",{style:{fontSize:"13px",color:"#777"},children:i?"\u25be":"\u25b8"})]}),(0,ke.jsx)("button",{type:"button","aria-label":"Close ".concat(e.id),title:"Close",style:{background:"transparent",border:"1px solid #444",color:"#aaa",fontWeight:700,fontSize:14,lineHeight:1,width:24,height:24,borderRadius:6,cursor:"pointer",display:"grid",placeItems:"center",transition:"transform .15s ease, box-shadow .15s ease, color .15s ease, border-color .15s ease"},onMouseEnter:t=>{t.currentTarget.style.color="#fff",t.currentTarget.style.borderColor=e.ringColor,t.currentTarget.style.boxShadow="0 0 8px ".concat(e.ringColor),t.currentTarget.style.transform="scale(1.1) rotate(5deg)"},onMouseLeave:t=>{t.currentTarget.style.color="#aaa",t.currentTarget.style.borderColor="#444",t.currentTarget.style.boxShadow="none",t.currentTarget.style.transform="none"},onClick:e=>{e.stopPropagation(),u.current.delete(t),p((e=>{const n=new Set(e);return n.delete(t),n})),ws("circle").attr("stroke",(t=>u.current.has(t.id)?t.ringColor:"#000")),Object.entries(d.current).forEach((t=>{let[e,i]=t;const r=n.skillNodes.find((t=>t.id===e));r&&i&&(i.style.background=u.current.has(e)?"".concat(r.ringColor,"33"):"#222",i.style.borderLeft=u.current.has(e)?"5px solid ".concat(r.ringColor):"1px solid #444")})),m((t=>t+1))},onKeyDown:t=>{"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),t.currentTarget.click())},children:"\xd7"})]}),(0,ke.jsx)("div",{style:{margin:"6px 0",fontSize:"11px"},children:e.description||"No details available."}),(0,ke.jsxs)("div",{style:{margin:"8px 0"},children:[(0,ke.jsxs)("div",{style:{fontSize:"12px",color:"#333",marginBottom:"2px"},children:["Proficiency: ",(0,ke.jsxs)("strong",{children:[e.proficiency,"/10"]})]}),(0,ke.jsx)("div",{style:{display:"flex",gap:"2px"},children:Array.from({length:10},((t,n)=>(0,ke.jsx)("div",{style:{width:"8px",height:"16px",borderRadius:"2px",background:n<e.proficiency?e.ringColor:"#ddd",boxShadow:n<e.proficiency?"0 0 4px ".concat(e.ringColor):"none",transition:"background 0.3s ease"}},n)))})]}),e.learnedFrom&&(0,ke.jsxs)("div",{style:{marginTop:"10px",color:"#333",fontSize:"10px"},children:[(0,ke.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"6px",color:"#666"},children:(0,ke.jsx)("span",{children:i?"Learned from:":"\ud83d\udc41 Click to view details"})}),i&&(0,ke.jsx)("div",{style:{marginTop:"6px",lineHeight:"1.4",color:"#222",fontSize:"11px"},children:e.learnedFrom})]})]},t)}))]})]})}xs.prototype;const ks=Array.from({length:5},((t,e)=>"/hyder/projects/SPIM_".concat(e+1,".jpg"))),Ss=Array.from({length:4},((t,e)=>"/hyder/projects/JARJAR_".concat(e+1,".jpg"))),As=Array.from({length:5},((t,e)=>"/hyder/projects/SPEC_".concat(e+1,".jpg"))),Es=Array.from({length:4},((t,e)=>"/hyder/projects/COOK_".concat(e+1,".jpg"))),Cs=Array.from({length:6},((t,e)=>"/hyder/projects/COMIC_".concat(e+1,".jpg"))),Ms=[{title:"SPIM (Salavon\u2019s Pathology Inducing Machine)",color:"#00ff88",images:ks,description:["An experimental platform that lets users manipulate the internal layers of diffusion models to generate off-manifold, dreamlike imagery.","I built the full-stack system: secure Python backend, custom memory management, tensor manipulation pipelines, and a React-based interface.","Also implemented filtering tools for statistical novelty, interpolation modules, and Voronoi-based ultra-high-res generation techniques."],links:[{label:"Visit Site",href:"https://latentculture.com/spim/"}]},{title:"Environmental Data Globe (Booth School of Business)",color:"#00d1ff",image:"/hyder/projects/GLOBE_1.jpg",description:["Built an interactive globe for visualizing over 200GB of environmental data using JavaScript and Three.js.","Developed dynamic cluster filtering, palette switching, and automated SQL data preprocessing in Python to support visual clarity and performance."]},{title:"AI Research & Model Tools",color:"#ffaa00",image:"/images/ai-tools-placeholder.png",description:["Created tooling for structured experimentation with diffusion models: formula generators, pixel-level perturbations, and statistical logging systems.","These tools were used to explore model interpretability, generative tuning, and output consistency."]},{title:"ComfyUI Character Pipeline \u2014 Consistent Kids\u2019 Book Art",color:"#b48bff",image:"/images/comfyui-kidsbook.jpg",description:["A reproducible ComfyUI workflow to keep a main character consistent across a whole picture book: poses, outfits, angles, scenes.","Techniques: identity conditioning (IP-Adapter / LoRA) blending, ControlNet pose, prompt/seed scheduling, palette locks, and layout templates.","Exports print-ready spreads (bleed & safe margins) and auto-generates a \u201ccharacter bible\u201d sheet from the same graph."]},{title:"Educational Tech & Curriculum",color:"#ff8888",images:Array.from({length:2},((t,e)=>"/hyder/projects/TEACH_".concat(e+1,".jpg"))),description:["Taught programming through nonprofits (Code Platoon, Code Your Dreams) and private tutoring.","Built MIT App Inventor examples, interactive modules, and developed beginner-friendly teaching content for both students and veterans."]},{title:"IT Support & Deployment Automation",color:"#bbbbbb",image:"/images/it-placeholder.png",description:["Provided in-person IT support and automated OS/application setup for 100+ machines at the University of Chicago.","This early experience taught me about system maintenance, scripting, and hands-on problem-solving."]},{title:"Jar Jar Quote Bot (Twitter/X)",color:"#ff6b9d",images:Ss,description:["Daily pipeline that scrapes a random historical quote, translates it into Jar Jar Binks (Gungan) speech, and posts the result.","To bypass character limits, the text is rendered onto an AI-generated background image before posting.","Includes basic scheduling, retries/rate-limit handling, and content moderation checks."],links:[{label:"View on X",href:"https://x.com/JarJarbinksays"}]},{title:"Aerospace Part Finder (Async Scraper + Local LLM)",color:"#c3ff7f",images:As,description:["Personal convenience tool to search suppliers for exact aerospace part numbers and officially documented equivalents.","Stack: async DuckDuckGo fallback, trafilatura (static) + Playwright (JS) scraping, concurrency, deduping, and a local llama.cpp model for structured JSON review.","Streams progress and tallies results; resilient to blocks with multiple fetch strategies and timeouts."],links:[{label:"Visit Site",href:"https://hmohyud.github.io/azizproj/"},{label:"GitHub",href:"https://github.com/hmohyud/azizproj"}]},{title:"The Echoes of the Colorful Shadows",color:"#4b7f96ff",images:Cs,description:["A timeboxed comic made near the start of AI image generation for a college project: a burned-out artist stumbles into four linked realms\u2014Colorful Shadows, Whispers, Mirrored Realities, Fragmented Time\u2014guided by spirits, books, and sound to rekindle his spark and steady a world in decay.","Built fast with early AI tools: outline \u2192 beat-by-beat prompt runs \u2192 tight curation (~2k gens \u2192 244 workable \u2192 130 used) \u2192 light cleanups/upscales \u2192 lettering & print layout (~28 hours end-to-end)."],links:[{label:"pdf",href:"https://hmohyud.github.io/hyder/projects/Echoes_of_the_Colorful_Shadows_5x7.pdf"}],qrData:"/hyder/projects/QR_COMIC.png"},{title:"Client Sites & Revamps",color:"#fe5757ff",image:"/images/sites-placeholder.jpg",description:["Edited and refreshed sites for several people: accessibility passes, responsive layouts, perf budgets, and SEO fixes.","Typical stack: React/Vite/Next or lightweight static builds (Eleventy). Integrated forms, CMS where needed, and CI deploys."]},{title:"Mot\u0101m \u2014 Poetry Collection",color:"#ffd166",image:"/hyder/projects/MOTAM_1.jpg",description:["A simple, quiet website to present my grandmother\u2019s poetry collection across the years.","Typography-focused, accessible, and easy to maintain."],links:[{label:"Visit Site",href:"https://hmohyud.github.io/motam/"}]},{title:"AutoLens \u2014 Visual Vehicle ID (Expo)",color:"#6bff9d",image:"/images/autolens-preview.jpg",description:["Mobile app that identifies cars from a photo (or live camera) and breaks down model trims, years, and key specs.","Built with Expo + React Native; on-device pre/post-processing, server-side model inference, and a clean results UI.","Preview it on your phone with Expo."],links:[{label:"Open preview (Expo Go installed)",href:"https://expo.dev/preview/update?message=Initial+commit%0A%0AGenerated+by+create-expo-app+3.4.2.&updateRuntimeVersion=1.0.0&createdAt=2025-06-30T12%3A23%3A53.766Z&slug=exp&projectId=bf485ddb-a27e-47b0-b8ba-444f4dbde301&group=ee75b629-263a-4bc1-aa43-7aa4a5313843"}],qrData:"https://expo.dev/preview/update?message=Initial+commit%0A%0AGenerated+by+create-expo-app+3.4.2.&updateRuntimeVersion=1.0.0&createdAt=2025-06-30T12%3A23%3A53.766Z&slug=exp&projectId=bf485ddb-a27e-47b0-b8ba-444f4dbde301&group=ee75b629-263a-4bc1-aa43-7aa4a5313843"},{title:"Pocket Sous Chef",color:"#b3fff2ff",images:Es,description:["iOS recipe assistant that turns pantry photos or typed ingredients into step-by-step recipes.","Built with SwiftUI + SwiftData; OpenAI proxy for text + vision; saved recipes with nutrition.","Privacy-minded: no account; recipes saved on device."],links:[{label:"App Store",href:"https://apps.apple.com/us/app/pocket-sous-chef/id6751048251"},{label:"Support",href:"https://hmohyud.github.io/pocketsouschef-support/"}]}],Ts=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:520;return"https://api.qrserver.com/v1/create-qr-code/?size=".concat(e,"x").concat(e,"&data=").concat(encodeURIComponent(t))};function Ps(t){let{images:e=[],width:n=280,height:i=180,borderColor:a="#4af",altBase:s="project image",intervalMs:o=5e3,onClick:l}=t;const c=function(t){const[e,n]=(0,r.useState)((()=>t.map((()=>({ok:!1,w:0,h:0})))));return(0,r.useEffect)((()=>{let e=!0;return n(t.map((()=>({ok:!1,w:0,h:0})))),t.forEach(((t,i)=>{if(!t)return;const r=new Image,a=()=>{if(!e)return;const t=r.naturalWidth||0,a=r.naturalHeight||0;n((e=>{const n=[...e];return n[i]={ok:!0,w:t,h:a},n}))};r.onload=a,r.onerror=()=>{},r.decoding="async",r.src=t,r.complete&&r.naturalWidth>0&&Promise.resolve().then(a)})),()=>{e=!1}}),[t]),e}(e),u=c.map((t=>t.ok)),h=(0,r.useMemo)((()=>e.map(((t,e)=>u[e]?e:-1)).filter((t=>t>=0))),[e,u]),[d,f]=(0,r.useState)(0),p=(0,r.useRef)(null);(0,r.useEffect)((()=>{d>=h.length&&f(0)}),[h.length,d]);const g=()=>f((t=>(t+1)%Math.max(h.length,1)));(0,r.useEffect)((()=>(p.current&&(clearInterval(p.current),p.current=null),h.length>1&&(p.current=setInterval(g,o)),()=>{p.current&&clearInterval(p.current)})),[o,h.length]);const m=h.length>0,v=h.length?h[d]:-1;return(0,ke.jsxs)("div",{role:"img","aria-label":"".concat(s," \u2014 slideshow"),onMouseEnter:()=>{p.current&&clearInterval(p.current)},onMouseLeave:()=>{!p.current&&h.length>1&&(p.current=setInterval(g,o))},onClick:()=>{m&&(null===l||void 0===l||l(d))},style:{position:"relative",width:n,height:i,flex:"0 0 ".concat(n,"px"),cursor:m?"pointer":"default",overflow:"hidden",backgroundColor:"#1a1a1a",borderRadius:8,border:"1px solid ".concat(a),boxShadow:"0 0 10px rgba(255,255,255,0.04)"},children:[e.map(((t,e)=>u[e]?(0,ke.jsx)("img",{src:t,alt:"".concat(s," ").concat(e+1),"aria-hidden":v!==e,style:{position:"absolute",inset:0,margin:"auto",maxWidth:"100%",maxHeight:"100%",width:"auto",height:"auto",objectFit:"contain",transition:"opacity 600ms ease",opacity:v===e?1:0,display:"block"},onError:t=>{t.currentTarget.style.display="none"}},t+e):null)),!m&&(0,ke.jsx)("div",{"aria-hidden":"true",style:{position:"absolute",inset:0,background:"#1a1a1a"}})]})}function Rs(){const[t,e]=(0,r.useState)(null),[n,i]=(0,r.useState)(null);(0,r.useEffect)((()=>{const e=Boolean(t||n),i=document.body.style.overflow;return e&&(document.body.style.overflow="hidden"),()=>{document.body.style.overflow=i}}),[t,n]),(0,r.useEffect)((()=>{const r=r=>{"Escape"===r.key&&(n?i(null):t&&e(null)),n&&("ArrowRight"===r.key&&i((t=>h(h({},t),{},{index:(t.index+1)%t.images.length}))),"ArrowLeft"===r.key&&i((t=>h(h({},t),{},{index:(t.index-1+t.images.length)%t.images.length}))))};return window.addEventListener("keydown",r),()=>window.removeEventListener("keydown",r)}),[t,n]);const a=(t,e)=>({position:"absolute",[e]:16,top:"50%",transform:"translateY(-50%)",width:44,height:44,padding:0,display:"grid",placeItems:"center",borderRadius:"9999px",border:"1px solid ".concat(t),background:"rgba(0,0,0,0.45)",color:t,cursor:"pointer",userSelect:"none",lineHeight:1,fontSize:22});return(0,ke.jsxs)("div",{style:{padding:"0 2rem",maxWidth:"1000px",margin:"0 auto",fontFamily:"monospace",color:"#eaeaea",lineHeight:1.6},children:[(0,ke.jsx)("h1",{style:{fontSize:"2rem",marginBottom:"2rem",borderBottom:"1px solid #444",paddingBottom:"0.5rem"},children:"Projects"}),Ms.map(((n,r)=>{var a,s;const o=n.images||(n.image?[n.image]:[]);return(0,ke.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",marginBottom:"3rem",gap:"1.5rem",alignItems:"flex-start"},children:[(0,ke.jsx)(Ps,{images:o,borderColor:n.color,altBase:"".concat(n.title," preview"),fit:"height",onClick:t=>{if(!o.length)return;const e=Math.min(t,(o.length||1)-1);i({title:n.title,color:n.color,images:o,index:e})}}),(0,ke.jsxs)("div",{style:{flex:"1 1 500px"},children:[(0,ke.jsx)("h2",{style:{color:n.color,margin:"0 0 0.5rem 0",fontSize:"1.3rem"},children:n.title}),null===(a=n.description)||void 0===a?void 0:a.map(((t,e)=>(0,ke.jsx)("p",{style:{margin:"0 0 0.75rem 0"},children:t},e))),null!==(s=n.links)&&void 0!==s&&s.length?(0,ke.jsxs)("div",{style:{display:"flex",gap:"10px",marginTop:"0.5rem",flexWrap:"wrap"},children:[n.links.map(((t,e)=>(0,ke.jsx)("a",{href:t.href,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",padding:"6px 10px",borderRadius:"999px",border:"1px solid ".concat(n.color),color:n.color,textDecoration:"none",fontSize:"0.9rem",transition:"all .2s ease"},onMouseEnter:t=>{t.currentTarget.style.backgroundColor="".concat(n.color,"22")},onMouseLeave:t=>{t.currentTarget.style.backgroundColor="transparent"},children:t.label},e))),n.qrData?(0,ke.jsx)("button",{type:"button",onClick:()=>e({title:n.title,data:n.qrData,color:n.color}),style:{padding:"6px 12px",borderRadius:"999px",border:"1px solid ".concat(n.color),background:"transparent",color:n.color,fontSize:"0.9rem",cursor:"pointer"},onMouseEnter:t=>{t.currentTarget.style.backgroundColor="".concat(n.color,"22")},onMouseLeave:t=>{t.currentTarget.style.backgroundColor="transparent"},"aria-haspopup":"dialog","aria-expanded":!!t,children:"string"===typeof n.qrData&&n.qrData.toLowerCase().includes("expo.dev")?"Show QR (scan in Expo Go)":"Show QR"}):null]}):null]})]},r)})),(0,ke.jsx)("p",{style:{fontStyle:"italic",marginTop:"2rem"},children:"More projects \u2014 including visual experiments, creative tools, and exploratory AI work \u2014 coming soon."}),t&&(0,ke.jsxs)("div",{role:"dialog","aria-modal":"true","aria-label":"QR code overlay",onClick:()=>{n?i(null):t&&e(null)},style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.72)",backdropFilter:"blur(4px)",zIndex:9999,display:"grid",placeItems:"center",padding:24},children:[(()=>{const n=String(t.data||"").toLowerCase().includes("expo.dev"),i=n?(0,ke.jsxs)(ke.Fragment,{children:["Tip: Install ",(0,ke.jsx)("b",{children:"Expo Go"})," on iOS/Android, then scan this QR to open the preview."]}):(0,ke.jsx)(ke.Fragment,{children:"Tip: Open your phone\u2019s camera (or any QR app) and scan to open the page."}),r=n?"QR code for Expo preview":"QR code for site link",a=n?"Open preview in browser":"Open site in new tab",s=n?t.data:"https://hmohyud.github.io/hyder/projects/Echoes_of_the_Colorful_Shadows_5x7.pdf";return(0,ke.jsxs)("div",{style:{width:"min(92vw, 720px)",borderRadius:16,border:"1px solid ".concat(t.color||"#4af"),background:"#0b0f14",boxShadow:"0 20px 60px rgba(0,0,0,0.6)",padding:20,display:"grid",gap:14,animation:"zoomIn .15s ease"},children:[(0,ke.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:12},children:[(0,ke.jsxs)("h3",{style:{margin:0,color:"#eaeaea",fontSize:18},children:["Scan to open: ",(0,ke.jsx)("span",{style:{color:t.color},children:t.title})]}),(0,ke.jsx)("button",{type:"button",onClick:()=>e(null),style:{border:"1px solid #2a2f3a",background:"transparent",color:"#bfc6d6",borderRadius:8,padding:"6px 10px",cursor:"pointer"},onMouseEnter:t=>{t.currentTarget.style.background="#151a21"},onMouseLeave:t=>{t.currentTarget.style.background="transparent"},children:"Close (Esc)"})]}),(0,ke.jsx)("p",{style:{margin:0,color:"#bfc6d6",fontSize:14},children:i}),(0,ke.jsx)("div",{style:{display:"grid",placeItems:"center",padding:"8px 0 2px"},children:(0,ke.jsx)("img",{src:n?Ts(t.data,720):t.data,alt:r,style:{width:"min(80vw, 70vh)",height:"auto",maxWidth:560,borderRadius:12,border:"1px solid #2a2f3a",background:"#313944ff",padding:12}})}),(0,ke.jsxs)("div",{style:{display:"flex",gap:10,flexWrap:"wrap",justifyContent:"flex-end"},children:[(0,ke.jsx)("a",{href:n?t.data:"https://hmohyud.github.io/hyder/projects/Echoes_of_the_Colorful_Shadows_5x7.pdf",target:"_blank",rel:"noreferrer",style:{padding:"8px 12px",borderRadius:10,border:"1px solid ".concat(t.color),color:t.color,textDecoration:"none",background:"transparent"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="".concat(t.color,"22")},onMouseLeave:t=>{t.currentTarget.style.backgroundColor="transparent"},children:a}),(0,ke.jsx)("button",{type:"button",onClick:async()=>{try{await navigator.clipboard.writeText(s)}catch(t){prompt("Copy this URL:",s)}},style:{padding:"8px 12px",borderRadius:10,border:"1px solid #2a2f3a",background:"transparent",color:"#eaeaea",cursor:"pointer"},onMouseEnter:t=>{t.currentTarget.style.background="#151a21"},onMouseLeave:t=>{t.currentTarget.style.background="transparent"},children:"Copy link"})]})]})})(),(0,ke.jsx)("style",{children:"\n      @keyframes zoomIn { from { transform: scale(0.98); opacity: 0; } to { transform: scale(1); opacity: 1; } }\n    "})]}),n&&(0,ke.jsxs)("div",{role:"dialog","aria-modal":"true","aria-label":"".concat(n.title," image viewer"),onClick:()=>{n?i(null):t&&e(null)},style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.85)",zIndex:1e4,display:"grid",gridTemplateRows:"auto 1fr auto",padding:16},children:[(0,ke.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:12},children:[(0,ke.jsx)("h3",{style:{margin:0,color:"#eaeaea",fontSize:18},children:n.title}),(0,ke.jsx)("button",{type:"button",onClick:()=>i(null),style:{border:"1px solid #2a2f3a",background:"transparent",color:"#bfc6d6",borderRadius:8,padding:"6px 10px",cursor:"pointer"},onMouseEnter:t=>{t.currentTarget.style.background="#151a21"},onMouseLeave:t=>{t.currentTarget.style.background="transparent"},children:"Close (Esc)"})]}),(0,ke.jsxs)("div",{style:{position:"relative",display:"grid",placeItems:"center",overflow:"hidden"},children:[(0,ke.jsx)("img",{src:n.images[n.index],alt:"".concat(n.title," ").concat(n.index+1),onClick:t=>t.stopPropagation(),style:{maxWidth:"min(92vw, 1400px)",maxHeight:"min(80vh, 90vh)",width:"auto",height:"auto",objectFit:"contain",border:"1px solid ".concat(n.color),boxShadow:"0 20px 60px rgba(0,0,0,0.6)"},onError:()=>{i((t=>{const e=t.images.length||1;return h(h({},t),{},{index:(t.index+1)%e})}))}}),n.images.length>1&&(0,ke.jsxs)(ke.Fragment,{children:[(0,ke.jsx)("button",{"aria-label":"Previous image",onClick:t=>{t.stopPropagation(),i((t=>h(h({},t),{},{index:(t.index-1+t.images.length)%t.images.length})))},style:a(n.color,"left"),children:"\u2039"}),(0,ke.jsx)("button",{"aria-label":"Next image",onClick:t=>{t.stopPropagation(),i((t=>h(h({},t),{},{index:(t.index+1)%t.images.length})))},style:a(n.color,"right"),children:"\u203a"})]})]}),(0,ke.jsx)("div",{style:{textAlign:"center",color:"#bfc6d6",fontSize:14},children:n.images.length>1?"".concat(n.index+1," / ").concat(n.images.length):""})]})]})}function Ds(){return(0,ke.jsxs)("div",{style:{height:"100vh",padding:"0 2rem",boxSizing:"border-box",maxWidth:"900px",margin:"0 auto",fontFamily:"monospace",color:"#eaeaea",lineHeight:1.6},children:[(0,ke.jsx)("h1",{style:{fontSize:"2.5rem",marginBottom:"1.5rem",borderBottom:"1px solid #444",paddingBottom:"0.5rem"},children:"About Me"}),(0,ke.jsxs)("section",{style:{marginBottom:"2rem"},children:[(0,ke.jsx)("h2",{style:{fontSize:"1.6rem",color:"#00d1ff"},children:"Early Context"}),(0,ke.jsx)("p",{children:"I was born in Boston, moved to Salt Lake City as a baby, and spent my earliest years surrounded by mountains and dry air. At age six, my family relocated again\u2014and while most of my year was spent in the U.S., I grew up spending every summer in India, visiting extended family."}),(0,ke.jsx)("p",{children:"That rhythm\u2014switching continents, routines, and mental frames every few months\u2014taught me early on that there's never just one way to think or live. It gave me a taste for the unfamiliar, the layered, and the nonlinear. Those instincts show up everywhere in my work."})]}),(0,ke.jsxs)("section",{style:{marginBottom:"2rem"},children:[(0,ke.jsx)("h2",{style:{fontSize:"1.6rem",color:"#00ff88"},children:"Outside the Terminal"}),(0,ke.jsx)("p",{children:"I played a lot of sports growing up\u2014soccer, squash, track and field, sailing, and baseball. I wasn't a standout on most teams, but I enjoyed being active and staying in shape. Squash was the one sport I really focused on, and I was one of the stronger players on the team."}),(0,ke.jsx)("p",{children:"I was probably more studious than anything else. I liked school, I liked learning, and I spent a lot of time reading or tinkering with things. These days, that balance has just shifted toward programming, chess puzzles, and the occasional deep dive into a video game with friends."})]}),(0,ke.jsxs)("section",{style:{marginBottom:"2rem"},children:[(0,ke.jsx)("h2",{style:{fontSize:"1.6rem",color:"#ff8888"},children:"Education, Interrupted"}),(0,ke.jsx)("p",{children:"I studied Computer Science and Visual Arts at the University of Chicago. My academic path wasn't entirely linear\u2014like a lot of people, I took a break during COVID. But stepping away was clarifying. It gave me time to reflect on what I actually wanted to build, and what kind of developer I wanted to become."}),(0,ke.jsx)("p",{children:"That break turned out to be formative. I didn't stop learning\u2014I just stopped waiting for permission to apply what I'd already learned. I built tools, experimented with AI models, helped others debug, and spent time thinking about the craft of programming beyond assignments and deadlines."})]}),(0,ke.jsxs)("section",{style:{marginBottom:"2rem"},children:[(0,ke.jsx)("h2",{style:{fontSize:"1.6rem",color:"#b48bff"},children:"Teaching and Tech"}),(0,ke.jsx)("p",{children:"I've taught programming to high school students, mentored veterans transitioning into tech, and tutored thousands of hours across math, science, and writing. These experiences shaped how I think about clarity, empathy, and the responsibility we carry when we build software for other people."}),(0,ke.jsx)("p",{children:"I don't just want code to run\u2014I want it to make sense. To feel like it belongs. That's true whether I'm designing a function, a UI, or a learning environment. Good tools invite understanding. Great tools invite play."})]}),(0,ke.jsxs)("section",{style:{marginBottom:"2rem"},children:[(0,ke.jsx)("h2",{style:{fontSize:"1.6rem",color:"#ffaa00"},children:"Why I Build"}),(0,ke.jsx)("p",{children:"What excites me most is software that stretches the boundaries of how we see or think. Tools that surprise you with their elegance\u2014or their weirdness. I'm especially interested in work that blends expressive potential with technical challenge: where the medium is flexible and the results are unpredictable."}),(0,ke.jsx)("p",{children:"I love the full arc\u2014from backend logic and infrastructure to polished UI and interaction design. My favorite work doesn't just execute\u2014it provokes. And if I can build something that teaches me along the way, even better."})]}),(0,ke.jsxs)("section",{style:{marginBottom:"4rem"},children:[(0,ke.jsx)("h2",{style:{fontSize:"1.6rem",color:"#ffffff"},children:"In Short"}),(0,ke.jsx)("p",{children:"I'm not trying to do everything. I'm trying to do a few strange, sharp, and well-constructed things really well. I care deeply about the details, about unexpected edges, and about software that earns your attention\u2014not just demands it."}),(0,ke.jsx)("p",{children:"If you've made it this far, thanks for reading. I hope something here resonated."})]}),(0,ke.jsx)("div",{style:{height:"30px"}})]})}function Ls(t,e,n){e||(e=[]);var i=e.length++;return Object.defineProperty({},"_",{set:function(r){e[i]=r,t.apply(n,e)}})}function Ns(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Is(t,e){Ns(t,e),e.add(t)}function Fs(t,e,n){Ns(t,e),e.set(t,n)}function Os(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function Bs(t,e,n){return n(Os(t,e))}function js(t,e){return t.get(Os(t,e))}function Ws(t,e,n){return t.set(Os(t,e),n),n}function zs(t){function e(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var e=t.done;return Promise.resolve(t.value).then((function(t){return{value:t,done:e}}))}return zs=function(t){this.s=t,this.n=t.next},zs.prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(t){var n=this.s.return;return void 0===n?Promise.resolve({value:t,done:!0}):e(n.apply(this.s,arguments))},throw:function(t){var n=this.s.return;return void 0===n?Promise.reject(t):e(n.apply(this.s,arguments))}},new zs(t)}var Us,Hs,Vs,Gs,qs,Xs,Ys,Ks,Qs,$s,Js,Zs,to,eo,no,io,ro,ao;const so="object"===typeof process&&process+""==="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&"browser"!==process.type),oo=[.001,0,0,.001,0,0],lo=1.35,co=1,uo=2,ho=4,fo=16,po=32,go=64,mo=128,vo=256,yo={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},bo="pdfjs_internal_editor_",wo={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},xo={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},_o=0,ko=1,So=2,Ao=3,Eo=3,Co=4,Mo={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},To={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Po=1,Ro=2,Do=3,Lo=4,No=5,Io={ERRORS:0,WARNINGS:1,INFOS:5},Fo={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Oo=0,Bo=1,jo=2,Wo=3;let zo=Io.WARNINGS;function Uo(t){Number.isInteger(t)&&(zo=t)}function Ho(){return zo}function Vo(t){zo>=Io.INFOS&&console.info("Info: ".concat(t))}function Go(t){zo>=Io.WARNINGS&&console.warn("Warning: ".concat(t))}function qo(t){throw new Error(t)}function Xo(t,e){t||qo(e)}function Yo(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!t)return null;if(n&&"string"===typeof t){if(n.addDefaultProtocol&&t.startsWith("www.")){const e=t.match(/\./g);(null===e||void 0===e?void 0:e.length)>=2&&(t="http://".concat(t))}if(n.tryConvertEncoding)try{t=decodeURIComponent(escape(t))}catch(r){}}const i=e?URL.parse(t,e):URL.parse(t);return function(t){switch(null===t||void 0===t?void 0:t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(i)?i:null}function Ko(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=URL.parse(t);return i?(i.hash=e,i.href):n&&Yo(t,"http://example.com")?t.split("#",1)[0]+"".concat(e?"#".concat(e):""):""}function Qo(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object.defineProperty(t,e,{value:n,enumerable:!i,configurable:!0,writable:!1}),n}const $o=function(){function t(t,e){this.message=t,this.name=e}return t.prototype=new Error,t.constructor=t,t}();class Jo extends $o{constructor(t,e){super(t,"PasswordException"),this.code=e}}class Zo extends $o{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class tl extends $o{constructor(t){super(t,"InvalidPDFException")}}class el extends $o{constructor(t,e,n){super(t,"ResponseException"),this.status=e,this.missing=n}}class nl extends $o{constructor(t){super(t,"FormatError")}}class il extends $o{constructor(t){super(t,"AbortException")}}function rl(t){"object"===typeof t&&void 0!==(null===t||void 0===t?void 0:t.length)||qo("Invalid argument for bytesToString");const e=t.length,n=8192;if(e<n)return String.fromCharCode.apply(null,t);const i=[];for(let r=0;r<e;r+=n){const a=Math.min(r+n,e),s=t.subarray(r,a);i.push(String.fromCharCode.apply(null,s))}return i.join("")}function al(t){"string"!==typeof t&&qo("Invalid argument for stringToBytes");const e=t.length,n=new Uint8Array(e);for(let i=0;i<e;++i)n[i]=255&t.charCodeAt(i);return n}class sl{static get isLittleEndian(){return Qo(this,"isLittleEndian",function(){const t=new Uint8Array(4);return t[0]=1,1===new Uint32Array(t.buffer,0,1)[0]}())}static get isEvalSupported(){return Qo(this,"isEvalSupported",function(){try{return new Function(""),!0}catch(t){return!1}}())}static get isOffscreenCanvasSupported(){return Qo(this,"isOffscreenCanvasSupported","undefined"!==typeof OffscreenCanvas)}static get isImageDecoderSupported(){return Qo(this,"isImageDecoderSupported","undefined"!==typeof ImageDecoder)}static get platform(){const{platform:t,userAgent:e}=navigator;return Qo(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}static get isCSSRoundSupported(){var t,e;return Qo(this,"isCSSRoundSupported",null===(t=globalThis.CSS)||void 0===t||null===(e=t.supports)||void 0===e?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const ol=Array.from(Array(256).keys(),(t=>t.toString(16).padStart(2,"0")));class ll{static makeHexColor(t,e,n){return"#".concat(ol[t]).concat(ol[e]).concat(ol[n])}static domMatrixToTransform(t){return[t.a,t.b,t.c,t.d,t.e,t.f]}static scaleMinMax(t,e){let n;t[0]?(t[0]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[3],e[3]*=t[3]):(n=e[0],e[0]=e[1],e[1]=n,n=e[2],e[2]=e[3],e[3]=n,t[1]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static multiplyByDOMMatrix(t,e){return[t[0]*e.a+t[2]*e.b,t[1]*e.a+t[3]*e.b,t[0]*e.c+t[2]*e.d,t[1]*e.c+t[3]*e.d,t[0]*e.e+t[2]*e.f+t[4],t[1]*e.e+t[3]*e.f+t[5]]}static applyTransform(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=t[n],r=t[n+1];t[n]=i*e[0]+r*e[2]+e[4],t[n+1]=i*e[1]+r*e[3]+e[5]}static applyTransformToBezier(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=e[0],r=e[1],a=e[2],s=e[3],o=e[4],l=e[5];for(let c=0;c<6;c+=2){const e=t[n+c],u=t[n+c+1];t[n+c]=e*i+u*a+o,t[n+c+1]=e*r+u*s+l}}static applyInverseTransform(t,e){const n=t[0],i=t[1],r=e[0]*e[3]-e[1]*e[2];t[0]=(n*e[3]-i*e[2]+e[2]*e[5]-e[4]*e[3])/r,t[1]=(-n*e[1]+i*e[0]+e[4]*e[1]-e[5]*e[0])/r}static axialAlignedBoundingBox(t,e,n){const i=e[0],r=e[1],a=e[2],s=e[3],o=e[4],l=e[5],c=t[0],u=t[1],h=t[2],d=t[3];let f=i*c+o,p=f,g=i*h+o,m=g,v=s*u+l,y=v,b=s*d+l,w=b;if(0!==r||0!==a){const t=r*c,e=r*h,n=a*u,i=a*d;f+=n,m+=n,g+=i,p+=i,v+=t,w+=t,b+=e,y+=e}n[0]=Math.min(n[0],f,g,p,m),n[1]=Math.min(n[1],v,b,y,w),n[2]=Math.max(n[2],f,g,p,m),n[3]=Math.max(n[3],v,b,y,w)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const n=t[0],i=t[1],r=t[2],a=t[3],s=n**2+i**2,o=n*r+i*a,l=r**2+a**2,c=(s+l)/2,u=Math.sqrt(c**2-(s*l-o**2));e[0]=Math.sqrt(c+u||1),e[1]=Math.sqrt(c-u||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const n=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),i=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(n>i)return null;const r=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),a=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return r>a?null:[n,r,i,a]}static pointBoundingBox(t,e,n){n[0]=Math.min(n[0],t),n[1]=Math.min(n[1],e),n[2]=Math.max(n[2],t),n[3]=Math.max(n[3],e)}static rectBoundingBox(t,e,n,i,r){r[0]=Math.min(r[0],t,n),r[1]=Math.min(r[1],e,i),r[2]=Math.max(r[2],t,n),r[3]=Math.max(r[3],e,i)}static bezierBoundingBox(t,e,n,i,r,a,s,o,l){l[0]=Math.min(l[0],t,s),l[1]=Math.min(l[1],e,o),l[2]=Math.max(l[2],t,s),l[3]=Math.max(l[3],e,o),Os(ll,this,ul).call(this,t,n,r,s,e,i,a,o,3*(3*(n-r)-t+s),6*(t-2*n+r),3*(n-t),l),Os(ll,this,ul).call(this,t,n,r,s,e,i,a,o,3*(3*(i-a)-e+o),6*(e-2*i+a),3*(i-e),l)}}function cl(t,e,n,i,r,a,s,o,l,c){if(l<=0||l>=1)return;const u=1-l,h=l*l,d=h*l,f=u*(u*(u*t+3*l*e)+3*h*n)+d*i,p=u*(u*(u*r+3*l*a)+3*h*s)+d*o;c[0]=Math.min(c[0],f),c[1]=Math.min(c[1],p),c[2]=Math.max(c[2],f),c[3]=Math.max(c[3],p)}function ul(t,e,n,i,r,a,s,o,l,c,u,h){if(Math.abs(l)<1e-12)return void(Math.abs(c)>=1e-12&&Os(Us,this,cl).call(this,t,e,n,i,r,a,s,o,-u/c,h));const d=c**2-4*u*l;if(d<0)return;const f=Math.sqrt(d),p=2*l;Os(Us,this,cl).call(this,t,e,n,i,r,a,s,o,(-c+f)/p,h),Os(Us,this,cl).call(this,t,e,n,i,r,a,s,o,(-c-f)/p,h)}Us=ll;let hl=null,dl=null;function fl(){if("function"===typeof crypto.randomUUID)return crypto.randomUUID();const t=new Uint8Array(32);return crypto.getRandomValues(t),rl(t)}const pl="pdfjs_internal_id_";function gl(t,e,n){return Math.min(Math.max(t,e),n)}function ml(t){return Uint8Array.prototype.toBase64?t.toBase64():btoa(rl(t))}"function"!==typeof Promise.try&&(Promise.try=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return new Promise((e=>{e(t(...n))}))}),"function"!==typeof Math.sumPrecise&&(Math.sumPrecise=function(t){return t.reduce(((t,e)=>t+e),0)});class vl{static textContent(t){const e=[],n={items:e,styles:Object.create(null)};return function t(n){var i;if(!n)return;let r=null;const a=n.name;if("#text"===a)r=n.value;else{if(!vl.shouldBuildText(a))return;null!==n&&void 0!==n&&null!==(i=n.attributes)&&void 0!==i&&i.textContent?r=n.attributes.textContent:n.value&&(r=n.value)}if(null!==r&&e.push({str:r}),n.children)for(const e of n.children)t(e)}(t),n}static shouldBuildText(t){return!("textarea"===t||"input"===t||"option"===t||"select"===t)}}class yl{static setupStorage(t,e,n,i,r){const a=i.getValue(e,{value:null});switch(n.name){case"textarea":if(null!==a.value&&(t.textContent=a.value),"print"===r)break;t.addEventListener("input",(t=>{i.setValue(e,{value:t.target.value})}));break;case"input":if("radio"===n.attributes.type||"checkbox"===n.attributes.type){if(a.value===n.attributes.xfaOn?t.setAttribute("checked",!0):a.value===n.attributes.xfaOff&&t.removeAttribute("checked"),"print"===r)break;t.addEventListener("change",(t=>{i.setValue(e,{value:t.target.checked?t.target.getAttribute("xfaOn"):t.target.getAttribute("xfaOff")})}))}else{if(null!==a.value&&t.setAttribute("value",a.value),"print"===r)break;t.addEventListener("input",(t=>{i.setValue(e,{value:t.target.value})}))}break;case"select":if(null!==a.value){t.setAttribute("value",a.value);for(const t of n.children)t.attributes.value===a.value?t.attributes.selected=!0:t.attributes.hasOwnProperty("selected")&&delete t.attributes.selected}t.addEventListener("input",(t=>{const n=t.target.options,r=-1===n.selectedIndex?"":n[n.selectedIndex].value;i.setValue(e,{value:r})}))}}static setAttributes(t){let{html:e,element:n,storage:i=null,intent:r,linkService:a}=t;const{attributes:s}=n,o=e instanceof HTMLAnchorElement;"radio"===s.type&&(s.name="".concat(s.name,"-").concat(r));for(const[l,c]of Object.entries(s))if(null!==c&&void 0!==c)switch(l){case"class":c.length&&e.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!o||"href"!==l&&"newWindow"!==l)&&e.setAttribute(l,c)}o&&a.addLinkAttributes(e,s.href,s.newWindow),i&&s.dataId&&this.setupStorage(e,s.dataId,n,i)}static render(t){const e=t.annotationStorage,n=t.linkService,i=t.xfaHtml,r=t.intent||"display",a=document.createElement(i.name);i.attributes&&this.setAttributes({html:a,element:i,intent:r,linkService:n});const s="richText"!==r,o=t.div;if(o.append(a),t.viewport){const e="matrix(".concat(t.viewport.transform.join(","),")");o.style.transform=e}s&&o.setAttribute("class","xfaLayer xfaFont");const l=[];if(0===i.children.length){if(i.value){const t=document.createTextNode(i.value);a.append(t),s&&vl.shouldBuildText(i.name)&&l.push(t)}return{textDivs:l}}const c=[[i,-1,a]];for(;c.length>0;){var u,h;const[t,i,a]=c.at(-1);if(i+1===t.children.length){c.pop();continue}const o=t.children[++c.at(-1)[1]];if(null===o)continue;const{name:d}=o;if("#text"===d){const t=document.createTextNode(o.value);l.push(t),a.append(t);continue}const f=null!==o&&void 0!==o&&null!==(u=o.attributes)&&void 0!==u&&u.xmlns?document.createElementNS(o.attributes.xmlns,d):document.createElement(d);if(a.append(f),o.attributes&&this.setAttributes({html:f,element:o,storage:e,intent:r,linkService:n}),(null===(h=o.children)||void 0===h?void 0:h.length)>0)c.push([o,-1,f]);else if(o.value){const t=document.createTextNode(o.value);s&&vl.shouldBuildText(d)&&l.push(t),f.append(t)}}for(const d of o.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))d.setAttribute("readOnly",!0);return{textDivs:l}}static update(t){const e="matrix(".concat(t.viewport.transform.join(","),")");t.div.style.transform=e,t.div.hidden=!1}}const bl="http://www.w3.org/2000/svg";class wl{}async function xl(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";if(Cl(t,document.baseURI)){const n=await fetch(t);if(!n.ok)throw new Error(n.statusText);switch(e){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise(((n,i)=>{const r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE)if(200!==r.status&&0!==r.status)i(new Error(r.statusText));else{switch(e){case"arraybuffer":case"blob":case"json":return void n(r.response)}n(r.responseText)}},r.send(null)}))}Hs=wl,c(wl,"CSS",96),c(wl,"PDF",72),c(wl,"PDF_TO_CSS_UNITS",Hs.CSS/Hs.PDF);class _l{constructor(t){let{viewBox:e,userUnit:n,scale:i,rotation:r,offsetX:a=0,offsetY:s=0,dontFlip:o=!1}=t;this.viewBox=e,this.userUnit=n,this.scale=i,this.rotation=r,this.offsetX=a,this.offsetY=s,i*=n;const l=(e[2]+e[0])/2,c=(e[3]+e[1])/2;let u,h,d,f,p,g,m,v;switch(r%=360,r<0&&(r+=360),r){case 180:u=-1,h=0,d=0,f=1;break;case 90:u=0,h=1,d=1,f=0;break;case 270:u=0,h=-1,d=-1,f=0;break;case 0:u=1,h=0,d=0,f=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(d=-d,f=-f),0===u?(p=Math.abs(c-e[1])*i+a,g=Math.abs(l-e[0])*i+s,m=(e[3]-e[1])*i,v=(e[2]-e[0])*i):(p=Math.abs(l-e[0])*i+a,g=Math.abs(c-e[1])*i+s,m=(e[2]-e[0])*i,v=(e[3]-e[1])*i),this.transform=[u*i,h*i,d*i,f*i,p-u*i*l-d*i*c,g-h*i*l-f*i*c],this.width=m,this.height=v}get rawDims(){const t=this.viewBox;return Qo(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone(){let{scale:t=this.scale,rotation:e=this.rotation,offsetX:n=this.offsetX,offsetY:i=this.offsetY,dontFlip:r=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new _l({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:n,offsetY:i,dontFlip:r})}convertToViewportPoint(t,e){const n=[t,e];return ll.applyTransform(n,this.transform),n}convertToViewportRectangle(t){const e=[t[0],t[1]];ll.applyTransform(e,this.transform);const n=[t[2],t[3]];return ll.applyTransform(n,this.transform),[e[0],e[1],n[0],n[1]]}convertToPdfPoint(t,e){const n=[t,e];return ll.applyInverseTransform(n,this.transform),n}}class kl extends $o{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super(t,"RenderingCancelledException"),this.extraDelay=e}}function Sl(t){const e=t.length;let n=0;for(;n<e&&""===t[n].trim();)n++;return"data:"===t.substring(n,n+5).toLowerCase()}function Al(t){return"string"===typeof t&&/\.pdf$/i.test(t)}class El{constructor(){c(this,"started",Object.create(null)),c(this,"times",[])}time(t){t in this.started&&Go("Timer is already running for ".concat(t)),this.started[t]=Date.now()}timeEnd(t){t in this.started||Go("Timer has not been started for ".concat(t)),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:n}of this.times)e=Math.max(n.length,e);for(const{name:n,start:i,end:r}of this.times)t.push("".concat(n.padEnd(e)," ").concat(r-i,"ms\n"));return t.join("")}}function Cl(t,e){const n=e?URL.parse(t,e):URL.parse(t);return"http:"===(null===n||void 0===n?void 0:n.protocol)||"https:"===(null===n||void 0===n?void 0:n.protocol)}function Ml(t){t.preventDefault()}function Tl(t){t.preventDefault(),t.stopPropagation()}class Pl{static toDateObject(t){if(t instanceof Date)return t;if(!t||"string"!==typeof t)return null;Os(Pl,this,Rl)._||(Rl._=Os(Pl,this,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?")));const e=Os(Pl,this,Rl)._.exec(t);if(!e)return null;const n=parseInt(e[1],10);let i=parseInt(e[2],10);i=i>=1&&i<=12?i-1:0;let r=parseInt(e[3],10);r=r>=1&&r<=31?r:1;let a=parseInt(e[4],10);a=a>=0&&a<=23?a:0;let s=parseInt(e[5],10);s=s>=0&&s<=59?s:0;let o=parseInt(e[6],10);o=o>=0&&o<=59?o:0;const l=e[7]||"Z";let c=parseInt(e[8],10);c=c>=0&&c<=23?c:0;let u=parseInt(e[9],10)||0;return u=u>=0&&u<=59?u:0,"-"===l?(a+=c,s+=u):"+"===l&&(a-=c,s-=u),new Date(Date.UTC(n,i,r,a,s,o))}}var Rl={_:void 0};function Dl(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(16711680&e)>>16,(65280&e)>>8,255&e]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map((t=>parseInt(t))):t.startsWith("rgba(")?t.slice(5,-1).split(",").map((t=>parseInt(t))).slice(0,3):(Go('Not a valid color format: "'.concat(t,'"')),[0,0,0])}function Ll(t){const{a:e,b:n,c:i,d:r,e:a,f:s}=t.getTransform();return[e,n,i,r,a,s]}function Nl(t){const{a:e,b:n,c:i,d:r,e:a,f:s}=t.getTransform().invertSelf();return[e,n,i,r,a,s]}function Il(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e instanceof _l){const{pageWidth:i,pageHeight:r}=e.rawDims,{style:a}=t,s=sl.isCSSRoundSupported,o="var(--total-scale-factor) * ".concat(i,"px"),l="var(--total-scale-factor) * ".concat(r,"px"),c=s?"round(down, ".concat(o,", var(--scale-round-x))"):"calc(".concat(o,")"),u=s?"round(down, ".concat(l,", var(--scale-round-y))"):"calc(".concat(l,")");n&&e.rotation%180!==0?(a.width=u,a.height=c):(a.width=c,a.height=u)}i&&t.setAttribute("data-main-rotation",e.rotation)}class Fl{constructor(){const{pixelRatio:t}=Fl;this.sx=t,this.sy=t}get scaled(){return 1!==this.sx||1!==this.sy}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,a=1/0,s=1/0,o=1/0;(n=Fl.capPixels(n,r))>0&&(a=Math.sqrt(n/(t*e))),-1!==i&&(s=i/t,o=i/e);const l=Math.min(a,s,o);return(this.sx>l||this.sy>l)&&(this.sx=l,this.sy=l,!0)}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,e){if(e>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+e/100));return t>0?Math.min(t,n):n}return t}}const Ol=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class Bl{static get isDarkMode(){var t,e;return Qo(this,"isDarkMode",!(null===(t=window)||void 0===t||null===(e=t.matchMedia)||void 0===e||!e.call(t,"(prefers-color-scheme: dark)").matches))}}function jl(t,e){const n=t[0]/255,i=t[1]/255,r=t[2]/255,a=Math.max(n,i,r),s=Math.min(n,i,r),o=(a+s)/2;if(a===s)e[0]=e[1]=0;else{const t=a-s;switch(e[1]=o<.5?t/(a+s):t/(2-a-s),a){case n:e[0]=60*((i-r)/t+(i<r?6:0));break;case i:e[0]=60*((r-n)/t+2);break;case r:e[0]=60*((n-i)/t+4)}}e[2]=o}function Wl(t,e){const n=t[0],i=t[1],r=t[2],a=(1-Math.abs(2*r-1))*i,s=a*(1-Math.abs(n/60%2-1)),o=r-a/2;switch(Math.floor(n/60)){case 0:e[0]=a+o,e[1]=s+o,e[2]=o;break;case 1:e[0]=s+o,e[1]=a+o,e[2]=o;break;case 2:e[0]=o,e[1]=a+o,e[2]=s+o;break;case 3:e[0]=o,e[1]=s+o,e[2]=a+o;break;case 4:e[0]=s+o,e[1]=o,e[2]=a+o;break;case 5:case 6:e[0]=a+o,e[1]=o,e[2]=s+o}}function zl(t){return t<=.03928?t/12.92:((t+.055)/1.055)**2.4}function Ul(t,e,n){Wl(t,n),n.map(zl);const i=.2126*n[0]+.7152*n[1]+.0722*n[2];Wl(e,n),n.map(zl);const r=.2126*n[0]+.7152*n[1]+.0722*n[2];return i>r?(i+.05)/(r+.05):(r+.05)/(i+.05)}const Hl=new Map;function Vl(t,e){let{html:n,dir:i,className:r}=t;const a=document.createDocumentFragment();if("string"===typeof n){const t=document.createElement("p");t.dir=i||"auto";const e=n.split(/(?:\r\n?|\n)/);for(let n=0,i=e.length;n<i;++n){const r=e[n];t.append(document.createTextNode(r)),n<i-1&&t.append(document.createElement("br"))}a.append(t)}else yl.render({xfaHtml:n,div:a,intent:"richText"});a.firstChild.classList.add("richText",r),e.append(a)}var Gl=new WeakMap,ql=new WeakMap,Xl=new WeakMap,Yl=new WeakMap,Kl=new WeakMap,Ql=new WeakMap,$l=new WeakMap,Jl=new WeakMap,Zl=new WeakSet;class tc{constructor(t){Is(this,Zl),Fs(this,Gl,null),Fs(this,ql,null),Fs(this,Xl,void 0),Fs(this,Yl,null),Fs(this,Kl,null),Fs(this,Ql,null),Fs(this,$l,null),Fs(this,Jl,null),Ws(Xl,this,t),sc._||(sc._=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const t=Ws(Gl,this,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=js(Xl,this)._uiManager._signal;e instanceof AbortSignal&&!e.aborted&&(t.addEventListener("contextmenu",Ml,{signal:e}),t.addEventListener("pointerdown",ec,{signal:e}));const n=Ws(Yl,this,document.createElement("div"));n.className="buttons",t.append(n);const i=js(Xl,this).toolbarPosition;if(i){const{style:e}=t,n="ltr"===js(Xl,this)._uiManager.direction?1-i[0]:i[0];e.insetInlineEnd="".concat(100*n,"%"),e.top="calc(".concat(100*i[1],"% + var(--editor-toolbar-vert-offset))")}return t}get div(){return js(Gl,this)}hide(){var t;js(Gl,this).classList.add("hidden"),null===(t=js(ql,this))||void 0===t||t.hideDropdown()}show(){var t,e;js(Gl,this).classList.remove("hidden"),null===(t=js(Kl,this))||void 0===t||t.shown(),null===(e=js(Ql,this))||void 0===e||e.shown()}addDeleteButton(){const{editorType:t,_uiManager:e}=js(Xl,this),n=document.createElement("button");n.classList.add("basic","deleteButton"),n.tabIndex=0,n.setAttribute("data-l10n-id",sc._[t]),Os(Zl,this,rc).call(this,n)&&n.addEventListener("click",(t=>{e.delete()}),{signal:e._signal}),js(Yl,this).append(n)}async addAltText(t){const e=await t.render();Os(Zl,this,rc).call(this,e),js(Yl,this).append(e,Bs(Zl,this,ac)),Ws(Kl,this,t)}addComment(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(js(Ql,this))return;const n=t.renderForToolbar();if(!n)return;Os(Zl,this,rc).call(this,n);const i=Ws($l,this,Bs(Zl,this,ac));e?(js(Yl,this).insertBefore(n,e),js(Yl,this).insertBefore(i,e)):js(Yl,this).append(n,i),Ws(Ql,this,t),t.toolbar=this}addColorPicker(t){if(js(ql,this))return;Ws(ql,this,t);const e=t.renderButton();Os(Zl,this,rc).call(this,e),js(Yl,this).append(e,Bs(Zl,this,ac))}async addEditSignatureButton(t){const e=Ws(Jl,this,await t.renderEditButton(js(Xl,this)));Os(Zl,this,rc).call(this,e),js(Yl,this).append(e,Bs(Zl,this,ac))}removeButton(t){var e,n;if("comment"===t)null===(e=js(Ql,this))||void 0===e||e.removeToolbarCommentButton(),Ws(Ql,this,null),null===(n=js($l,this))||void 0===n||n.remove(),Ws($l,this,null)}async addButton(t,e){switch(t){case"colorPicker":this.addColorPicker(e);break;case"altText":await this.addAltText(e);break;case"editSignature":await this.addEditSignatureButton(e);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(e)}}async addButtonBefore(t,e,n){const i=js(Yl,this).querySelector(n);i&&"comment"===t&&this.addComment(e,i)}updateEditSignatureButton(t){js(Jl,this)&&(js(Jl,this).title=t)}remove(){var t;js(Gl,this).remove(),null===(t=js(ql,this))||void 0===t||t.destroy(),Ws(ql,this,null)}}function ec(t){t.stopPropagation()}function nc(t){js(Xl,this)._focusEventsAllowed=!1,Tl(t)}function ic(t){js(Xl,this)._focusEventsAllowed=!0,Tl(t)}function rc(t){const e=js(Xl,this)._uiManager._signal;return e instanceof AbortSignal&&!e.aborted&&(t.addEventListener("focusin",Os(Zl,this,nc).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",Os(Zl,this,ic).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",Ml,{signal:e}),!0)}function ac(t){const e=document.createElement("div");return e.className="divider",e}var sc={_:null},oc=new WeakMap,lc=new WeakMap,cc=new WeakMap,uc=new WeakSet;class hc{constructor(t){Is(this,uc),Fs(this,oc,null),Fs(this,lc,null),Fs(this,cc,void 0),Ws(cc,this,t)}show(t,e,n){const[i,r]=Os(uc,this,fc).call(this,e,n),{style:a}=js(lc,this)||Ws(lc,this,Os(uc,this,dc).call(this));t.append(js(lc,this)),a.insetInlineEnd="".concat(100*i,"%"),a.top="calc(".concat(100*r,"% + var(--editor-toolbar-vert-offset))")}hide(){js(lc,this).remove()}}function dc(){const t=Ws(lc,this,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar");const e=js(cc,this)._signal;e instanceof AbortSignal&&!e.aborted&&t.addEventListener("contextmenu",Ml,{signal:e});const n=Ws(oc,this,document.createElement("div"));return n.className="buttons",t.append(n),js(cc,this).hasCommentManager()&&Os(uc,this,pc).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",(()=>{js(cc,this).commentSelection("floating_button")})),Os(uc,this,pc).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",(()=>{js(cc,this).highlightSelection("floating_button")})),t}function fc(t,e){let n=0,i=0;for(const r of t){const t=r.y+r.height;if(t<n)continue;const a=r.x+(e?r.width:0);t>n?(i=a,n=t):e?a>i&&(i=a):a<i&&(i=a)}return[e?1-i:i,n]}function pc(t,e,n,i){const r=document.createElement("button");r.classList.add("basic",t),r.tabIndex=0,r.setAttribute("data-l10n-id",e);const a=document.createElement("span");r.append(a),a.className="visuallyHidden",a.setAttribute("data-l10n-id",n);const s=js(cc,this)._signal;s instanceof AbortSignal&&!s.aborted&&(r.addEventListener("contextmenu",Ml,{signal:s}),r.addEventListener("click",i,{signal:s})),js(oc,this).append(r)}function gc(t,e,n){for(const i of n)e.addEventListener(i,t[i].bind(t))}var mc=new WeakMap;class vc{constructor(){Fs(this,mc,0)}get id(){var t,e;return"".concat(bo).concat((Ws(mc,this,(t=js(mc,this),e=t++,t)),e))}}var yc=new WeakMap,bc=new WeakMap,wc=new WeakMap,xc=new WeakSet;class _c{constructor(){Is(this,xc),Fs(this,yc,fl()),Fs(this,bc,0),Fs(this,wc,null)}static get _isSVGFittingCanvas(){const t=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),e=new Image;e.src='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>';return Qo(this,"_isSVGFittingCanvas",e.decode().then((()=>(t.drawImage(e,0,0,1,1,0,0,1,3),0===new Uint32Array(t.getImageData(0,0,1,1).data.buffer)[0]))))}async getFromFile(t){const{lastModified:e,name:n,size:i,type:r}=t;return Os(xc,this,kc).call(this,"".concat(e,"_").concat(n,"_").concat(i,"_").concat(r),t)}async getFromUrl(t){return Os(xc,this,kc).call(this,t,t)}async getFromBlob(t,e){const n=await e;return Os(xc,this,kc).call(this,t,n)}async getFromId(t){js(wc,this)||Ws(wc,this,new Map);const e=js(wc,this).get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:t}=e;return delete e.blobPromise,this.getFromBlob(e.id,t)}return this.getFromUrl(e.url)}getFromCanvas(t,e){var n,i,r;js(wc,this)||Ws(wc,this,new Map);let a=js(wc,this).get(t);if(null!==(r=a)&&void 0!==r&&r.bitmap)return a.refCounter+=1,a;const s=new OffscreenCanvas(e.width,e.height);return s.getContext("2d").drawImage(e,0,0),a={bitmap:s.transferToImageBitmap(),id:"image_".concat(js(yc,this),"_").concat((Ws(bc,this,(n=js(bc,this),i=n++,n)),i)),refCounter:1,isSvg:!1},js(wc,this).set(t,a),js(wc,this).set(a.id,a),a}getSvgUrl(t){const e=js(wc,this).get(t);return null!==e&&void 0!==e&&e.isSvg?e.svgUrl:null}deleteId(t){var e;js(wc,this)||Ws(wc,this,new Map);const n=js(wc,this).get(t);if(!n)return;if(n.refCounter-=1,0!==n.refCounter)return;const{bitmap:i}=n;if(!n.url&&!n.file){const t=new OffscreenCanvas(i.width,i.height);t.getContext("bitmaprenderer").transferFromImageBitmap(i),n.blobPromise=t.convertToBlob()}null===(e=i.close)||void 0===e||e.call(i),n.bitmap=null}isValidId(t){return t.startsWith("image_".concat(js(yc,this),"_"))}}async function kc(t,e){var n;js(wc,this)||Ws(wc,this,new Map);let i=js(wc,this).get(t);if(null===i)return null;if(null!==(n=i)&&void 0!==n&&n.bitmap)return i.refCounter+=1,i;try{var r,a;let t;if(i||(i={bitmap:null,id:"image_".concat(js(yc,this),"_").concat((Ws(bc,this,(r=js(bc,this),a=r++,r)),a)),refCounter:0,isSvg:!1}),"string"===typeof e?(i.url=e,t=await xl(e,"blob")):e instanceof File?t=i.file=e:e instanceof Blob&&(t=e),"image/svg+xml"===t.type){const e=Vs._isSVGFittingCanvas,n=new FileReader,r=new Image,a=new Promise(((t,a)=>{r.onload=()=>{i.bitmap=r,i.isSvg=!0,t()},n.onload=async()=>{const t=i.svgUrl=n.result;r.src=await e?"".concat(t,"#svgView(preserveAspectRatio(none))"):t},r.onerror=n.onerror=a}));n.readAsDataURL(t),await a}else i.bitmap=await createImageBitmap(t);i.refCounter=1}catch(dE){Go(dE),i=null}return js(wc,this).set(t,i),i&&js(wc,this).set(i.id,i),i}Vs=_c;var Sc=new WeakMap,Ac=new WeakMap,Ec=new WeakMap,Cc=new WeakMap;class Mc{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:128;Fs(this,Sc,[]),Fs(this,Ac,!1),Fs(this,Ec,void 0),Fs(this,Cc,-1),Ws(Ec,this,t)}add(t){let{cmd:e,undo:n,post:i,mustExec:r,type:a=NaN,overwriteIfSameType:s=!1,keepUndo:o=!1}=t;if(r&&e(),js(Ac,this))return;const l={cmd:e,undo:n,post:i,type:a};if(-1===js(Cc,this))return js(Sc,this).length>0&&(js(Sc,this).length=0),Ws(Cc,this,0),void js(Sc,this).push(l);if(s&&js(Sc,this)[js(Cc,this)].type===a)return o&&(l.undo=js(Sc,this)[js(Cc,this)].undo),void(js(Sc,this)[js(Cc,this)]=l);const c=js(Cc,this)+1;c===js(Ec,this)?js(Sc,this).splice(0,1):(Ws(Cc,this,c),c<js(Sc,this).length&&js(Sc,this).splice(c)),js(Sc,this).push(l)}undo(){if(-1===js(Cc,this))return;Ws(Ac,this,!0);const{undo:t,post:e}=js(Sc,this)[js(Cc,this)];t(),null===e||void 0===e||e(),Ws(Ac,this,!1),Ws(Cc,this,js(Cc,this)-1)}redo(){if(js(Cc,this)<js(Sc,this).length-1){Ws(Cc,this,js(Cc,this)+1),Ws(Ac,this,!0);const{cmd:t,post:e}=js(Sc,this)[js(Cc,this)];t(),null===e||void 0===e||e(),Ws(Ac,this,!1)}}hasSomethingToUndo(){return-1!==js(Cc,this)}hasSomethingToRedo(){return js(Cc,this)<js(Sc,this).length-1}cleanType(t){if(-1!==js(Cc,this)){for(let e=js(Cc,this);e>=0;e--)if(js(Sc,this)[e].type!==t)return js(Sc,this).splice(e+1,js(Cc,this)-e),void Ws(Cc,this,e);js(Sc,this).length=0,Ws(Cc,this,-1)}}destroy(){Ws(Sc,this,null)}}var Tc=new WeakSet;class Pc{constructor(t){Is(this,Tc),this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=sl.platform;for(const[n,i,r={}]of t)for(const t of n){const n=t.startsWith("mac+");e&&n?(this.callbacks.set(t.slice(4),{callback:i,options:r}),this.allKeys.add(t.split("+").at(-1))):e||n||(this.callbacks.set(t,{callback:i,options:r}),this.allKeys.add(t.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const n=this.callbacks.get(Os(Tc,this,Rc).call(this,e));if(!n)return;const{callback:i,options:{bubbles:r=!1,args:a=[],checker:s=null}}=n;s&&!s(t,e)||(i.bind(t,...a,e)(),r||Tl(e))}}function Rc(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e}class Dc{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return function(t){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const n of t.keys()){e.style.color=n;const i=window.getComputedStyle(e).color;t.set(n,Dl(i))}e.remove()}(t),Qo(this,"_colors",t)}convert(t){const e=Dl(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[n,i]of this._colors)if(i.every(((t,n)=>t===e[n])))return Dc._colorsMapping.get(n);return e}getHexCode(t){const e=this._colors.get(t);return e?ll.makeHexColor(...e):t}}c(Dc,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));var Lc=new WeakMap,Nc=new WeakMap,Ic=new WeakMap,Fc=new WeakMap,Oc=new WeakMap,Bc=new WeakMap,jc=new WeakMap,Wc=new WeakMap,zc=new WeakMap,Uc=new WeakMap,Hc=new WeakMap,Vc=new WeakMap,Gc=new WeakMap,qc=new WeakMap,Xc=new WeakMap,Yc=new WeakMap,Kc=new WeakMap,Qc=new WeakMap,$c=new WeakMap,Jc=new WeakMap,Zc=new WeakMap,tu=new WeakMap,eu=new WeakMap,nu=new WeakMap,iu=new WeakMap,ru=new WeakMap,au=new WeakMap,su=new WeakMap,ou=new WeakMap,lu=new WeakMap,cu=new WeakMap,uu=new WeakMap,hu=new WeakMap,du=new WeakMap,fu=new WeakMap,pu=new WeakMap,gu=new WeakMap,mu=new WeakMap,vu=new WeakMap,yu=new WeakMap,bu=new WeakMap,wu=new WeakMap,xu=new WeakMap,_u=new WeakMap,ku=new WeakMap,Su=new WeakMap,Au=new WeakMap,Eu=new WeakMap,Cu=new WeakMap,Mu=new WeakSet;class Tu{static get _keyboardManager(){const t=Tu.prototype,e=t=>js(Su,t).contains(document.activeElement)&&"BUTTON"!==document.activeElement.tagName&&t.hasSomethingToControl(),n=(t,e)=>{let{target:n}=e;if(n instanceof HTMLInputElement){const{type:t}=n;return"text"!==t&&"number"!==t}return!0},i=this.TRANSLATE_SMALL,r=this.TRANSLATE_BIG;return Qo(this,"_keyboardManager",new Pc([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],t.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:n}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(t,e)=>{let{target:n}=e;return!(n instanceof HTMLButtonElement)&&js(Su,t).contains(n)&&!t.isEnterHandled}}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(t,e)=>{let{target:n}=e;return!(n instanceof HTMLButtonElement)&&js(Su,t).contains(document.activeElement)}}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-i,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[i,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-i],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,i],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}]]))}constructor(t,e,n,i,r,a,s,o,l,u,h,d,f,p,g,m){Is(this,Mu),Fs(this,Lc,new AbortController),Fs(this,Nc,null),Fs(this,Ic,null),Fs(this,Fc,new Map),Fs(this,Oc,new Map),Fs(this,Bc,null),Fs(this,jc,null),Fs(this,Wc,null),Fs(this,zc,new Mc),Fs(this,Uc,null),Fs(this,Hc,null),Fs(this,Vc,null),Fs(this,Gc,0),Fs(this,qc,new Set),Fs(this,Xc,null),Fs(this,Yc,null),Fs(this,Kc,new Set),c(this,"_editorUndoBar",null),Fs(this,Qc,!1),Fs(this,$c,!1),Fs(this,Jc,!1),Fs(this,Zc,null),Fs(this,tu,null),Fs(this,eu,null),Fs(this,nu,null),Fs(this,iu,!1),Fs(this,ru,null),Fs(this,au,new vc),Fs(this,su,!1),Fs(this,ou,!1),Fs(this,lu,!1),Fs(this,cu,null),Fs(this,uu,null),Fs(this,hu,null),Fs(this,du,null),Fs(this,fu,null),Fs(this,pu,wo.NONE),Fs(this,gu,new Set),Fs(this,mu,null),Fs(this,vu,null),Fs(this,yu,null),Fs(this,bu,null),Fs(this,wu,null),Fs(this,xu,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1}),Fs(this,_u,[0,0]),Fs(this,ku,null),Fs(this,Su,null),Fs(this,Au,null),Fs(this,Eu,null),Fs(this,Cu,null);const v=this._signal=js(Lc,this).signal;Ws(Su,this,t),Ws(Au,this,e),Ws(Eu,this,n),Ws(Bc,this,i),Ws(Uc,this,r),Ws(vu,this,a),Ws(wu,this,o),this._eventBus=s,s._on("editingaction",this.onEditingAction.bind(this),{signal:v}),s._on("pagechanging",this.onPageChanging.bind(this),{signal:v}),s._on("scalechanging",this.onScaleChanging.bind(this),{signal:v}),s._on("rotationchanging",this.onRotationChanging.bind(this),{signal:v}),s._on("setpreference",this.onSetPreference.bind(this),{signal:v}),s._on("switchannotationeditorparams",(t=>this.updateParams(t.type,t.value)),{signal:v}),window.addEventListener("pointerdown",(()=>{Ws(ou,this,!0)}),{capture:!0,signal:v}),window.addEventListener("pointerup",(()=>{Ws(ou,this,!1)}),{capture:!0,signal:v}),Os(Mu,this,Iu).call(this),Os(Mu,this,Uu).call(this),Os(Mu,this,Bu).call(this),Ws(jc,this,o.annotationStorage),Ws(Zc,this,o.filterFactory),Ws(yu,this,l),Ws(nu,this,u||null),Ws(Qc,this,h),Ws($c,this,d),Ws(Jc,this,f),Ws(fu,this,p||null),this.viewParameters={realScale:wl.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=g||null,this._supportsPinchToZoom=!1!==m,null===r||void 0===r||r.setSidebarUiManager(this)}destroy(){var t,e,n,i,r,a,s,o,l;null===(t=js(Cu,this))||void 0===t||t.resolve(),Ws(Cu,this,null),null===(e=js(Lc,this))||void 0===e||e.abort(),Ws(Lc,this,null),this._signal=null;for(const c of js(Oc,this).values())c.destroy();js(Oc,this).clear(),js(Fc,this).clear(),js(Kc,this).clear(),null===(n=js(du,this))||void 0===n||n.clear(),Ws(Nc,this,null),js(gu,this).clear(),js(zc,this).destroy(),null===(i=js(Bc,this))||void 0===i||i.destroy(),null===(r=js(Uc,this))||void 0===r||r.destroy(),null===(a=js(vu,this))||void 0===a||a.destroy(),null===(s=js(ru,this))||void 0===s||s.hide(),Ws(ru,this,null),null===(o=js(hu,this))||void 0===o||o.destroy(),Ws(hu,this,null),Ws(Ic,this,null),js(tu,this)&&(clearTimeout(js(tu,this)),Ws(tu,this,null)),js(ku,this)&&(clearTimeout(js(ku,this)),Ws(ku,this,null)),null===(l=this._editorUndoBar)||void 0===l||l.destroy(),Ws(wu,this,null)}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return js(fu,this)}get useNewAltTextFlow(){return js($c,this)}get useNewAltTextWhenAddingImage(){return js(Jc,this)}get hcmFilter(){return Qo(this,"hcmFilter",js(yu,this)?js(Zc,this).addHCMFilter(js(yu,this).foreground,js(yu,this).background):"none")}get direction(){return Qo(this,"direction",getComputedStyle(js(Su,this)).direction)}get _highlightColors(){return Qo(this,"_highlightColors",js(nu,this)?new Map(js(nu,this).split(",").map((t=>(t=t.split("=").map((t=>t.trim())),t[1]=t[1].toUpperCase(),t)))):null)}get highlightColors(){const{_highlightColors:t}=this;if(!t)return Qo(this,"highlightColors",null);const e=new Map,n=!!js(yu,this);for(const[i,r]of t){const t=i.endsWith("_HCM");n&&t?e.set(i.replace("_HCM",""),r):n||t||e.set(i,r)}return Qo(this,"highlightColors",e)}get highlightColorNames(){return Qo(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,(t=>t.reverse()))):null)}getNonHCMColor(t){if(!this._highlightColors)return t;const e=this.highlightColorNames.get(t);return this._highlightColors.get(e)||t}getNonHCMColorName(t){return this.highlightColorNames.get(t)||t}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),Ws(Vc,this,t)}setMainHighlightColorPicker(t){Ws(hu,this,t)}editAltText(t){var e;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];null===(e=js(Bc,this))||void 0===e||e.editAltText(this,t,n)}hasCommentManager(){return!!js(Uc,this)}editComment(t,e,n,i){var r;null===(r=js(Uc,this))||void 0===r||r.showDialog(this,t,e,n,i)}selectComment(t,e){const n=js(Oc,this).get(t),i=null===n||void 0===n?void 0:n.getEditorByUID(e);null===i||void 0===i||i.toggleComment(!0,!0)}updateComment(t){var e;null===(e=js(Uc,this))||void 0===e||e.updateComment(t.getData())}updatePopupColor(t){var e;null===(e=js(Uc,this))||void 0===e||e.updatePopupColor(t)}removeComment(t){var e;null===(e=js(Uc,this))||void 0===e||e.removeComments([t.uid])}toggleComment(t,e){var n;let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;null===(n=js(Uc,this))||void 0===n||n.toggleCommentPopup(t,e,i)}makeCommentColor(t,e){var n;return t&&(null===(n=js(Uc,this))||void 0===n?void 0:n.makeCommentColor(t,e))||null}getCommentDialogElement(){var t;return(null===(t=js(Uc,this))||void 0===t?void 0:t.dialogElement)||null}async waitForEditorsRendered(t){if(js(Oc,this).has(t-1))return;const{resolve:e,promise:n}=Promise.withResolvers(),i=n=>{n.pageNumber===t&&(this._eventBus._off("editorsrendered",i),e())};this._eventBus.on("editorsrendered",i),await n}getSignature(t){var e;null===(e=js(vu,this))||void 0===e||e.getSignature({uiManager:this,editor:t})}get signatureManager(){return js(vu,this)}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference(t){let{name:e,value:n}=t;if("enableNewAltTextWhenAddingImage"===e)Ws(Jc,this,n)}onPageChanging(t){let{pageNumber:e}=t;Ws(Gc,this,e-1)}focusMainContainer(){js(Su,this).focus()}findParent(t,e){for(const n of js(Oc,this).values()){const{x:i,y:r,width:a,height:s}=n.div.getBoundingClientRect();if(t>=i&&t<=i+a&&e>=r&&e<=r+s)return n}return null}disableUserSelect(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];js(Au,this).classList.toggle("noUserSelect",t)}addShouldRescale(t){js(Kc,this).add(t)}removeShouldRescale(t){js(Kc,this).delete(t)}onScaleChanging(t){var e;let{scale:n}=t;this.commitOrRemove(),this.viewParameters.realScale=n*wl.PDF_TO_CSS_UNITS;for(const i of js(Kc,this))i.onScaleChanging();null===(e=js(Vc,this))||void 0===e||e.onScaleChanging()}onRotationChanging(t){let{pagesRotation:e}=t;this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:i,anchorOffset:r,focusNode:a,focusOffset:s}=n,o=n.toString(),l=Os(Mu,this,Pu).call(this,n).closest(".textLayer"),c=this.getSelectionBoxes(l);if(!c)return;n.empty();const u=Os(Mu,this,Ru).call(this,l),h=js(pu,this)===wo.NONE,d=()=>{const n=null===u||void 0===u?void 0:u.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:c,anchorNode:i,anchorOffset:r,focusNode:a,focusOffset:s,text:o});h&&this.showAllEditors("highlight",!0,!0),e&&(null===n||void 0===n||n.editComment())};h?this.switchToMode(wo.HIGHLIGHT,d):d()}commentSelection(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.highlightSelection(t,!0)}getAndRemoveDataFromAnnotationStorage(t){if(!js(jc,this))return null;const e="".concat(bo).concat(t),n=js(jc,this).getRawValue(e);return n&&js(jc,this).remove(e),n}addToAnnotationStorage(t){t.isEmpty()||!js(jc,this)||js(jc,this).has(t.id)||js(jc,this).setValue(t.id,t)}a11yAlert(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=js(Eu,this);n&&(n.setAttribute("data-l10n-id",t),e?n.setAttribute("data-l10n-args",JSON.stringify(e)):n.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,js(iu,this)&&(Ws(iu,this,!1),Os(Mu,this,Nu).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of js(gu,this))if(e.div.contains(t)){Ws(uu,this,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!js(uu,this))return;const[t,e]=js(uu,this);Ws(uu,this,null),e.addEventListener("focusin",(()=>{t._focusEventsAllowed=!0}),{once:!0,signal:this._signal}),e.focus()}addEditListeners(){Os(Mu,this,Bu).call(this),Os(Mu,this,Wu).call(this)}removeEditListeners(){Os(Mu,this,ju).call(this),Os(Mu,this,zu).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const n of js(Yc,this))if(n.isHandlingMimeForPasting(e))return t.dataTransfer.dropEffect="copy",void t.preventDefault()}drop(t){for(const e of t.dataTransfer.items)for(const n of js(Yc,this))if(n.isHandlingMimeForPasting(e.type))return n.paste(e,this.currentLayer),void t.preventDefault()}copy(t){var e;if(t.preventDefault(),null===(e=js(Nc,this))||void 0===e||e.commitOrRemove(),!this.hasSelection)return;const n=[];for(const i of js(gu,this)){const t=i.serialize(!0);t&&n.push(t)}0!==n.length&&t.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const a of e.items)for(const t of js(Yc,this))if(t.isHandlingMimeForPasting(a.type))return void t.paste(a,this.currentLayer);let n=e.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(r){return void Go('paste: "'.concat(r.message,'".'))}if(!Array.isArray(n))return;this.unselectAll();const i=this.currentLayer;try{const t=[];for(const a of n){const e=await i.deserialize(a);if(!e)return;t.push(e)}const e=()=>{for(const e of t)Os(Mu,this,Xu).call(this,e);Os(Mu,this,Qu).call(this,t)},r=()=>{for(const e of t)e.remove()};this.addCommands({cmd:e,undo:r,mustExec:!0})}catch(r){Go('paste: "'.concat(r.message,'".'))}}keydown(t){this.isShiftKeyDown||"Shift"!==t.key||(this.isShiftKeyDown=!0),js(pu,this)===wo.NONE||this.isEditorHandlingKeyboard||Tu._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&"Shift"===t.key&&(this.isShiftKeyDown=!1,js(iu,this)&&(Ws(iu,this,!1),Os(Mu,this,Nu).call(this,"main_toolbar")))}onEditingAction(t){let{name:e}=t;switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu")}}setEditingState(t){t?(Os(Mu,this,Fu).call(this),Os(Mu,this,Wu).call(this),Os(Mu,this,Hu).call(this,{isEditing:js(pu,this)!==wo.NONE,isEmpty:Os(Mu,this,Ku).call(this),hasSomethingToUndo:js(zc,this).hasSomethingToUndo(),hasSomethingToRedo:js(zc,this).hasSomethingToRedo(),hasSelectedEditor:!1})):(Os(Mu,this,Ou).call(this),Os(Mu,this,zu).call(this),Os(Mu,this,Hu).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!js(Yc,this)){Ws(Yc,this,t);for(const t of js(Yc,this))Os(Mu,this,Vu).call(this,t.defaultPropertiesToUpdate)}}getId(){return js(au,this).id}get currentLayer(){return js(Oc,this).get(js(Gc,this))}getLayer(t){return js(Oc,this).get(t)}get currentPageIndex(){return js(Gc,this)}addLayer(t){js(Oc,this).set(t.pageIndex,t),js(su,this)?t.enable():t.disable()}removeLayer(t){js(Oc,this).delete(t.pageIndex)}async updateMode(t){var e,n;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(js(pu,this)!==t&&(!js(Cu,this)||(await js(Cu,this).promise,js(Cu,this)))){var o,l;if(Ws(Cu,this,Promise.withResolvers()),null===(e=js(Vc,this))||void 0===e||e.commitOrRemove(),js(pu,this)===wo.POPUP)null===(o=js(Uc,this))||void 0===o||o.hideSidebar();if(null===(n=js(Uc,this))||void 0===n||n.destroyPopup(),Ws(pu,this,t),t===wo.NONE){var c;this.setEditingState(!1),Os(Mu,this,qu).call(this);for(const t of js(Fc,this).values())t.hideStandaloneCommentButton();return null===(c=this._editorUndoBar)||void 0===c||c.hide(),this.toggleComment(null),void js(Cu,this).resolve()}for(const t of js(Fc,this).values())t.addStandaloneCommentButton();if(t===wo.SIGNATURE)await(null===(l=js(vu,this))||void 0===l?void 0:l.loadSignatures());this.setEditingState(!0),await Os(Mu,this,Gu).call(this),this.unselectAll();for(const e of js(Oc,this).values())e.updateMode(t);if(t===wo.POPUP){var u;js(Ic,this)||Ws(Ic,this,await js(wu,this).getAnnotationsByType(new Set(js(Yc,this).map((t=>t._editorType)))));const t=new Set,e=[];for(const n of js(Fc,this).values()){const{annotationElementId:i,hasComment:r,deleted:a}=n;i&&t.add(i),r&&!a&&e.push(n.getData())}for(const n of js(Ic,this)){const{id:i,popupRef:r,contentsObj:a}=n;r&&null!==a&&void 0!==a&&a.str&&!t.has(i)&&!js(qc,this).has(i)&&e.push(n)}null===(u=js(Uc,this))||void 0===u||u.showSidebar(e)}if(!i)return r&&this.addNewEditorFromKeyboard(),void js(Cu,this).resolve();for(const t of js(Fc,this).values())t.uid===i?(this.setSelected(t),s?t.editComment():a?t.enterInEditMode():t.focus()):t.unselect();js(Cu,this).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==js(pu,this)&&this._eventBus.dispatch("switchannotationeditormode",h({source:this},t))}updateParams(t,e){if(js(Yc,this)){switch(t){case xo.CREATE:return void this.currentLayer.addNewEditor(e);case xo.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(js(bu,this)||Ws(bu,this,new Map)).set(t,e),this.showAllEditors("highlight",e)}if(this.hasSelection)for(const n of js(gu,this))n.updateParams(t,e);else for(const n of js(Yc,this))n.updateDefaultParams(t,e)}}showAllEditors(t,e){var n,i;for(const r of js(Fc,this).values())r.editorType===t&&r.show(e);(null===(n=null===(i=js(bu,this))||void 0===i?void 0:i.get(xo.HIGHLIGHT_SHOW_ALL))||void 0===n||n)!==e&&Os(Mu,this,Vu).call(this,[[xo.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(js(lu,this)!==t){Ws(lu,this,t);for(const e of js(Oc,this).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}*getEditors(t){for(const e of js(Fc,this).values())e.pageIndex===t&&(yield e)}getEditor(t){return js(Fc,this).get(t)}addEditor(t){js(Fc,this).set(t.id,t)}removeEditor(t){var e,n;(t.div.contains(document.activeElement)&&(js(tu,this)&&clearTimeout(js(tu,this)),Ws(tu,this,setTimeout((()=>{this.focusMainContainer(),Ws(tu,this,null)}),0))),js(Fc,this).delete(t.id),t.annotationElementId)&&(null===(e=js(du,this))||void 0===e||e.delete(t.annotationElementId));(this.unselect(t),t.annotationElementId&&js(qc,this).has(t.annotationElementId))||(null===(n=js(jc,this))||void 0===n||n.remove(t.id))}addDeletedAnnotationElement(t){js(qc,this).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return js(qc,this).has(t)}removeDeletedAnnotationElement(t){js(qc,this).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){js(Nc,this)!==t&&(Ws(Nc,this,t),t&&Os(Mu,this,Vu).call(this,t.propertiesToUpdate))}updateUI(t){Bs(Mu,this,Yu)===t&&Os(Mu,this,Vu).call(this,t.propertiesToUpdate)}updateUIForDefaultProperties(t){Os(Mu,this,Vu).call(this,t.defaultPropertiesToUpdate)}toggleSelected(t){if(js(gu,this).has(t))return js(gu,this).delete(t),t.unselect(),void Os(Mu,this,Hu).call(this,{hasSelectedEditor:this.hasSelection});js(gu,this).add(t),t.select(),Os(Mu,this,Vu).call(this,t.propertiesToUpdate),Os(Mu,this,Hu).call(this,{hasSelectedEditor:!0})}setSelected(t){var e;this.updateToolbar({mode:t.mode,editId:t.id}),null===(e=js(Vc,this))||void 0===e||e.commitOrRemove();for(const n of js(gu,this))n!==t&&n.unselect();js(gu,this).clear(),js(gu,this).add(t),t.select(),Os(Mu,this,Vu).call(this,t.propertiesToUpdate),Os(Mu,this,Hu).call(this,{hasSelectedEditor:!0})}isSelected(t){return js(gu,this).has(t)}get firstSelectedEditor(){return js(gu,this).values().next().value}unselect(t){t.unselect(),js(gu,this).delete(t),Os(Mu,this,Hu).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==js(gu,this).size}get isEnterHandled(){return 1===js(gu,this).size&&this.firstSelectedEditor.isEnterHandled}undo(){var t;js(zc,this).undo(),Os(Mu,this,Hu).call(this,{hasSomethingToUndo:js(zc,this).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Os(Mu,this,Ku).call(this)}),null===(t=this._editorUndoBar)||void 0===t||t.hide()}redo(){js(zc,this).redo(),Os(Mu,this,Hu).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:js(zc,this).hasSomethingToRedo(),isEmpty:Os(Mu,this,Ku).call(this)})}addCommands(t){js(zc,this).add(t),Os(Mu,this,Hu).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Os(Mu,this,Ku).call(this)})}cleanUndoStack(t){js(zc,this).cleanType(t)}delete(){var t;this.commitOrRemove();const e=null===(t=this.currentLayer)||void 0===t?void 0:t.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const n=e?[e]:[...js(gu,this)],i=()=>{for(const t of n)Os(Mu,this,Xu).call(this,t)};this.addCommands({cmd:()=>{var t;null===(t=this._editorUndoBar)||void 0===t||t.show(i,1===n.length?n[0].editorType:n.length);for(const e of n)e.remove()},undo:i,mustExec:!0})}commitOrRemove(){var t;null===(t=js(Nc,this))||void 0===t||t.commitOrRemove()}hasSomethingToControl(){return js(Nc,this)||this.hasSelection}selectAll(){for(const t of js(gu,this))t.commit();Os(Mu,this,Qu).call(this,js(Fc,this).values())}unselectAll(){var t;if((!js(Nc,this)||(js(Nc,this).commitOrRemove(),js(pu,this)===wo.NONE))&&(null===(t=js(Vc,this))||void 0===t||!t.commitOrRemove())&&this.hasSelection){for(const t of js(gu,this))t.unselect();js(gu,this).clear(),Os(Mu,this,Hu).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]||this.commitOrRemove(),!this.hasSelection)return;js(_u,this)[0]+=t,js(_u,this)[1]+=e;const[n,i]=js(_u,this),r=[...js(gu,this)];js(ku,this)&&clearTimeout(js(ku,this)),Ws(ku,this,setTimeout((()=>{Ws(ku,this,null),js(_u,this)[0]=js(_u,this)[1]=0,this.addCommands({cmd:()=>{for(const t of r)js(Fc,this).has(t.id)&&(t.translateInPage(n,i),t.translationDone())},undo:()=>{for(const t of r)js(Fc,this).has(t.id)&&(t.translateInPage(-n,-i),t.translationDone())},mustExec:!1})}),1e3));for(const a of r)a.translateInPage(t,e),a.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),Ws(Xc,this,new Map);for(const t of js(gu,this))js(Xc,this).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!js(Xc,this))return!1;this.disableUserSelect(!1);const t=js(Xc,this);Ws(Xc,this,null);let e=!1;for(const[{x:i,y:r,pageIndex:a},s]of t)s.newX=i,s.newY=r,s.newPageIndex=a,e||(e=i!==s.savedX||r!==s.savedY||a!==s.savedPageIndex);if(!e)return!1;const n=(t,e,n,i)=>{if(js(Fc,this).has(t.id)){const r=js(Oc,this).get(i);r?t._setParentAndPosition(r,e,n):(t.pageIndex=i,t.x=e,t.y=n)}};return this.addCommands({cmd:()=>{for(const[e,{newX:i,newY:r,newPageIndex:a}]of t)n(e,i,r,a)},undo:()=>{for(const[e,{savedX:i,savedY:r,savedPageIndex:a}]of t)n(e,i,r,a)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(js(Xc,this))for(const n of js(Xc,this).keys())n.drag(t,e)}rebuild(t){if(null===t.parent){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return(null===(t=this.getActive())||void 0===t?void 0:t.shouldGetKeyboardEvents())||1===js(gu,this).size&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return js(Nc,this)===t}getActive(){return js(Nc,this)}getMode(){return js(pu,this)}isEditingMode(){return js(pu,this)!==wo.NONE}get imageManager(){return Qo(this,"imageManager",new _c)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let l=0,c=e.rangeCount;l<c;l++)if(!t.contains(e.getRangeAt(l).commonAncestorContainer))return null;const{x:n,y:i,width:r,height:a}=t.getBoundingClientRect();let s;switch(t.getAttribute("data-main-rotation")){case"90":s=(t,e,s,o)=>({x:(e-i)/a,y:1-(t+s-n)/r,width:o/a,height:s/r});break;case"180":s=(t,e,s,o)=>({x:1-(t+s-n)/r,y:1-(e+o-i)/a,width:s/r,height:o/a});break;case"270":s=(t,e,s,o)=>({x:1-(e+o-i)/a,y:(t-n)/r,width:o/a,height:s/r});break;default:s=(t,e,s,o)=>({x:(t-n)/r,y:(e-i)/a,width:s/r,height:o/a})}const o=[];for(let l=0,c=e.rangeCount;l<c;l++){const t=e.getRangeAt(l);if(!t.collapsed)for(const{x:e,y:n,width:i,height:r}of t.getClientRects())0!==i&&0!==r&&o.push(s(e,n,i,r))}return 0===o.length?null:o}addChangedExistingAnnotation(t){let{annotationElementId:e,id:n}=t;(js(Wc,this)||Ws(Wc,this,new Map)).set(e,n)}removeChangedExistingAnnotation(t){var e;let{annotationElementId:n}=t;null===(e=js(Wc,this))||void 0===e||e.delete(n)}renderAnnotationElement(t){var e;const n=null===(e=js(Wc,this))||void 0===e?void 0:e.get(t.data.id);if(!n)return;const i=js(jc,this).getRawValue(n);i&&(js(pu,this)!==wo.NONE||i.hasBeenModified)&&i.renderAnnotationElement(t)}setMissingCanvas(t,e,n){var i;const r=null===(i=js(du,this))||void 0===i?void 0:i.get(t);r&&(r.setCanvas(e,n),js(du,this).delete(t))}addMissingCanvas(t,e){(js(du,this)||Ws(du,this,new Map)).set(t,e)}}function Pu(t){let{anchorNode:e}=t;return e.nodeType===Node.TEXT_NODE?e.parentElement:e}function Ru(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const n of js(Oc,this).values())if(n.hasTextLayer(t))return n;return null}function Du(){const t=document.getSelection();if(!t||t.isCollapsed)return;const e=Os(Mu,this,Pu).call(this,t).closest(".textLayer"),n=this.getSelectionBoxes(e);n&&(js(ru,this)||Ws(ru,this,new hc(this)),js(ru,this).show(e,n,"ltr"===this.direction))}function Lu(){var t;const e=document.getSelection();if(!e||e.isCollapsed){var n;if(js(mu,this))null===(n=js(ru,this))||void 0===n||n.hide(),Ws(mu,this,null),Os(Mu,this,Hu).call(this,{hasSelectedText:!1});return}const{anchorNode:i}=e;if(i===js(mu,this))return;const r=Os(Mu,this,Pu).call(this,e).closest(".textLayer");var a;if(r){if(null===(t=js(ru,this))||void 0===t||t.hide(),Ws(mu,this,i),Os(Mu,this,Hu).call(this,{hasSelectedText:!0}),(js(pu,this)===wo.HIGHLIGHT||js(pu,this)===wo.NONE)&&(js(pu,this)===wo.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),Ws(iu,this,this.isShiftKeyDown),!this.isShiftKeyDown)){const t=js(pu,this)===wo.HIGHLIGHT?Os(Mu,this,Ru).call(this,r):null;if(null===t||void 0===t||t.toggleDrawing(),js(ou,this)){const e=new AbortController,n=this.combinedSignal(e),i=n=>{"pointerup"===n.type&&0!==n.button||(e.abort(),null===t||void 0===t||t.toggleDrawing(!0),"pointerup"===n.type&&Os(Mu,this,Nu).call(this,"main_toolbar"))};window.addEventListener("pointerup",i,{signal:n}),window.addEventListener("blur",i,{signal:n})}else null===t||void 0===t||t.toggleDrawing(!0),Os(Mu,this,Nu).call(this,"main_toolbar")}}else js(mu,this)&&(null===(a=js(ru,this))||void 0===a||a.hide(),Ws(mu,this,null),Os(Mu,this,Hu).call(this,{hasSelectedText:!1}))}function Nu(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";js(pu,this)===wo.HIGHLIGHT?this.highlightSelection(t):js(Qc,this)&&Os(Mu,this,Du).call(this)}function Iu(){document.addEventListener("selectionchange",Os(Mu,this,Lu).bind(this),{signal:this._signal})}function Fu(){if(js(eu,this))return;Ws(eu,this,new AbortController);const t=this.combinedSignal(js(eu,this));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})}function Ou(){var t;null===(t=js(eu,this))||void 0===t||t.abort(),Ws(eu,this,null)}function Bu(){if(js(cu,this))return;Ws(cu,this,new AbortController);const t=this.combinedSignal(js(cu,this));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})}function ju(){var t;null===(t=js(cu,this))||void 0===t||t.abort(),Ws(cu,this,null)}function Wu(){if(js(Hc,this))return;Ws(Hc,this,new AbortController);const t=this.combinedSignal(js(Hc,this));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})}function zu(){var t;null===(t=js(Hc,this))||void 0===t||t.abort(),Ws(Hc,this,null)}function Uu(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}function Hu(t){const e=Object.entries(t).some((t=>{let[e,n]=t;return js(xu,this)[e]!==n}));e&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(js(xu,this),t)}),js(pu,this)===wo.HIGHLIGHT&&!1===t.hasSelectedEditor&&Os(Mu,this,Vu).call(this,[[xo.HIGHLIGHT_FREE,!0]]))}function Vu(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}async function Gu(){if(!js(su,this)){Ws(su,this,!0);const t=[];for(const e of js(Oc,this).values())t.push(e.enable());await Promise.all(t);for(const e of js(Fc,this).values())e.enable()}}function qu(){if(this.unselectAll(),js(su,this)){Ws(su,this,!1);for(const t of js(Oc,this).values())t.disable();for(const t of js(Fc,this).values())t.disable()}}function Xu(t){const e=js(Oc,this).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}function Yu(t){let e=null;for(e of js(gu,t));return e}function Ku(){if(0===js(Fc,this).size)return!0;if(1===js(Fc,this).size)for(const t of js(Fc,this).values())return t.isEmpty();return!1}function Qu(t){for(const e of js(gu,this))e.unselect();js(gu,this).clear();for(const e of t)e.isEmpty()||(js(gu,this).add(e),e.select());Os(Mu,this,Hu).call(this,{hasSelectedEditor:this.hasSelection})}c(Tu,"TRANSLATE_SMALL",1),c(Tu,"TRANSLATE_BIG",10);var $u=new WeakMap,Ju=new WeakMap,Zu=new WeakMap,th=new WeakMap,eh=new WeakMap,nh=new WeakMap,ih=new WeakMap,rh=new WeakMap,ah=new WeakMap,sh=new WeakMap,oh=new WeakMap,lh=new WeakMap,ch=new WeakSet;class uh{constructor(t){Is(this,ch),Fs(this,$u,null),Fs(this,Ju,!1),Fs(this,Zu,null),Fs(this,th,null),Fs(this,eh,null),Fs(this,nh,null),Fs(this,ih,!1),Fs(this,rh,null),Fs(this,ah,null),Fs(this,sh,null),Fs(this,oh,null),Fs(this,lh,!1),Ws(ah,this,t),Ws(lh,this,t._uiManager.useNewAltTextFlow),fh._||(fh._=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){var e;null!==(e=uh._l10n)&&void 0!==e||(uh._l10n=t)}async render(){const t=Ws(Zu,this,document.createElement("button"));t.className="altText",t.tabIndex="0";const e=Ws(th,this,document.createElement("span"));t.append(e),js(lh,this)?(t.classList.add("new"),t.setAttribute("data-l10n-id",fh._.missing),e.setAttribute("data-l10n-id",fh._["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=js(ah,this)._uiManager._signal;t.addEventListener("contextmenu",Ml,{signal:n}),t.addEventListener("pointerdown",(t=>t.stopPropagation()),{signal:n});const i=t=>{t.preventDefault(),js(ah,this)._uiManager.editAltText(js(ah,this)),js(lh,this)&&js(ah,this)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:Bs(ch,this,hh)}})};return t.addEventListener("click",i,{capture:!0,signal:n}),t.addEventListener("keydown",(e=>{e.target===t&&"Enter"===e.key&&(Ws(ih,this,!0),i(e))}),{signal:n}),await Os(ch,this,dh).call(this),t}finish(){js(Zu,this)&&(js(Zu,this).focus({focusVisible:js(ih,this)}),Ws(ih,this,!1))}isEmpty(){return js(lh,this)?null===js($u,this):!js($u,this)&&!js(Ju,this)}hasData(){return js(lh,this)?null!==js($u,this)||!!js(sh,this):this.isEmpty()}get guessedText(){return js(sh,this)}async setGuessedText(t){null===js($u,this)&&(Ws(sh,this,t),Ws(oh,this,await uh._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),Os(ch,this,dh).call(this))}toggleAltTextBadge(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e;if(!js(lh,this)||js($u,this))return null===(e=js(rh,this))||void 0===e||e.remove(),void Ws(rh,this,null);if(!js(rh,this)){const t=Ws(rh,this,document.createElement("div"));t.className="noAltTextBadge",js(ah,this).div.append(t)}js(rh,this).classList.toggle("hidden",!t)}serialize(t){let e=js($u,this);return t||js(sh,this)!==e||(e=js(oh,this)),{altText:e,decorative:js(Ju,this),guessedText:js(sh,this),textWithDisclaimer:js(oh,this)}}get data(){return{altText:js($u,this),decorative:js(Ju,this)}}set data(t){let{altText:e,decorative:n,guessedText:i,textWithDisclaimer:r,cancel:a=!1}=t;i&&(Ws(sh,this,i),Ws(oh,this,r)),js($u,this)===e&&js(Ju,this)===n||(a||(Ws($u,this,e),Ws(Ju,this,n)),Os(ch,this,dh).call(this))}toggle(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];js(Zu,this)&&(!t&&js(nh,this)&&(clearTimeout(js(nh,this)),Ws(nh,this,null)),js(Zu,this).disabled=!t)}shown(){js(ah,this)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:Bs(ch,this,hh)}})}destroy(){var t,e;null===(t=js(Zu,this))||void 0===t||t.remove(),Ws(Zu,this,null),Ws(th,this,null),Ws(eh,this,null),null===(e=js(rh,this))||void 0===e||e.remove(),Ws(rh,this,null)}}function hh(t){return(js($u,t)?"added":null===js($u,t)&&t.guessedText&&"review")||"missing"}async function dh(){const t=js(Zu,this);if(!t)return;if(js(lh,this)){var e,n;if(t.classList.toggle("done",!!js($u,this)),t.setAttribute("data-l10n-id",fh._[Bs(ch,this,hh)]),null===(e=js(th,this))||void 0===e||e.setAttribute("data-l10n-id",fh._["".concat(Bs(ch,this,hh),"-label")]),!js($u,this))return void(null===(n=js(eh,this))||void 0===n||n.remove())}else{var i;if(!js($u,this)&&!js(Ju,this))return t.classList.remove("done"),void(null===(i=js(eh,this))||void 0===i||i.remove());t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let r=js(eh,this);if(!r){Ws(eh,this,r=document.createElement("span")),r.className="tooltip",r.setAttribute("role","tooltip"),r.id="alt-text-tooltip-".concat(js(ah,this).id);const e=100,n=js(ah,this)._uiManager._signal;n.addEventListener("abort",(()=>{clearTimeout(js(nh,this)),Ws(nh,this,null)}),{once:!0}),t.addEventListener("mouseenter",(()=>{Ws(nh,this,setTimeout((()=>{Ws(nh,this,null),js(eh,this).classList.add("show"),js(ah,this)._reportTelemetry({action:"alt_text_tooltip"})}),e))}),{signal:n}),t.addEventListener("mouseleave",(()=>{var t;js(nh,this)&&(clearTimeout(js(nh,this)),Ws(nh,this,null)),null===(t=js(eh,this))||void 0===t||t.classList.remove("show")}),{signal:n})}js(Ju,this)?r.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(r.removeAttribute("data-l10n-id"),r.textContent=js($u,this)),r.parentNode||t.append(r);const a=js(ah,this).getElementForAltText();null===a||void 0===a||a.setAttribute("aria-describedby",r.id)}var fh={_:null};c(uh,"_l10n",null);var ph=new WeakMap,gh=new WeakMap,mh=new WeakMap,vh=new WeakMap,yh=new WeakMap,bh=new WeakMap,wh=new WeakMap,xh=new WeakMap,_h=new WeakMap,kh=new WeakMap,Sh=new WeakSet;class Ah{constructor(t){Is(this,Sh),Fs(this,ph,null),Fs(this,gh,null),Fs(this,mh,!1),Fs(this,vh,null),Fs(this,yh,null),Fs(this,bh,null),Fs(this,wh,null),Fs(this,xh,null),Fs(this,_h,!1),Fs(this,kh,null),Ws(vh,this,t)}renderForToolbar(){const t=Ws(gh,this,document.createElement("button"));return t.className="comment",Os(Sh,this,Eh).call(this,t,!1)}renderForStandalone(){const t=Ws(ph,this,document.createElement("button"));t.className="annotationCommentButton";const e=js(vh,this).commentButtonPosition;if(e){const{style:n}=t;n.insetInlineEnd="calc(".concat(100*("ltr"===js(vh,this)._uiManager.direction?1-e[0]:e[0]),"% - var(--comment-button-dim))"),n.top="calc(".concat(100*e[1],"% - var(--comment-button-dim))");const i=js(vh,this).commentButtonColor;i&&(n.backgroundColor=i)}return Os(Sh,this,Eh).call(this,t,!0)}focusButton(){setTimeout((()=>{var t,e;null===(t=null!==(e=js(ph,this))&&void 0!==e?e:js(gh,this))||void 0===t||t.focus()}),0)}onUpdatedColor(){if(!js(ph,this))return;const t=js(vh,this).commentButtonColor;t&&(js(ph,this).style.backgroundColor=t),js(vh,this)._uiManager.updatePopupColor(js(vh,this))}get commentButtonWidth(){var t,e;return(null!==(t=null===(e=js(ph,this))||void 0===e?void 0:e.getBoundingClientRect().width)&&void 0!==t?t:0)/js(vh,this).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(js(kh,this))return js(kh,this);if(!js(ph,this))return null;const{x:t,y:e,height:n}=js(ph,this).getBoundingClientRect(),{x:i,y:r,width:a,height:s}=js(vh,this).parent.boundingClientRect;return[(t-i)/a,(e+n-r)/s]}set commentPopupPositionInLayer(t){Ws(kh,this,t)}hasDefaultPopupPosition(){return null===js(kh,this)}removeStandaloneCommentButton(){var t;null===(t=js(ph,this))||void 0===t||t.remove(),Ws(ph,this,null)}removeToolbarCommentButton(){var t;null===(t=js(gh,this))||void 0===t||t.remove(),Ws(gh,this,null)}setCommentButtonStates(t){let{selected:e,hasPopup:n}=t;js(ph,this)&&(js(ph,this).classList.toggle("selected",e),js(ph,this).ariaExpanded=n)}edit(t){const e=this.commentPopupPositionInLayer;let n,i;if(e)[n,i]=e;else{[n,i]=js(vh,this).commentButtonPosition;const{width:t,height:e,x:r,y:a}=js(vh,this);n=r+n*t,i=a+i*e}const r=js(vh,this).parent.boundingClientRect,{x:a,y:s,width:o,height:l}=r;js(vh,this)._uiManager.editComment(js(vh,this),a+n*o,s+i*l,h(h({},t),{},{parentDimensions:r}))}finish(){js(gh,this)&&(js(gh,this).focus({focusVisible:js(mh,this)}),Ws(mh,this,!1))}isDeleted(){return js(_h,this)||""===js(wh,this)}isEmpty(){return null===js(wh,this)}hasBeenEdited(){return this.isDeleted()||js(wh,this)!==js(yh,this)}serialize(){return this.data}get data(){return{text:js(wh,this),richText:js(bh,this),date:js(xh,this),deleted:this.isDeleted()}}set data(t){if(t!==js(wh,this)&&Ws(bh,this,null),null===t)return Ws(wh,this,""),void Ws(_h,this,!0);Ws(wh,this,t),Ws(xh,this,new Date),Ws(_h,this,!1)}setInitialText(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Ws(yh,this,t),this.data=t,Ws(xh,this,null),Ws(bh,this,e)}shown(){}destroy(){var t,e;null===(t=js(gh,this))||void 0===t||t.remove(),Ws(gh,this,null),null===(e=js(ph,this))||void 0===e||e.remove(),Ws(ph,this,null),Ws(wh,this,""),Ws(bh,this,null),Ws(xh,this,null),Ws(vh,this,null),Ws(mh,this,!1),Ws(_h,this,!1)}}function Eh(t,e){if(!js(vh,this)._uiManager.hasCommentManager())return null;t.tabIndex="0",t.ariaHasPopup="dialog",e?(t.ariaControls="commentPopup",t.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(t.ariaControlsElements=[js(vh,this)._uiManager.getCommentDialogElement()],t.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button"));const n=js(vh,this)._uiManager._signal;if(!(n instanceof AbortSignal)||n.aborted)return t;t.addEventListener("contextmenu",Ml,{signal:n}),e&&(t.addEventListener("focusin",(t=>{js(vh,this)._focusEventsAllowed=!1,Tl(t)}),{capture:!0,signal:n}),t.addEventListener("focusout",(t=>{js(vh,this)._focusEventsAllowed=!0,Tl(t)}),{capture:!0,signal:n})),t.addEventListener("pointerdown",(t=>t.stopPropagation()),{signal:n});const i=e=>{e.preventDefault(),t===js(gh,this)?this.edit():js(vh,this).toggleComment(!0)};return t.addEventListener("click",i,{capture:!0,signal:n}),t.addEventListener("keydown",(e=>{e.target===t&&"Enter"===e.key&&(Ws(mh,this,!0),i(e))}),{signal:n}),t.addEventListener("pointerenter",(()=>{js(vh,this).toggleComment(!1,!0)}),{signal:n}),t.addEventListener("pointerleave",(()=>{js(vh,this).toggleComment(!1,!1)}),{signal:n}),t}var Ch=new WeakMap,Mh=new WeakMap,Th=new WeakMap,Ph=new WeakMap,Rh=new WeakMap,Dh=new WeakMap,Lh=new WeakMap,Nh=new WeakMap,Ih=new WeakMap,Fh=new WeakMap,Oh=new WeakMap,Bh=new WeakMap,jh=new WeakSet;class Wh{constructor(t){let{container:e,isPinchingDisabled:n=null,isPinchingStopped:i=null,onPinchStart:r=null,onPinching:a=null,onPinchEnd:s=null,signal:o}=t;Is(this,jh),Fs(this,Ch,void 0),Fs(this,Mh,!1),Fs(this,Th,null),Fs(this,Ph,void 0),Fs(this,Rh,void 0),Fs(this,Dh,void 0),Fs(this,Lh,void 0),Fs(this,Nh,null),Fs(this,Ih,void 0),Fs(this,Fh,null),Fs(this,Oh,void 0),Fs(this,Bh,null),Ws(Ch,this,e),Ws(Th,this,i),Ws(Ph,this,n),Ws(Rh,this,r),Ws(Dh,this,a),Ws(Lh,this,s),Ws(Oh,this,new AbortController),Ws(Ih,this,AbortSignal.any([o,js(Oh,this).signal])),e.addEventListener("touchstart",Os(jh,this,zh).bind(this),{passive:!1,signal:js(Ih,this)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Fl.pixelRatio}destroy(){var t,e;null===(t=js(Oh,this))||void 0===t||t.abort(),Ws(Oh,this,null),null===(e=js(Nh,this))||void 0===e||e.abort(),Ws(Nh,this,null)}}function zh(t){var e,n;if(null!==(e=js(Ph,this))&&void 0!==e&&e.call(this))return;if(1===t.touches.length){if(js(Nh,this))return;const t=Ws(Nh,this,new AbortController),e=AbortSignal.any([js(Ih,this),t.signal]),n=js(Ch,this),i={capture:!0,signal:e,passive:!1},r=t=>{var e;"touch"===t.pointerType&&(null===(e=js(Nh,this))||void 0===e||e.abort(),Ws(Nh,this,null))};return n.addEventListener("pointerdown",(t=>{"touch"===t.pointerType&&(Tl(t),r(t))}),i),n.addEventListener("pointerup",r,i),void n.addEventListener("pointercancel",r,i)}if(!js(Bh,this)){var i;Ws(Bh,this,new AbortController);const t=AbortSignal.any([js(Ih,this),js(Bh,this).signal]),e=js(Ch,this),n={signal:t,capture:!1,passive:!1};e.addEventListener("touchmove",Os(jh,this,Uh).bind(this),n);const r=Os(jh,this,Hh).bind(this);e.addEventListener("touchend",r,n),e.addEventListener("touchcancel",r,n),n.capture=!0,e.addEventListener("pointerdown",Tl,n),e.addEventListener("pointermove",Tl,n),e.addEventListener("pointercancel",Tl,n),e.addEventListener("pointerup",Tl,n),null===(i=js(Rh,this))||void 0===i||i.call(this)}if(Tl(t),2!==t.touches.length||null!==(n=js(Th,this))&&void 0!==n&&n.call(this))return void Ws(Fh,this,null);let[r,a]=t.touches;r.identifier>a.identifier&&([r,a]=[a,r]),Ws(Fh,this,{touch0X:r.screenX,touch0Y:r.screenY,touch1X:a.screenX,touch1Y:a.screenY})}function Uh(t){var e;if(!js(Fh,this)||2!==t.touches.length)return;Tl(t);let[n,i]=t.touches;n.identifier>i.identifier&&([n,i]=[i,n]);const{screenX:r,screenY:a}=n,{screenX:s,screenY:o}=i,l=js(Fh,this),{touch0X:c,touch0Y:u,touch1X:h,touch1Y:d}=l,f=h-c,p=d-u,g=s-r,m=o-a,v=Math.hypot(g,m)||1,y=Math.hypot(f,p)||1;if(!js(Mh,this)&&Math.abs(y-v)<=Gs.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=r,l.touch0Y=a,l.touch1X=s,l.touch1Y=o,!js(Mh,this))return void Ws(Mh,this,!0);const b=[(r+s)/2,(a+o)/2];null===(e=js(Dh,this))||void 0===e||e.call(this,b,y,v)}function Hh(t){if(!(t.touches.length>=2)){var e;if(js(Bh,this))js(Bh,this).abort(),Ws(Bh,this,null),null===(e=js(Lh,this))||void 0===e||e.call(this);js(Fh,this)&&(Tl(t),Ws(Fh,this,null),Ws(Mh,this,!1))}}Gs=Wh;var Vh=new WeakMap,Gh=new WeakMap,qh=new WeakMap,Xh=new WeakMap,Yh=new WeakMap,Kh=new WeakMap,Qh=new WeakMap,$h=new WeakMap,Jh=new WeakMap,Zh=new WeakMap,td=new WeakMap,ed=new WeakMap,nd=new WeakMap,id=new WeakMap,rd=new WeakMap,ad=new WeakMap,sd=new WeakMap,od=new WeakMap,ld=new WeakMap,cd=new WeakMap,ud=new WeakMap,hd=new WeakMap,dd=new WeakMap,fd=new WeakMap,pd=new WeakMap,gd=new WeakMap,md=new WeakSet;class vd{static get _resizerKeyboardManager(){const t=vd.prototype._resizeWithKeyboard,e=Tu.TRANSLATE_SMALL,n=Tu.TRANSLATE_BIG;return Qo(this,"_resizerKeyboardManager",new Pc([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,n]}],[["Escape","mac+Escape"],vd.prototype._stopResizingWithKeyboard]]))}constructor(t){Is(this,md),Fs(this,Vh,null),Fs(this,Gh,null),Fs(this,qh,null),Fs(this,Xh,null),Fs(this,Yh,null),Fs(this,Kh,!1),Fs(this,Qh,null),Fs(this,$h,""),Fs(this,Jh,null),Fs(this,Zh,null),Fs(this,td,null),Fs(this,ed,null),Fs(this,nd,null),Fs(this,id,""),Fs(this,rd,!1),Fs(this,ad,null),Fs(this,sd,!1),Fs(this,od,!1),Fs(this,ld,!1),Fs(this,cd,null),Fs(this,ud,0),Fs(this,hd,0),Fs(this,dd,null),Fs(this,fd,null),c(this,"isSelected",!1),c(this,"_isCopy",!1),c(this,"_editToolbar",null),c(this,"_initialOptions",Object.create(null)),c(this,"_initialData",null),c(this,"_isVisible",!0),c(this,"_uiManager",null),c(this,"_focusEventsAllowed",!0),Fs(this,pd,!1),Fs(this,gd,vd._zIndex++),this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null,this.annotationElementId=t.annotationElementId||null,this.creationDate=t.creationDate||new Date,this.modificationDate=t.modificationDate||null;const{rotation:e,rawDims:{pageWidth:n,pageHeight:i,pageX:r,pageY:a}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,i],this.pageTranslation=[r,a];const[s,o]=this.parentDimensions;this.x=t.x/s,this.y=t.y/o,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Qo(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new Od({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){var n;if(null!==(n=vd._l10n)&&void 0!==n||(vd._l10n=t),vd._l10nResizer||(vd._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),-1!==vd._borderLineWidth)return;const i=getComputedStyle(document.documentElement);vd._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){qo("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return js(pd,this)}set _isDraggable(t){var e;Ws(pd,this,t),null===(e=this.div)||void 0===e||e.classList.toggle("draggable",t)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(2*t),this.y+=this.width*t/(2*e);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(2*t),this.y-=this.width*t/(2*e);break;default:this.x-=this.width/2,this.y-=this.height/2}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=js(gd,this)}setParent(t){var e;null!==t?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):(Os(md,this,Fd).call(this),null===(e=js(ed,this))||void 0===e||e.remove(),Ws(ed,this,null));this.parent=t}focusin(t){this._focusEventsAllowed&&(js(rd,this)?Ws(rd,this,!1):this.parent.setSelected(this))}focusout(t){var e;if(!this._focusEventsAllowed)return;if(!this.isAttachedToDOM)return;const n=t.relatedTarget;null!==n&&void 0!==n&&n.closest("#".concat(this.id))||(t.preventDefault(),null!==(e=this.parent)&&void 0!==e&&e.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,n,i){const[r,a]=this.parentDimensions;[n,i]=this.screenToPageTranslation(n,i),this.x=(t+n)/r,this.y=(e+i)/a,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[n,i]=this.parentDimensions;this.setAt(t*n,e*i,this.width*n,this.height*i),this._onTranslated()}translate(t,e){Os(md,this,yd).call(this,this.parentDimensions,t,e)}translateInPage(t,e){js(ad,this)||Ws(ad,this,[this.x,this.y,this.width,this.height]),Os(md,this,yd).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){js(ad,this)||Ws(ad,this,[this.x,this.y,this.width,this.height]);const{div:n,parentDimensions:[i,r]}=this;if(this.x+=t/i,this.y+=e/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:t,y:e}=this.div.getBoundingClientRect();this.parent.findNewParent(this,t,e)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:s}=this;const[o,l]=this.getBaseTranslation();a+=o,s+=l;const{style:c}=n;c.left="".concat((100*a).toFixed(2),"%"),c.top="".concat((100*s).toFixed(2),"%"),this._onTranslating(a,s),n.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!js(ad,this)&&(js(ad,this)[0]!==this.x||js(ad,this)[1]!==this.y)}get _hasBeenResized(){return!!js(ad,this)&&(js(ad,this)[2]!==this.width||js(ad,this)[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:n}=vd,i=n/t,r=n/e;switch(this.rotation){case 90:return[-i,r];case 180:return[i,r];case 270:return[i,-r];default:return[-i,-r]}}get _mustFixPosition(){return!0}fixAndSetPosition(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.rotation;const{div:{style:e},pageDimensions:[n,i]}=this;let{x:r,y:a,width:s,height:o}=this;if(s*=n,o*=i,r*=n,a*=i,this._mustFixPosition)switch(t){case 0:r=gl(r,0,n-s),a=gl(a,0,i-o);break;case 90:r=gl(r,0,n-o),a=gl(a,s,i);break;case 180:r=gl(r,s,n),a=gl(a,o,i);break;case 270:r=gl(r,o,n),a=gl(a,0,i-s)}this.x=r/=n,this.y=a/=i;const[l,c]=this.getBaseTranslation();r+=l,a+=c,e.left="".concat((100*r).toFixed(2),"%"),e.top="".concat((100*a).toFixed(2),"%"),this.moveInDOM()}screenToPageTranslation(t,e){return bd.call(vd,t,e,this.parentRotation)}pageTranslationToScreen(t,e){return bd.call(vd,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,n]}=this;return[e*t,n*t]}setDims(){const{div:{style:t},width:e,height:n}=this;t.width="".concat((100*e).toFixed(2),"%"),t.height="".concat((100*n).toFixed(2),"%")}getInitialTranslation(){return[0,0]}_onResized(){}static _round(t){return Math.round(1e4*t)/1e4}_onResizing(){}altTextFinish(){var t;null===(t=js(qh,this))||void 0===t||t.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||js(od,this))return this._editToolbar;this._editToolbar=new tc(this),this.div.append(this._editToolbar.render());const{toolbarButtons:t}=this;if(t)for(const[e,n]of t)await this._editToolbar.addButton(e,n);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){var t;null===(t=this._editToolbar)||void 0===t||t.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){var t;null===(t=this._editToolbar)||void 0===t||t.removeButton("comment")}removeEditToolbar(){var t,e;null===(t=this._editToolbar)||void 0===t||t.remove(),this._editToolbar=null,null===(e=js(qh,this))||void 0===e||e.destroy()}addContainer(t){var e;const n=null===(e=this._editToolbar)||void 0===e?void 0:e.div;n?n.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return js(qh,this)||(uh.initialize(vd._l10n),Ws(qh,this,new uh(this)),js(Vh,this)&&(js(qh,this).data=js(Vh,this),Ws(Vh,this,null))),js(qh,this)}get altTextData(){var t;return null===(t=js(qh,this))||void 0===t?void 0:t.data}set altTextData(t){js(qh,this)&&(js(qh,this).data=t)}get guessedAltText(){var t;return null===(t=js(qh,this))||void 0===t?void 0:t.guessedText}async setGuessedAltText(t){var e;await(null===(e=js(qh,this))||void 0===e?void 0:e.setGuessedText(t))}serializeAltText(t){var e;return null===(e=js(qh,this))||void 0===e?void 0:e.serialize(t)}hasAltText(){return!!js(qh,this)&&!js(qh,this).isEmpty()}hasAltTextData(){var t,e;return null!==(t=null===(e=js(qh,this))||void 0===e?void 0:e.hasData())&&void 0!==t&&t}focusCommentButton(){var t;null===(t=js(Xh,this))||void 0===t||t.focusButton()}addCommentButton(){return js(Xh,this)||Ws(Xh,this,new Ah(this))}addStandaloneCommentButton(){js(Yh,this)?this._uiManager.isEditingMode()&&js(Yh,this).classList.remove("hidden"):this.hasComment&&(Ws(Yh,this,js(Xh,this).renderForStandalone()),this.div.append(js(Yh,this)))}removeStandaloneCommentButton(){js(Xh,this).removeStandaloneCommentButton(),Ws(Yh,this,null)}hideStandaloneCommentButton(){var t;null===(t=js(Yh,this))||void 0===t||t.classList.add("hidden")}get comment(){var t;const{data:{richText:e,text:n,date:i,deleted:r}}=js(Xh,this);return{text:n,richText:e,date:i,deleted:r,color:this.getNonHCMColor(),opacity:null!==(t=this.opacity)&&void 0!==t?t:1}}set comment(t){js(Xh,this)||Ws(Xh,this,new Ah(this)),js(Xh,this).data=t,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData(t){let{comment:e,popupRef:n,richText:i}=t;if(!n)return;if(js(Xh,this)||Ws(Xh,this,new Ah(this)),js(Xh,this).setInitialText(e,i),!this.annotationElementId)return;const r=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);r&&this.updateFromAnnotationLayer(r)}get hasEditedComment(){var t;return null===(t=js(Xh,this))||void 0===t?void 0:t.hasBeenEdited()}get hasDeletedComment(){var t;return null===(t=js(Xh,this))||void 0===t?void 0:t.isDeleted()}get hasComment(){return!!js(Xh,this)&&!js(Xh,this).isEmpty()&&!js(Xh,this).isDeleted()}async editComment(t){js(Xh,this)||Ws(Xh,this,new Ah(this)),js(Xh,this).edit(t)}toggleComment(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;this.hasComment&&this._uiManager.toggleComment(this,t,e)}setSelectedCommentButton(t){js(Xh,this).setSelectedButton(t)}addComment(t){if(this.hasEditedComment){const e=180,n=100,[,,,i]=t.rect,[r]=this.pageDimensions,[a]=this.pageTranslation,s=a+r+1,o=i-n,l=s+e;t.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[s,o,l,i]}}}updateFromAnnotationLayer(t){let{popup:{contents:e,deleted:n}}=t;js(Xh,this).data=n?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){var t;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=js(Kh,this)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),Os(md,this,Rd).call(this);const[n,i]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth="".concat((100*i/n).toFixed(2),"%"),e.style.maxHeight="".concat((100*n/i).toFixed(2),"%"));const[r,a]=this.getInitialTranslation();return this.translate(r,a),gc(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(js(fd,this)||Ws(fd,this,new Wh({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:Os(md,this,Ed).bind(this),onPinching:Os(md,this,Cd).bind(this),onPinchEnd:Os(md,this,Md).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),null===(t=this._uiManager._editorUndoBar)||void 0===t||t.hide(),e}pointerdown(t){const{isMac:e}=sl.platform;0!==t.button||t.ctrlKey&&e?t.preventDefault():(Ws(rd,this,!0),this._isDraggable?Os(md,this,Pd).call(this,t):Os(md,this,Td).call(this,t))}_onStartDragging(){}_onStopDragging(){}moveInDOM(){js(cd,this)&&clearTimeout(js(cd,this)),Ws(cd,this,setTimeout((()=>{var t;Ws(cd,this,null),null===(t=this.parent)||void 0===t||t.moveEditorInDOM(this)}),0))}_setParentAndPosition(t,e,n){t.changeParent(this),this.x=e,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.rotation;const i=this.parentScale,[r,a]=this.pageDimensions,[s,o]=this.pageTranslation,l=t/i,c=e/i,u=this.x*r,h=this.y*a,d=this.width*r,f=this.height*a;switch(n){case 0:return[u+l+s,a-h-c-f+o,u+l+d+s,a-h-c+o];case 90:return[u+c+s,a-h+l+o,u+c+f+s,a-h+l+d+o];case 180:return[u-l-d+s,a-h+c+o,u-l+s,a-h+c+f+o];case 270:return[u-c-f+s,a-h-l-d+o,u-c+s,a-h-l+o];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[n,i,r,a]=t,s=r-n,o=a-i;switch(this.rotation){case 0:return[n,e-a,s,o];case 90:return[n,e-i,o,s];case 180:return[r,e-i,s,o];case 270:return[r,e-a,o,s];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&vd._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){var t;null===(t=js(Xh,this))||void 0===t||t.onUpdatedColor()}getData(){const{comment:{text:t,color:e,date:n,opacity:i,deleted:r,richText:a},uid:s,pageIndex:o,creationDate:l,modificationDate:c}=this;return{id:s,pageIndex:o,rect:this.getPDFRect(),richText:a,contentsObj:{str:t},creationDate:l,modificationDate:n||c,popupRef:!r,color:e,opacity:i}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return!this.isInEditMode()&&(this.parent.setEditingState(!1),Ws(od,this,!0),!0)}disableEditMode(){return!!this.isInEditMode()&&(this.parent.setEditingState(!0),Ws(od,this,!1),!0)}isInEditMode(){return js(od,this)}shouldGetKeyboardEvents(){return js(ld,this)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:n,right:i}=this.getClientDimensions(),{innerHeight:r,innerWidth:a}=window;return e<a&&i>0&&t<r&&n>0}rebuild(){Os(md,this,Rd).call(this)}rotate(t){}resize(){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:(null===(t=this._initialData)||void 0===t?void 0:t.popupRef)||""}}serialize(){var t;return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:(null===(t=this._initialData)||void 0===t?void 0:t.popupRef)||""}}static async deserialize(t,e,n){const i=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:n,annotationElementId:t.annotationElementId,creationDate:t.creationDate,modificationDate:t.modificationDate});i.rotation=t.rotation,Ws(Vh,i,t.accessibilityData),i._isCopy=t.isCopy||!1;const[r,a]=i.pageDimensions,[s,o,l,c]=i.getRectInCurrentCoords(t.rect,a);return i.x=s/r,i.y=o/a,i.width=l/r,i.height=c/a,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||null!==this.serialize())}remove(){var t,e;if(null===(t=js(nd,this))||void 0===t||t.abort(),Ws(nd,this,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),js(cd,this)&&(clearTimeout(js(cd,this)),Ws(cd,this,null)),Os(md,this,Fd).call(this),this.removeEditToolbar(),js(dd,this)){for(const t of js(dd,this).values())clearTimeout(t);Ws(dd,this,null)}this.parent=null,null===(e=js(fd,this))||void 0===e||e.destroy(),Ws(fd,this,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(Os(md,this,xd).call(this),js(Jh,this).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return"ltr"===this._uiManager.direction?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[t,e]}=this,[n,i,r,a]=this.getPDFRect();return[vd._round(n+(r-n)*t),vd._round(i+(a-i)*(1-e))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return js(Xh,this).commentPopupPositionInLayer}set commentPopupPosition(t){js(Xh,this).commentPopupPositionInLayer=t}hasDefaultPopupPosition(){return js(Xh,this).hasDefaultPopupPosition()}get commentButtonWidth(){return js(Xh,this).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(t){js(Xh,this).setCommentButtonStates(t)}keydown(t){if(!this.isResizable||t.target!==this.div||"Enter"!==t.key)return;this._uiManager.setSelected(this),Ws(td,this,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=js(Jh,this).children;if(!js(Gh,this)){Ws(Gh,this,Array.from(e));const t=Os(md,this,Dd).bind(this),n=Os(md,this,Ld).bind(this),i=this._uiManager._signal;for(const e of js(Gh,this)){const r=e.getAttribute("data-resizer-name");e.setAttribute("role","spinbutton"),e.addEventListener("keydown",t,{signal:i}),e.addEventListener("blur",n,{signal:i}),e.addEventListener("focus",Os(md,this,Nd).bind(this,r),{signal:i}),e.setAttribute("data-l10n-id",vd._l10nResizer[r])}}const n=js(Gh,this)[0];let i=0;for(const a of e){if(a===n)break;i++}const r=(360-this.rotation+this.parentRotation)%360/90*(js(Gh,this).length/4);if(r!==i){if(r<i)for(let e=0;e<i-r;e++)js(Jh,this).append(js(Jh,this).firstChild);else if(r>i)for(let e=0;e<r-i;e++)js(Jh,this).firstChild.before(js(Jh,this).lastChild);let t=0;for(const n of e){const e=js(Gh,this)[t++].getAttribute("data-resizer-name");n.setAttribute("data-l10n-id",vd._l10nResizer[e])}}Os(md,this,Id).call(this,0),Ws(ld,this,!0),js(Jh,this).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){js(ld,this)&&Os(md,this,Ad).call(this,js(id,this),{deltaX:t,deltaY:e,fromKeyboard:!0})}_stopResizingWithKeyboard(){Os(md,this,Fd).call(this),this.div.focus()}select(){var t,e,n;this.isSelected&&this._editToolbar?this._editToolbar.show():(this.isSelected=!0,this.makeResizable(),null===(t=this.div)||void 0===t||t.classList.add("selectedEditor"),this._editToolbar?(null===(e=this._editToolbar)||void 0===e||e.show(),null===(n=js(qh,this))||void 0===n||n.toggleAltTextBadge(!1)):this.addEditToolbar().then((()=>{var t,e;null!==(t=this.div)&&void 0!==t&&t.classList.contains("selectedEditor")&&(null===(e=this._editToolbar)||void 0===e||e.show())})))}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout((()=>{var t;return null===(t=this.div)||void 0===t?void 0:t.focus({preventScroll:!0})}),0)}unselect(){var t,e,n,i,r;this.isSelected&&(this.isSelected=!1,null===(t=js(Jh,this))||void 0===t||t.classList.add("hidden"),null===(e=this.div)||void 0===e||e.classList.remove("selectedEditor"),null!==(n=this.div)&&void 0!==n&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),null===(i=this._editToolbar)||void 0===i||i.hide(),null===(r=js(qh,this))||void 0===r||r.toggleAltTextBadge(!0),this.hasComment&&this._uiManager.toggleComment(this,!1,!1))}updateParams(t,e){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){"BUTTON"!==t.target.nodeName&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return js(sd,this)}set isEditing(t){Ws(sd,this,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){js(dd,this)||Ws(dd,this,new Map);const{action:e}=t;let n=js(dd,this).get(e);return n&&clearTimeout(n),n=setTimeout((()=>{this._reportTelemetry(t),js(dd,this).delete(e),0===js(dd,this).size&&Ws(dd,this,null)}),vd._telemetryTimeout),void js(dd,this).set(e,n)}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._isVisible;this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),Ws(Kh,this,!1)}disable(){this.div&&(this.div.tabIndex=-1),Ws(Kh,this,!0)}updateFakeAnnotationElement(t){if(js(ed,this)||this.deleted)return this.deleted?(js(ed,this).remove(),void Ws(ed,this,null)):void((this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&js(ed,this).updateEdited({rect:this.getPDFRect(),popup:this.comment}));Ws(ed,this,t.addFakeAnnotation(this))}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;let e=t.container.querySelector(".annotationContent");if(e){if("CANVAS"===e.nodeName){const t=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.before(e)}}else e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);return e}resetAnnotationElement(t){const{firstChild:e}=t.container;"DIV"===(null===e||void 0===e?void 0:e.nodeName)&&e.classList.contains("annotationContent")&&e.remove()}}function yd(t,e,n){let[i,r]=t;[e,n]=this.screenToPageTranslation(e,n),this.x+=e/i,this.y+=n/r,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}function bd(t,e,n){switch(n){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}}function wd(t){switch(t){case 90:{const[t,e]=this.pageDimensions;return[0,-t/e,e/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,e]=this.pageDimensions;return[0,t/e,-e/t,0]}default:return[1,0,0,1]}}function xd(){if(js(Jh,this))return;Ws(Jh,this,document.createElement("div")),js(Jh,this).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const n of t){const t=document.createElement("div");js(Jh,this).append(t),t.classList.add("resizer",n),t.setAttribute("data-resizer-name",n),t.addEventListener("pointerdown",Os(md,this,_d).bind(this,n),{signal:e}),t.addEventListener("contextmenu",Ml,{signal:e}),t.tabIndex=-1}this.div.prepend(js(Jh,this))}function _d(t,e){var n;e.preventDefault();const{isMac:i}=sl.platform;if(0!==e.button||e.ctrlKey&&i)return;null===(n=js(qh,this))||void 0===n||n.toggle(!1);const r=this._isDraggable;this._isDraggable=!1,Ws(Zh,this,[e.screenX,e.screenY]);const a=new AbortController,s=this._uiManager.combinedSignal(a);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",Os(md,this,Ad).bind(this,t),{passive:!0,capture:!0,signal:s}),window.addEventListener("touchmove",Tl,{passive:!1,signal:s}),window.addEventListener("contextmenu",Ml,{signal:s}),Ws(td,this,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const o=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const c=()=>{var t;a.abort(),this.parent.togglePointerEvents(!0),null===(t=js(qh,this))||void 0===t||t.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=o,this.div.style.cursor=l,Os(md,this,Sd).call(this)};window.addEventListener("pointerup",c,{signal:s}),window.addEventListener("blur",c,{signal:s})}function kd(t,e,n,i){this.width=n,this.height=i,this.x=t,this.y=e,this.setDims(),this.fixAndSetPosition(),this._onResized()}function Sd(){if(!js(td,this))return;const{savedX:t,savedY:e,savedWidth:n,savedHeight:i}=js(td,this);Ws(td,this,null);const r=this.x,a=this.y,s=this.width,o=this.height;r===t&&a===e&&s===n&&o===i||this.addCommands({cmd:Os(md,this,kd).bind(this,r,a,s,o),undo:Os(md,this,kd).bind(this,t,e,n,i),mustExec:!0})}function Ad(t,e){const[n,i]=this.parentDimensions,r=this.x,a=this.y,s=this.width,o=this.height,l=qs.MIN_SIZE/n,c=qs.MIN_SIZE/i,u=Os(md,this,wd).call(this,this.rotation),h=(t,e)=>[u[0]*t+u[2]*e,u[1]*t+u[3]*e],d=Os(md,this,wd).call(this,360-this.rotation);let f,p,g=!1,m=!1;switch(t){case"topLeft":g=!0,f=(t,e)=>[0,0],p=(t,e)=>[t,e];break;case"topMiddle":f=(t,e)=>[t/2,0],p=(t,e)=>[t/2,e];break;case"topRight":g=!0,f=(t,e)=>[t,0],p=(t,e)=>[0,e];break;case"middleRight":m=!0,f=(t,e)=>[t,e/2],p=(t,e)=>[0,e/2];break;case"bottomRight":g=!0,f=(t,e)=>[t,e],p=(t,e)=>[0,0];break;case"bottomMiddle":f=(t,e)=>[t/2,e],p=(t,e)=>[t/2,0];break;case"bottomLeft":g=!0,f=(t,e)=>[0,e],p=(t,e)=>[t,0];break;case"middleLeft":m=!0,f=(t,e)=>[0,e/2],p=(t,e)=>[t,e/2]}const v=f(s,o),y=p(s,o);let b=h(...y);const w=qs._round(r+b[0]),x=qs._round(a+b[1]);let _,k,S=1,A=1;if(e.fromKeyboard)({deltaX:_,deltaY:k}=e);else{const{screenX:t,screenY:n}=e,[i,r]=js(Zh,this);[_,k]=this.screenToPageTranslation(t-i,n-r),js(Zh,this)[0]=t,js(Zh,this)[1]=n}if([_,k]=((t,e)=>[d[0]*t+d[2]*e,d[1]*t+d[3]*e])(_/n,k/i),g){const t=Math.hypot(s,o);S=A=Math.max(Math.min(Math.hypot(y[0]-v[0]-_,y[1]-v[1]-k)/t,1/s,1/o),l/s,c/o)}else m?S=gl(Math.abs(y[0]-v[0]-_),l,1)/s:A=gl(Math.abs(y[1]-v[1]-k),c,1)/o;const E=qs._round(s*S),C=qs._round(o*A);b=h(...p(E,C));const M=w-b[0],T=x-b[1];js(ad,this)||Ws(ad,this,[this.x,this.y,this.width,this.height]),this.width=E,this.height=C,this.x=M,this.y=T,this.setDims(),this.fixAndSetPosition(),this._onResizing()}function Ed(){var t;Ws(td,this,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),null===(t=js(qh,this))||void 0===t||t.toggle(!1),this.parent.togglePointerEvents(!1)}function Cd(t,e,n){let i=n/e*.7+1-.7;if(1===i)return;const r=Os(md,this,wd).call(this,this.rotation),a=(t,e)=>[r[0]*t+r[2]*e,r[1]*t+r[3]*e],[s,o]=this.parentDimensions,l=this.x,c=this.y,u=this.width,h=this.height,d=qs.MIN_SIZE/s,f=qs.MIN_SIZE/o;i=Math.max(Math.min(i,1/u,1/h),d/u,f/h);const p=qs._round(u*i),g=qs._round(h*i);if(p===u&&g===h)return;js(ad,this)||Ws(ad,this,[l,c,u,h]);const m=a(u/2,h/2),v=qs._round(l+m[0]),y=qs._round(c+m[1]),b=a(p/2,g/2);this.x=v-b[0],this.y=y-b[1],this.width=p,this.height=g,this.setDims(),this.fixAndSetPosition(),this._onResizing()}function Md(){var t;null===(t=js(qh,this))||void 0===t||t.toggle(!0),this.parent.togglePointerEvents(!0),Os(md,this,Sd).call(this)}function Td(t){const{isMac:e}=sl.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)}function Pd(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let n=!1;const i=new AbortController,r=this._uiManager.combinedSignal(i),a={capture:!0,passive:!1,signal:r},s=t=>{i.abort(),Ws(Qh,this,null),Ws(rd,this,!1),this._uiManager.endDragSession()||Os(md,this,Td).call(this,t),n&&this._onStopDragging()};e&&(Ws(ud,this,t.clientX),Ws(hd,this,t.clientY),Ws(Qh,this,t.pointerId),Ws($h,this,t.pointerType),window.addEventListener("pointermove",(t=>{n||(n=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:e,clientY:i,pointerId:r}=t;if(r!==js(Qh,this))return void Tl(t);const[a,s]=this.screenToPageTranslation(e-js(ud,this),i-js(hd,this));Ws(ud,this,e),Ws(hd,this,i),this._uiManager.dragSelectedEditors(a,s)}),a),window.addEventListener("touchmove",Tl,a),window.addEventListener("pointerdown",(t=>{t.pointerType===js($h,this)&&(js(fd,this)||t.isPrimary)&&s(t),Tl(t)}),a));const o=t=>{js(Qh,this)&&js(Qh,this)!==t.pointerId?Tl(t):s(t)};window.addEventListener("pointerup",o,{signal:r}),window.addEventListener("blur",o,{signal:r})}function Rd(){if(js(nd,this)||!this.div)return;Ws(nd,this,new AbortController);const t=this._uiManager.combinedSignal(js(nd,this));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})}function Dd(t){qs._resizerKeyboardManager.exec(this,t)}function Ld(t){var e;js(ld,this)&&(null===(e=t.relatedTarget)||void 0===e?void 0:e.parentNode)!==js(Jh,this)&&Os(md,this,Fd).call(this)}function Nd(t){Ws(id,this,js(ld,this)?t:"")}function Id(t){if(js(Gh,this))for(const e of js(Gh,this))e.tabIndex=t}function Fd(){Ws(ld,this,!1),Os(md,this,Id).call(this,-1),Os(md,this,Sd).call(this)}qs=vd,c(vd,"_l10n",null),c(vd,"_l10nResizer",null),c(vd,"_borderLineWidth",-1),c(vd,"_colorManager",new Dc),c(vd,"_zIndex",1),c(vd,"_telemetryTimeout",1e3);class Od extends vd{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const Bd=3285377520,jd=4294901760,Wd=65535;class zd{constructor(t){this.h1=t?4294967295&t:Bd,this.h2=t?4294967295&t:Bd}update(t){let e,n;if("string"===typeof t){e=new Uint8Array(2*t.length),n=0;for(let i=0,r=t.length;i<r;i++){const r=t.charCodeAt(i);r<=255?e[n++]=r:(e[n++]=r>>>8,e[n++]=255&r)}}else{if(!ArrayBuffer.isView(t))throw new Error("Invalid data format, must be a string or TypedArray.");e=t.slice(),n=e.byteLength}const i=n>>2,r=n-4*i,a=new Uint32Array(e.buffer,0,i);let s=0,o=0,l=this.h1,c=this.h2;const u=3432918353,h=461845907,d=11601,f=13715;for(let p=0;p<i;p++)1&p?(s=a[p],s=s*u&jd|s*d&Wd,s=s<<15|s>>>17,s=s*h&jd|s*f&Wd,l^=s,l=l<<13|l>>>19,l=5*l+3864292196):(o=a[p],o=o*u&jd|o*d&Wd,o=o<<15|o>>>17,o=o*h&jd|o*f&Wd,c^=o,c=c<<13|c>>>19,c=5*c+3864292196);switch(s=0,r){case 3:s^=e[4*i+2]<<16;case 2:s^=e[4*i+1]<<8;case 1:s^=e[4*i],s=s*u&jd|s*d&Wd,s=s<<15|s>>>17,s=s*h&jd|s*f&Wd,1&i?l^=s:c^=s}this.h1=l,this.h2=c}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=3981806797*t&jd|36045*t&Wd,e=4283543511*e&jd|(2950163797*(e<<16|t>>>16)&jd)>>>16,t^=e>>>1,t=444984403*t&jd|60499*t&Wd,e=3301882366*e&jd|(3120437893*(e<<16|t>>>16)&jd)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const Ud=Object.freeze({map:null,hash:"",transfer:void 0});var Hd=new WeakMap,Vd=new WeakMap,Gd=new WeakMap,qd=new WeakMap,Xd=new WeakSet;class Yd{constructor(){Is(this,Xd),Fs(this,Hd,!1),Fs(this,Vd,null),Fs(this,Gd,null),Fs(this,qd,new Map),this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const n=js(qd,this).get(t);return void 0===n?e:Object.assign(e,n)}getRawValue(t){return js(qd,this).get(t)}remove(t){const e=js(qd,this).get(t);if(void 0!==e&&(e instanceof vd&&js(Gd,this).delete(e.annotationElementId),js(qd,this).delete(t),0===js(qd,this).size&&this.resetModified(),"function"===typeof this.onAnnotationEditor)){for(const t of js(qd,this).values())if(t instanceof vd)return;this.onAnnotationEditor(null)}}setValue(t,e){const n=js(qd,this).get(t);let i=!1;if(void 0!==n)for(const[r,a]of Object.entries(e))n[r]!==a&&(i=!0,n[r]=a);else i=!0,js(qd,this).set(t,e);i&&Os(Xd,this,Kd).call(this),e instanceof vd&&((js(Gd,this)||Ws(Gd,this,new Map)).set(e.annotationElementId,e),"function"===typeof this.onAnnotationEditor&&this.onAnnotationEditor(e.constructor._type))}has(t){return js(qd,this).has(t)}get size(){return js(qd,this).size}resetModified(){js(Hd,this)&&(Ws(Hd,this,!1),"function"===typeof this.onResetModified&&this.onResetModified())}get print(){return new $d(this)}get serializable(){if(0===js(qd,this).size)return Ud;const t=new Map,e=new zd,n=[],i=Object.create(null);let r=!1;for(const[a,s]of js(qd,this)){const n=s instanceof vd?s.serialize(!1,i):s;n&&(t.set(a,n),e.update("".concat(a,":").concat(JSON.stringify(n))),r||(r=!!n.bitmap))}if(r)for(const a of t.values())a.bitmap&&n.push(a.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:n}:Ud}get editorStats(){let t=null;const e=new Map;let n=0,i=0;for(const s of js(qd,this).values()){var r;if(!(s instanceof vd)){s.popup&&(s.popup.deleted?i+=1:n+=1);continue}s.isCommentDeleted?i+=1:s.hasEditedComment&&(n+=1);const o=s.telemetryFinalData;if(!o)continue;const{type:l}=o;e.has(l)||e.set(l,Object.getPrototypeOf(s).constructor),t||(t=Object.create(null));const c=(r=t)[l]||(r[l]=new Map);for(const[t,e]of Object.entries(o)){var a;if("type"===t)continue;let n=c.get(t);n||(n=new Map,c.set(t,n));const i=null!==(a=n.get(e))&&void 0!==a?a:0;n.set(e,i+1)}}if((i>0||n>0)&&(t||(t=Object.create(null)),t.comments={deleted:i,edited:n}),!t)return null;for(const[s,o]of e)t[s]=o.computeTelemetryFinalData(t[s]);return t}resetModifiedIds(){Ws(Vd,this,null)}updateEditor(t,e){var n;const i=null===(n=js(Gd,this))||void 0===n?void 0:n.get(t);return!!i&&(i.updateFromAnnotationLayer(e),!0)}getEditor(t){var e;return(null===(e=js(Gd,this))||void 0===e?void 0:e.get(t))||null}get modifiedIds(){if(js(Vd,this))return js(Vd,this);const t=[];if(js(Gd,this))for(const e of js(Gd,this).values())e.serialize()&&t.push(e.annotationElementId);return Ws(Vd,this,{ids:new Set(t),hash:t.join(",")})}[Symbol.iterator](){return js(qd,this).entries()}}function Kd(){js(Hd,this)||(Ws(Hd,this,!0),"function"===typeof this.onSetModified&&this.onSetModified())}var Qd=new WeakMap;class $d extends Yd{constructor(t){super(),Fs(this,Qd,void 0);const{map:e,hash:n,transfer:i}=t.serializable,r=structuredClone(e,i?{transfer:i}:null);Ws(Qd,this,{map:r,hash:n,transfer:i})}get print(){qo("Should not call PrintAnnotationStorage.print")}get serializable(){return js(Qd,this)}get modifiedIds(){return Qo(this,"modifiedIds",{ids:new Set,hash:""})}}var Jd=new WeakMap;class Zd{constructor(t){let{ownerDocument:e=globalThis.document,styleElement:n=null}=t;Fs(this,Jd,new Set),this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),js(Jd,this).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(t){let{systemFontInfo:e,disableFontFace:n,_inspectFont:i}=t;if(e&&!js(Jd,this).has(e.loadedName))if(Xo(!n,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:t,src:n,style:a}=e,s=new FontFace(t,n,a);this.addNativeFontFace(s);try{await s.load(),js(Jd,this).add(t),null===i||void 0===i||i(e)}catch(r){Go("Cannot load system font: ".concat(e.baseFontName,", installing it could help to improve PDF rendering.")),this.removeNativeFontFace(s)}}else qo("Not implemented: loadSystemFont without the Font Loading API.")}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo)return void await this.loadSystemFont(t);if(this.isFontLoadingAPISupported){const e=t.createNativeFontFace();if(e){this.addNativeFontFace(e);try{await e.loaded}catch(n){throw Go("Failed to load font '".concat(e.family,"': '").concat(n,"'.")),t.disableFontFace=!0,n}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise((e=>{const n=this._queueLoadingCallback(e);this._prepareFontLoadEvent(t,n)}))}}get isFontLoadingAPISupported(){var t;return Qo(this,"isFontLoadingAPISupported",!(null===(t=this._document)||void 0===t||!t.fonts))}get isSyncFontLoadingSupported(){return Qo(this,"isSyncFontLoadingSupported",so||sl.platform.isFirefox)}_queueLoadingCallback(t){const{loadingRequests:e}=this,n={done:!1,complete:function(){for(Xo(!n.done,"completeRequest() cannot be called twice."),n.done=!0;e.length>0&&e[0].done;){const t=e.shift();setTimeout(t.callback,0)}},callback:t};return e.push(n),n}get _loadTestFont(){return Qo(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(t,e){function n(t,e){return t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|255&t.charCodeAt(e+3)}function i(t,e,n,i){return t.substring(0,e)+i+t.substring(e+n)}let r,a;const s=this._document.createElement("canvas");s.width=1,s.height=1;const o=s.getContext("2d");let l=0;const c="lt".concat(Date.now()).concat(this.loadTestFontId++);let u=this._loadTestFont;u=i(u,976,c.length,c);const h=1482184792;let d=n(u,16);for(r=0,a=c.length-3;r<a;r+=4)d=d-h+n(c,r)|0;r<c.length&&(d=d-h+n(c+"XXX",r)|0),u=i(u,16,4,function(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,255&t)}(d));const f="url(data:font/opentype;base64,".concat(btoa(u),");"),p='@font-face {font-family:"'.concat(c,'";src:').concat(f,"}");this.insertRule(p);const g=this._document.createElement("div");g.style.visibility="hidden",g.style.width=g.style.height="10px",g.style.position="absolute",g.style.top=g.style.left="0px";for(const m of[t.loadedName,c]){const t=this._document.createElement("span");t.textContent="Hi",t.style.fontFamily=m,g.append(t)}this._document.body.append(g),function t(e,n){if(++l>30)return Go("Load test font never loaded."),void n();o.font="30px "+e,o.fillText(".",0,20),o.getImageData(0,0,1,1).data[3]>0?n():setTimeout(t.bind(null,e,n))}(c,(()=>{g.remove(),e.complete()}))}}var tf=new WeakMap;class ef{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;Fs(this,tf,void 0),this.compiledGlyphs=Object.create(null),Ws(tf,this,t),this._inspectFont=e,n&&Object.assign(this,n),i&&(this.charProcOperatorList=i)}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(this.cssFontInfo){const t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style="oblique ".concat(this.cssFontInfo.italicAngle,"deg")),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}else e=new FontFace(this.loadedName,this.data,{});return null===(t=this._inspectFont)||void 0===t||t.call(this,this),e}createFontFaceRule(){var t;if(!this.data||this.disableFontFace)return null;const e="url(data:".concat(this.mimetype,";base64,").concat(ml(this.data),");");let n;if(this.cssFontInfo){let t="font-weight: ".concat(this.cssFontInfo.fontWeight,";");this.cssFontInfo.italicAngle&&(t+="font-style: oblique ".concat(this.cssFontInfo.italicAngle,"deg;")),n='@font-face {font-family:"'.concat(this.cssFontInfo.fontFamily,'";').concat(t,"src:").concat(e,"}")}else n='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(e,"}");return null===(t=this._inspectFont)||void 0===t||t.call(this,this,e),n}getPathGenerator(t,e){if(void 0!==this.compiledGlyphs[e])return this.compiledGlyphs[e];const n=this.loadedName+"_path_"+e;let i;try{i=t.get(n)}catch(a){Go('getPathGenerator - ignoring character: "'.concat(a,'".'))}const r=new Path2D(i||"");return this.fontExtraProperties||t.delete(n),this.compiledGlyphs[e]=r}get black(){return js(tf,this).black}get bold(){return js(tf,this).bold}get disableFontFace(){var t;return null!==(t=js(tf,this).disableFontFace)&&void 0!==t&&t}get fontExtraProperties(){var t;return null!==(t=js(tf,this).fontExtraProperties)&&void 0!==t&&t}get isInvalidPDFjsFont(){return js(tf,this).isInvalidPDFjsFont}get isType3Font(){return js(tf,this).isType3Font}get italic(){return js(tf,this).italic}get missingFile(){return js(tf,this).missingFile}get remeasure(){return js(tf,this).remeasure}get vertical(){return js(tf,this).vertical}get ascent(){return js(tf,this).ascent}get defaultWidth(){return js(tf,this).defaultWidth}get descent(){return js(tf,this).descent}get bbox(){return js(tf,this).bbox}get fontMatrix(){return js(tf,this).fontMatrix}get fallbackName(){return js(tf,this).fallbackName}get loadedName(){return js(tf,this).loadedName}get mimetype(){return js(tf,this).mimetype}get name(){return js(tf,this).name}get data(){return js(tf,this).data}clearData(){js(tf,this).clearData()}get cssFontInfo(){return js(tf,this).cssFontInfo}get systemFontInfo(){return js(tf,this).systemFontInfo}get defaultVMetrics(){return js(tf,this).defaultVMetrics}}function nf(t){if("string"!==typeof t)return null;if(t.endsWith("/"))return t;throw new Error('Invalid factory url: "'.concat(t,'" must include trailing slash.'))}const rf=t=>"object"===typeof t&&Number.isInteger(null===t||void 0===t?void 0:t.num)&&t.num>=0&&Number.isInteger(null===t||void 0===t?void 0:t.gen)&&t.gen>=0,af=function(t,e,n){if(!Array.isArray(n)||n.length<2)return!1;const[i,r,...a]=n;if(!t(i)&&!Number.isInteger(i))return!1;if(!e(r))return!1;const s=a.length;let o=!0;switch(r.name){case"XYZ":if(s<2||s>3)return!1;break;case"Fit":case"FitB":return 0===s;case"FitH":case"FitBH":case"FitV":case"FitBV":if(s>1)return!1;break;case"FitR":if(4!==s)return!1;o=!1;break;default:return!1}for(const l of a)if(!("number"===typeof l||o&&null===l))return!1;return!0}.bind(null,rf,(t=>"object"===typeof t&&"string"===typeof(null===t||void 0===t?void 0:t.name)));var sf=new WeakMap,of=new WeakMap;class lf{constructor(){Fs(this,sf,new Map),Fs(this,of,Promise.resolve())}postMessage(t,e){const n={data:structuredClone(t,e?{transfer:e}:null)};js(of,this).then((()=>{for(const[t]of js(sf,this))t.call(this,n)}))}addEventListener(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=null;if((null===n||void 0===n?void 0:n.signal)instanceof AbortSignal){const{signal:r}=n;if(r.aborted)return void Go("LoopbackPort - cannot use an `aborted` signal.");const a=()=>this.removeEventListener(t,e);i=()=>r.removeEventListener("abort",a),r.addEventListener("abort",a)}js(sf,this).set(e,i)}removeEventListener(t,e){const n=js(sf,this).get(e);null===n||void 0===n||n(),js(sf,this).delete(e)}terminate(){for(const[,t]of js(sf,this))null===t||void 0===t||t();js(sf,this).clear()}}const cf=1,uf=2,hf=1,df=2,ff=3,pf=4,gf=5,mf=6,vf=7,yf=8;function bf(){}function wf(t){if(t instanceof il||t instanceof tl||t instanceof Jo||t instanceof el||t instanceof Zo)return t;switch(t instanceof Error||"object"===typeof t&&null!==t||qo('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new il(t.message);case"InvalidPDFException":return new tl(t.message);case"PasswordException":return new Jo(t.message,t.code);case"ResponseException":return new el(t.message,t.status,t.missing);case"UnknownErrorException":return new Zo(t.message,t.details)}return new Zo(t.message,t.toString())}var xf=new WeakMap,_f=new WeakSet;class kf{constructor(t,e,n){Is(this,_f),Fs(this,xf,new AbortController),this.sourceName=t,this.targetName=e,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",Os(_f,this,Sf).bind(this),{signal:js(xf,this).signal})}on(t,e){const n=this.actionHandler;if(n[t])throw new Error('There is already an actionName called "'.concat(t,'"'));n[t]=e}send(t,e,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},n)}sendWithPromise(t,e,n){const i=this.callbackId++,r=Promise.withResolvers();this.callbackCapabilities[i]=r;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:i,data:e},n)}catch(a){r.reject(a)}return r.promise}sendWithStream(t,e,n,i){const r=this.streamId++,a=this.sourceName,s=this.targetName,o=this.comObj;return new ReadableStream({start:n=>{const l=Promise.withResolvers();return this.streamControllers[r]={controller:n,startCall:l,pullCall:null,cancelCall:null,isClosed:!1},o.postMessage({sourceName:a,targetName:s,action:t,streamId:r,data:e,desiredSize:n.desiredSize},i),l.promise},pull:t=>{const e=Promise.withResolvers();return this.streamControllers[r].pullCall=e,o.postMessage({sourceName:a,targetName:s,stream:mf,streamId:r,desiredSize:t.desiredSize}),e.promise},cancel:t=>{Xo(t instanceof Error,"cancel must have a valid reason");const e=Promise.withResolvers();return this.streamControllers[r].cancelCall=e,this.streamControllers[r].isClosed=!0,o.postMessage({sourceName:a,targetName:s,stream:hf,streamId:r,reason:wf(t)}),e.promise}},n)}destroy(){var t;null===(t=js(xf,this))||void 0===t||t.abort(),Ws(xf,this,null)}}function Sf(t){let{data:e}=t;if(e.targetName!==this.sourceName)return;if(e.stream)return void Os(_f,this,Ef).call(this,e);if(e.callback){const t=e.callbackId,n=this.callbackCapabilities[t];if(!n)throw new Error("Cannot resolve callback ".concat(t));if(delete this.callbackCapabilities[t],e.callback===cf)n.resolve(e.data);else{if(e.callback!==uf)throw new Error("Unexpected callback case");n.reject(wf(e.reason))}return}const n=this.actionHandler[e.action];if(!n)throw new Error("Unknown action from worker: ".concat(e.action));if(e.callbackId){const t=this.sourceName,i=e.sourceName,r=this.comObj;Promise.try(n,e.data).then((function(n){r.postMessage({sourceName:t,targetName:i,callback:cf,callbackId:e.callbackId,data:n})}),(function(n){r.postMessage({sourceName:t,targetName:i,callback:uf,callbackId:e.callbackId,reason:wf(n)})}))}else e.streamId?Os(_f,this,Af).call(this,e):n(e.data)}function Af(t){const e=t.streamId,n=this.sourceName,i=t.sourceName,r=this.comObj,a=this,s=this.actionHandler[t.action],o={enqueue(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2?arguments[2]:void 0;if(this.isCancelled)return;const o=this.desiredSize;this.desiredSize-=a,o>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),r.postMessage({sourceName:n,targetName:i,stream:pf,streamId:e,chunk:t},s)},close(){this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:n,targetName:i,stream:ff,streamId:e}),delete a.streamSinks[e])},error(t){Xo(t instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:n,targetName:i,stream:gf,streamId:e,reason:wf(t)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};o.sinkCapability.resolve(),o.ready=o.sinkCapability.promise,this.streamSinks[e]=o,Promise.try(s,t.data,o).then((function(){r.postMessage({sourceName:n,targetName:i,stream:yf,streamId:e,success:!0})}),(function(t){r.postMessage({sourceName:n,targetName:i,stream:yf,streamId:e,reason:wf(t)})}))}function Ef(t){const e=t.streamId,n=this.sourceName,i=t.sourceName,r=this.comObj,a=this.streamControllers[e],s=this.streamSinks[e];switch(t.stream){case yf:t.success?a.startCall.resolve():a.startCall.reject(wf(t.reason));break;case vf:t.success?a.pullCall.resolve():a.pullCall.reject(wf(t.reason));break;case mf:if(!s){r.postMessage({sourceName:n,targetName:i,stream:vf,streamId:e,success:!0});break}s.desiredSize<=0&&t.desiredSize>0&&s.sinkCapability.resolve(),s.desiredSize=t.desiredSize,Promise.try(s.onPull||bf).then((function(){r.postMessage({sourceName:n,targetName:i,stream:vf,streamId:e,success:!0})}),(function(t){r.postMessage({sourceName:n,targetName:i,stream:vf,streamId:e,reason:wf(t)})}));break;case pf:if(Xo(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(t.chunk);break;case ff:if(Xo(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),Os(_f,this,Cf).call(this,a,e);break;case gf:Xo(a,"error should have stream controller"),a.controller.error(wf(t.reason)),Os(_f,this,Cf).call(this,a,e);break;case df:t.success?a.cancelCall.resolve():a.cancelCall.reject(wf(t.reason)),Os(_f,this,Cf).call(this,a,e);break;case hf:if(!s)break;const o=wf(t.reason);Promise.try(s.onCancel||bf,o).then((function(){r.postMessage({sourceName:n,targetName:i,stream:df,streamId:e,success:!0})}),(function(t){r.postMessage({sourceName:n,targetName:i,stream:df,streamId:e,reason:wf(t)})})),s.sinkCapability.reject(o),s.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}async function Cf(t,e){var n,i,r;await Promise.allSettled([null===(n=t.startCall)||void 0===n?void 0:n.promise,null===(i=t.pullCall)||void 0===i?void 0:i.promise,null===(r=t.cancelCall)||void 0===r?void 0:r.promise]),delete this.streamControllers[e]}var Mf=new WeakMap;class Tf{constructor(t){let{enableHWA:e=!1}=t;Fs(this,Mf,!1),Ws(Mf,this,e)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(t,e);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!js(Mf,this)})}}reset(t,e,n){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=n}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){qo("Abstract method `_createCanvas` called.")}}class Pf extends Tf{constructor(t){let{ownerDocument:e=globalThis.document,enableHWA:n=!1}=t;super({enableHWA:n}),this._document=e}_createCanvas(t,e){const n=this._document.createElement("canvas");return n.width=t,n.height=e,n}}class Rf{constructor(t){let{baseUrl:e=null,isCompressed:n=!0}=t;this.baseUrl=e,this.isCompressed=n}async fetch(t){let{name:e}=t;if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const n=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(n).then((t=>({cMapData:t,isCompressed:this.isCompressed}))).catch((t=>{throw new Error("Unable to load ".concat(this.isCompressed?"binary ":"","CMap at: ").concat(n))}))}async _fetch(t){qo("Abstract method `_fetch` called.")}}class Df extends Rf{async _fetch(t){const e=await xl(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):al(e)}}class Lf{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,n,i,r){return"none"}destroy(){}}var Nf=new WeakMap,If=new WeakMap,Ff=new WeakMap,Of=new WeakMap,Bf=new WeakMap,jf=new WeakMap,Wf=new WeakMap,zf=new WeakSet;class Uf extends Lf{constructor(t){let{docId:e,ownerDocument:n=globalThis.document}=t;super(),Is(this,zf),Fs(this,Nf,void 0),Fs(this,If,void 0),Fs(this,Ff,void 0),Fs(this,Of,void 0),Fs(this,Bf,void 0),Fs(this,jf,void 0),Fs(this,Wf,0),Ws(Of,this,e),Ws(Bf,this,n)}addFilter(t){var e,n;if(!t)return"none";let i=Bs(zf,this,Hf).get(t);if(i)return i;const[r,a,s]=Os(zf,this,qf).call(this,t),o=1===t.length?r:"".concat(r).concat(a).concat(s);if(i=Bs(zf,this,Hf).get(o),i)return Bs(zf,this,Hf).set(t,i),i;const l="g_".concat(js(Of,this),"_transfer_map_").concat((Ws(Wf,this,(e=js(Wf,this),n=e++,e)),n)),c=Os(zf,this,Xf).call(this,l);Bs(zf,this,Hf).set(t,c),Bs(zf,this,Hf).set(o,c);const u=Os(zf,this,Qf).call(this,l);return Os(zf,this,Jf).call(this,r,a,s,u),c}addHCMFilter(t,e){var n;const i="".concat(t,"-").concat(e),r="base";let a=Bs(zf,this,Vf).get(r);if((null===(n=a)||void 0===n?void 0:n.key)===i)return a.url;var s;a?(null===(s=a.filter)||void 0===s||s.remove(),a.key=i,a.url="none",a.filter=null):(a={key:i,url:"none",filter:null},Bs(zf,this,Vf).set(r,a));if(!t||!e)return a.url;const o=Os(zf,this,tp).call(this,t);t=ll.makeHexColor(...o);const l=Os(zf,this,tp).call(this,e);if(e=ll.makeHexColor(...l),Bs(zf,this,Gf).style.color="","#000000"===t&&"#ffffff"===e||t===e)return a.url;const c=new Array(256);for(let p=0;p<=255;p++){const t=p/255;c[p]=t<=.03928?t/12.92:((t+.055)/1.055)**2.4}const u=c.join(","),h="g_".concat(js(Of,this),"_hcm_filter"),d=a.filter=Os(zf,this,Qf).call(this,h);Os(zf,this,Jf).call(this,u,u,u,d),Os(zf,this,Kf).call(this,d);const f=(t,e)=>{const n=o[t]/255,i=l[t]/255,r=new Array(e+1);for(let a=0;a<=e;a++)r[a]=n+a/e*(i-n);return r.join(",")};return Os(zf,this,Jf).call(this,f(0,5),f(1,5),f(2,5),d),a.url=Os(zf,this,Xf).call(this,h),a.url}addAlphaFilter(t){var e,n;let i=Bs(zf,this,Hf).get(t);if(i)return i;const[r]=Os(zf,this,qf).call(this,[t]),a="alpha_".concat(r);if(i=Bs(zf,this,Hf).get(a),i)return Bs(zf,this,Hf).set(t,i),i;const s="g_".concat(js(Of,this),"_alpha_map_").concat((Ws(Wf,this,(e=js(Wf,this),n=e++,e)),n)),o=Os(zf,this,Xf).call(this,s);Bs(zf,this,Hf).set(t,o),Bs(zf,this,Hf).set(a,o);const l=Os(zf,this,Qf).call(this,s);return Os(zf,this,Zf).call(this,r,l),o}addLuminosityFilter(t){var e,n;let i,r,a=Bs(zf,this,Hf).get(t||"luminosity");if(a)return a;if(t?([i]=Os(zf,this,qf).call(this,[t]),r="luminosity_".concat(i)):r="luminosity",a=Bs(zf,this,Hf).get(r),a)return Bs(zf,this,Hf).set(t,a),a;const s="g_".concat(js(Of,this),"_luminosity_map_").concat((Ws(Wf,this,(e=js(Wf,this),n=e++,e)),n)),o=Os(zf,this,Xf).call(this,s);Bs(zf,this,Hf).set(t,o),Bs(zf,this,Hf).set(r,o);const l=Os(zf,this,Qf).call(this,s);return Os(zf,this,Yf).call(this,l),t&&Os(zf,this,Zf).call(this,i,l),o}addHighlightHCMFilter(t,e,n,i,r){var a;const s="".concat(e,"-").concat(n,"-").concat(i,"-").concat(r);let o=Bs(zf,this,Vf).get(t);if((null===(a=o)||void 0===a?void 0:a.key)===s)return o.url;var l;o?(null===(l=o.filter)||void 0===l||l.remove(),o.key=s,o.url="none",o.filter=null):(o={key:s,url:"none",filter:null},Bs(zf,this,Vf).set(t,o));if(!e||!n)return o.url;const[c,u]=[e,n].map(Os(zf,this,tp).bind(this));let h=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),d=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),[f,p]=[i,r].map(Os(zf,this,tp).bind(this));d<h&&([h,d,f,p]=[d,h,p,f]),Bs(zf,this,Gf).style.color="";const g=(t,e,n)=>{const i=new Array(256),r=(d-h)/n,a=t/255,s=(e-t)/(255*n);let o=0;for(let l=0;l<=n;l++){const t=Math.round(h+l*r),e=a+l*s;for(let n=o;n<=t;n++)i[n]=e;o=t+1}for(let l=o;l<256;l++)i[l]=i[o-1];return i.join(",")},m="g_".concat(js(Of,this),"_hcm_").concat(t,"_filter"),v=o.filter=Os(zf,this,Qf).call(this,m);return Os(zf,this,Kf).call(this,v),Os(zf,this,Jf).call(this,g(f[0],p[0],5),g(f[1],p[1],5),g(f[2],p[2],5),v),o.url=Os(zf,this,Xf).call(this,m),o.url}destroy(){var t,e,n,i;arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&null!==(t=js(jf,this))&&void 0!==t&&t.size||(null===(e=js(Ff,this))||void 0===e||e.parentNode.parentNode.remove(),Ws(Ff,this,null),null===(n=js(If,this))||void 0===n||n.clear(),Ws(If,this,null),null===(i=js(jf,this))||void 0===i||i.clear(),Ws(jf,this,null),Ws(Wf,this,0))}}function Hf(t){return js(If,t)||Ws(If,t,new Map)}function Vf(t){return js(jf,t)||Ws(jf,t,new Map)}function Gf(t){if(!js(Ff,t)){const e=js(Bf,t).createElement("div"),{style:n}=e;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const i=js(Bf,t).createElementNS(bl,"svg");i.setAttribute("width",0),i.setAttribute("height",0),Ws(Ff,t,js(Bf,t).createElementNS(bl,"defs")),e.append(i),i.append(js(Ff,t)),js(Bf,t).body.append(e)}return js(Ff,t)}function qf(t){if(1===t.length){const e=t[0],n=new Array(256);for(let t=0;t<256;t++)n[t]=e[t]/255;const i=n.join(",");return[i,i,i]}const[e,n,i]=t,r=new Array(256),a=new Array(256),s=new Array(256);for(let o=0;o<256;o++)r[o]=e[o]/255,a[o]=n[o]/255,s[o]=i[o]/255;return[r.join(","),a.join(","),s.join(",")]}function Xf(t){if(void 0===js(Nf,this)){Ws(Nf,this,"");const t=js(Bf,this).URL;t!==js(Bf,this).baseURI&&(Sl(t)?Go('#createUrl: ignore "data:"-URL for performance reasons.'):Ws(Nf,this,Ko(t,"")))}return"url(".concat(js(Nf,this),"#").concat(t,")")}function Yf(t){const e=js(Bf,this).createElementNS(bl,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(e)}function Kf(t){const e=js(Bf,this).createElementNS(bl,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(e)}function Qf(t){const e=js(Bf,this).createElementNS(bl,"filter");return e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("id",t),Bs(zf,this,Gf).append(e),e}function $f(t,e,n){const i=js(Bf,this).createElementNS(bl,e);i.setAttribute("type","discrete"),i.setAttribute("tableValues",n),t.append(i)}function Jf(t,e,n,i){const r=js(Bf,this).createElementNS(bl,"feComponentTransfer");i.append(r),Os(zf,this,$f).call(this,r,"feFuncR",t),Os(zf,this,$f).call(this,r,"feFuncG",e),Os(zf,this,$f).call(this,r,"feFuncB",n)}function Zf(t,e){const n=js(Bf,this).createElementNS(bl,"feComponentTransfer");e.append(n),Os(zf,this,$f).call(this,n,"feFuncA",t)}function tp(t){return Bs(zf,this,Gf).style.color=t,Dl(getComputedStyle(Bs(zf,this,Gf)).getPropertyValue("color"))}class ep{constructor(t){let{baseUrl:e=null}=t;this.baseUrl=e}async fetch(t){let{filename:e}=t;if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const n="".concat(this.baseUrl).concat(e);return this._fetch(n).catch((t=>{throw new Error("Unable to load font data at: ".concat(n))}))}async _fetch(t){qo("Abstract method `_fetch` called.")}}class np extends ep{async _fetch(t){const e=await xl(t,"arraybuffer");return new Uint8Array(e)}}class ip{constructor(t){let{baseUrl:e=null}=t;this.baseUrl=e}async fetch(t){let{filename:e}=t;if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const n="".concat(this.baseUrl).concat(e);return this._fetch(n).catch((t=>{throw new Error("Unable to load wasm data at: ".concat(n))}))}async _fetch(t){qo("Abstract method `_fetch` called.")}}class rp extends ip{async _fetch(t){const e=await xl(t,"arraybuffer");return new Uint8Array(e)}}async function ap(t){const e=process.getBuiltinModule("fs"),n=await e.promises.readFile(t);return new Uint8Array(n)}so&&Go("Please use the `legacy` build in Node.js environments.");class sp extends Lf{}class op extends Tf{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire("file:///C:/Users/hyder/Desktop/hyder/site/node_modules/react-pdf/node_modules/pdfjs-dist/build/pdf.mjs")("@napi-rs/canvas").createCanvas(t,e)}}class lp extends Rf{async _fetch(t){return ap(t)}}class cp extends ep{async _fetch(t){return ap(t)}}class up extends ip{async _fetch(t){return ap(t)}}const hp="__forcedDependency",{floor:dp,ceil:fp}=Math;function pp(t,e,n,i,r,a){t[4*e+0]=Math.min(t[4*e+0],n),t[4*e+1]=Math.min(t[4*e+1],i),t[4*e+2]=Math.max(t[4*e+2],r),t[4*e+3]=Math.max(t[4*e+3],a)}const gp=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];var mp=new WeakMap,vp=new WeakMap;class yp{constructor(t,e){Fs(this,mp,void 0),Fs(this,vp,void 0),Ws(mp,this,t),Ws(vp,this,e)}get length(){return js(mp,this).length}isEmpty(t){return js(mp,this)[t]===gp}minX(t){return js(vp,this)[4*t+0]/256}minY(t){return js(vp,this)[4*t+1]/256}maxX(t){return(js(vp,this)[4*t+2]+1)/256}maxY(t){return(js(vp,this)[4*t+3]+1)/256}}const bp=(t,e)=>{if(!t)return;let n=t.get(e);return n||(n={dependencies:new Set,isRenderingOperation:!1},t.set(e,n)),n};var wp=new WeakMap,xp=new WeakMap,_p=new WeakMap,kp=new WeakMap,Sp=new WeakMap,Ap=new WeakMap,Ep=new WeakMap,Cp=new WeakMap,Mp=new WeakMap,Tp=new WeakMap,Pp=new WeakMap,Rp=new WeakMap,Dp=new WeakMap,Lp=new WeakMap,Np=new WeakMap,Ip=new WeakMap,Fp=new WeakMap,Op=new WeakSet;class Bp{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Is(this,Op),Fs(this,wp,{__proto__:null}),Fs(this,xp,{__proto__:null,transform:[],moveText:[],sameLineText:[],[hp]:[]}),Fs(this,_p,new Map),Fs(this,kp,[]),Fs(this,Sp,[]),Fs(this,Ap,[[1,0,0,1,0,0]]),Fs(this,Ep,[-1/0,-1/0,1/0,1/0]),Fs(this,Cp,new Float64Array([1/0,1/0,-1/0,-1/0])),Fs(this,Mp,-1),Fs(this,Tp,new Set),Fs(this,Pp,new Map),Fs(this,Rp,new Map),Fs(this,Dp,void 0),Fs(this,Lp,void 0),Fs(this,Np,void 0),Fs(this,Ip,void 0),Fs(this,Fp,void 0),Ws(Dp,this,t.width),Ws(Lp,this,t.height),Os(Op,this,jp).call(this,e),n&&Ws(Fp,this,new Map)}growOperationsCount(t){t>=js(Ip,this).length&&Os(Op,this,jp).call(this,t,js(Ip,this))}save(t){return Ws(wp,this,{__proto__:js(wp,this)}),Ws(xp,this,{__proto__:js(xp,this),transform:{__proto__:js(xp,this).transform},moveText:{__proto__:js(xp,this).moveText},sameLineText:{__proto__:js(xp,this).sameLineText},[hp]:{__proto__:js(xp,this)[hp]}}),Ws(Ep,this,{__proto__:js(Ep,this)}),js(kp,this).push(t),this}restore(t){const e=Object.getPrototypeOf(js(wp,this));if(null===e)return this;Ws(wp,this,e),Ws(xp,this,Object.getPrototypeOf(js(xp,this))),Ws(Ep,this,Object.getPrototypeOf(js(Ep,this)));const n=js(kp,this).pop();var i;void 0!==n&&(null===(i=bp(js(Fp,this),t))||void 0===i||i.dependencies.add(n),js(Ip,this)[t]=js(Ip,this)[n]);return this}recordOpenMarker(t){return js(kp,this).push(t),this}getOpenMarker(){return 0===js(kp,this).length?null:js(kp,this).at(-1)}recordCloseMarker(t){const e=js(kp,this).pop();var n;void 0!==e&&(null===(n=bp(js(Fp,this),t))||void 0===n||n.dependencies.add(e),js(Ip,this)[t]=js(Ip,this)[e]);return this}beginMarkedContent(t){return js(Sp,this).push(t),this}endMarkedContent(t){const e=js(Sp,this).pop();var n;void 0!==e&&(null===(n=bp(js(Fp,this),t))||void 0===n||n.dependencies.add(e),js(Ip,this)[t]=js(Ip,this)[e]);return this}pushBaseTransform(t){return js(Ap,this).push(ll.multiplyByDOMMatrix(js(Ap,this).at(-1),t.getTransform())),this}popBaseTransform(){return js(Ap,this).length>1&&js(Ap,this).pop(),this}recordSimpleData(t,e){return js(wp,this)[t]=e,this}recordIncrementalData(t,e){return js(xp,this)[t].push(e),this}resetIncrementalData(t,e){return js(xp,this)[t].length=0,this}recordNamedData(t,e){return js(_p,this).set(t,e),this}recordSimpleDataFromNamed(t,e,n){var i;js(wp,this)[t]=null!==(i=js(_p,this).get(e))&&void 0!==i?i:n}recordFutureForcedDependency(t,e){return this.recordIncrementalData(hp,e),this}inheritSimpleDataAsFutureForcedDependencies(t){for(const e of t)e in js(wp,this)&&this.recordFutureForcedDependency(e,js(wp,this)[e]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const t of js(Tp,this))this.recordFutureForcedDependency(hp,t);return this}resetBBox(t){return js(Mp,this)!==t&&(Ws(Mp,this,t),js(Cp,this)[0]=1/0,js(Cp,this)[1]=1/0,js(Cp,this)[2]=-1/0,js(Cp,this)[3]=-1/0),this}recordClipBox(t,e,n,i,r,a){const s=ll.multiplyByDOMMatrix(js(Ap,this).at(-1),e.getTransform()),o=[1/0,1/0,-1/0,-1/0];ll.axialAlignedBoundingBox([n,r,i,a],s,o);const l=ll.intersect(js(Ep,this),o);return l?(js(Ep,this)[0]=l[0],js(Ep,this)[1]=l[1],js(Ep,this)[2]=l[2],js(Ep,this)[3]=l[3]):(js(Ep,this)[0]=js(Ep,this)[1]=1/0,js(Ep,this)[2]=js(Ep,this)[3]=-1/0),this}recordBBox(t,e,n,i,r,a){const s=js(Ep,this);if(s[0]===1/0)return this;const o=ll.multiplyByDOMMatrix(js(Ap,this).at(-1),e.getTransform());if(s[0]===-1/0)return ll.axialAlignedBoundingBox([n,r,i,a],o,js(Cp,this)),this;const l=[1/0,1/0,-1/0,-1/0];return ll.axialAlignedBoundingBox([n,r,i,a],o,l),js(Cp,this)[0]=Math.min(js(Cp,this)[0],Math.max(l[0],s[0])),js(Cp,this)[1]=Math.min(js(Cp,this)[1],Math.max(l[1],s[1])),js(Cp,this)[2]=Math.max(js(Cp,this)[2],Math.min(l[2],s[2])),js(Cp,this)[3]=Math.max(js(Cp,this)[3],Math.min(l[3],s[3])),this}recordCharacterBBox(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6?arguments[6]:void 0;const o=n.bbox;let l,c;if(o&&(l=o[2]!==o[0]&&o[3]!==o[1]&&js(Rp,this).get(n),!1!==l&&(c=[0,0,0,0],ll.axialAlignedBoundingBox(o,n.fontMatrix,c),1===i&&0===r&&0===a||ll.scaleMinMax([i,0,0,-i,r,a],c),l)))return this.recordBBox(t,e,c[0],c[2],c[1],c[3]);if(!s)return this.recordFullPageBBox(t);const u=s();return o&&c&&void 0===l&&(l=c[0]<=r-u.actualBoundingBoxLeft&&c[2]>=r+u.actualBoundingBoxRight&&c[1]<=a-u.actualBoundingBoxAscent&&c[3]>=a+u.actualBoundingBoxDescent,js(Rp,this).set(n,l),l)?this.recordBBox(t,e,c[0],c[2],c[1],c[3]):this.recordBBox(t,e,r-u.actualBoundingBoxLeft,r+u.actualBoundingBoxRight,a-u.actualBoundingBoxAscent,a+u.actualBoundingBoxDescent)}recordFullPageBBox(t){return js(Cp,this)[0]=Math.max(0,js(Ep,this)[0]),js(Cp,this)[1]=Math.max(0,js(Ep,this)[1]),js(Cp,this)[2]=Math.min(js(Dp,this),js(Ep,this)[2]),js(Cp,this)[3]=Math.min(js(Lp,this),js(Ep,this)[3]),this}getSimpleIndex(t){return js(wp,this)[t]}recordDependencies(t,e){const n=js(Tp,this),i=js(wp,this),r=js(xp,this);for(const a of e)a in js(wp,this)?n.add(i[a]):a in r&&r[a].forEach(n.add,n);return this}recordNamedDependency(t,e){return js(_p,this).has(e)&&js(Tp,this).add(js(_p,this).get(e)),this}recordOperation(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.recordDependencies(t,[hp]),js(Fp,this)){const e=bp(js(Fp,this),t),{dependencies:n}=e;js(Tp,this).forEach(n.add,n),js(kp,this).forEach(n.add,n),js(Sp,this).forEach(n.add,n),n.delete(t),e.isRenderingOperation=!0}if(js(Mp,this)===t){const n=dp(256*js(Cp,this)[0]/js(Dp,this)),i=dp(256*js(Cp,this)[1]/js(Lp,this)),r=fp(256*js(Cp,this)[2]/js(Dp,this)),a=fp(256*js(Cp,this)[3]/js(Lp,this));pp(js(Np,this),t,n,i,r,a);for(const e of js(Tp,this))e!==t&&pp(js(Np,this),e,n,i,r,a);for(const e of js(kp,this))e!==t&&pp(js(Np,this),e,n,i,r,a);for(const e of js(Sp,this))e!==t&&pp(js(Np,this),e,n,i,r,a);e||(js(Tp,this).clear(),Ws(Mp,this,-1))}return this}recordShowTextOperation(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Array.from(js(Tp,this));this.recordOperation(t,e),this.recordIncrementalData("sameLineText",t);for(const i of n)this.recordIncrementalData("sameLineText",i);return this}bboxToClipBoxDropOperation(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return js(Mp,this)===t&&(Ws(Mp,this,-1),js(Ep,this)[0]=Math.max(js(Ep,this)[0],js(Cp,this)[0]),js(Ep,this)[1]=Math.max(js(Ep,this)[1],js(Cp,this)[1]),js(Ep,this)[2]=Math.min(js(Ep,this)[2],js(Cp,this)[2]),js(Ep,this)[3]=Math.min(js(Ep,this)[3],js(Cp,this)[3]),e||js(Tp,this).clear()),this}_takePendingDependencies(){const t=js(Tp,this);return Ws(Tp,this,new Set),t}_extractOperation(t){const e=js(Pp,this).get(t);return js(Pp,this).delete(t),e}_pushPendingDependencies(t){for(const e of t)js(Tp,this).add(e)}take(){return js(Rp,this).clear(),new yp(js(Ip,this),js(Np,this))}takeDebugMetadata(){return js(Fp,this)}}function jp(t,e){const n=new ArrayBuffer(4*t);Ws(Np,this,new Uint8ClampedArray(n)),Ws(Ip,this,new Uint32Array(n)),e&&e.length>0?(js(Ip,this).set(e),js(Ip,this).fill(gp,e.length)):js(Ip,this).fill(gp)}var Wp=new WeakMap,zp=new WeakMap,Up=new WeakMap,Hp=new WeakMap,Vp=new WeakMap;class Gp{constructor(t,e,n){if(Fs(this,Wp,void 0),Fs(this,zp,void 0),Fs(this,Up,void 0),Fs(this,Hp,0),Fs(this,Vp,0),t instanceof Gp&&js(Up,t)===!!n)return t;Ws(Wp,this,t),Ws(zp,this,e),Ws(Up,this,!!n)}growOperationsCount(){throw new Error("Unreachable")}save(t){var e;return Ws(Vp,this,(e=js(Vp,this),e++,e)),js(Wp,this).save(js(zp,this)),this}restore(t){var e;js(Vp,this)>0&&(js(Wp,this).restore(js(zp,this)),Ws(Vp,this,(e=js(Vp,this),e--,e)));return this}recordOpenMarker(t){var e;return Ws(Hp,this,(e=js(Hp,this),e++,e)),this}getOpenMarker(){return js(Hp,this)>0?js(zp,this):js(Wp,this).getOpenMarker()}recordCloseMarker(t){var e;return Ws(Hp,this,(e=js(Hp,this),e--,e)),this}beginMarkedContent(t){return this}endMarkedContent(t){return this}pushBaseTransform(t){return js(Wp,this).pushBaseTransform(t),this}popBaseTransform(){return js(Wp,this).popBaseTransform(),this}recordSimpleData(t,e){return js(Wp,this).recordSimpleData(t,js(zp,this)),this}recordIncrementalData(t,e){return js(Wp,this).recordIncrementalData(t,js(zp,this)),this}resetIncrementalData(t,e){return js(Wp,this).resetIncrementalData(t,js(zp,this)),this}recordNamedData(t,e){return this}recordSimpleDataFromNamed(t,e,n){return js(Wp,this).recordSimpleDataFromNamed(t,e,js(zp,this)),this}recordFutureForcedDependency(t,e){return js(Wp,this).recordFutureForcedDependency(t,js(zp,this)),this}inheritSimpleDataAsFutureForcedDependencies(t){return js(Wp,this).inheritSimpleDataAsFutureForcedDependencies(t),this}inheritPendingDependenciesAsFutureForcedDependencies(){return js(Wp,this).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(t){return js(Up,this)||js(Wp,this).resetBBox(js(zp,this)),this}recordClipBox(t,e,n,i,r,a){return js(Up,this)||js(Wp,this).recordClipBox(js(zp,this),e,n,i,r,a),this}recordBBox(t,e,n,i,r,a){return js(Up,this)||js(Wp,this).recordBBox(js(zp,this),e,n,i,r,a),this}recordCharacterBBox(t,e,n,i,r,a,s){return js(Up,this)||js(Wp,this).recordCharacterBBox(js(zp,this),e,n,i,r,a,s),this}recordFullPageBBox(t){return js(Up,this)||js(Wp,this).recordFullPageBBox(js(zp,this)),this}getSimpleIndex(t){return js(Wp,this).getSimpleIndex(t)}recordDependencies(t,e){return js(Wp,this).recordDependencies(js(zp,this),e),this}recordNamedDependency(t,e){return js(Wp,this).recordNamedDependency(js(zp,this),e),this}recordOperation(t){return js(Wp,this).recordOperation(js(zp,this),!0),this}recordShowTextOperation(t){return js(Wp,this).recordShowTextOperation(js(zp,this),!0),this}bboxToClipBoxDropOperation(t){return js(Up,this)||js(Wp,this).bboxToClipBoxDropOperation(js(zp,this),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}}const qp=["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],Xp=["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],Yp=["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],Kp=["filter","fillColor","fillAlpha"],Qp=["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],$p=["transform"],Jp=["transform","fillColor"],Zp="Fill",tg="Stroke",eg="Shading";function ng(t,e){if(!e)return;const n=e[2]-e[0],i=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],n,i),t.clip(r)}class ig{isModifyingCurrentTransform(){return!1}getPattern(){qo("Abstract method `getPattern` called.")}}class rg extends ig{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;"axial"===this._type?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)e.addColorStop(n[0],n[1]);return e}getPattern(t,e,n,i){let r;if(i===tg||i===Zp){const a=e.current.getClippedPathBoundingBox(i,Ll(t))||[0,0,0,0],s=Math.ceil(a[2]-a[0])||1,o=Math.ceil(a[3]-a[1])||1,l=e.cachedCanvases.getCanvas("pattern",s,o),c=l.context;c.clearRect(0,0,c.canvas.width,c.canvas.height),c.beginPath(),c.rect(0,0,c.canvas.width,c.canvas.height),c.translate(-a[0],-a[1]),n=ll.transform(n,[1,0,0,1,a[0],a[1]]),c.transform(...e.baseTransform),this.matrix&&c.transform(...this.matrix),ng(c,this._bbox),c.fillStyle=this._createGradient(c),c.fill(),r=t.createPattern(l.canvas,"no-repeat");const u=new DOMMatrix(n);r.setTransform(u)}else ng(t,this._bbox),r=this._createGradient(t);return r}}function ag(t,e,n,i,r,a,s,o){const l=e.coords,c=e.colors,u=t.data,h=4*t.width;let d;l[n+1]>l[i+1]&&(d=n,n=i,i=d,d=a,a=s,s=d),l[i+1]>l[r+1]&&(d=i,i=r,r=d,d=s,s=o,o=d),l[n+1]>l[i+1]&&(d=n,n=i,i=d,d=a,a=s,s=d);const f=(l[n]+e.offsetX)*e.scaleX,p=(l[n+1]+e.offsetY)*e.scaleY,g=(l[i]+e.offsetX)*e.scaleX,m=(l[i+1]+e.offsetY)*e.scaleY,v=(l[r]+e.offsetX)*e.scaleX,y=(l[r+1]+e.offsetY)*e.scaleY;if(p>=y)return;const b=c[a],w=c[a+1],x=c[a+2],_=c[s],k=c[s+1],S=c[s+2],A=c[o],E=c[o+1],C=c[o+2],M=Math.round(p),T=Math.round(y);let P,R,D,L,N,I,F,O;for(let B=M;B<=T;B++){if(B<m){const t=B<p?0:(p-B)/(p-m);P=f-(f-g)*t,R=b-(b-_)*t,D=w-(w-k)*t,L=x-(x-S)*t}else{let t;t=B>y?1:m===y?0:(m-B)/(m-y),P=g-(g-v)*t,R=_-(_-A)*t,D=k-(k-E)*t,L=S-(S-C)*t}let t;t=B<p?0:B>y?1:(p-B)/(p-y),N=f-(f-v)*t,I=b-(b-A)*t,F=w-(w-E)*t,O=x-(x-C)*t;const e=Math.round(Math.min(P,N)),n=Math.round(Math.max(P,N));let i=h*B+4*e;for(let r=e;r<=n;r++)t=(P-r)/(P-N),t<0?t=0:t>1&&(t=1),u[i++]=R-(R-I)*t|0,u[i++]=D-(D-F)*t|0,u[i++]=L-(L-O)*t|0,u[i++]=255}}function sg(t,e,n){const i=e.coords,r=e.colors;let a,s;switch(e.type){case"lattice":const o=e.verticesPerRow,l=Math.floor(i.length/o)-1,c=o-1;for(a=0;a<l;a++){let e=a*o;for(let a=0;a<c;a++,e++)ag(t,n,i[e],i[e+1],i[e+o],r[e],r[e+1],r[e+o]),ag(t,n,i[e+o+1],i[e+1],i[e+o],r[e+o+1],r[e+1],r[e+o])}break;case"triangles":for(a=0,s=i.length;a<s;a+=3)ag(t,n,i[a],i[a+1],i[a+2],r[a],r[a+1],r[a+2]);break;default:throw new Error("illegal figure")}}class og extends ig{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,n){const i=Math.floor(this._bounds[0]),r=Math.floor(this._bounds[1]),a=Math.ceil(this._bounds[2])-i,s=Math.ceil(this._bounds[3])-r,o=Math.min(Math.ceil(Math.abs(a*t[0]*1.1)),3e3),l=Math.min(Math.ceil(Math.abs(s*t[1]*1.1)),3e3),c=a/o,u=s/l,h={coords:this._coords,colors:this._colors,offsetX:-i,offsetY:-r,scaleX:1/c,scaleY:1/u},d=o+4,f=l+4,p=n.getCanvas("mesh",d,f),g=p.context,m=g.createImageData(o,l);if(e){const t=m.data;for(let n=0,i=t.length;n<i;n+=4)t[n]=e[0],t[n+1]=e[1],t[n+2]=e[2],t[n+3]=255}for(const v of this._figures)sg(m,v,h);g.putImageData(m,2,2);return{canvas:p.canvas,offsetX:i-2*c,offsetY:r-2*u,scaleX:c,scaleY:u}}isModifyingCurrentTransform(){return!0}getPattern(t,e,n,i){ng(t,this._bbox);const r=new Float32Array(2);if(i===eg)ll.singularValueDecompose2dScale(Ll(t),r);else if(this.matrix){ll.singularValueDecompose2dScale(this.matrix,r);const[t,n]=r;ll.singularValueDecompose2dScale(e.baseTransform,r),r[0]*=t,r[1]*=n}else ll.singularValueDecompose2dScale(e.baseTransform,r);const a=this._createMeshCanvas(r,i===eg?null:this._background,e.cachedCanvases);return i!==eg&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(a.offsetX,a.offsetY),t.scale(a.scaleX,a.scaleY),t.createPattern(a.canvas,"no-repeat")}}class lg extends ig{getPattern(){return"hotpink"}}const cg=1,ug=2;class hg{constructor(t,e,n,i){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=n,this.baseTransform=i}createPatternCanvas(t,e){var n,i;const{bbox:r,operatorList:a,paintType:s,tilingType:o,color:l,canvasGraphicsFactory:c}=this;let{xstep:u,ystep:h}=this;u=Math.abs(u),h=Math.abs(h),Vo("TilingType: "+o);const d=r[0],f=r[1],p=r[2],g=r[3],m=p-d,v=g-f,y=new Float32Array(2);ll.singularValueDecompose2dScale(this.matrix,y);const[b,w]=y;ll.singularValueDecompose2dScale(this.baseTransform,y);const x=b*y[0],_=w*y[1];let k=m,S=v,A=!1,E=!1;const C=Math.ceil(u*x),M=Math.ceil(h*_);C>=Math.ceil(m*x)?k=u:A=!0,M>=Math.ceil(v*_)?S=h:E=!0;const T=this.getSizeAndScale(k,this.ctx.canvas.width,x),P=this.getSizeAndScale(S,this.ctx.canvas.height,_),R=t.cachedCanvases.getCanvas("pattern",T.size,P.size),D=R.context,L=c.createCanvasGraphics(D,e);if(L.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(L,s,l),D.translate(-T.scale*d,-P.scale*f),L.transform(0,T.scale,0,0,P.scale,0,0),D.save(),null===(n=L.dependencyTracker)||void 0===n||n.save(),this.clipBbox(L,d,f,p,g),L.baseTransform=Ll(L.ctx),L.executeOperatorList(a),L.endDrawing(),null===(i=L.dependencyTracker)||void 0===i||i.restore(),D.restore(),A||E){const e=R.canvas;A&&(k=u),E&&(S=h);const n=this.getSizeAndScale(k,this.ctx.canvas.width,x),i=this.getSizeAndScale(S,this.ctx.canvas.height,_),r=n.size,a=i.size,s=t.cachedCanvases.getCanvas("pattern-workaround",r,a),o=s.context,l=A?Math.floor(m/u):0,c=E?Math.floor(v/h):0;for(let t=0;t<=l;t++)for(let n=0;n<=c;n++)o.drawImage(e,r*t,a*n,r,a,0,0,r,a);return{canvas:s.canvas,scaleX:n.scale,scaleY:i.scale,offsetX:d,offsetY:f}}return{canvas:R.canvas,scaleX:T.scale,scaleY:P.scale,offsetX:d,offsetY:f}}getSizeAndScale(t,e,n){const i=Math.max(hg.MAX_PATTERN_SIZE,e);let r=Math.ceil(t*n);return r>=i?r=i:n=r/t,{scale:n,size:r}}clipBbox(t,e,n,i,r){const a=i-e,s=r-n;t.ctx.rect(e,n,a,s),ll.axialAlignedBoundingBox([e,n,i,r],Ll(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,n){const i=t.ctx,r=t.current;switch(e){case cg:const{fillStyle:t,strokeStyle:a}=this.ctx;i.fillStyle=r.fillColor=t,i.strokeStyle=r.strokeColor=a;break;case ug:i.fillStyle=i.strokeStyle=n,r.fillColor=r.strokeColor=n;break;default:throw new nl("Unsupported paint type: ".concat(e))}}isModifyingCurrentTransform(){return!1}getPattern(t,e,n,i,r){let a=n;i!==eg&&(a=ll.transform(a,e.baseTransform),this.matrix&&(a=ll.transform(a,this.matrix)));const s=this.createPatternCanvas(e,r);let o=new DOMMatrix(a);o=o.translate(s.offsetX,s.offsetY),o=o.scale(1/s.scaleX,1/s.scaleY);const l=t.createPattern(s.canvas,"repeat");return l.setTransform(o),l}}function dg(t){let{src:e,srcPos:n=0,dest:i,width:r,height:a,nonBlackColor:s=4294967295,inverseDecode:o=!1}=t;const l=sl.isLittleEndian?4278190080:255,[c,u]=o?[s,l]:[l,s],h=r>>3,d=7&r,f=e.length;i=new Uint32Array(i.buffer);let p=0;for(let g=0;g<a;g++){for(const r=n+h;n<r;n++){const t=n<f?e[n]:255;i[p++]=128&t?u:c,i[p++]=64&t?u:c,i[p++]=32&t?u:c,i[p++]=16&t?u:c,i[p++]=8&t?u:c,i[p++]=4&t?u:c,i[p++]=2&t?u:c,i[p++]=1&t?u:c}if(0===d)continue;const t=n<f?e[n++]:255;for(let e=0;e<d;e++)i[p++]=t&1<<7-e?u:c}return{srcPos:n,destPos:p}}c(hg,"MAX_PATTERN_SIZE",3e3);const fg=16,pg=new DOMMatrix,gg=new Float32Array(2),mg=new Float32Array([1/0,1/0,-1/0,-1/0]);class vg{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,n){let i;return void 0!==this.cache[t]?(i=this.cache[t],this.canvasFactory.reset(i,e,n)):(i=this.canvasFactory.create(e,n),this.cache[t]=i),i}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function yg(t,e,n,i,r,a,s,o,l,c){const[u,h,d,f,p,g]=Ll(t);if(0===h&&0===d){const m=s*u+p,v=Math.round(m),y=o*f+g,b=Math.round(y),w=(s+l)*u+p,x=Math.abs(Math.round(w)-v)||1,_=(o+c)*f+g,k=Math.abs(Math.round(_)-b)||1;return t.setTransform(Math.sign(u),0,0,Math.sign(f),v,b),t.drawImage(e,n,i,r,a,0,0,x,k),t.setTransform(u,h,d,f,p,g),[x,k]}if(0===u&&0===f){const m=o*d+p,v=Math.round(m),y=s*h+g,b=Math.round(y),w=(o+c)*d+p,x=Math.abs(Math.round(w)-v)||1,_=(s+l)*h+g,k=Math.abs(Math.round(_)-b)||1;return t.setTransform(0,Math.sign(h),Math.sign(d),0,v,b),t.drawImage(e,n,i,r,a,0,0,k,x),t.setTransform(u,h,d,f,p,g),[k,x]}t.drawImage(e,n,i,r,a,s,o,l,c);return[Math.hypot(u,h)*l,Math.hypot(d,f)*c]}class bg{constructor(t,e,n){c(this,"alphaIsShape",!1),c(this,"fontSize",0),c(this,"fontSizeScale",1),c(this,"textMatrix",null),c(this,"textMatrixScale",1),c(this,"fontMatrix",oo),c(this,"leading",0),c(this,"x",0),c(this,"y",0),c(this,"lineX",0),c(this,"lineY",0),c(this,"charSpacing",0),c(this,"wordSpacing",0),c(this,"textHScale",1),c(this,"textRenderingMode",_o),c(this,"textRise",0),c(this,"fillColor","#000000"),c(this,"strokeColor","#000000"),c(this,"patternFill",!1),c(this,"patternStroke",!1),c(this,"fillAlpha",1),c(this,"strokeAlpha",1),c(this,"lineWidth",1),c(this,"activeSMask",null),c(this,"transferMaps","none"),null===n||void 0===n||n(this),this.clipBox=new Float32Array([0,0,t,e]),this.minMax=mg.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zp,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=this.minMax.slice();if(t===tg){e||qo("Stroke bounding box must include transform."),ll.singularValueDecompose2dScale(e,gg);const t=gg[0]*this.lineWidth/2,i=gg[1]*this.lineWidth/2;n[0]-=t,n[1]-=i,n[2]+=t,n[3]+=i}return n}updateClipFromPath(){const t=ll.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(mg,0)}getClippedPathBoundingBox(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zp,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return ll.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function wg(t,e){if(e instanceof ImageData)return void t.putImageData(e,0,0);const n=e.height,i=e.width,r=n%fg,a=(n-r)/fg,s=0===r?a:a+1,o=t.createImageData(i,fg);let l,c=0;const u=e.data,h=o.data;let d,f,p,g;if(e.kind===Mo.GRAYSCALE_1BPP){const e=u.byteLength,n=new Uint32Array(h.buffer,0,h.byteLength>>2),g=n.length,m=i+7>>3,v=4294967295,y=sl.isLittleEndian?4278190080:255;for(d=0;d<s;d++){for(p=d<a?fg:r,l=0,f=0;f<p;f++){const t=e-c;let r=0;const a=t>m?i:8*t-7,s=-8&a;let o=0,h=0;for(;r<s;r+=8)h=u[c++],n[l++]=128&h?v:y,n[l++]=64&h?v:y,n[l++]=32&h?v:y,n[l++]=16&h?v:y,n[l++]=8&h?v:y,n[l++]=4&h?v:y,n[l++]=2&h?v:y,n[l++]=1&h?v:y;for(;r<a;r++)0===o&&(h=u[c++],o=128),n[l++]=h&o?v:y,o>>=1}for(;l<g;)n[l++]=0;t.putImageData(o,0,d*fg)}}else if(e.kind===Mo.RGBA_32BPP){for(f=0,g=i*fg*4,d=0;d<a;d++)h.set(u.subarray(c,c+g)),c+=g,t.putImageData(o,0,f),f+=fg;d<s&&(g=i*r*4,h.set(u.subarray(c,c+g)),t.putImageData(o,0,f))}else{if(e.kind!==Mo.RGB_24BPP)throw new Error("bad image kind: ".concat(e.kind));for(p=fg,g=i*p,d=0;d<s;d++){for(d>=a&&(p=r,g=i*p),l=0,f=g;f--;)h[l++]=u[c++],h[l++]=u[c++],h[l++]=u[c++],h[l++]=255;t.putImageData(o,0,d*fg)}}}function xg(t,e){if(e.bitmap)return void t.drawImage(e.bitmap,0,0);const n=e.height,i=e.width,r=n%fg,a=(n-r)/fg,s=0===r?a:a+1,o=t.createImageData(i,fg);let l=0;const c=e.data,u=o.data;for(let h=0;h<s;h++){const e=h<a?fg:r;({srcPos:l}=dg({src:c,srcPos:l,dest:u,width:i,height:e,nonBlackColor:0})),t.putImageData(o,0,h*fg)}}function _g(t,e){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of n)void 0!==t[i]&&(e[i]=t[i]);void 0!==t.setLineDash&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function kg(t){t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",void 0!==t.setLineDash&&(t.setLineDash([]),t.lineDashOffset=0);const{filter:e}=t;"none"!==e&&""!==e&&(t.filter="none")}function Sg(t,e){if(e)return!0;ll.singularValueDecompose2dScale(t,gg);const n=Math.fround(Fl.pixelRatio*wl.PDF_TO_CSS_UNITS);return gg[0]<=n&&gg[1]<=n}const Ag=["butt","round","square"],Eg=["miter","round","bevel"],Cg={},Mg={};var Tg=new WeakSet;class Pg{constructor(t,e,n,i,r,a,s,o,l){let{optionalContentConfig:c,markedContentStack:u=null}=a;Is(this,Tg),this.ctx=t,this.current=new bg(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=n,this.canvasFactory=i,this.filterFactory=r,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=u||[],this.optionalContentConfig=c,this.cachedCanvases=new vg(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=s,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=o,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=null!==l&&void 0!==l?l:null}getObject(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;var i;return"string"===typeof e?(null===(i=this.dependencyTracker)||void 0===i||i.recordNamedDependency(t,e),e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e)):n}beginDrawing(t){let{transform:e,viewport:n,transparency:i=!1,background:r=null}=t;const a=this.ctx.canvas.width,s=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,a,s),this.ctx.fillStyle=o,i){const t=this.cachedCanvases.getCanvas("transparent",a,s);this.compositeCtx=this.ctx,this.transparentCanvas=t.canvas,this.ctx=t.context,this.ctx.save(),this.ctx.transform(...Ll(this.compositeCtx))}this.ctx.save(),kg(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=Ll(this.ctx)}executeOperatorList(t,e,n,i,r){const a=t.argsArray,s=t.fnArray;let o=e||0;const l=a.length;if(l===o)return o;const c=l-o>10&&"function"===typeof n,u=c?Date.now()+15:0;let h=0;const d=this.commonObjs,f=this.objs;let p,g;for(;;){if(void 0!==i&&o===i.nextBreakPoint)return i.breakIt(o,n),o;var m;if(!r||r(o))if(p=s[o],g=null!==(m=a[o])&&void 0!==m?m:null,p!==Fo.dependency)null===g?this[p](o):this[p](o,...g);else for(const t of g){var v;null===(v=this.dependencyTracker)||void 0===v||v.recordNamedData(t,o);const e=t.startsWith("g_")?d:f;if(!e.has(t))return e.get(t,n),o}if(o++,o===l)return o;if(c&&++h>10){if(Date.now()>u)return n(),o;h=0}}}endDrawing(){Os(Tg,this,Rg).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),Os(Tg,this,Dg).call(this)}_scaleImage(t,e){var n,i;const r=null!==(n=t.width)&&void 0!==n?n:t.displayWidth,a=null!==(i=t.height)&&void 0!==i?i:t.displayHeight;let s,o,l=Math.max(Math.hypot(e[0],e[1]),1),c=Math.max(Math.hypot(e[2],e[3]),1),u=r,h=a,d="prescale1";for(;l>2&&u>1||c>2&&h>1;){let e=u,n=h;l>2&&u>1&&(e=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u/2),l/=u/e),c>2&&h>1&&(n=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h)/2,c/=h/n),s=this.cachedCanvases.getCanvas(d,e,n),o=s.context,o.clearRect(0,0,e,n),o.drawImage(t,0,0,u,h,0,0,e,n),t=s.canvas,u=e,h=n,d="prescale1"===d?"prescale2":"prescale1"}return{img:t,paintWidth:u,paintHeight:h}}_createMaskCanvas(t,e){var n;const i=this.ctx,{width:r,height:a}=e,s=this.current.fillColor,o=this.current.patternFill,l=Ll(i);let c,u,h,d;if((e.bitmap||e.data)&&e.count>1){const n=e.bitmap||e.data.buffer;u=JSON.stringify(o?l:[l.slice(0,4),s]),c=this._cachedBitmapsMap.get(n),c||(c=new Map,this._cachedBitmapsMap.set(n,c));const i=c.get(u);if(i&&!o){var f;const e=Math.round(Math.min(l[0],l[2])+l[4]),n=Math.round(Math.min(l[1],l[3])+l[5]);return null===(f=this.dependencyTracker)||void 0===f||f.recordDependencies(t,Jp),{canvas:i,offsetX:e,offsetY:n}}h=i}h||(d=this.cachedCanvases.getCanvas("maskCanvas",r,a),xg(d.context,e));let p=ll.transform(l,[1/r,0,0,-1/a,0,0]);p=ll.transform(p,[1,0,0,1,0,-a]);const g=mg.slice();ll.axialAlignedBoundingBox([0,0,r,a],p,g);const[m,v,y,b]=g,w=Math.round(y-m)||1,x=Math.round(b-v)||1,_=this.cachedCanvases.getCanvas("fillCanvas",w,x),k=_.context,S=m,A=v;k.translate(-S,-A),k.transform(...p),h||(h=this._scaleImage(d.canvas,Nl(k)),h=h.img,c&&o&&c.set(u,h)),k.imageSmoothingEnabled=Sg(Ll(k),e.interpolate),yg(k,h,0,0,h.width,h.height,0,0,r,a),k.globalCompositeOperation="source-in";const E=ll.transform(Nl(k),[1,0,0,1,-S,-A]);return k.fillStyle=o?s.getPattern(i,this,E,Zp,t):s,k.fillRect(0,0,r,a),c&&!o&&(this.cachedCanvases.delete("fillCanvas"),c.set(u,_.canvas)),null===(n=this.dependencyTracker)||void 0===n||n.recordDependencies(t,Jp),{canvas:_.canvas,offsetX:Math.round(S),offsetY:Math.round(A)}}setLineWidth(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("lineWidth",t),e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("lineCap",t),this.ctx.lineCap=Ag[e]}setLineJoin(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("lineJoin",t),this.ctx.lineJoin=Eg[e]}setMiterLimit(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("miterLimit",t),this.ctx.miterLimit=e}setDash(t,e,n){var i;null===(i=this.dependencyTracker)||void 0===i||i.recordSimpleData("dash",t);const r=this.ctx;void 0!==r.setLineDash&&(r.setLineDash(e),r.lineDashOffset=n)}setRenderingIntent(t,e){}setFlatness(t,e){}setGState(t,e){var n,i,r,a,s;for(const[o,l]of e)switch(o){case"LW":this.setLineWidth(t,l);break;case"LC":this.setLineCap(t,l);break;case"LJ":this.setLineJoin(t,l);break;case"ML":this.setMiterLimit(t,l);break;case"D":this.setDash(t,l[0],l[1]);break;case"RI":this.setRenderingIntent(t,l);break;case"FL":this.setFlatness(t,l);break;case"Font":this.setFont(t,l[0],l[1]);break;case"CA":null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("strokeAlpha",t),this.current.strokeAlpha=l;break;case"ca":null===(i=this.dependencyTracker)||void 0===i||i.recordSimpleData("fillAlpha",t),this.ctx.globalAlpha=this.current.fillAlpha=l;break;case"BM":null===(r=this.dependencyTracker)||void 0===r||r.recordSimpleData("globalCompositeOperation",t),this.ctx.globalCompositeOperation=l;break;case"SMask":null===(a=this.dependencyTracker)||void 0===a||a.recordSimpleData("SMask",t),this.current.activeSMask=l?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":null===(s=this.dependencyTracker)||void 0===s||s.recordSimpleData("filter",t),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(l)}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(t){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,n=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(i,e,n);this.suspendedCtx=this.ctx;const a=this.ctx=r.context;a.setTransform(this.suspendedCtx.getTransform()),_g(this.suspendedCtx,a),function(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(t,n){e.translate(t,n),this.__originalTranslate(t,n)},t.scale=function(t,n){e.scale(t,n),this.__originalScale(t,n)},t.transform=function(t,n,i,r,a,s){e.transform(t,n,i,r,a,s),this.__originalTransform(t,n,i,r,a,s)},t.setTransform=function(t,n,i,r,a,s){e.setTransform(t,n,i,r,a,s),this.__originalSetTransform(t,n,i,r,a,s)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(t){e.rotate(t),this.__originalRotate(t)},t.clip=function(t){e.clip(t),this.__originalClip(t)},t.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},t.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},t.bezierCurveTo=function(t,n,i,r,a,s){e.bezierCurveTo(t,n,i,r,a,s),this.__originalBezierCurveTo(t,n,i,r,a,s)},t.rect=function(t,n,i,r){e.rect(t,n,i,r),this.__originalRect(t,n,i,r)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}(a,this.suspendedCtx),this.setGState(t,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),_g(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,n,i){const r=i[0],a=i[1],s=i[2]-r,o=i[3]-a;0!==s&&0!==o&&(this.genericComposeSMask(e.context,n,s,o,e.subtype,e.backdrop,e.transferMap,r,a,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(n.canvas,0,0),t.restore())}genericComposeSMask(t,e,n,i,r,a,s,o,l,c,u){let h=t.canvas,d=o-c,f=l-u;if(a)if(d<0||f<0||d+n>h.width||f+i>h.height){const t=this.cachedCanvases.getCanvas("maskExtension",n,i),e=t.context;e.drawImage(h,-d,-f),e.globalCompositeOperation="destination-atop",e.fillStyle=a,e.fillRect(0,0,n,i),e.globalCompositeOperation="source-over",h=t.canvas,d=f=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const e=new Path2D;e.rect(d,f,n,i),t.clip(e),t.globalCompositeOperation="destination-atop",t.fillStyle=a,t.fillRect(d,f,n,i),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),"Alpha"===r&&s?e.filter=this.filterFactory.addAlphaFilter(s):"Luminosity"===r&&(e.filter=this.filterFactory.addLuminosityFilter(s));const p=new Path2D;p.rect(o,l,n,i),e.clip(p),e.globalCompositeOperation="destination-in",e.drawImage(h,d,f,n,i,o,l,n,i),e.restore()}save(t){var e;this.inSMaskMode&&_g(this.ctx,this.suspendedCtx),this.ctx.save();const n=this.current;this.stateStack.push(n),this.current=n.clone(),null===(e=this.dependencyTracker)||void 0===e||e.save(t)}restore(t){var e;null===(e=this.dependencyTracker)||void 0===e||e.restore(t),0!==this.stateStack.length?(this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&_g(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null):this.inSMaskMode&&this.endSMaskMode()}transform(t,e,n,i,r,a,s){var o;null===(o=this.dependencyTracker)||void 0===o||o.recordIncrementalData("transform",t),this.ctx.transform(e,n,i,r,a,s),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,n,i){let[r]=n;if(!i)return r||(r=n[0]=new Path2D),void this[e](t,r);if(null!==this.dependencyTracker){const n=e===Fo.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(t).recordBBox(t,this.ctx,i[0]-n,i[2]+n,i[1]-n,i[3]+n).recordDependencies(t,["transform"])}if(!(r instanceof Path2D)){const t=n[0]=new Path2D;for(let e=0,n=r.length;e<n;)switch(r[e++]){case Oo:t.moveTo(r[e++],r[e++]);break;case Bo:t.lineTo(r[e++],r[e++]);break;case jo:t.bezierCurveTo(r[e++],r[e++],r[e++],r[e++],r[e++],r[e++]);break;case Wo:t.closePath();break;default:Go("Unrecognized drawing path operator: ".concat(r[e-1]))}r=t}ll.axialAlignedBoundingBox(i,Ll(this.ctx),this.current.minMax),this[e](t,r),this._pathStartIdx=t}closePath(t){this.ctx.closePath()}stroke(t,e){var n;let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=this.ctx,a=this.current.strokeColor;if(r.globalAlpha=this.current.strokeAlpha,this.contentVisible)if("object"===typeof a&&null!==a&&void 0!==a&&a.getPattern){const n=a.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.strokeStyle=a.getPattern(r,this,Nl(r),tg,t),n){const t=new Path2D;t.addPath(e,r.getTransform().invertSelf().multiplySelf(n)),e=t}this.rescaleAndStroke(e,!1),r.restore()}else this.rescaleAndStroke(e,!0);null===(n=this.dependencyTracker)||void 0===n||n.recordDependencies(t,qp),i&&this.consumePath(t,e,this.current.getClippedPathBoundingBox(tg,Ll(this.ctx))),r.globalAlpha=this.current.fillAlpha}closeStroke(t,e){this.stroke(t,e)}fill(t,e){var n;let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=this.ctx,a=this.current.fillColor;let s=!1;if(this.current.patternFill){var o;const n=a.isModifyingCurrentTransform()?r.getTransform():null;if(null===(o=this.dependencyTracker)||void 0===o||o.save(t),r.save(),r.fillStyle=a.getPattern(r,this,Nl(r),Zp,t),n){const t=new Path2D;t.addPath(e,r.getTransform().invertSelf().multiplySelf(n)),e=t}s=!0}const l=this.current.getClippedPathBoundingBox();var c;(this.contentVisible&&null!==l&&(this.pendingEOFill?(r.fill(e,"evenodd"),this.pendingEOFill=!1):r.fill(e)),null===(n=this.dependencyTracker)||void 0===n||n.recordDependencies(t,Xp),s)&&(r.restore(),null===(c=this.dependencyTracker)||void 0===c||c.restore(t));i&&this.consumePath(t,e,l)}eoFill(t,e){this.pendingEOFill=!0,this.fill(t,e)}fillStroke(t,e){this.fill(t,e,!1),this.stroke(t,e,!1),this.consumePath(t,e)}eoFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}closeFillStroke(t,e){this.fillStroke(t,e)}closeEOFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}endPath(t,e){this.consumePath(t,e)}rawFillPath(t,e){var n;this.ctx.fill(e),null===(n=this.dependencyTracker)||void 0===n||n.recordDependencies(t,Kp).recordOperation(t)}clip(t){var e;null===(e=this.dependencyTracker)||void 0===e||e.recordFutureForcedDependency("clipMode",t),this.pendingClip=Cg}eoClip(t){var e;null===(e=this.dependencyTracker)||void 0===e||e.recordFutureForcedDependency("clipMode",t),this.pendingClip=Mg}beginText(t){var e;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,null===(e=this.dependencyTracker)||void 0===e||e.recordOpenMarker(t).resetIncrementalData("sameLineText").resetIncrementalData("moveText",t)}endText(t){const e=this.pendingTextPaths,n=this.ctx;if(this.dependencyTracker){const{dependencyTracker:n}=this;void 0!==e&&n.recordFutureForcedDependency("textClip",n.getOpenMarker()).recordFutureForcedDependency("textClip",t),n.recordCloseMarker(t)}if(void 0!==e){const t=new Path2D,i=n.getTransform().invertSelf();for(const{transform:n,x:r,y:a,fontSize:s,path:o}of e)o&&t.addPath(o,new DOMMatrix(n).preMultiplySelf(i).translate(r,a).scale(s,-s));n.clip(t)}delete this.pendingTextPaths}setCharSpacing(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("charSpacing",t),this.current.charSpacing=e}setWordSpacing(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("wordSpacing",t),this.current.wordSpacing=e}setHScale(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("hScale",t),this.current.textHScale=e/100}setLeading(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("leading",t),this.current.leading=-e}setFont(t,e,n){var i,r;null===(i=this.dependencyTracker)||void 0===i||i.recordSimpleData("font",t).recordSimpleDataFromNamed("fontObj",e,t);const a=this.commonObjs.get(e),s=this.current;if(!a)throw new Error("Can't find font for ".concat(e));if(s.fontMatrix=a.fontMatrix||oo,0!==s.fontMatrix[0]&&0!==s.fontMatrix[3]||Go("Invalid font matrix for font "+e),n<0?(n=-n,s.fontDirection=-1):s.fontDirection=1,this.current.font=a,this.current.fontSize=n,a.isType3Font)return;const o=a.loadedName||"sans-serif",l=(null===(r=a.systemFontInfo)||void 0===r?void 0:r.css)||'"'.concat(o,'", ').concat(a.fallbackName);let c="normal";a.black?c="900":a.bold&&(c="bold");const u=a.italic?"italic":"normal";let h=n;n<16?h=16:n>100&&(h=100),this.current.fontSizeScale=n/h,this.ctx.font="".concat(u," ").concat(c," ").concat(h,"px ").concat(l)}setTextRenderingMode(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("textRenderingMode",t),this.current.textRenderingMode=e}setTextRise(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("textRise",t),this.current.textRise=e}moveText(t,e,n){var i;null===(i=this.dependencyTracker)||void 0===i||i.resetIncrementalData("sameLineText").recordIncrementalData("moveText",t),this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=n}setLeadingMoveText(t,e,n){this.setLeading(t,-n),this.moveText(t,e,n)}setTextMatrix(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("textMatrix",t);const{current:i}=this;i.textMatrix=e,i.textMatrixScale=Math.hypot(e[0],e[1]),i.x=i.lineX=0,i.y=i.lineY=0}nextLine(t){var e,n;this.moveText(t,0,this.current.leading),null===(e=this.dependencyTracker)||void 0===e||e.recordIncrementalData("moveText",null!==(n=this.dependencyTracker.getSimpleIndex("leading"))&&void 0!==n?n:t)}paintChar(t,e,n,i,r,a){const s=this.ctx,o=this.current,l=o.font,c=o.textRenderingMode,u=o.fontSize/o.fontSizeScale,h=c&Eo,d=!!(c&Co),f=o.patternFill&&!l.missingFile,p=o.patternStroke&&!l.missingFile;let g;if((l.disableFontFace||d||f||p)&&!l.missingFile&&(g=l.getPathGenerator(this.commonObjs,e)),g&&(l.disableFontFace||f||p)){var m;let e;if(s.save(),s.translate(n,i),s.scale(u,-u),null===(m=this.dependencyTracker)||void 0===m||m.recordCharacterBBox(t,s,l),h===_o||h===So)if(r){e=s.getTransform(),s.setTransform(...r);const t=Os(Tg,this,Lg).call(this,g,e,r);s.fill(t)}else s.fill(g);if(h===ko||h===So)if(a){e||(e=s.getTransform()),s.setTransform(...a);const{a:t,b:n,c:i,d:r}=e,o=ll.inverseTransform(a),l=ll.transform([t,n,i,r,0,0],o);ll.singularValueDecompose2dScale(l,gg),s.lineWidth*=Math.max(gg[0],gg[1])/u,s.stroke(Os(Tg,this,Lg).call(this,g,e,a))}else s.lineWidth/=u,s.stroke(g);s.restore()}else{var v;if(h===_o||h===So)s.fillText(e,n,i),null===(v=this.dependencyTracker)||void 0===v||v.recordCharacterBBox(t,s,l,u,n,i,(()=>s.measureText(e)));if(h===ko||h===So){var y;if(this.dependencyTracker)null===(y=this.dependencyTracker)||void 0===y||y.recordCharacterBBox(t,s,l,u,n,i,(()=>s.measureText(e))).recordDependencies(t,qp);s.strokeText(e,n,i)}}if(d){var b;(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Ll(s),x:n,y:i,fontSize:u,path:g}),null===(b=this.dependencyTracker)||void 0===b||b.recordCharacterBBox(t,s,l,u,n,i)}}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let n=!1;for(let i=3;i<e.length;i+=4)if(e[i]>0&&e[i]<255){n=!0;break}return Qo(this,"isFontSubpixelAAEnabled",n)}showText(t,e){var n;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(t,Qp).resetBBox(t),this.current.textRenderingMode&Co&&this.dependencyTracker.recordFutureForcedDependency("textClip",t).inheritPendingDependenciesAsFutureForcedDependencies());const i=this.current,r=i.font;var a;if(r.isType3Font)return this.showType3Text(t,e),void(null===(a=this.dependencyTracker)||void 0===a||a.recordShowTextOperation(t));const s=i.fontSize;var o;if(0===s)return void(null===(o=this.dependencyTracker)||void 0===o||o.recordOperation(t));const l=this.ctx,c=i.fontSizeScale,u=i.charSpacing,h=i.wordSpacing,d=i.fontDirection,f=i.textHScale*d,p=e.length,g=r.vertical,m=g?1:-1,v=r.defaultVMetrics,y=s*i.fontMatrix[0],b=i.textRenderingMode===_o&&!r.disableFontFace&&!i.patternFill;let w,x;if(l.save(),i.textMatrix&&l.transform(...i.textMatrix),l.translate(i.x,i.y+i.textRise),d>0?l.scale(f,-1):l.scale(f,1),i.patternFill){l.save();const e=i.fillColor.getPattern(l,this,Nl(l),Zp,t);w=Ll(l),l.restore(),l.fillStyle=e}if(i.patternStroke){l.save();const e=i.strokeColor.getPattern(l,this,Nl(l),tg,t);x=Ll(l),l.restore(),l.strokeStyle=e}let _=i.lineWidth;const k=i.textMatrixScale;if(0===k||0===_){const t=i.textRenderingMode&Eo;t!==ko&&t!==So||(_=this.getSinglePixelWidth())}else _/=k;if(1!==c&&(l.scale(c,c),_/=c),l.lineWidth=_,r.isInvalidPDFjsFont){const n=[];let r=0;for(const t of e)n.push(t.unicode),r+=t.width;const a=n.join("");if(l.fillText(a,0,0),null!==this.dependencyTracker){const e=l.measureText(a);this.dependencyTracker.recordBBox(t,this.ctx,-e.actualBoundingBoxLeft,e.actualBoundingBoxRight,-e.actualBoundingBoxAscent,e.actualBoundingBoxDescent).recordShowTextOperation(t)}return i.x+=r*y*f,l.restore(),void this.compose()}let S,A=0;for(S=0;S<p;++S){const n=e[S];if("number"===typeof n){A+=m*n*s/1e3;continue}let i=!1;const a=(n.isSpace?h:0)+u,o=n.fontChar,f=n.accent;let p,_,k,C=n.width;if(g){const t=n.vmetric||v,e=-(n.vmetric?t[1]:.5*C)*y,i=t[2]*y;C=t?-t[0]:C,p=e/c,_=(A+i)/c}else p=A/c,_=0;if(r.remeasure&&C>0){k=l.measureText(o);const t=1e3*k.width/s*c;if(C<t&&this.isFontSubpixelAAEnabled){const e=C/t;i=!0,l.save(),l.scale(e,1),p/=e}else C!==t&&(p+=(C-t)/2e3*s/c)}var E;if(this.contentVisible&&(n.isInFont||r.missingFile))if(b&&!f)l.fillText(o,p,_),null===(E=this.dependencyTracker)||void 0===E||E.recordCharacterBBox(t,l,k?{bbox:null}:r,s/c,p,_,(()=>null!==k&&void 0!==k?k:l.measureText(o)));else if(this.paintChar(t,o,p,_,w,x),f){const e=p+s*f.offset.x/c,n=_-s*f.offset.y/c;this.paintChar(t,f.fontChar,e,n,w,x)}A+=g?C*y-a*d:C*y+a*d,i&&l.restore()}g?i.y-=A:i.x+=A*f,l.restore(),this.compose(),null===(n=this.dependencyTracker)||void 0===n||n.recordShowTextOperation(t)}showType3Text(t,e){const n=this.ctx,i=this.current,r=i.font,a=i.fontSize,s=i.fontDirection,o=r.vertical?1:-1,l=i.charSpacing,c=i.wordSpacing,u=i.textHScale*s,h=i.fontMatrix||oo,d=e.length;let f,p,g,m;if(i.textRenderingMode===Ao||0===a)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),i.textMatrix&&n.transform(...i.textMatrix),n.translate(i.x,i.y+i.textRise),n.scale(u,s);const v=this.dependencyTracker;for(this.dependencyTracker=v?new Gp(v,t):null,f=0;f<d;++f){if(p=e[f],"number"===typeof p){m=o*p*a/1e3,this.ctx.translate(m,0),i.x+=m*u;continue}const t=(p.isSpace?c:0)+l,s=r.charProcOperatorList[p.operatorListId];s?this.contentVisible&&(this.save(),n.scale(a,a),n.transform(...h),this.executeOperatorList(s),this.restore()):Go('Type3 character "'.concat(p.operatorListId,'" is not available.'));const d=[p.width,0];ll.applyTransform(d,h),g=d[0]*a+t,n.translate(g,0),i.x+=g*u}n.restore(),v&&(this.dependencyTracker=v)}setCharWidth(t,e,n){}setCharWidthAndBounds(t,e,n,i,r,a,s){var o;const l=new Path2D;l.rect(i,r,a-i,s-r),this.ctx.clip(l),null===(o=this.dependencyTracker)||void 0===o||o.recordBBox(t,this.ctx,i,a,r,s).recordClipBox(t,this.ctx,i,a,r,s),this.endPath(t)}getColorN_Pattern(t,e){let n;if("TilingPattern"===e[0]){const t=this.baseTransform||Ll(this.ctx),i={createCanvasGraphics:(t,e)=>new Pg(t,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new Gp(this.dependencyTracker,e,!0):null)};n=new hg(e,this.ctx,i,t)}else n=this._getPattern(t,e[1],e[2]);return n}setStrokeColorN(t){var e;null===(e=this.dependencyTracker)||void 0===e||e.recordSimpleData("strokeColor",t);for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];this.current.strokeColor=this.getColorN_Pattern(t,i),this.current.patternStroke=!0}setFillColorN(t){var e;null===(e=this.dependencyTracker)||void 0===e||e.recordSimpleData("fillColor",t);for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];this.current.fillColor=this.getColorN_Pattern(t,i),this.current.patternFill=!0}setStrokeRGBColor(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(t){var e;null===(e=this.dependencyTracker)||void 0===e||e.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(t){var e;null===(e=this.dependencyTracker)||void 0===e||e.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e){let n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.cachedPatterns.has(e)?n=this.cachedPatterns.get(e):(n=function(t){switch(t[0]){case"RadialAxial":return new rg(t);case"Mesh":return new og(t);case"Dummy":return new lg}throw new Error("Unknown IR type: ".concat(t[0]))}(this.getObject(t,e)),this.cachedPatterns.set(e,n)),i&&(n.matrix=i),n}shadingFill(t,e){var n;if(!this.contentVisible)return;const i=this.ctx;this.save(t);const r=this._getPattern(t,e);i.fillStyle=r.getPattern(i,this,Nl(i),eg,t);const a=Nl(i);if(a){const{width:t,height:e}=i.canvas,n=mg.slice();ll.axialAlignedBoundingBox([0,0,t,e],a,n);const[r,s,o,l]=n;this.ctx.fillRect(r,s,o-r,l-s)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);null===(n=this.dependencyTracker)||void 0===n||n.resetBBox(t).recordFullPageBBox(t).recordDependencies(t,$p).recordDependencies(t,Xp).recordOperation(t),this.compose(this.current.getClippedPathBoundingBox()),this.restore(t)}beginInlineImage(){qo("Should not call beginInlineImage")}beginImageData(){qo("Should not call beginImageData")}paintFormXObjectBegin(t,e,n){if(this.contentVisible&&(this.save(t),this.baseTransformStack.push(this.baseTransform),e&&this.transform(t,...e),this.baseTransform=Ll(this.ctx),n)){var i;ll.axialAlignedBoundingBox(n,this.baseTransform,this.current.minMax);const[e,r,a,s]=n,o=new Path2D;o.rect(e,r,a-e,s-r),this.ctx.clip(o),null===(i=this.dependencyTracker)||void 0===i||i.recordClipBox(t,this.ctx,e,a,r,s),this.endPath(t)}}paintFormXObjectEnd(t){this.contentVisible&&(this.restore(t),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t,e){var n;if(!this.contentVisible)return;this.save(t),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const i=this.ctx;e.isolated||Vo("TODO: Support non-isolated groups."),e.knockout&&Go("Knockout groups not supported.");const r=Ll(i);if(e.matrix&&i.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let a=mg.slice();ll.axialAlignedBoundingBox(e.bbox,Ll(i),a);const s=[0,0,i.canvas.width,i.canvas.height];a=ll.intersect(a,s)||[0,0,0,0];const o=Math.floor(a[0]),l=Math.floor(a[1]),c=Math.max(Math.ceil(a[2])-o,1),u=Math.max(Math.ceil(a[3])-l,1);this.current.startNewPathAndClipBox([0,0,c,u]);let h="groupAt"+this.groupLevel;e.smask&&(h+="_smask_"+this.smaskCounter++%2);const d=this.cachedCanvases.getCanvas(h,c,u),f=d.context;f.translate(-o,-l),f.transform(...r);let p=new Path2D;const[g,m,v,y]=e.bbox;if(p.rect(g,m,v-g,y-m),e.matrix){const t=new Path2D;t.addPath(p,new DOMMatrix(e.matrix)),p=t}f.clip(p),e.smask&&this.smaskStack.push({canvas:d.canvas,context:f,offsetX:o,offsetY:l,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}),e.smask&&!this.dependencyTracker||(i.setTransform(1,0,0,1,0,0),i.translate(o,l),i.save()),_g(i,f),this.ctx=f,null===(n=this.dependencyTracker)||void 0===n||n.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(i),this.setGState(t,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(i),this.groupLevel++}endGroup(t,e){var n;if(!this.contentVisible)return;this.groupLevel--;const i=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,null===(n=this.dependencyTracker)||void 0===n||n.popBaseTransform(),e.smask)this.tempSMask=this.smaskStack.pop(),this.restore(t),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const e=Ll(this.ctx);this.restore(t),this.ctx.save(),this.ctx.setTransform(...e);const n=mg.slice();ll.axialAlignedBoundingBox([0,0,i.canvas.width,i.canvas.height],e,n),this.ctx.drawImage(i.canvas,0,0),this.ctx.restore(),this.compose(n)}}beginAnnotation(t,e,n,i,r,a){if(Os(Tg,this,Rg).call(this),kg(this.ctx),this.ctx.save(),this.save(t),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const r=n[2]-n[0],s=n[3]-n[1];if(a&&this.annotationCanvasMap){(i=i.slice())[4]-=n[0],i[5]-=n[1],(n=n.slice())[0]=n[1]=0,n[2]=r,n[3]=s,ll.singularValueDecompose2dScale(Ll(this.ctx),gg);const{viewportScale:t}=this,a=Math.ceil(r*this.outputScaleX*t),o=Math.ceil(s*this.outputScaleY*t);this.annotationCanvas=this.canvasFactory.create(a,o);const{canvas:l,context:c}=this.annotationCanvas;this.annotationCanvasMap.set(e,l),this.annotationCanvas.savedCtx=this.ctx,this.ctx=c,this.ctx.save(),this.ctx.setTransform(gg[0],0,0,-gg[1],0,s*gg[1]),kg(this.ctx)}else{kg(this.ctx),this.endPath(t);const e=new Path2D;e.rect(n[0],n[1],r,s),this.ctx.clip(e)}}this.current=new bg(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(t,...i),this.transform(t,...r)}endAnnotation(t){this.annotationCanvas&&(this.ctx.restore(),Os(Tg,this,Dg).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t,e){var n;if(!this.contentVisible)return;const i=e.count;(e=this.getObject(t,e.data,e)).count=i;const r=this.ctx,a=this._createMaskCanvas(t,e),s=a.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(s,a.offsetX,a.offsetY),null===(n=this.dependencyTracker)||void 0===n||n.resetBBox(t).recordBBox(t,this.ctx,a.offsetX,a.offsetX+s.width,a.offsetY,a.offsetY+s.height).recordOperation(t),r.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,n){var i,r;let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5?arguments[5]:void 0,l=arguments.length>6?arguments[6]:void 0;if(!this.contentVisible)return;e=this.getObject(t,e.data,e);const c=this.ctx;c.save();const u=Ll(c);c.transform(n,a,s,o,0,0);const h=this._createMaskCanvas(t,e);c.setTransform(1,0,0,1,h.offsetX-u[4],h.offsetY-u[5]),null===(i=this.dependencyTracker)||void 0===i||i.resetBBox(t);for(let f=0,p=l.length;f<p;f+=2){var d;const e=ll.transform(u,[n,a,s,o,l[f],l[f+1]]);c.drawImage(h.canvas,e[4],e[5]),null===(d=this.dependencyTracker)||void 0===d||d.recordBBox(t,this.ctx,e[4],e[4]+h.canvas.width,e[5],e[5]+h.canvas.height)}c.restore(),this.compose(),null===(r=this.dependencyTracker)||void 0===r||r.recordOperation(t)}paintImageMaskXObjectGroup(t,e){var n,i;if(!this.contentVisible)return;const r=this.ctx,a=this.current.fillColor,s=this.current.patternFill;null===(n=this.dependencyTracker)||void 0===n||n.resetBBox(t).recordDependencies(t,Jp);for(const l of e){var o;const{data:e,width:n,height:i,transform:c}=l,u=this.cachedCanvases.getCanvas("maskCanvas",n,i),h=u.context;h.save();xg(h,this.getObject(t,e,l)),h.globalCompositeOperation="source-in",h.fillStyle=s?a.getPattern(h,this,Nl(r),Zp,t):a,h.fillRect(0,0,n,i),h.restore(),r.save(),r.transform(...c),r.scale(1,-1),yg(r,u.canvas,0,0,n,i,0,-1,1,1),null===(o=this.dependencyTracker)||void 0===o||o.recordBBox(t,r,0,n,0,i),r.restore()}this.compose(),null===(i=this.dependencyTracker)||void 0===i||i.recordOperation(t)}paintImageXObject(t,e){if(!this.contentVisible)return;const n=this.getObject(t,e);n?this.paintInlineImageXObject(t,n):Go("Dependent image isn't ready yet")}paintImageXObjectRepeat(t,e,n,i,r){if(!this.contentVisible)return;const a=this.getObject(t,e);if(!a)return void Go("Dependent image isn't ready yet");const s=a.width,o=a.height,l=[];for(let c=0,u=r.length;c<u;c+=2)l.push({transform:[n,0,0,i,r[c],r[c+1]],x:0,y:0,w:s,h:o});this.paintInlineImageXObjectGroup(t,a,l)}applyTransferMapsToCanvas(t){return"none"!==this.current.transferMaps&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if("none"===this.current.transferMaps)return t.bitmap;const{bitmap:e,width:n,height:i}=t,r=this.cachedCanvases.getCanvas("inlineImage",n,i),a=r.context;return a.filter=this.current.transferMaps,a.drawImage(e,0,0),a.filter="none",r.canvas}paintInlineImageXObject(t,e){var n;if(!this.contentVisible)return;const i=e.width,r=e.height,a=this.ctx;this.save(t);const{filter:s}=a;let o;if("none"!==s&&""!==s&&(a.filter="none"),a.scale(1/i,-1/r),e.bitmap)o=this.applyTransferMapsToBitmap(e);else if("function"===typeof HTMLElement&&e instanceof HTMLElement||!e.data)o=e;else{const t=this.cachedCanvases.getCanvas("inlineImage",i,r).context;wg(t,e),o=this.applyTransferMapsToCanvas(t)}const l=this._scaleImage(o,Nl(a));a.imageSmoothingEnabled=Sg(Ll(a),e.interpolate),null===(n=this.dependencyTracker)||void 0===n||n.resetBBox(t).recordBBox(t,a,0,i,-r,0).recordDependencies(t,Yp).recordOperation(t),yg(a,l.img,0,0,l.paintWidth,l.paintHeight,0,-r,i,r),this.compose(),this.restore(t)}paintInlineImageXObjectGroup(t,e,n){var i,r;if(!this.contentVisible)return;const a=this.ctx;let s;if(e.bitmap)s=e.bitmap;else{const t=e.width,n=e.height,i=this.cachedCanvases.getCanvas("inlineImage",t,n).context;wg(i,e),s=this.applyTransferMapsToCanvas(i)}null===(i=this.dependencyTracker)||void 0===i||i.resetBBox(t);for(const l of n){var o;a.save(),a.transform(...l.transform),a.scale(1,-1),yg(a,s,l.x,l.y,l.w,l.h,0,-1,1,1),null===(o=this.dependencyTracker)||void 0===o||o.recordBBox(t,a,0,1,-1,0),a.restore()}null===(r=this.dependencyTracker)||void 0===r||r.recordOperation(t),this.compose()}paintSolidColorImageMask(t){var e;this.contentVisible&&(null===(e=this.dependencyTracker)||void 0===e||e.resetBBox(t).recordBBox(t,this.ctx,0,1,0,1).recordDependencies(t,Xp).recordOperation(t),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t,e){}markPointProps(t,e,n){}beginMarkedContent(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.beginMarkedContent(t),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e,n){var i;null===(i=this.dependencyTracker)||void 0===i||i.beginMarkedContent(t),"OC"===e?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(t){var e;null===(e=this.dependencyTracker)||void 0===e||e.endMarkedContent(t),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(t){}endCompat(t){}consumePath(t,e,n){const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(n);const r=this.ctx;var a,s;this.pendingClip?(i||(this.pendingClip===Mg?r.clip(e,"evenodd"):r.clip(e)),this.pendingClip=null,null===(a=this.dependencyTracker)||void 0===a||a.bboxToClipBoxDropOperation(t).recordFutureForcedDependency("clipPath",t)):null===(s=this.dependencyTracker)||void 0===s||s.recordOperation(t);this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=Ll(this.ctx);if(0===t[1]&&0===t[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),n=Math.hypot(t[0],t[2]),i=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(n,i)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(-1===this._cachedScaleForStroking[0]){const{lineWidth:t}=this.current,{a:e,b:n,c:i,d:r}=this.ctx.getTransform();let a,s;if(0===n&&0===i){const n=Math.abs(e),i=Math.abs(r);if(n===i)if(0===t)a=s=1/n;else{const e=n*t;a=s=e<1?1/e:1}else if(0===t)a=1/n,s=1/i;else{const e=n*t,r=i*t;a=e<1?1/e:1,s=r<1?1/r:1}}else{const o=Math.abs(e*r-n*i),l=Math.hypot(e,n),c=Math.hypot(i,r);if(0===t)a=c/o,s=l/o;else{const e=t*o;a=c>e?c/e:1,s=l>e?l/e:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=s}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:n,current:{lineWidth:i}}=this,[r,a]=this.getScaleForStroking();if(r===a)return n.lineWidth=(i||1)*r,void n.stroke(t);const s=n.getLineDash();e&&n.save(),n.scale(r,a),pg.a=1/r,pg.d=1/a;const o=new Path2D;if(o.addPath(t,pg),s.length>0){const t=Math.max(r,a);n.setLineDash(s.map((e=>e/t))),n.lineDashOffset/=t}n.lineWidth=i||1,n.stroke(o),e&&n.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}function Rg(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}function Dg(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if("none"!==t){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}}function Lg(t,e,n){const i=new Path2D;return i.addPath(t,new DOMMatrix(n).invertSelf().multiplySelf(e)),i}for(const fE in Fo)void 0!==Pg.prototype[fE]&&(Pg.prototype[Fo[fE]]=Pg.prototype[fE]);var Ng=new WeakMap,Ig=new WeakMap,Fg=new WeakMap,Og=new WeakSet;class Bg{static write(t){const e=new TextEncoder,n={};let i=0;for(const l of Bg.strings){const r=e.encode(t[l]);n[l]=r,i+=4+r.length}const r=new ArrayBuffer(i),a=new Uint8Array(r),s=new DataView(r);let o=0;for(const l of Bg.strings){const t=n[l],e=t.length;s.setUint32(o,e),a.set(t,o+4),o+=4+e}return Xo(o===r.byteLength,"CssFontInfo.write: Buffer overflow"),r}constructor(t){Is(this,Og),Fs(this,Ng,void 0),Fs(this,Ig,void 0),Fs(this,Fg,void 0),Ws(Ng,this,t),Ws(Ig,this,new DataView(js(Ng,this))),Ws(Fg,this,new TextDecoder)}get fontFamily(){return Os(Og,this,jg).call(this,0)}get fontWeight(){return Os(Og,this,jg).call(this,1)}get italicAngle(){return Os(Og,this,jg).call(this,2)}}function jg(t){Xo(t<Xs.strings.length,"Invalid string index");let e=0;for(let i=0;i<t;i++)e+=js(Ig,this).getUint32(e)+4;const n=js(Ig,this).getUint32(e);return js(Fg,this).decode(new Uint8Array(js(Ng,this),e+4,n))}Xs=Bg,c(Bg,"strings",["fontFamily","fontWeight","italicAngle"]);var Wg=new WeakMap,zg=new WeakMap,Ug=new WeakMap,Hg=new WeakSet;class Vg{static write(t){const e=new TextEncoder,n={};let i=0;for(const h of Vg.strings){const r=e.encode(t[h]);n[h]=r,i+=4+r.length}i+=4;let r,a,s=1+i;t.style&&(r=e.encode(t.style.style),a=e.encode(t.style.weight),s+=4+r.length+4+a.length);const o=new ArrayBuffer(s),l=new Uint8Array(o),c=new DataView(o);let u=0;c.setUint8(u++,t.guessFallback?1:0),c.setUint32(u,0),u+=4,i=0;for(const h of Vg.strings){const t=n[h],e=t.length;i+=4+e,c.setUint32(u,e),l.set(t,u+4),u+=4+e}return c.setUint32(u-i-4,i),t.style&&(c.setUint32(u,r.length),l.set(r,u+4),u+=4+r.length,c.setUint32(u,a.length),l.set(a,u+4),u+=4+a.length),Xo(u<=o.byteLength,"SubstitionInfo.write: Buffer overflow"),o.transferToFixedLength(u)}constructor(t){Is(this,Hg),Fs(this,Wg,void 0),Fs(this,zg,void 0),Fs(this,Ug,void 0),Ws(Wg,this,t),Ws(zg,this,new DataView(js(Wg,this))),Ws(Ug,this,new TextDecoder)}get guessFallback(){return 0!==js(zg,this).getUint8(0)}get css(){return Os(Hg,this,Gg).call(this,0)}get loadedName(){return Os(Hg,this,Gg).call(this,1)}get baseFontName(){return Os(Hg,this,Gg).call(this,2)}get src(){return Os(Hg,this,Gg).call(this,3)}get style(){let t=1;t+=4+js(zg,this).getUint32(t);const e=js(zg,this).getUint32(t),n=js(Ug,this).decode(new Uint8Array(js(Wg,this),t+4,e));t+=4+e;const i=js(zg,this).getUint32(t);return{style:n,weight:js(Ug,this).decode(new Uint8Array(js(Wg,this),t+4,i))}}}function Gg(t){Xo(t<Ys.strings.length,"Invalid string index");let e=5;for(let i=0;i<t;i++)e+=js(zg,this).getUint32(e)+4;const n=js(zg,this).getUint32(e);return js(Ug,this).decode(new Uint8Array(js(Wg,this),e+4,n))}Ys=Vg,c(Vg,"strings",["css","loadedName","baseFontName","src"]);var qg=new WeakMap,Xg=new WeakMap,Yg=new WeakMap,Kg=new WeakSet;class Qg{constructor(t){let{data:e,extra:n}=t;Is(this,Kg),Fs(this,qg,void 0),Fs(this,Xg,void 0),Fs(this,Yg,void 0),Ws(qg,this,e),Ws(Xg,this,new TextDecoder),Ws(Yg,this,new DataView(js(qg,this))),n&&Object.assign(this,n)}get black(){return Os(Kg,this,$g).call(this,0)}get bold(){return Os(Kg,this,$g).call(this,1)}get disableFontFace(){return Os(Kg,this,$g).call(this,2)}get fontExtraProperties(){return Os(Kg,this,$g).call(this,3)}get isInvalidPDFjsFont(){return Os(Kg,this,$g).call(this,4)}get isType3Font(){return Os(Kg,this,$g).call(this,5)}get italic(){return Os(Kg,this,$g).call(this,6)}get missingFile(){return Os(Kg,this,$g).call(this,7)}get remeasure(){return Os(Kg,this,$g).call(this,8)}get vertical(){return Os(Kg,this,$g).call(this,9)}get ascent(){return Os(Kg,this,Jg).call(this,0)}get defaultWidth(){return Os(Kg,this,Jg).call(this,1)}get descent(){return Os(Kg,this,Jg).call(this,2)}get bbox(){let t=em._;if(0===js(Yg,this).getUint8(t))return;t+=1;const e=[];for(let n=0;n<4;n++)e.push(js(Yg,this).getInt16(t,!0)),t+=2;return e}get fontMatrix(){let t=nm._;if(0===js(Yg,this).getUint8(t))return;t+=1;const e=[];for(let n=0;n<6;n++)e.push(js(Yg,this).getFloat64(t,!0)),t+=8;return e}get defaultVMetrics(){let t=im._;if(0===js(Yg,this).getUint8(t))return;t+=1;const e=[];for(let n=0;n<3;n++)e.push(js(Yg,this).getInt16(t,!0)),t+=2;return e}get fallbackName(){return Os(Kg,this,Zg).call(this,0)}get loadedName(){return Os(Kg,this,Zg).call(this,1)}get mimetype(){return Os(Kg,this,Zg).call(this,2)}get name(){return Os(Kg,this,Zg).call(this,3)}get data(){let t=rm._;t+=4+js(Yg,this).getUint32(t);t+=4+js(Yg,this).getUint32(t);t+=4+js(Yg,this).getUint32(t);const e=js(Yg,this).getUint32(t);if(0!==e)return new Uint8Array(js(qg,this),t+4,e)}clearData(){let t=rm._;t+=4+js(Yg,this).getUint32(t);t+=4+js(Yg,this).getUint32(t);t+=4+js(Yg,this).getUint32(t);const e=js(Yg,this).getUint32(t);new Uint8Array(js(qg,this),t+4,e).fill(0),js(Yg,this).setUint32(t,0)}get cssFontInfo(){let t=rm._;t+=4+js(Yg,this).getUint32(t);t+=4+js(Yg,this).getUint32(t);const e=js(Yg,this).getUint32(t);if(0===e)return null;const n=new Uint8Array(e);return n.set(new Uint8Array(js(qg,this),t+4,e)),new Bg(n.buffer)}get systemFontInfo(){let t=rm._;t+=4+js(Yg,this).getUint32(t);const e=js(Yg,this).getUint32(t);if(0===e)return null;const n=new Uint8Array(e);return n.set(new Uint8Array(js(qg,this),t+4,e)),new Vg(n.buffer)}static write(t){const e=t.systemFontInfo?Vg.write(t.systemFontInfo):null,n=t.cssFontInfo?Bg.write(t.cssFontInfo):null,i=new TextEncoder,r={};let a=0;for(const p of Qg.strings)r[p]=i.encode(t[p]),a+=4+r[p].length;const s=rm._+4+a+4+(e?e.byteLength:0)+4+(n?n.byteLength:0)+4+(t.data?t.data.length:0),o=new ArrayBuffer(s),l=new Uint8Array(o),c=new DataView(o);let u=0;const h=Qg.bools.length;let d=0,f=0;for(let p=0;p<h;p++){const e=t[Qg.bools[p]];d|=(void 0===e?0:e?2:1)<<f,f+=2,8!==f&&p!==h-1||(c.setUint8(u++,d),d=0,f=0)}Xo(u===tm._,"FontInfo.write: Boolean properties offset mismatch");for(const p of Qg.numbers)c.setFloat64(u,t[p]),u+=8;if(Xo(u===em._,"FontInfo.write: Number properties offset mismatch"),t.bbox){c.setUint8(u++,4);for(const e of t.bbox)c.setInt16(u,e,!0),u+=2}else c.setUint8(u++,0),u+=8;if(Xo(u===nm._,"FontInfo.write: BBox properties offset mismatch"),t.fontMatrix){c.setUint8(u++,6);for(const e of t.fontMatrix)c.setFloat64(u,e,!0),u+=8}else c.setUint8(u++,0),u+=48;if(Xo(u===im._,"FontInfo.write: FontMatrix properties offset mismatch"),t.defaultVMetrics){c.setUint8(u++,1);for(const e of t.defaultVMetrics)c.setInt16(u,e,!0),u+=2}else c.setUint8(u++,0),u+=6;Xo(u===rm._,"FontInfo.write: DefaultVMetrics properties offset mismatch"),c.setUint32(rm._,0),u+=4;for(const p of Qg.strings){const t=r[p],e=t.length;c.setUint32(u,e),l.set(t,u+4),u+=4+e}if(c.setUint32(rm._,u-rm._-4),e){const t=e.byteLength;c.setUint32(u,t),Xo(u+4+t<=o.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),l.set(new Uint8Array(e),u+4),u+=4+t}else c.setUint32(u,0),u+=4;if(n){const t=n.byteLength;c.setUint32(u,t),Xo(u+4+t<=o.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),l.set(new Uint8Array(n),u+4),u+=4+t}else c.setUint32(u,0),u+=4;return void 0===t.data?(c.setUint32(u,0),u+=4):(c.setUint32(u,t.data.length),l.set(t.data,u+4),u+=4+t.data.length),Xo(u<=o.byteLength,"FontInfo.write: Buffer overflow"),o.transferToFixedLength(u)}}function $g(t){Xo(t<Ks.bools.length,"Invalid boolean index");const e=Math.floor(t/4),n=2*t%8,i=js(Yg,this).getUint8(e)>>n&3;return 0===i?void 0:2===i}function Jg(t){return Xo(t<Ks.numbers.length,"Invalid number index"),js(Yg,this).getFloat64(tm._+8*t)}function Zg(t){Xo(t<Ks.strings.length,"Invalid string index");let e=rm._+4;for(let r=0;r<t;r++)e+=js(Yg,this).getUint32(e)+4;const n=js(Yg,this).getUint32(e),i=new Uint8Array(n);return i.set(new Uint8Array(js(qg,this),e+4,n)),js(Xg,this).decode(i)}Ks=Qg,c(Qg,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),c(Qg,"numbers",["ascent","defaultWidth","descent"]),c(Qg,"strings",["fallbackName","loadedName","mimetype","name"]);var tm={_:Math.ceil(2*Ks.bools.length/8)},em={_:Os(Ks,Ks,tm)._+8*Ks.numbers.length},nm={_:Os(Ks,Ks,em)._+1+8},im={_:Os(Ks,Ks,nm)._+1+48},rm={_:Os(Ks,Ks,im)._+1+6};class am{static get workerPort(){return Os(am,this,sm)._}static set workerPort(t){if(!("undefined"!==typeof Worker&&t instanceof Worker)&&null!==t)throw new Error("Invalid `workerPort` type.");sm._=Os(am,this,t)}static get workerSrc(){return Os(am,this,om)._}static set workerSrc(t){if("string"!==typeof t)throw new Error("Invalid `workerSrc` type.");om._=Os(am,this,t)}}var sm={_:null},om={_:""},lm=new WeakMap,cm=new WeakMap;class um{constructor(t){let{parsedData:e,rawData:n}=t;Fs(this,lm,void 0),Fs(this,cm,void 0),Ws(lm,this,e),Ws(cm,this,n)}getRaw(){return js(cm,this)}get(t){var e;return null!==(e=js(lm,this).get(t))&&void 0!==e?e:null}[Symbol.iterator](){return js(lm,this).entries()}}const hm=Symbol("INTERNAL");var dm=new WeakMap,fm=new WeakMap,pm=new WeakMap,gm=new WeakMap;class mm{constructor(t,e){let{name:n,intent:i,usage:r,rbGroups:a}=e;Fs(this,dm,!1),Fs(this,fm,!1),Fs(this,pm,!1),Fs(this,gm,!0),Ws(dm,this,!!(t&uo)),Ws(fm,this,!!(t&ho)),this.name=n,this.intent=i,this.usage=r,this.rbGroups=a}get visible(){if(js(pm,this))return js(gm,this);if(!js(gm,this))return!1;const{print:t,view:e}=this.usage;return js(dm,this)?"OFF"!==(null===e||void 0===e?void 0:e.viewState):!js(fm,this)||"OFF"!==(null===t||void 0===t?void 0:t.printState)}_setVisible(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t!==hm&&qo("Internal method `_setVisible` called."),Ws(pm,this,n),Ws(gm,this,e)}}var vm=new WeakMap,ym=new WeakMap,bm=new WeakMap,wm=new WeakMap,xm=new WeakSet;class _m{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:uo;if(Is(this,xm),Fs(this,vm,null),Fs(this,ym,new Map),Fs(this,bm,null),Fs(this,wm,null),this.renderingIntent=e,this.name=null,this.creator=null,null!==t){this.name=t.name,this.creator=t.creator,Ws(wm,this,t.order);for(const n of t.groups)js(ym,this).set(n.id,new mm(e,n));if("OFF"===t.baseState)for(const t of js(ym,this).values())t._setVisible(hm,!1);for(const e of t.on)js(ym,this).get(e)._setVisible(hm,!0);for(const e of t.off)js(ym,this).get(e)._setVisible(hm,!1);Ws(bm,this,this.getHash())}}isVisible(t){if(0===js(ym,this).size)return!0;if(!t)return Vo("Optional content group not defined."),!0;if("OCG"===t.type)return js(ym,this).has(t.id)?js(ym,this).get(t.id).visible:(Go("Optional content group not found: ".concat(t.id)),!0);if("OCMD"===t.type){if(t.expression)return Os(xm,this,km).call(this,t.expression);if(!t.policy||"AnyOn"===t.policy){for(const e of t.ids){if(!js(ym,this).has(e))return Go("Optional content group not found: ".concat(e)),!0;if(js(ym,this).get(e).visible)return!0}return!1}if("AllOn"===t.policy){for(const e of t.ids){if(!js(ym,this).has(e))return Go("Optional content group not found: ".concat(e)),!0;if(!js(ym,this).get(e).visible)return!1}return!0}if("AnyOff"===t.policy){for(const e of t.ids){if(!js(ym,this).has(e))return Go("Optional content group not found: ".concat(e)),!0;if(!js(ym,this).get(e).visible)return!0}return!1}if("AllOff"===t.policy){for(const e of t.ids){if(!js(ym,this).has(e))return Go("Optional content group not found: ".concat(e)),!0;if(js(ym,this).get(e).visible)return!1}return!0}return Go("Unknown optional content policy ".concat(t.policy,".")),!0}return Go("Unknown group type ".concat(t.type,".")),!0}setVisibility(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=js(ym,this).get(t);if(i){if(n&&e&&i.rbGroups.length)for(const e of i.rbGroups)for(const n of e){var r;if(n!==t)null===(r=js(ym,this).get(n))||void 0===r||r._setVisible(hm,!1,!0)}i._setVisible(hm,!!e,!0),Ws(vm,this,null)}else Go("Optional content group not found: ".concat(t))}setOCGState(t){let e,{state:n,preserveRB:i}=t;for(const r of n){switch(r){case"ON":case"OFF":case"Toggle":e=r;continue}const t=js(ym,this).get(r);if(t)switch(e){case"ON":this.setVisibility(r,!0,i);break;case"OFF":this.setVisibility(r,!1,i);break;case"Toggle":this.setVisibility(r,!t.visible,i)}}Ws(vm,this,null)}get hasInitialVisibility(){return null===js(bm,this)||this.getHash()===js(bm,this)}getOrder(){return js(ym,this).size?js(wm,this)?js(wm,this).slice():[...js(ym,this).keys()]:null}getGroup(t){return js(ym,this).get(t)||null}getHash(){if(null!==js(vm,this))return js(vm,this);const t=new zd;for(const[e,n]of js(ym,this))t.update("".concat(e,":").concat(n.visible));return Ws(vm,this,t.hexdigest())}[Symbol.iterator](){return js(ym,this).entries()}}function km(t){const e=t.length;if(e<2)return!0;const n=t[0];for(let i=1;i<e;i++){const e=t[i];let r;if(Array.isArray(e))r=Os(xm,this,km).call(this,e);else{if(!js(ym,this).has(e))return Go("Optional content group not found: ".concat(e)),!0;r=js(ym,this).get(e).visible}switch(n){case"And":if(!r)return!1;break;case"Or":if(r)return!0;break;case"Not":return!r;default:return!0}}return"And"===n}class Sm{constructor(t,e){let{disableRange:n=!1,disableStream:i=!1}=e;Xo(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:a,progressiveDone:s,contentDispositionFilename:o}=t;if(this._queuedChunks=[],this._progressiveDone=s,this._contentDispositionFilename=o,(null===a||void 0===a?void 0:a.length)>0){const t=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;this._queuedChunks.push(t)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!i,this._isRangeSupported=!n,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener(((t,e)=>{this._onReceiveData({begin:t,chunk:e})})),t.addProgressListener(((t,e)=>{this._onProgress({loaded:t,total:e})})),t.addProgressiveReadListener((t=>{this._onReceiveData({chunk:t})})),t.addProgressiveDoneListener((()=>{this._onProgressiveDone()})),t.transportReady()}_onReceiveData(t){let{begin:e,chunk:n}=t;const i=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(void 0===e)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{Xo(this._rangeReaders.some((function(t){return t._begin===e&&(t._enqueue(i),!0)})),"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t,e;return null!==(t=null===(e=this._fullRequestReader)||void 0===e?void 0:e._loaded)&&void 0!==t?t:0}_onProgress(t){var e,n,i,r;void 0===t.total?null===(e=this._rangeReaders[0])||void 0===e||null===(n=e.onProgress)||void 0===n||n.call(e,{loaded:t.loaded}):null===(i=this._fullRequestReader)||void 0===i||null===(r=i.onProgress)||void 0===r||r.call(i,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;null===(t=this._fullRequestReader)||void 0===t||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){Xo(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new Am(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new Em(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(n),n}cancelAllRequests(t){var e;null===(e=this._fullRequestReader)||void 0===e||e.cancel(t);for(const n of this._rangeReaders.slice(0))n.cancel(t);this._pdfDataRangeTransport.abort()}}class Am{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this._stream=t,this._done=n||!1,this._filename=Al(i)?i:null,this._queuedChunks=e||[],this._loaded=0;for(const r of this._queuedChunks)this._loaded+=r.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length>0){this._requests.shift().resolve({value:t,done:!1})}else this._queuedChunks.push(t);this._loaded+=t.byteLength}}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0){return{value:this._queuedChunks.shift(),done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Em{constructor(t,e,n){this._stream=t,this._begin=e,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(0===this._requests.length)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function Cm(t,e){const n=new Headers;if(!t||!e||"object"!==typeof e)return n;for(const i in e){const t=e[i];void 0!==t&&n.append(i,t)}return n}function Mm(t){var e,n;return null!==(e=null===(n=URL.parse(t))||void 0===n?void 0:n.origin)&&void 0!==e?e:null}function Tm(t){let{responseHeaders:e,isHttp:n,rangeChunkSize:i,disableRange:r}=t;const a={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(e.get("Content-Length"),10);if(!Number.isInteger(s))return a;if(a.suggestedLength=s,s<=2*i)return a;if(r||!n)return a;if("bytes"!==e.get("Accept-Ranges"))return a;return"identity"!==(e.get("Content-Encoding")||"identity")||(a.allowRangeRequests=!0),a}function Pm(t){const e=t.get("Content-Disposition");if(e){let t=function(t){let e=!0,n=i("filename\\*","i").exec(t);if(n){n=n[1];let t=s(n);return t=unescape(t),t=o(t),t=l(t),a(t)}if(n=function(t){const e=[];let n;const r=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(n=r.exec(t));){let[,t,i,r]=n;if(t=parseInt(t,10),t in e){if(0===t)break}else e[t]=[i,r]}const a=[];for(let i=0;i<e.length&&i in e;++i){let[t,n]=e[i];n=s(n),t&&(n=unescape(n),0===i&&(n=o(n))),a.push(n)}return a.join("")}(t),n)return a(l(n));if(n=i("filename","i").exec(t),n){n=n[1];let t=s(n);return t=l(t),a(t)}function i(t,e){return new RegExp("(?:^|;)\\s*"+t+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',e)}function r(t,n){if(t){if(!/^[\x00-\xFF]+$/.test(n))return n;try{const i=new TextDecoder(t,{fatal:!0}),r=al(n);n=i.decode(r),e=!1}catch(i){}}return n}function a(t){return e&&/[\x80-\xff]/.test(t)&&(t=r("utf-8",t),e&&(t=r("iso-8859-1",t))),t}function s(t){if(t.startsWith('"')){const e=t.slice(1).split('\\"');for(let t=0;t<e.length;++t){const n=e[t].indexOf('"');-1!==n&&(e[t]=e[t].slice(0,n),e.length=t+1),e[t]=e[t].replaceAll(/\\(.)/g,"$1")}t=e.join('"')}return t}function o(t){const e=t.indexOf("'");return-1===e?t:r(t.slice(0,e),t.slice(e+1).replace(/^[^']*'/,""))}function l(t){return!t.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(t)?t:t.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,(function(t,e,n,i){if("q"===n||"Q"===n)return i=(i=i.replaceAll("_"," ")).replaceAll(/=([0-9a-fA-F]{2})/g,(function(t,e){return String.fromCharCode(parseInt(e,16))})),r(e,i);try{i=atob(i)}catch(a){}return r(e,i)}))}return""}(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch(n){}if(Al(t))return t}return null}function Rm(t,e){return new el("Unexpected server response (".concat(t,') while retrieving PDF "').concat(e,'".'),t,404===t||0===t&&e.startsWith("file:"))}function Dm(t){return 200===t||206===t}function Lm(t,e,n){return{method:"GET",headers:t,signal:n.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function Nm(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:(Go("getArrayBuffer - unexpected data format: ".concat(t)),new Uint8Array(t).buffer)}class Im{constructor(t){c(this,"_responseOrigin",null),this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=Cm(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t,e;return null!==(t=null===(e=this._fullRequestReader)||void 0===e?void 0:e._loaded)&&void 0!==t?t:0}getFullReader(){return Xo(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Fm(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new Om(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;null===(e=this._fullRequestReader)||void 0===e||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class Fm{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const n=new Headers(t.headers),i=e.url;fetch(i,Lm(n,this._withCredentials,this._abortController)).then((e=>{if(t._responseOrigin=Mm(e.url),!Dm(e.status))throw Rm(e.status,i);this._reader=e.body.getReader(),this._headersCapability.resolve();const n=e.headers,{allowRangeRequests:r,suggestedLength:a}=Tm({responseHeaders:n,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=r,this._contentLength=a||this._contentLength,this._filename=Pm(n),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new il("Streaming is disabled."))})).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var t;await this._headersCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:this._loaded,total:this._contentLength}),{value:Nm(e),done:!1})}cancel(t){var e;null===(e=this._reader)||void 0===e||e.cancel(t),this._abortController.abort()}}class Om{constructor(t,e,n){this._stream=t,this._reader=null,this._loaded=0;const i=t.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const r=new Headers(t.headers);r.append("Range","bytes=".concat(e,"-").concat(n-1));const a=i.url;fetch(a,Lm(r,this._withCredentials,this._abortController)).then((e=>{const n=Mm(e.url);if(n!==t._responseOrigin)throw new Error('Expected range response-origin "'.concat(n,'" to match "').concat(t._responseOrigin,'".'));if(!Dm(e.status))throw Rm(e.status,a);this._readCapability.resolve(),this._reader=e.body.getReader()})).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var t;await this._readCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:this._loaded}),{value:Nm(e),done:!1})}cancel(t){var e;null===(e=this._reader)||void 0===e||e.cancel(t),this._abortController.abort()}}class Bm{constructor(t){let{url:e,httpHeaders:n,withCredentials:i}=t;c(this,"_responseOrigin",null),this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=Cm(this.isHttp,n),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,n=this.currXhrId++,i=this.pendingRequests[n]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[r,a]of this.headers)e.setRequestHeader(r,a);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range","bytes=".concat(t.begin,"-").concat(t.end-1)),i.expectedStatus=206):i.expectedStatus=200,e.responseType="arraybuffer",Xo(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,n),e.onprogress=this.onProgress.bind(this,n),i.onHeadersReceived=t.onHeadersReceived,i.onDone=t.onDone,i.onError=t.onError,i.onProgress=t.onProgress,e.send(null),n}onProgress(t,e){var n;const i=this.pendingRequests[t];i&&(null===(n=i.onProgress)||void 0===n||n.call(i,e))}onStateChange(t,e){const n=this.pendingRequests[t];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4!==i.readyState)return;if(!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],0===i.status&&this.isHttp)return void n.onError(i.status);const r=i.status||200;if(!(200===r&&206===n.expectedStatus)&&r!==n.expectedStatus)return void n.onError(i.status);const a=function(t){const e=t.response;return"string"!==typeof e?e:al(e).buffer}(i);if(206===r){const t=i.getResponseHeader("Content-Range"),e=/bytes (\d+)-(\d+)\/(\d+)/.exec(t);e?n.onDone({begin:parseInt(e[1],10),chunk:a}):(Go('Missing or invalid "Content-Range" header.'),n.onError(0))}else a?n.onDone({begin:0,chunk:a}):n.onError(i.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class jm{constructor(t){this._source=t,this._manager=new Bm(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return Xo(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Wm(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const n=new zm(this._manager,t,e);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;null===(e=this._fullRequestReader)||void 0===e||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class Wm{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=Mm(e.responseURL);const n=e.getAllResponseHeaders(),i=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map((t=>{const[e,...n]=t.split(": ");return[e,n.join(": ")]})):[]),{allowRangeRequests:r,suggestedLength:a}=Tm({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=Pm(i),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t)if(this._requests.length>0){this._requests.shift().resolve({value:t.chunk,done:!1})}else this._cachedChunks.push(t.chunk);if(this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=Rm(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0){return{value:this._cachedChunks.shift(),done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class zm{constructor(t,e,n){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=Mm(null===(t=this._manager.getRequestXhr(this._requestId))||void 0===t?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error('Expected range response-origin "'.concat(e,'" to match "').concat(this._manager._responseOrigin,'".')),this._onError(0))}_close(){var t;null===(t=this.onClosed)||void 0===t||t.call(this,this)}_onDone(t){const e=t.chunk;if(this._requests.length>0){this._requests.shift().resolve({value:e,done:!1})}else this._queuedChunk=e;this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){var e;null!==(e=this._storedError)&&void 0!==e||(this._storedError=Rm(t,this._url));for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:t.loaded}))}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(null!==this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const Um=/^[a-z][a-z0-9\-+.]+:/i;class Hm{constructor(t){this.source=t,this.url=function(t){if(Um.test(t))return new URL(t);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(t))}(t.url),Xo("file:"===this.url.protocol,"PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t,e;return null!==(t=null===(e=this._fullRequestReader)||void 0===e?void 0:e._loaded)&&void 0!==t?t:0}getFullReader(){return Xo(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new Vm(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new Gm(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;null===(e=this._fullRequestReader)||void 0===e||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class Vm{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then((t=>{this._contentLength=t.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()}),(t=>{"ENOENT"===t.code&&(t=Rm(0,this._url.href)),this._storedError=t,this._headersCapability.reject(t)}))}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var t;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();if(null===e)return this._readCapability=Promise.withResolvers(),this.read();this._loaded+=e.length,null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:this._loaded,total:this._contentLength});return{value:new Uint8Array(e).buffer,done:!1}}cancel(t){this._readableStream?this._readableStream.destroy(t):this._error(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",(()=>{this._readCapability.resolve()})),t.on("end",(()=>{t.destroy(),this._done=!0,this._readCapability.resolve()})),t.on("error",(t=>{this._error(t)})),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new il("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Gm{constructor(t,e,n){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=t.source;this._isStreamingSupported=!i.disableStream;const r=process.getBuiltinModule("fs");this._setReadableStream(r.createReadStream(this._url,{start:e,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var t;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();if(null===e)return this._readCapability=Promise.withResolvers(),this.read();this._loaded+=e.length,null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:this._loaded});return{value:new Uint8Array(e).buffer,done:!1}}cancel(t){this._readableStream?this._readableStream.destroy(t):this._error(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",(()=>{this._readCapability.resolve()})),t.on("end",(()=>{t.destroy(),this._done=!0,this._readCapability.resolve()})),t.on("error",(t=>{this._error(t)})),this._storedError&&this._readableStream.destroy(this._storedError)}}const qm=Symbol("INITIAL_DATA");var Xm=new WeakMap,Ym=new WeakSet;class Km{constructor(){Is(this,Ym),Fs(this,Xm,Object.create(null))}get(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e){const n=Os(Ym,this,Qm).call(this,t);return n.promise.then((()=>e(n.data))),null}const n=js(Xm,this)[t];if(!n||n.data===qm)throw new Error("Requesting object that isn't resolved yet ".concat(t,"."));return n.data}has(t){const e=js(Xm,this)[t];return!!e&&e.data!==qm}delete(t){const e=js(Xm,this)[t];return!(!e||e.data===qm)&&(delete js(Xm,this)[t],!0)}resolve(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=Os(Ym,this,Qm).call(this,t);n.data=e,n.resolve()}clear(){for(const e in js(Xm,this)){var t;const{data:n}=js(Xm,this)[e];null===n||void 0===n||null===(t=n.bitmap)||void 0===t||t.close()}Ws(Xm,this,Object.create(null))}*[Symbol.iterator](){for(const t in js(Xm,this)){const{data:e}=js(Xm,this)[t];e!==qm&&(yield[t,e])}}}function Qm(t){var e;return(e=js(Xm,this))[t]||(e[t]=h(h({},Promise.withResolvers()),{},{data:qm}))}var $m=new WeakMap,Jm=new WeakMap,Zm=new WeakMap,tv=new WeakMap,ev=new WeakMap,nv=new WeakMap,iv=new WeakMap,rv=new WeakMap,av=new WeakMap,sv=new WeakMap,ov=new WeakMap,lv=new WeakMap,cv=new WeakMap,uv=new WeakMap,hv=new WeakMap,dv=new WeakMap,fv=new WeakMap,pv=new WeakMap,gv=new WeakSet;class mv{constructor(t){var e;let{textContentSource:n,container:i,viewport:r}=t;if(Is(this,gv),Fs(this,$m,Promise.withResolvers()),Fs(this,Jm,null),Fs(this,Zm,!1),Fs(this,tv,!(null===(e=globalThis.FontInspector)||void 0===e||!e.enabled)),Fs(this,ev,null),Fs(this,nv,null),Fs(this,iv,0),Fs(this,rv,0),Fs(this,av,null),Fs(this,sv,null),Fs(this,ov,0),Fs(this,lv,0),Fs(this,cv,Object.create(null)),Fs(this,uv,[]),Fs(this,hv,null),Fs(this,dv,[]),Fs(this,fv,new WeakMap),Fs(this,pv,null),n instanceof ReadableStream)Ws(hv,this,n);else{if("object"!==typeof n)throw new Error('No "textContentSource" parameter specified.');Ws(hv,this,new ReadableStream({start(t){t.enqueue(n),t.close()}}))}Ws(Jm,this,Ws(sv,this,i)),Ws(lv,this,r.scale*Fl.pixelRatio),Ws(ov,this,r.rotation),Ws(nv,this,{div:null,properties:null,ctx:null});const{pageWidth:a,pageHeight:s,pageX:o,pageY:l}=r.rawDims;Ws(pv,this,[1,0,0,-1,-o,l+s]),Ws(rv,this,a),Ws(iv,this,s),_v.call(mv),Il(i,r),js($m,this).promise.finally((()=>{Mv._.delete(this),Ws(nv,this,null),Ws(cv,this,null)})).catch((()=>{}))}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=sl.platform;return Qo(this,"fontFamilyMap",new Map([["sans-serif","".concat(t&&e?"Calibri, ":"","sans-serif")],["monospace","".concat(t&&e?"Lucida Console, ":"","monospace")]]))}render(){const t=()=>{js(av,this).read().then((e=>{var n;let{value:i,done:r}=e;r?js($m,this).resolve():(null!==(n=js(ev,this))&&void 0!==n||Ws(ev,this,i.lang),Object.assign(js(cv,this),i.styles),Os(gv,this,vv).call(this,i.items),t())}),js($m,this).reject)};return Ws(av,this,js(hv,this).getReader()),Mv._.add(this),t(),js($m,this).promise}update(t){let{viewport:e,onBefore:n=null}=t;const i=e.scale*Fl.pixelRatio,r=e.rotation;if(r!==js(ov,this)&&(null===n||void 0===n||n(),Ws(ov,this,r),Il(js(sv,this),{rotation:r})),i!==js(lv,this)){null===n||void 0===n||n(),Ws(lv,this,i);const t={div:null,properties:null,ctx:wv.call(mv,js(ev,this))};for(const e of js(dv,this))t.properties=js(fv,this).get(e),t.div=e,Os(gv,this,bv).call(this,t)}}cancel(){var t;const e=new il("TextLayer task cancelled.");null===(t=js(av,this))||void 0===t||t.cancel(e).catch((()=>{})),Ws(av,this,null),js($m,this).reject(e)}get textDivs(){return js(dv,this)}get textContentItemsStr(){return js(uv,this)}static cleanup(){if(!(Os(mv,this,Mv)._.size>0)){Os(mv,this,Sv)._.clear();for(const{canvas:t}of Os(mv,this,Av)._.values())t.remove();Os(mv,this,Av)._.clear()}}}function vv(t){var e,n;if(js(Zm,this))return;null!==(n=(e=js(nv,this)).ctx)&&void 0!==n||(e.ctx=wv.call(Qs,js(ev,this)));const i=js(dv,this),r=js(uv,this);for(const a of t){if(i.length>1e5)return Go("Ignoring additional textDivs for performance reasons."),void Ws(Zm,this,!0);if(void 0!==a.str)r.push(a.str),Os(gv,this,yv).call(this,a);else if("beginMarkedContentProps"===a.type||"beginMarkedContent"===a.type){const t=js(Jm,this);Ws(Jm,this,document.createElement("span")),js(Jm,this).classList.add("markedContent"),a.id&&js(Jm,this).setAttribute("id","".concat(a.id)),t.append(js(Jm,this))}else"endMarkedContent"===a.type&&Ws(Jm,this,js(Jm,this).parentNode)}}function yv(t){const e=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:""!==t.str,hasEOL:t.hasEOL,fontSize:0};js(dv,this).push(e);const i=ll.transform(js(pv,this),t.transform);let r=Math.atan2(i[1],i[0]);const a=js(cv,this)[t.fontName];a.vertical&&(r+=Math.PI/2);let s=js(tv,this)&&a.fontSubstitution||a.fontFamily;s=Qs.fontFamilyMap.get(s)||s;const o=Math.hypot(i[2],i[3]),l=o*kv.call(Qs,s,a,js(ev,this));let c,u;0===r?(c=i[4],u=i[5]-l):(c=i[4]+l*Math.sin(r),u=i[5]-l*Math.cos(r));const h="calc(var(--total-scale-factor) *",d=e.style;js(Jm,this)===js(sv,this)?(d.left="".concat((100*c/js(rv,this)).toFixed(2),"%"),d.top="".concat((100*u/js(iv,this)).toFixed(2),"%")):(d.left="".concat(h).concat(c.toFixed(2),"px)"),d.top="".concat(h).concat(u.toFixed(2),"px)")),d.fontSize="".concat(h).concat((Cv._*o).toFixed(2),"px)"),d.fontFamily=s,n.fontSize=o,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,js(tv,this)&&(e.dataset.fontName=a.fontSubstitutionLoadedName||t.fontName),0!==r&&(n.angle=r*(180/Math.PI));let f=!1;if(t.str.length>1)f=!0;else if(" "!==t.str&&t.transform[0]!==t.transform[3]){const e=Math.abs(t.transform[0]),n=Math.abs(t.transform[3]);e!==n&&Math.max(e,n)/Math.min(e,n)>1.5&&(f=!0)}if(f&&(n.canvasWidth=a.vertical?t.height:t.width),js(fv,this).set(e,n),js(nv,this).div=e,js(nv,this).properties=n,Os(gv,this,bv).call(this,js(nv,this)),n.hasText&&js(Jm,this).append(e),n.hasEOL){const t=document.createElement("br");t.setAttribute("role","presentation"),js(Jm,this).append(t)}}function bv(t){const{div:e,properties:n,ctx:i}=t,{style:r}=e;let a="";if(Cv._>1&&(a="scale(".concat(1/Cv._,")")),0!==n.canvasWidth&&n.hasText){const{fontFamily:t}=r,{canvasWidth:s,fontSize:o}=n;xv.call(Qs,i,o*js(lv,this),t);const{width:l}=i.measureText(e.textContent);l>0&&(a="scaleX(".concat(s*js(lv,this)/l,") ").concat(a))}0!==n.angle&&(a="rotate(".concat(n.angle,"deg) ").concat(a)),a.length>0&&(r.transform=a)}function wv(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=Os(Qs,this,Av)._.get(t||(t=""));if(!e){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=t,document.body.append(n),e=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),Os(Qs,this,Av)._.set(t,e),Os(Qs,this,Ev)._.set(e,{size:0,family:""})}return e}function xv(t,e,n){const i=Os(Qs,this,Ev)._.get(t);e===i.size&&n===i.family||(t.font="".concat(e,"px ").concat(n),i.size=e,i.family=n)}function _v(){if(null!==Os(Qs,this,Cv)._)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),Cv._=Os(Qs,this,t.getBoundingClientRect().height),t.remove()}function kv(t,e,n){const i=Os(Qs,this,Sv)._.get(t);if(i)return i;const r=Os(Qs,this,wv).call(this,n);r.canvas.width=r.canvas.height=30,Os(Qs,this,xv).call(this,r,30,t);const a=r.measureText(""),s=a.fontBoundingBoxAscent,o=Math.abs(a.fontBoundingBoxDescent);r.canvas.width=r.canvas.height=0;let l=.8;return s?l=s/(s+o):(sl.platform.isFirefox&&Go("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?l=e.ascent:e.descent&&(l=1+e.descent)),Os(Qs,this,Sv)._.set(t,l),l}Qs=mv;var Sv={_:new Map},Av={_:new Map},Ev={_:new WeakMap},Cv={_:null},Mv={_:new Set};function Tv(){var t,e;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"string"===typeof n||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const i=new Pv,{docId:r}=i,a=n.url?function(t){if(t instanceof URL)return t.href;if("string"===typeof t){if(so)return t;const e=URL.parse(t,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}(n.url):null,s=n.data?function(t){if(so&&"undefined"!==typeof Buffer&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if("string"===typeof t)return al(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||"object"===typeof t&&!isNaN(null===t||void 0===t?void 0:t.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}(n.data):null,o=n.httpHeaders||null,l=!0===n.withCredentials,c=null!==(t=n.password)&&void 0!==t?t:null,u=n.range instanceof Ov?n.range:null,h=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:65536;let d=n.worker instanceof Yv?n.worker:null;const f=n.verbosity,p="string"!==typeof n.docBaseUrl||Sl(n.docBaseUrl)?null:n.docBaseUrl,g=nf(n.cMapUrl),m=!1!==n.cMapPacked,v=n.CMapReaderFactory||(so?lp:Df),y=nf(n.iccUrl),b=nf(n.standardFontDataUrl),w=n.StandardFontDataFactory||(so?cp:np),x=nf(n.wasmUrl),_=n.WasmFactory||(so?up:rp),k=!0!==n.stopAtErrors,S=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,A=!1!==n.isEvalSupported,E="boolean"===typeof n.isOffscreenCanvasSupported?n.isOffscreenCanvasSupported:!so,C="boolean"===typeof n.isImageDecoderSupported?n.isImageDecoderSupported:!so&&(sl.platform.isFirefox||!globalThis.chrome),M=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,T="boolean"===typeof n.disableFontFace?n.disableFontFace:so,P=!0===n.fontExtraProperties,R=!0===n.enableXfa,D=n.ownerDocument||globalThis.document,L=!0===n.disableRange,N=!0===n.disableStream,I=!0===n.disableAutoFetch,F=!0===n.pdfBug,O=n.CanvasFactory||(so?op:Pf),B=n.FilterFactory||(so?sp:Uf),j=!0===n.enableHWA,W=!1!==n.useWasm,z=u?u.length:null!==(e=n.length)&&void 0!==e?e:NaN,U="boolean"===typeof n.useSystemFonts?n.useSystemFonts:!so&&!T,H="boolean"===typeof n.useWorkerFetch?n.useWorkerFetch:!!(v===Df&&w===np&&_===rp&&g&&b&&x&&Cl(g,document.baseURI)&&Cl(b,document.baseURI)&&Cl(x,document.baseURI));Uo(f);const V={canvasFactory:new O({ownerDocument:D,enableHWA:j}),filterFactory:new B({docId:r,ownerDocument:D}),cMapReaderFactory:H?null:new v({baseUrl:g,isCompressed:m}),standardFontDataFactory:H?null:new w({baseUrl:b}),wasmFactory:H?null:new _({baseUrl:x})};d||(d=Yv.create({verbosity:f,port:am.workerPort}),i._worker=d);const G={docId:r,apiVersion:"5.4.296",data:s,password:c,disableAutoFetch:I,rangeChunkSize:h,length:z,docBaseUrl:p,enableXfa:R,evaluatorOptions:{maxImageSize:S,disableFontFace:T,ignoreErrors:k,isEvalSupported:A,isOffscreenCanvasSupported:E,isImageDecoderSupported:C,canvasMaxAreaInBytes:M,fontExtraProperties:P,useSystemFonts:U,useWasm:W,useWorkerFetch:H,cMapUrl:g,iccUrl:y,standardFontDataUrl:b,wasmUrl:x}},q={ownerDocument:D,pdfBug:F,styleElement:null,loadingParams:{disableAutoFetch:I,enableXfa:R}};return d.promise.then((function(){if(i.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const t=d.messageHandler.sendWithPromise("GetDocRequest",G,s?[s.buffer]:null);let e;if(u)e=new Sm(u,{disableRange:L,disableStream:N});else if(!s){if(!a)throw new Error("getDocument - no `url` parameter provided.");const t=Cl(a)?Im:so?Hm:jm;e=new t({url:a,length:z,httpHeaders:o,withCredentials:l,rangeChunkSize:h,disableRange:L,disableStream:N})}return t.then((t=>{if(i.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const n=new kf(r,t,d.port),a=new cy(n,i,e,q,V,j);i._transport=a,n.send("Ready",null)}))})).catch(i._capability.reject),i}class Pv{constructor(){c(this,"_capability",Promise.withResolvers()),c(this,"_transport",null),c(this,"_worker",null),c(this,"docId","d".concat((Rv._=($s=Rv._,Js=$s++,$s),Js))),c(this,"destroyed",!1),c(this,"onPassword",null),c(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var t;this.destroyed=!0;try{var e,n;null!==(e=this._worker)&&void 0!==e&&e.port&&(this._worker._pendingDestroy=!0),await(null===(n=this._transport)||void 0===n?void 0:n.destroy())}catch(r){var i;throw null!==(i=this._worker)&&void 0!==i&&i.port&&delete this._worker._pendingDestroy,r}this._transport=null,null===(t=this._worker)||void 0===t||t.destroy(),this._worker=null}async getData(){return this._transport.getData()}}var Rv={_:0},Dv=new WeakMap,Lv=new WeakMap,Nv=new WeakMap,Iv=new WeakMap,Fv=new WeakMap;class Ov{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Fs(this,Dv,Promise.withResolvers()),Fs(this,Lv,[]),Fs(this,Nv,[]),Fs(this,Iv,[]),Fs(this,Fv,[]),this.length=t,this.initialData=e,this.progressiveDone=n,this.contentDispositionFilename=i}addRangeListener(t){js(Fv,this).push(t)}addProgressListener(t){js(Iv,this).push(t)}addProgressiveReadListener(t){js(Nv,this).push(t)}addProgressiveDoneListener(t){js(Lv,this).push(t)}onDataRange(t,e){for(const n of js(Fv,this))n(t,e)}onDataProgress(t,e){js(Dv,this).promise.then((()=>{for(const n of js(Iv,this))n(t,e)}))}onDataProgressiveRead(t){js(Dv,this).promise.then((()=>{for(const e of js(Nv,this))e(t)}))}onDataProgressiveDone(){js(Dv,this).promise.then((()=>{for(const t of js(Lv,this))t()}))}transportReady(){js(Dv,this).resolve()}requestDataRange(t,e){qo("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class Bv{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Qo(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(t,e){return this._transport.getAnnotationsByType(t,e)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){let{intent:t="display"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var jv=new WeakMap,Wv=new WeakSet;class zv{constructor(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Is(this,Wv),Fs(this,jv,!1),this._pageIndex=t,this._pageInfo=e,this._transport=n,this._stats=i?new El:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new Km,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport(){let{scale:t,rotation:e=this.rotate,offsetX:n=0,offsetY:i=0,dontFlip:r=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new _l({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:n,offsetY:i,dontFlip:r})}getAnnotations(){let{intent:t="display"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Qo(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return(null===(t=this._transport._htmlForXfa)||void 0===t?void 0:t.children[this._pageIndex])||null}render(t){var e,n,i;let{canvasContext:r,canvas:a=r.canvas,viewport:s,intent:o="display",annotationMode:l=yo.ENABLE,transform:c=null,background:u=null,optionalContentConfigPromise:h=null,annotationCanvasMap:d=null,pageColors:f=null,printAnnotationStorage:p=null,isEditing:g=!1,recordOperations:m=!1,operationsFilter:v=null}=t;null===(e=this._stats)||void 0===e||e.time("Overall");const y=this._transport.getRenderingIntent(o,l,p,g),{renderingIntent:b,cacheKey:w}=y;Ws(jv,this,!1),h||(h=this._transport.getOptionalContentConfig(b));let x=this._intentStates.get(w);x||(x=Object.create(null),this._intentStates.set(w,x)),x.streamReaderCancelTimeout&&(clearTimeout(x.streamReaderCancelTimeout),x.streamReaderCancelTimeout=null);const _=!!(b&ho);var k;x.displayReadyCapability||(x.displayReadyCapability=Promise.withResolvers(),x.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},null===(k=this._stats)||void 0===k||k.time("Page Request"),this._pumpOperatorList(y));const S=Boolean(this._pdfBug&&(null===(n=globalThis.StepperManager)||void 0===n?void 0:n.enabled)),A=!this.recordedBBoxes&&(m||S),E=t=>{if(x.renderTasks.delete(C),A){var e;const t=null===(e=C.gfx)||void 0===e?void 0:e.dependencyTracker.take();t&&(C.stepper&&C.stepper.setOperatorBBoxes(t,C.gfx.dependencyTracker.takeDebugMetadata()),m&&(this.recordedBBoxes=t))}var n;(_&&Ws(jv,this,!0),Os(Wv,this,Uv).call(this),t?(C.capability.reject(t),this._abortOperatorList({intentState:x,reason:t instanceof Error?t:new Error(t)})):C.capability.resolve(),this._stats)&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),null!==(n=globalThis.Stats)&&void 0!==n&&n.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},C=new py({callback:E,params:{canvas:a,canvasContext:r,dependencyTracker:A?new Bp(a,x.operatorList.length,S):null,viewport:s,transform:c,background:u},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:d,operatorList:x.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!_,pdfBug:this._pdfBug,pageColors:f,enableHWA:this._transport.enableHWA,operationsFilter:v});((i=x).renderTasks||(i.renderTasks=new Set)).add(C);const M=C.task;return Promise.all([x.displayReadyCapability.promise,h]).then((t=>{var e;let[n,i]=t;if(this.destroyed)E();else{if(null===(e=this._stats)||void 0===e||e.time("Rendering"),!(i.renderingIntent&b))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");C.initializeGraphics({transparency:n,optionalContentConfig:i}),C.operatorListChanged()}})).catch(E),M}getOperatorList(){let{intent:t="display",annotationMode:e=yo.ENABLE,printAnnotationStorage:n=null,isEditing:i=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this._transport.getRenderingIntent(t,e,n,i,!0);let a,s=this._intentStates.get(r.cacheKey);var o,l;(s||(s=Object.create(null),this._intentStates.set(r.cacheKey,s)),s.opListReadCapability)||(a=Object.create(null),a.operatorListChanged=function(){s.operatorList.lastChunk&&(s.opListReadCapability.resolve(s.operatorList),s.renderTasks.delete(a))},s.opListReadCapability=Promise.withResolvers(),((o=s).renderTasks||(o.renderTasks=new Set)).add(a),s.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},null===(l=this._stats)||void 0===l||l.time("Page Request"),this._pumpOperatorList(r));return s.opListReadCapability.promise}streamTextContent(){let{includeMarkedContent:t=!1,disableNormalization:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:!0===t,disableNormalization:!0===e},{highWaterMark:100,size:t=>t.items.length})}getTextContent(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then((t=>vl.textContent(t)));const e=this.streamTextContent(t);return new Promise((function(t,n){const i=e.getReader(),r={items:[],styles:Object.create(null),lang:null};!function e(){i.read().then((function(n){var i;let{value:a,done:s}=n;s?t(r):(null!==(i=r.lang)&&void 0!==i||(r.lang=a.lang),Object.assign(r.styles,a.styles),r.items.push(...a.items),e())}),n)}()}))}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const n of e.renderTasks)t.push(n.completed),n.cancel();return this.objs.clear(),Ws(jv,this,!1),Promise.all(t)}cleanup(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Ws(jv,this,!0);const e=Os(Wv,this,Uv).call(this);return t&&e&&this._stats&&(this._stats=new El),e}_startRenderPage(t,e){var n,i;const r=this._intentStates.get(e);r&&(null===(n=this._stats)||void 0===n||n.timeEnd("Page Request"),null===(i=r.displayReadyCapability)||void 0===i||i.resolve(t))}_renderPageChunk(t,e){for(let n=0,i=t.length;n<i;n++)e.operatorList.fnArray.push(t.fnArray[n]),e.operatorList.argsArray.push(t.argsArray[n]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const n of e.renderTasks)n.operatorListChanged();t.lastChunk&&Os(Wv,this,Uv).call(this)}_pumpOperatorList(t){let{renderingIntent:e,cacheKey:n,annotationStorageSerializable:i,modifiedIds:r}=t;const{map:a,transfer:s}=i,o=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:n,annotationStorage:a,modifiedIds:r},s).getReader(),l=this._intentStates.get(n);l.streamReader=o;const c=()=>{o.read().then((t=>{let{value:e,done:n}=t;n?l.streamReader=null:this._transport.destroyed||(this._renderPageChunk(e,l),c())}),(t=>{if(l.streamReader=null,!this._transport.destroyed){if(l.operatorList){l.operatorList.lastChunk=!0;for(const t of l.renderTasks)t.operatorListChanged();Os(Wv,this,Uv).call(this)}if(l.displayReadyCapability)l.displayReadyCapability.reject(t);else{if(!l.opListReadCapability)throw t;l.opListReadCapability.reject(t)}}}))};c()}_abortOperatorList(t){let{intentState:e,reason:n,force:i=!1}=t;if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!i){if(e.renderTasks.size>0)return;if(n instanceof kl){let t=100;return n.extraDelay>0&&n.extraDelay<1e3&&(t+=n.extraDelay),void(e.streamReaderCancelTimeout=setTimeout((()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:n,force:!0})}),t))}}if(e.streamReader.cancel(new il(n.message)).catch((()=>{})),e.streamReader=null,!this._transport.destroyed){for(const[t,n]of this._intentStates)if(n===e){this._intentStates.delete(t);break}this.cleanup()}}}get stats(){return this._stats}}function Uv(){if(!js(jv,this)||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),Ws(jv,this,!1),!0}var Hv=new WeakMap,Vv=new WeakMap,Gv=new WeakMap,qv=new WeakMap,Xv=new WeakSet;class Yv{constructor(){let{name:t=null,port:e=null,verbosity:n=Ho()}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Is(this,Xv),Fs(this,Hv,Promise.withResolvers()),Fs(this,Vv,null),Fs(this,Gv,null),Fs(this,qv,null),this.name=t,this.destroyed=!1,this.verbosity=n,e){if(ny._.has(e))throw new Error("Cannot use more than one PDFWorker per port.");ny._.set(e,this),Os(Xv,this,Qv).call(this,e)}else Os(Xv,this,$v).call(this)}get promise(){return js(Hv,this).promise}get port(){return js(Gv,this)}get messageHandler(){return js(Vv,this)}destroy(){var t,e;this.destroyed=!0,null===(t=js(qv,this))||void 0===t||t.terminate(),Ws(qv,this,null),ny._.delete(js(Gv,this)),Ws(Gv,this,null),null===(e=js(Vv,this))||void 0===e||e.destroy(),Ws(Vv,this,null)}static create(t){const e=Os(Yv,this,ny)._.get(null===t||void 0===t?void 0:t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new Yv(t)}static get workerSrc(){if(am.workerSrc)return am.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Qo(this,"_setupFakeWorkerGlobal",(async()=>{if(Bs(Yv,this,Zv))return Bs(Yv,this,Zv);return(await import(this.workerSrc)).WorkerMessageHandler})())}}function Kv(){js(Hv,this).resolve(),js(Vv,this).send("configure",{verbosity:this.verbosity})}function Qv(t){Ws(Gv,this,t),Ws(Vv,this,new kf("main","worker",t)),js(Vv,this).on("ready",(()=>{})),Os(Xv,this,Kv).call(this)}function $v(){if(ey._||Zv(Zs))return void Os(Xv,this,Jv).call(this);let{workerSrc:t}=Zs;try{Zs._isSameOrigin(window.location,t)||(t=Zs._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),n=new kf("main","worker",e),i=()=>{r.abort(),n.destroy(),e.terminate(),this.destroyed?js(Hv,this).reject(new Error("Worker was destroyed")):Os(Xv,this,Jv).call(this)},r=new AbortController;e.addEventListener("error",(()=>{js(qv,this)||i()}),{signal:r.signal}),n.on("test",(t=>{r.abort(),!this.destroyed&&t?(Ws(Vv,this,n),Ws(Gv,this,e),Ws(qv,this,e),Os(Xv,this,Kv).call(this)):i()})),n.on("ready",(t=>{if(r.abort(),this.destroyed)i();else try{a()}catch(e){Os(Xv,this,Jv).call(this)}}));const a=()=>{const t=new Uint8Array;n.send("test",t,[t.buffer])};return void a()}catch(e){Vo("The worker has been disabled.")}Os(Xv,this,Jv).call(this)}function Jv(){ey._||(Go("Setting up fake worker."),ey._=!0),Zs._setupFakeWorkerGlobal.then((t=>{var e,n;if(this.destroyed)return void js(Hv,this).reject(new Error("Worker was destroyed"));const i=new lf;Ws(Gv,this,i);const r="fake".concat((ty._=(e=ty._,n=e++,e),n)),a=new kf(r+"_worker",r,i);t.setup(a,i),Ws(Vv,this,new kf(r,r+"_worker",i)),Os(Xv,this,Kv).call(this)})).catch((t=>{js(Hv,this).reject(new Error('Setting up fake worker failed: "'.concat(t.message,'".')))}))}function Zv(t){try{var e;return(null===(e=globalThis.pdfjsWorker)||void 0===e?void 0:e.WorkerMessageHandler)||null}catch(n){return null}}Zs=Yv;var ty={_:0},ey={_:!1},ny={_:new WeakMap};so&&(ey._=Os(Zs,Zs,!0),am.workerSrc||(am.workerSrc="./pdf.worker.mjs")),Zs._isSameOrigin=(t,e)=>{const n=URL.parse(t);if(null===n||void 0===n||!n.origin||"null"===n.origin)return!1;const i=new URL(e,n);return n.origin===i.origin},Zs._createCDNWrapper=t=>{const e='await import("'.concat(t,'");');return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},Zs.fromPort=t=>{var e;if(e="`PDFWorker.fromPort` - please use `PDFWorker.create` instead.",console.log("Deprecated API usage: "+e),null===t||void 0===t||!t.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return Zs.create(t)};var iy=new WeakMap,ry=new WeakMap,ay=new WeakMap,sy=new WeakMap,oy=new WeakMap,ly=new WeakSet;class cy{constructor(t,e,n,i,r,a){Is(this,ly),Fs(this,iy,new Map),Fs(this,ry,new Map),Fs(this,ay,new Map),Fs(this,sy,new Map),Fs(this,oy,null),this.messageHandler=t,this.loadingTask=e,this.commonObjs=new Km,this.fontLoader=new Zd({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=r.canvasFactory,this.filterFactory=r.filterFactory,this.cMapReaderFactory=r.cMapReaderFactory,this.standardFontDataFactory=r.standardFontDataFactory,this.wasmFactory=r.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=a,this.setupMessageHandler()}get annotationStorage(){return Qo(this,"annotationStorage",new Yd)}getRenderingIntent(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yo.ENABLE,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=uo,s=Ud;switch(t){case"any":a=co;break;case"display":break;case"print":a=ho;break;default:Go("getRenderingIntent - invalid intent: ".concat(t))}const o=a&ho&&n instanceof $d?n:this.annotationStorage;switch(e){case yo.DISABLE:a+=go;break;case yo.ENABLE:break;case yo.ENABLE_FORMS:a+=fo;break;case yo.ENABLE_STORAGE:a+=po,s=o.serializable;break;default:Go("getRenderingIntent - invalid annotationMode: ".concat(e))}i&&(a+=mo),r&&(a+=vo);const{ids:l,hash:c}=o.modifiedIds;return{renderingIntent:a,cacheKey:[a,s.hash,c].join("_"),annotationStorageSerializable:s,modifiedIds:l}}destroy(){var t;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),null===(t=js(oy,this))||void 0===t||t.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of js(ry,this).values())e.push(i._destroy());js(ry,this).clear(),js(ay,this).clear(),js(sy,this).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return e.push(n),Promise.all(e).then((()=>{var t,e;this.commonObjs.clear(),this.fontLoader.clear(),js(iy,this).clear(),this.filterFactory.destroy(),mv.cleanup(),null===(t=this._networkStream)||void 0===t||t.cancelAllRequests(new il("Worker was terminated.")),null===(e=this.messageHandler)||void 0===e||e.destroy(),this.messageHandler=null,this.destroyCapability.resolve()}),this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",((t,e)=>{Xo(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=t=>{this._lastProgress={loaded:t.loaded,total:t.total}},e.onPull=()=>{this._fullReader.read().then((function(t){let{value:n,done:i}=t;i?e.close():(Xo(n instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),e.enqueue(new Uint8Array(n),1,[n]))})).catch((t=>{e.error(t)}))},e.onCancel=t=>{this._fullReader.cancel(t),e.ready.catch((t=>{if(!this.destroyed)throw t}))}})),t.on("ReaderHeadersReady",(async t=>{await this._fullReader.headersReady;const{isStreamingSupported:n,isRangeSupported:i,contentLength:r}=this._fullReader;if(!n||!i){var a;if(this._lastProgress)null===(a=e.onProgress)||void 0===a||a.call(e,this._lastProgress);this._fullReader.onProgress=t=>{var n;null===(n=e.onProgress)||void 0===n||n.call(e,{loaded:t.loaded,total:t.total})}}return{isStreamingSupported:n,isRangeSupported:i,contentLength:r}})),t.on("GetRangeReader",((t,e)=>{Xo(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const n=this._networkStream.getRangeReader(t.begin,t.end);n?(e.onPull=()=>{n.read().then((function(t){let{value:n,done:i}=t;i?e.close():(Xo(n instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),e.enqueue(new Uint8Array(n),1,[n]))})).catch((t=>{e.error(t)}))},e.onCancel=t=>{n.cancel(t),e.ready.catch((t=>{if(!this.destroyed)throw t}))}):e.close()})),t.on("GetDoc",(t=>{let{pdfInfo:n}=t;this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,e._capability.resolve(new Bv(n,this))})),t.on("DocException",(t=>{e._capability.reject(wf(t))})),t.on("PasswordRequest",(t=>{Ws(oy,this,Promise.withResolvers());try{if(!e.onPassword)throw wf(t);const n=t=>{t instanceof Error?js(oy,this).reject(t):js(oy,this).resolve({password:t})};e.onPassword(n,t.code)}catch(n){js(oy,this).reject(n)}return js(oy,this).promise})),t.on("DataLoaded",(t=>{var n;null===(n=e.onProgress)||void 0===n||n.call(e,{loaded:t.length,total:t.length}),this.downloadInfoCapability.resolve(t)})),t.on("StartRenderPage",(t=>{if(this.destroyed)return;js(ry,this).get(t.pageIndex)._startRenderPage(t.transparency,t.cacheKey)})),t.on("commonobj",(e=>{var n;let[i,r,a]=e;if(this.destroyed)return null;if(this.commonObjs.has(i))return null;switch(r){case"Font":if("error"in a){const t=a.error;Go("Error during font loading: ".concat(t)),this.commonObjs.resolve(i,t);break}const e=new Qg(a),s=this._params.pdfBug&&null!==(n=globalThis.FontInspector)&&void 0!==n&&n.enabled?(t,e)=>globalThis.FontInspector.fontAdded(t,e):null,o=new ef(e,s,a.extra,a.charProcOperatorList);this.fontLoader.bind(o).catch((()=>t.sendWithPromise("FontFallback",{id:i}))).finally((()=>{!o.fontExtraProperties&&o.data&&o.clearData(),this.commonObjs.resolve(i,o)}));break;case"CopyLocalImage":const{imageRef:l}=a;Xo(l,"The imageRef must be defined.");for(const t of js(ry,this).values())for(const[,e]of t.objs)if((null===e||void 0===e?void 0:e.ref)===l)return e.dataLen?(this.commonObjs.resolve(i,structuredClone(e)),e.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,a);break;default:throw new Error("Got unknown common object type ".concat(r))}return null})),t.on("obj",(t=>{let[e,n,i,r]=t;if(this.destroyed)return;const a=js(ry,this).get(n);var s;if(!a.objs.has(e))if(0!==a._intentStates.size)switch(i){case"Image":case"Pattern":a.objs.resolve(e,r);break;default:throw new Error("Got unknown object type ".concat(i))}else null===r||void 0===r||null===(s=r.bitmap)||void 0===s||s.close()})),t.on("DocProgress",(t=>{var n;this.destroyed||null===(n=e.onProgress)||void 0===n||n.call(e,{loaded:t.loaded,total:t.total})})),t.on("FetchBinaryData",(async t=>{if(this.destroyed)throw new Error("Worker was destroyed.");const e=this[t.type];if(!e)throw new Error("".concat(t.type," not initialized, see the `useWorkerFetch` parameter."));return e.fetch(t)}))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var t,e;this.annotationStorage.size<=0&&Go("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:n,transfer:i}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:n,filename:null!==(t=null===(e=this._fullReader)||void 0===e?void 0:e.filename)&&void 0!==t?t:null},i).finally((()=>{this.annotationStorage.resetModified()}))}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,n=js(ay,this).get(e);if(n)return n;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then((n=>{if(this.destroyed)throw new Error("Transport destroyed");n.refStr&&js(sy,this).set(n.refStr,t);const i=new zv(e,n,this,this._params.pdfBug);return js(ry,this).set(e,i),i}));return js(ay,this).set(e,i),i}getPageIndex(t){return rf(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return Os(ly,this,uy).call(this,"GetFieldObjects")}hasJSActions(){return Os(ly,this,uy).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return"string"!==typeof t?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(t,e){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:t,pageIndexesToSkip:e})}getDocJSActions(){return Os(ly,this,uy).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return Os(ly,this,uy).call(this,"GetOptionalContentConfig").then((e=>new _m(e,t)))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=js(iy,this).get(t);if(e)return e;const n=this.messageHandler.sendWithPromise(t,null).then((t=>{var e,n,i,r;return{info:t[0],metadata:t[1]?new um(t[1]):null,contentDispositionFilename:null!==(e=null===(n=this._fullReader)||void 0===n?void 0:n.filename)&&void 0!==e?e:null,contentLength:null!==(i=null===(r=this._fullReader)||void 0===r?void 0:r.contentLength)&&void 0!==i?i:null}}));return js(iy,this).set(t,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of js(ry,this).values()){if(!t.cleanup())throw new Error("startCleanup: Page ".concat(t.pageNumber," is currently rendering."))}this.commonObjs.clear(),t||this.fontLoader.clear(),js(iy,this).clear(),this.filterFactory.destroy(!0),mv.cleanup()}}cachedPageNumber(t){var e;if(!rf(t))return null;const n=0===t.gen?"".concat(t.num,"R"):"".concat(t.num,"R").concat(t.gen);return null!==(e=js(sy,this).get(n))&&void 0!==e?e:null}}function uy(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=js(iy,this).get(t);if(n)return n;const i=this.messageHandler.sendWithPromise(t,e);return js(iy,this).set(t,i),i}var hy=new WeakMap;class dy{constructor(t){Fs(this,hy,null),c(this,"onContinue",null),c(this,"onError",null),Ws(hy,this,t)}get promise(){return js(hy,this).capability.promise}cancel(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;js(hy,this).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=js(hy,this).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=js(hy,this);return t.form||t.canvas&&(null===e||void 0===e?void 0:e.size)>0}}var fy=new WeakMap;class py{constructor(t){let{callback:e,params:n,objs:i,commonObjs:r,annotationCanvasMap:a,operatorList:s,pageIndex:o,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:u=!1,pdfBug:h=!1,pageColors:d=null,enableHWA:f=!1,operationsFilter:p=null}=t;Fs(this,fy,null),this.callback=e,this.params=n,this.objs=i,this.commonObjs=r,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=s,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=h,this.pageColors=d,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===u&&"undefined"!==typeof window,this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new dy(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvas,this._canvasContext=n.canvas?null:n.canvasContext,this._enableHWA=f,this._dependencyTracker=n.dependencyTracker,this._operationsFilter=p}get completed(){return this.capability.promise.catch((function(){}))}initializeGraphics(t){var e,n;let{transparency:i=!1,optionalContentConfig:r}=t;if(this.cancelled)return;if(this._canvas){if(gy._.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");gy._.add(this._canvas)}this._pdfBug&&null!==(e=globalThis.StepperManager)&&void 0!==e&&e.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:a,transform:s,background:o,dependencyTracker:l}=this.params,c=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new Pg(c,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:r},this.annotationCanvasMap,this.pageColors,l),this.gfx.beginDrawing({transform:s,viewport:a,transparency:i,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,null===(n=this.graphicsReadyCallback)||void 0===n||n.call(this)}cancel(){var t,e,n;let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.running=!1,this.cancelled=!0,null===(t=this.gfx)||void 0===t||t.endDrawing(),js(fy,this)&&(window.cancelAnimationFrame(js(fy,this)),Ws(fy,this,null)),gy._.delete(this._canvas),i||(i=new kl("Rendering cancelled, page ".concat(this._pageIndex+1),r)),this.callback(i),null===(e=(n=this.task).onError)||void 0===e||e.call(n,i)}operatorListChanged(){var t,e;this.graphicsReady?(null===(t=this.gfx.dependencyTracker)||void 0===t||t.growOperationsCount(this.operatorList.fnArray.length),null===(e=this.stepper)||void 0===e||e.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?Ws(fy,this,window.requestAnimationFrame((()=>{Ws(fy,this,null),this._nextBound().catch(this._cancelBound)}))):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),gy._.delete(this._canvas),this.callback())))}}var gy={_:new WeakSet};const my="5.4.296";var vy=new WeakMap,yy=new WeakMap,by=new WeakMap,wy=new WeakMap,xy=new WeakMap,_y=new WeakMap,ky=new WeakMap,Sy=new WeakMap,Ay=new WeakMap,Ey=new WeakMap,Cy=new WeakSet;class My{static get _keyboardManager(){return Qo(this,"_keyboardManager",new Pc([[["Escape","mac+Escape"],My.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],My.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],My.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],My.prototype._moveToPrevious],[["Home","mac+Home"],My.prototype._moveToBeginning],[["End","mac+End"],My.prototype._moveToEnd]]))}constructor(t){var e,n;let{editor:i=null,uiManager:r=null}=t;Is(this,Cy),Fs(this,vy,null),Fs(this,yy,null),Fs(this,by,void 0),Fs(this,wy,null),Fs(this,xy,!1),Fs(this,_y,!1),Fs(this,ky,null),Fs(this,Sy,void 0),Fs(this,Ay,null),Fs(this,Ey,null),i?(Ws(_y,this,!1),Ws(ky,this,i)):Ws(_y,this,!0),Ws(Ey,this,(null===i||void 0===i?void 0:i._uiManager)||r),Ws(Sy,this,js(Ey,this)._eventBus),Ws(by,this,(null===i||void 0===i||null===(e=i.color)||void 0===e?void 0:e.toUpperCase())||(null===(n=js(Ey,this))||void 0===n?void 0:n.highlightColors.values().next().value)||"#FFFF98"),Iy._||(Iy._=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}renderButton(){const t=Ws(vy,this,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.ariaHasPopup="true",js(ky,this)&&(t.ariaControls="".concat(js(ky,this).id,"_colorpicker_dropdown"));const e=js(Ey,this)._signal;t.addEventListener("click",Os(Cy,this,Dy).bind(this),{signal:e}),t.addEventListener("keydown",Os(Cy,this,Ry).bind(this),{signal:e});const n=Ws(yy,this,document.createElement("span"));return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=js(by,this),t.append(n),t}renderMainDropdown(){const t=Ws(wy,this,Os(Cy,this,Ty).call(this));return t.ariaOrientation="horizontal",t.ariaLabelledBy="highlightColorPickerLabel",t}_colorSelectFromKeyboard(t){if(t.target===js(vy,this))return void Os(Cy,this,Dy).call(this,t);const e=t.target.getAttribute("data-color");e&&Os(Cy,this,Py).call(this,e,t)}_moveToNext(t){var e,n;Bs(Cy,this,Ny)?t.target!==js(vy,this)?null===(e=t.target.nextSibling)||void 0===e||e.focus():null===(n=js(wy,this).firstChild)||void 0===n||n.focus():Os(Cy,this,Dy).call(this,t)}_moveToPrevious(t){var e,n;t.target!==(null===(e=js(wy,this))||void 0===e?void 0:e.firstChild)&&t.target!==js(vy,this)?(Bs(Cy,this,Ny)||Os(Cy,this,Dy).call(this,t),null===(n=t.target.previousSibling)||void 0===n||n.focus()):Bs(Cy,this,Ny)&&this._hideDropdownFromKeyboard()}_moveToBeginning(t){var e;Bs(Cy,this,Ny)?null===(e=js(wy,this).firstChild)||void 0===e||e.focus():Os(Cy,this,Dy).call(this,t)}_moveToEnd(t){var e;Bs(Cy,this,Ny)?null===(e=js(wy,this).lastChild)||void 0===e||e.focus():Os(Cy,this,Dy).call(this,t)}hideDropdown(){var t,e;null===(t=js(wy,this))||void 0===t||t.classList.add("hidden"),js(vy,this).ariaExpanded="false",null===(e=js(Ay,this))||void 0===e||e.abort(),Ws(Ay,this,null)}_hideDropdownFromKeyboard(){var t;js(_y,this)||(Bs(Cy,this,Ny)?(this.hideDropdown(),js(vy,this).focus({preventScroll:!0,focusVisible:js(xy,this)})):null===(t=js(ky,this))||void 0===t||t.unselect())}updateColor(t){if(js(yy,this)&&(js(yy,this).style.backgroundColor=t),!js(wy,this))return;const e=js(Ey,this).highlightColors.values();for(const n of js(wy,this).children)n.ariaSelected=e.next().value===t.toUpperCase()}destroy(){var t,e;null===(t=js(vy,this))||void 0===t||t.remove(),Ws(vy,this,null),Ws(yy,this,null),null===(e=js(wy,this))||void 0===e||e.remove(),Ws(wy,this,null)}}function Ty(){const t=document.createElement("div"),e=js(Ey,this)._signal;t.addEventListener("contextmenu",Ml,{signal:e}),t.className="dropdown",t.role="listbox",t.ariaMultiSelectable="false",t.ariaOrientation="vertical",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),js(ky,this)&&(t.id="".concat(js(ky,this).id,"_colorpicker_dropdown"));for(const[n,i]of js(Ey,this).highlightColors){const r=document.createElement("button");r.tabIndex="0",r.role="option",r.setAttribute("data-color",i),r.title=n,r.setAttribute("data-l10n-id",Iy._[n]);const a=document.createElement("span");r.append(a),a.className="swatch",a.style.backgroundColor=i,r.ariaSelected=i===js(by,this),r.addEventListener("click",Os(Cy,this,Py).bind(this,i),{signal:e}),t.append(r)}return t.addEventListener("keydown",Os(Cy,this,Ry).bind(this),{signal:e}),t}function Py(t,e){e.stopPropagation(),js(Sy,this).dispatch("switchannotationeditorparams",{source:this,type:xo.HIGHLIGHT_COLOR,value:t}),this.updateColor(t)}function Ry(t){to._keyboardManager.exec(this,t)}function Dy(t){if(Bs(Cy,this,Ny))return void this.hideDropdown();if(Ws(xy,this,0===t.detail),js(Ay,this)||(Ws(Ay,this,new AbortController),window.addEventListener("pointerdown",Os(Cy,this,Ly).bind(this),{signal:js(Ey,this).combinedSignal(js(Ay,this))})),js(vy,this).ariaExpanded="true",js(wy,this))return void js(wy,this).classList.remove("hidden");const e=Ws(wy,this,Os(Cy,this,Ty).call(this));js(vy,this).append(e)}function Ly(t){var e;null!==(e=js(wy,this))&&void 0!==e&&e.contains(t.target)||this.hideDropdown()}function Ny(t){return js(wy,t)&&!js(wy,t).classList.contains("hidden")}to=My;var Iy={_:null},Fy=new WeakMap,Oy=new WeakMap,By=new WeakMap;class jy{constructor(t){Fs(this,Fy,null),Fs(this,Oy,null),Fs(this,By,null),Ws(Oy,this,t),Ws(By,this,t._uiManager),Wy._||(Wy._=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(js(Fy,this))return js(Fy,this);const{editorType:t,colorType:e,colorValue:n}=js(Oy,this),i=Ws(Fy,this,document.createElement("input"));return i.type="color",i.value=n||"#000000",i.className="basicColorPicker",i.tabIndex=0,i.setAttribute("data-l10n-id",Wy._[t]),i.addEventListener("input",(()=>{js(By,this).updateParams(e,i.value)}),{signal:js(By,this)._signal}),i}update(t){js(Fy,this)&&(js(Fy,this).value=t)}destroy(){var t;null===(t=js(Fy,this))||void 0===t||t.remove(),Ws(Fy,this,null)}hideDropdown(){}}var Wy={_:null};function zy(t){return Math.floor(255*Math.max(0,Math.min(1,t))).toString(16).padStart(2,"0")}function Uy(t){return Math.max(0,Math.min(255,255*t))}class Hy{static CMYK_G(t){let[e,n,i,r]=t;return["G",1-Math.min(1,.3*e+.59*i+.11*n+r)]}static G_CMYK(t){let[e]=t;return["CMYK",0,0,0,1-e]}static G_RGB(t){let[e]=t;return["RGB",e,e,e]}static G_rgb(t){let[e]=t;return e=Uy(e),[e,e,e]}static G_HTML(t){let[e]=t;const n=zy(e);return"#".concat(n).concat(n).concat(n)}static RGB_G(t){let[e,n,i]=t;return["G",.3*e+.59*n+.11*i]}static RGB_rgb(t){return t.map(Uy)}static RGB_HTML(t){return"#".concat(t.map(zy).join(""))}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB(t){let[e,n,i,r]=t;return["RGB",1-Math.min(1,e+r),1-Math.min(1,i+r),1-Math.min(1,n+r)]}static CMYK_rgb(t){let[e,n,i,r]=t;return[Uy(1-Math.min(1,e+r)),Uy(1-Math.min(1,i+r)),Uy(1-Math.min(1,n+r))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK(t){let[e,n,i]=t;const r=1-e,a=1-n,s=1-i;return["CMYK",r,a,s,Math.min(r,a,s)]}}class Vy{create(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),n||(i.setAttribute("width","".concat(t,"px")),i.setAttribute("height","".concat(e,"px"))),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox","0 0 ".concat(t," ").concat(e)),i}createElement(t){if("string"!==typeof t)throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){qo("Abstract method `_createSVG` called.")}}class Gy extends Vy{_createSVG(t){return document.createElementNS(bl,t)}}const qy=new WeakSet,Xy=60*(new Date).getTimezoneOffset()*1e3;class Yy{static create(t){switch(t.data.annotationType){case To.LINK:return new ib(t);case To.TEXT:return new ob(t);case To.WIDGET:switch(t.data.fieldType){case"Tx":return new cb(t);case"Btn":return t.data.radioButton?new db(t):t.data.checkBox?new hb(t):new fb(t);case"Ch":return new pb(t);case"Sig":return new ub(t)}return new lb(t);case To.POPUP:return new mb(t);case To.FREETEXT:return new aw(t);case To.LINE:return new ow(t);case To.SQUARE:return new cw(t);case To.CIRCLE:return new hw(t);case To.POLYLINE:return new fw(t);case To.CARET:return new gw(t);case To.INK:return new bw(t);case To.POLYGON:return new pw(t);case To.HIGHLIGHT:return new xw(t);case To.UNDERLINE:return new _w(t);case To.SQUIGGLY:return new kw(t);case To.STRIKEOUT:return new Sw(t);case To.STAMP:return new Aw(t);case To.FILEATTACHMENT:return new Mw(t);default:return new Zy(t)}}}var Ky=new WeakMap,Qy=new WeakMap,$y=new WeakMap,Jy=new WeakSet;class Zy{constructor(t){let{isRenderable:e=!1,ignoreBorder:n=!1,createQuadrilaterals:i=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Is(this,Jy),Fs(this,Ky,null),Fs(this,Qy,!1),Fs(this,$y,null),this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableComment=t.enableComment,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(n)),i&&this._createQuadrilaterals()}static _hasPopupData(t){let{contentsObj:e,richText:n}=t;return!!(null!==e&&void 0!==e&&e.str||null!==n&&void 0!==n&&n.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Zy._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){var t;const{data:e}=this,n=null===(t=this.annotationStorage)||void 0===t?void 0:t.getEditor(e.id);return n?n.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){var t;const e=null===(t=this.annotationStorage)||void 0===t?void 0:t.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:n,inkLists:i,rect:r}=this.data;let a=-1/0,s=-1/0;if((null===n||void 0===n?void 0:n.length)>=8){for(let t=0;t<n.length;t+=8)n[t+1]>s?(s=n[t+1],a=n[t+2]):n[t+1]===s&&(a=Math.max(a,n[t+2]));return[a,s]}if((null===i||void 0===i?void 0:i.length)>=1){for(const t of i)for(let e=0,n=t.length;e<n;e+=2)t[e+1]>s?(s=t[e+1],a=t[e]):t[e+1]===s&&(a=Math.max(a,t[e]));if(a!==1/0)return[a,s]}return r?[r[2],r[3]]:null}_normalizePoint(t){const{page:{view:e},viewport:{rawDims:{pageWidth:n,pageHeight:i,pageX:r,pageY:a}}}=this.parent;return t[1]=e[3]-t[1]+e[1],t[0]=100*(t[0]-r)/n,t[1]=100*(t[1]-a)/i,t}get commentText(){var t,e;const{data:n}=this;return(null===(t=this.annotationStorage.getRawValue("".concat(bo).concat(n.id)))||void 0===t||null===(t=t.popup)||void 0===t?void 0:t.contents)||(null===(e=n.contentsObj)||void 0===e?void 0:e.str)||""}set commentText(t){const{data:e}=this,n={deleted:!t,contents:t||""};this.annotationStorage.updateEditor(e.id,{popup:n})||this.annotationStorage.setValue("".concat(bo).concat(e.id),{id:e.id,annotationType:e.annotationType,pageIndex:this.parent.page._pageIndex,popup:n,popupRef:e.popupRef,modificationDate:new Date}),t||this.removePopup()}removePopup(){var t,e;null===(t=(null===(e=js($y,this))||void 0===e?void 0:e.popup)||this.popup)||void 0===t||t.remove(),Ws($y,this,this.popup=null)}updateEdited(t){var e;if(!this.container)return;t.rect&&(js(Ky,this)||Ws(Ky,this,{rect:this.data.rect.slice(0)}));const{rect:n,popup:i}=t;n&&Os(Jy,this,tb).call(this,n);let r=(null===(e=js($y,this))||void 0===e?void 0:e.popup)||this.popup;!r&&null!==i&&void 0!==i&&i.text&&(this._createPopup(i),r=js($y,this).popup),r&&(r.updateEdited(t),null!==i&&void 0!==i&&i.deleted&&(r.remove(),Ws($y,this,null),this.popup=null))}resetEdited(){var t;js(Ky,this)&&(Os(Jy,this,tb).call(this,js(Ky,this).rect),null===(t=js($y,this))||void 0===t||t.popup.resetEdited(),Ws(Ky,this,null))}_createContainer(t){const{data:e,parent:{page:n,viewport:i}}=this,r=document.createElement("section");r.setAttribute("data-annotation-id",e.id),this instanceof lb||this instanceof ib||(r.tabIndex=0);const{style:a}=r;if(a.zIndex=this.parent.zIndex,this.parent.zIndex+=2,e.alternativeText&&(r.title=e.alternativeText),e.noRotate&&r.classList.add("norotate"),!e.rect||this instanceof mb){const{rotation:t}=e;return e.hasOwnCanvas||0===t||this.setRotation(t,r),r}const{width:s,height:o}=this;if(!t&&e.borderStyle.width>0){a.borderWidth="".concat(e.borderStyle.width,"px");const t=e.borderStyle.horizontalCornerRadius,n=e.borderStyle.verticalCornerRadius;if(t>0||n>0){const e="calc(".concat(t,"px * var(--total-scale-factor)) / calc(").concat(n,"px * var(--total-scale-factor))");a.borderRadius=e}else if(this instanceof db){const t="calc(".concat(s,"px * var(--total-scale-factor)) / calc(").concat(o,"px * var(--total-scale-factor))");a.borderRadius=t}switch(e.borderStyle.style){case Po:a.borderStyle="solid";break;case Ro:a.borderStyle="dashed";break;case Do:Go("Unimplemented border style: beveled");break;case Lo:Go("Unimplemented border style: inset");break;case No:a.borderBottomStyle="solid"}const i=e.borderColor||null;i?(Ws(Qy,this,!0),a.borderColor=ll.makeHexColor(0|i[0],0|i[1],0|i[2])):a.borderWidth=0}const l=ll.normalizeRect([e.rect[0],n.view[3]-e.rect[1]+n.view[1],e.rect[2],n.view[3]-e.rect[3]+n.view[1]]),{pageWidth:c,pageHeight:u,pageX:h,pageY:d}=i.rawDims;a.left="".concat(100*(l[0]-h)/c,"%"),a.top="".concat(100*(l[1]-d)/u,"%");const{rotation:f}=e;return e.hasOwnCanvas||0===f?(a.width="".concat(100*s/c,"%"),a.height="".concat(100*o/u,"%")):this.setRotation(f,r),r}setRotation(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.container;if(!this.data.rect)return;const{pageWidth:n,pageHeight:i}=this.parent.viewport.rawDims;let{width:r,height:a}=this;t%180!==0&&([r,a]=[a,r]),e.style.width="".concat(100*r/n,"%"),e.style.height="".concat(100*a/i,"%"),e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(t,e,n)=>{const i=n.detail[t],r=i[0],a=i.slice(1);n.target.style[e]=Hy["".concat(r,"_HTML")](a),this.annotationStorage.setValue(this.data.id,{[e]:Hy["".concat(r,"_rgb")](a)})};return Qo(this,"_commonActions",{display:t=>{const{display:e}=t.detail,n=e%2===1;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:n,noPrint:1===e||2===e})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:e}=t.detail;this.container.style.visibility=e?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:e,noView:e})},focus:t=>{setTimeout((()=>t.target.focus({preventScroll:!1})),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:t=>{const e=t.detail.rotation;this.setRotation(e),this.annotationStorage.setValue(this.data.id,{rotation:e})}})}_dispatchEventFromSandbox(t,e){const n=this._commonActions;for(const i of Object.keys(e.detail)){const r=t[i]||n[i];null===r||void 0===r||r(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const n=this._commonActions;for(const[i,r]of Object.entries(e)){const a=n[i];if(a){a({detail:{[i]:r},target:t}),delete e[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,n,i,r]=this.data.rect.map((t=>Math.fround(t)));if(8===t.length){const[a,s,o,l]=t.subarray(2,6);if(i===a&&r===s&&e===o&&n===l)return}const{style:a}=this.container;let s;if(js(Qy,this)){const{borderColor:t,borderWidth:e}=a;a.borderWidth=0,s=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">','<g fill="transparent" stroke="'.concat(t,'" stroke-width="').concat(e,'">')],this.container.classList.add("hasBorder")}const o=i-e,l=r-n,{svgFactory:c}=this,u=c.createElement("svg");u.classList.add("quadrilateralsContainer"),u.setAttribute("width",0),u.setAttribute("height",0),u.role="none";const h=c.createElement("defs");u.append(h);const d=c.createElement("clipPath"),f="clippath_".concat(this.data.id);d.setAttribute("id",f),d.setAttribute("clipPathUnits","objectBoundingBox"),h.append(d);for(let g=2,m=t.length;g<m;g+=8){var p;const n=t[g],i=t[g+1],a=t[g+2],u=t[g+3],h=c.createElement("rect"),f=(a-e)/o,m=(r-i)/l,v=(n-a)/o,y=(i-u)/l;h.setAttribute("x",f),h.setAttribute("y",m),h.setAttribute("width",v),h.setAttribute("height",y),d.append(h),null===(p=s)||void 0===p||p.push('<rect vector-effect="non-scaling-stroke" x="'.concat(f,'" y="').concat(m,'" width="').concat(v,'" height="').concat(y,'"/>'))}js(Qy,this)&&(s.push("</g></svg>')"),a.backgroundImage=s.join("")),this.container.append(u),this.container.style.clipPath="url(#".concat(f,")")}_createPopup(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const{data:e}=this;let n,i;t?(n={str:t.text},i=t.date):(n=e.contentsObj,i=e.modificationDate);const r=Ws($y,this,new mb({data:{color:e.color,titleObj:e.titleObj,modificationDate:i,contentsObj:n,richText:e.richText,parentRect:e.rect,borderStyle:0,id:"popup_".concat(e.id),rotation:e.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}));this.parent._commentManager||this.parent.div.append(r.render())}get hasPopupElement(){return!!(js($y,this)||this.popup||this.data.popupRef)}get extraPopupElement(){return js($y,this)}render(){qo("Abstract method `AnnotationElement.render` called")}_getElementsByName(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[];if(this._fieldObjects){const i=this._fieldObjects[t];if(i)for(const{page:t,id:r,exportValues:a}of i){if(-1===t)continue;if(r===e)continue;const i="string"===typeof a?a:null,s=document.querySelector('[data-element-id="'.concat(r,'"]'));!s||qy.has(s)?n.push({id:r,exportValue:i,domElement:s}):Go("_getElementsByName - element not allowed: ".concat(r))}return n}for(const i of document.getElementsByName(t)){const{exportValue:t}=i,r=i.getAttribute("data-element-id");r!==e&&(qy.has(i)&&n.push({id:r,exportValue:t,domElement:i}))}return n}show(){var t;this.container&&(this.container.hidden=!1),null===(t=this.popup)||void 0===t||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),null===(t=this.popup)||void 0===t||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",(()=>{var n;null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e,mustEnterInEditMode:!0})}))}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}function tb(t){const{container:{style:e},data:{rect:n,rotation:i},parent:{viewport:{rawDims:{pageWidth:r,pageHeight:a,pageX:s,pageY:o}}}}=this;null===n||void 0===n||n.splice(0,4,...t),e.left="".concat(100*(t[0]-s)/r,"%"),e.top="".concat(100*(a-t[3]+o)/a,"%"),0===i?(e.width="".concat(100*(t[2]-t[0])/r,"%"),e.height="".concat(100*(t[3]-t[1])/a,"%")):this.setRotation(i)}class eb extends Zy{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.editor=t.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:t}=this;t.hasComment&&(this._createPopup(t.comment),this.extraPopupElement.popup.renderCommentButton())}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(t){this.editor.comment=t,t||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.container.remove(),this.container=null,this.removePopup()}}var nb=new WeakSet;class ib extends Zy{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(t,{isRenderable:!0,ignoreBorder:!(null===e||void 0===e||!e.ignoreBorder),createQuadrilaterals:!0}),Is(this,nb),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:e}=this,n=document.createElement("a");n.setAttribute("data-element-id",t.id);let i=!1;return t.url?(e.addLinkAttributes(n,t.url,t.newWindow),i=!0):t.action?(this._bindNamedAction(n,t.action,t.overlaidText),i=!0):t.attachment?(Os(nb,this,ab).call(this,n,t.attachment,t.overlaidText,t.attachmentDest),i=!0):t.setOCGState?(Os(nb,this,sb).call(this,n,t.setOCGState,t.overlaidText),i=!0):t.dest?(this._bindLink(n,t.dest,t.overlaidText),i=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,t),i=!0),t.resetForm?(this._bindResetFormAction(n,t.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(n,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&this.container.append(n),this.container}_bindLink(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||""===e)&&Os(nb,this,rb).call(this),n&&(t.title=n)}_bindNamedAction(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),n&&(t.title=n),Os(nb,this,rb).call(this)}_bindJSAction(t,e){t.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(e.actions)){const r=n.get(i);r&&(t[r]=()=>{var t;return null===(t=this.linkService.eventBus)||void 0===t||t.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:i}}),!1})}e.overlaidText&&(t.title=e.overlaidText),t.onclick||(t.onclick=()=>!1),Os(nb,this,rb).call(this)}_bindResetFormAction(t,e){const n=t.onclick;if(n||(t.href=this.linkService.getAnchorUrl("")),Os(nb,this,rb).call(this),!this._fieldObjects)return Go('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(n||(t.onclick=()=>!1));t.onclick=()=>{null===n||void 0===n||n();const{fields:t,refs:i,include:r}=e,a=[];if(0!==t.length||0!==i.length){const e=new Set(i);for(const n of t){const t=this._fieldObjects[n]||[];for(const{id:n}of t)e.add(n)}for(const t of Object.values(this._fieldObjects))for(const n of t)e.has(n.id)===r&&a.push(n)}else for(const e of Object.values(this._fieldObjects))a.push(...e);const s=this.annotationStorage,o=[];for(const e of a){const{id:t}=e;switch(o.push(t),e.type){case"text":{const n=e.defaultValue||"";s.setValue(t,{value:n});break}case"checkbox":case"radiobutton":{const n=e.defaultValue===e.exportValues;s.setValue(t,{value:n});break}case"combobox":case"listbox":{const n=e.defaultValue||"";s.setValue(t,{value:n});break}default:continue}const n=document.querySelector('[data-element-id="'.concat(t,'"]'));n&&(qy.has(n)?n.dispatchEvent(new Event("resetform")):Go("_bindResetFormAction - element not allowed: ".concat(t)))}var l;this.enableScripting&&(null===(l=this.linkService.eventBus)||void 0===l||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:o,name:"ResetForm"}}));return!1}}}function rb(){this.container.setAttribute("data-internal-link","")}function ab(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t.href=this.linkService.getAnchorUrl(""),e.description?t.title=e.description:n&&(t.title=n),t.onclick=()=>{var t;return null===(t=this.downloadManager)||void 0===t||t.openOrDownloadData(e.content,e.filename,i),!1},Os(nb,this,rb).call(this)}function sb(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(e),!1),n&&(t.title=n),Os(nb,this,rb).call(this)}class ob extends Zy{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class lb extends Zy{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&("CANVAS"===(null===(e=t.previousSibling)||void 0===e?void 0:e.nodeName)&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return sl.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,n,i,r){n.includes("mouse")?t.addEventListener(n,(t=>{var e;null===(e=this.linkService.eventBus)||void 0===e||e.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:r(t),shift:t.shiftKey,modifier:this._getKeyModifier(t)}})})):t.addEventListener(n,(t=>{var a;if("blur"===n){if(!e.focused||!t.relatedTarget)return;e.focused=!1}else if("focus"===n){if(e.focused)return;e.focused=!0}r&&(null===(a=this.linkService.eventBus)||void 0===a||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:r(t)}}))}))}_setEventListeners(t,e,n,i){for(const[o,l]of n){var r,a,s;if("Action"===l||null!==(r=this.data.actions)&&void 0!==r&&r[l])"Focus"!==l&&"Blur"!==l||e||(e={focused:!1}),this._setEventListener(t,e,o,l,i),"Focus"!==l||null!==(a=this.data.actions)&&void 0!==a&&a.Blur?"Blur"!==l||null!==(s=this.data.actions)&&void 0!==s&&s.Focus||this._setEventListener(t,e,"focus","Focus",null):this._setEventListener(t,e,"blur","Blur",null)}}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=null===e?"transparent":ll.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||9,r=t.style;let a;const s=t=>Math.round(10*t)/10;if(this.data.multiLine){const t=Math.abs(this.data.rect[3]-this.data.rect[1]-2),e=t/(Math.round(t/(lo*i))||1);a=Math.min(i,s(e/lo))}else{const t=Math.abs(this.data.rect[3]-this.data.rect[1]-2);a=Math.min(i,s(t/lo))}r.fontSize="calc(".concat(a,"px * var(--total-scale-factor))"),r.color=ll.makeHexColor(n[0],n[1],n[2]),null!==this.data.textAlignment&&(r.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class cb extends lb{constructor(t){super(t,{isRenderable:t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue})}setPropertyOnSiblings(t,e,n,i){const r=this.annotationStorage;for(const a of this._getElementsByName(t.name,t.id))a.domElement&&(a.domElement[e]=n),r.setValue(a.id,{[i]:n})}render(){const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){var i;const a=t.getValue(e,{value:this.data.fieldValue});let s=a.value||"";const o=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;o&&s.length>o&&(s=s.slice(0,o));let l=a.formattedValue||(null===(i=this.data.textContent)||void 0===i?void 0:i.join("\n"))||null;l&&this.data.comb&&(l=l.replaceAll(/\s+/g,""));const c={userValue:s,formattedValue:l,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=null!==l&&void 0!==l?l:s,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",null!==l&&void 0!==l?l:s),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),qy.add(n),n.setAttribute("data-element-id",e),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;const{datetimeFormat:u,datetimeType:h,timeStep:d}=this.data,f=!!h&&this.enableScripting;u&&(n.title=u),this._setRequired(n,this.data.required),o&&(n.maxLength=o),n.addEventListener("input",(i=>{t.setValue(e,{value:i.target.value}),this.setPropertyOnSiblings(n,"value",i.target.value,"value"),c.formattedValue=null})),n.addEventListener("resetform",(t=>{var e;const i=null!==(e=this.data.defaultFieldValue)&&void 0!==e?e:"";n.value=c.userValue=i,c.formattedValue=null}));let p=t=>{const{formattedValue:e}=c;null!==e&&void 0!==e&&(t.target.value=e),t.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){var r;n.addEventListener("focus",(t=>{var e;if(c.focused)return;const{target:n}=t;if(f&&(n.type=h,d&&(n.step=d)),c.userValue){const t=c.userValue;if(f)if("time"===h){const e=new Date(t),i=[e.getHours(),e.getMinutes(),e.getSeconds()];n.value=i.map((t=>t.toString().padStart(2,"0"))).join(":")}else n.value=new Date(t-Xy).toISOString().split("date"===h?"T":".",1)[0];else n.value=t}c.lastCommittedValue=n.value,c.commitKey=1,null!==(e=this.data.actions)&&void 0!==e&&e.Focus||(c.focused=!0)})),n.addEventListener("updatefromsandbox",(n=>{this.showElementAndHideCanvas(n.target);const i={value(n){var i;c.userValue=null!==(i=n.detail.value)&&void 0!==i?i:"",f||t.setValue(e,{value:c.userValue.toString()}),n.target.value=c.userValue},formattedValue(n){const{formattedValue:i}=n.detail;c.formattedValue=i,null!==i&&void 0!==i&&n.target!==document.activeElement&&(n.target.value=i);const r={formattedValue:i};f&&(r.value=i),t.setValue(e,r)},selRange(t){t.target.setSelectionRange(...t.detail.selRange)},charLimit:n=>{var i;const{charLimit:r}=n.detail,{target:a}=n;if(0===r)return void a.removeAttribute("maxLength");a.setAttribute("maxLength",r);let s=c.userValue;!s||s.length<=r||(s=s.slice(0,r),a.value=c.userValue=s,t.setValue(e,{value:s}),null===(i=this.linkService.eventBus)||void 0===i||i.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:s,willCommit:!0,commitKey:1,selStart:a.selectionStart,selEnd:a.selectionEnd}}))}};this._dispatchEventFromSandbox(i,n)})),n.addEventListener("keydown",(t=>{var n;c.commitKey=1;let i=-1;if("Escape"===t.key?i=0:"Enter"!==t.key||this.data.multiLine?"Tab"===t.key&&(c.commitKey=3):i=2,-1===i)return;const{value:r}=t.target;c.lastCommittedValue!==r&&(c.lastCommittedValue=r,c.userValue=r,null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:r,willCommit:!0,commitKey:i,selStart:t.target.selectionStart,selEnd:t.target.selectionEnd}}))}));const i=p;p=null,n.addEventListener("blur",(t=>{var n;if(!c.focused||!t.relatedTarget)return;null!==(n=this.data.actions)&&void 0!==n&&n.Blur||(c.focused=!1);const{target:r}=t;let{value:a}=r;if(f){if(a&&"time"===h){const t=a.split(":").map((t=>parseInt(t,10)));a=new Date(2e3,0,1,t[0],t[1],t[2]||0).valueOf(),r.step=""}else a.includes("T")||(a="".concat(a,"T00:00")),a=new Date(a).valueOf();r.type="text"}var s;(c.userValue=a,c.lastCommittedValue!==a)&&(null===(s=this.linkService.eventBus)||void 0===s||s.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:a,willCommit:!0,commitKey:c.commitKey,selStart:t.target.selectionStart,selEnd:t.target.selectionEnd}}));i(t)})),null!==(r=this.data.actions)&&void 0!==r&&r.Keystroke&&n.addEventListener("beforeinput",(t=>{var n;c.lastCommittedValue=null;const{data:i,target:r}=t,{value:a,selectionStart:s,selectionEnd:o}=r;let l=s,u=o;switch(t.inputType){case"deleteWordBackward":{const t=a.substring(0,s).match(/\w*[^\w]*$/);t&&(l-=t[0].length);break}case"deleteWordForward":{const t=a.substring(s).match(/^[^\w]*\w*/);t&&(u+=t[0].length);break}case"deleteContentBackward":s===o&&(l-=1);break;case"deleteContentForward":s===o&&(u+=1)}t.preventDefault(),null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:a,change:i||"",willCommit:!1,selStart:l,selEnd:u}})})),this._setEventListeners(n,c,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(t=>t.target.value))}if(p&&n.addEventListener("blur",p),this.data.comb){const t=(this.data.rect[2]-this.data.rect[0])/o;n.classList.add("comb"),n.style.letterSpacing="calc(".concat(t,"px * var(--total-scale-factor) - 1ch)")}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class ub extends lb{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class hb extends lb{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,n=e.id;let i=t.getValue(n,{value:e.exportValue===e.fieldValue}).value;"string"===typeof i&&(i="Off"!==i,t.setValue(n,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const r=document.createElement("input");return qy.add(r),r.setAttribute("data-element-id",n),r.disabled=e.readOnly,this._setRequired(r,this.data.required),r.type="checkbox",r.name=e.fieldName,i&&r.setAttribute("checked",!0),r.setAttribute("exportValue",e.exportValue),r.tabIndex=0,r.addEventListener("change",(i=>{const{name:r,checked:a}=i.target;for(const s of this._getElementsByName(r,n)){const n=a&&s.exportValue===e.exportValue;s.domElement&&(s.domElement.checked=n),t.setValue(s.id,{value:n})}t.setValue(n,{value:a})})),r.addEventListener("resetform",(t=>{const n=e.defaultFieldValue||"Off";t.target.checked=n===e.exportValue})),this.enableScripting&&this.hasJSActions&&(r.addEventListener("updatefromsandbox",(e=>{const i={value(e){e.target.checked="Off"!==e.detail.value,t.setValue(n,{value:e.target.checked})}};this._dispatchEventFromSandbox(i,e)})),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(t=>t.target.checked))),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class db extends lb{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,n=e.id;let i=t.getValue(n,{value:e.fieldValue===e.buttonValue}).value;if("string"===typeof i&&(i=i!==e.buttonValue,t.setValue(n,{value:i})),i)for(const a of this._getElementsByName(e.fieldName,n))t.setValue(a.id,{value:!1});const r=document.createElement("input");if(qy.add(r),r.setAttribute("data-element-id",n),r.disabled=e.readOnly,this._setRequired(r,this.data.required),r.type="radio",r.name=e.fieldName,i&&r.setAttribute("checked",!0),r.tabIndex=0,r.addEventListener("change",(e=>{const{name:i,checked:r}=e.target;for(const a of this._getElementsByName(i,n))t.setValue(a.id,{value:!1});t.setValue(n,{value:r})})),r.addEventListener("resetform",(t=>{const n=e.defaultFieldValue;t.target.checked=null!==n&&void 0!==n&&n===e.buttonValue})),this.enableScripting&&this.hasJSActions){const i=e.buttonValue;r.addEventListener("updatefromsandbox",(e=>{const r={value:e=>{const r=i===e.detail.value;for(const i of this._getElementsByName(e.target.name)){const e=r&&i.id===n;i.domElement&&(i.domElement.checked=e),t.setValue(i.id,{value:e})}}};this._dispatchEventFromSandbox(r,e)})),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(t=>t.target.checked))}return this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class fb extends ib{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",(t=>{this._dispatchEventFromSandbox({},t)}))),t}}class pb extends lb{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,n=t.getValue(e,{value:this.data.fieldValue}),i=document.createElement("select");qy.add(i),i.setAttribute("data-element-id",e),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let r=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",(t=>{const e=this.data.defaultFieldValue;for(const n of i.options)n.selected=n.value===e}));for(const c of this.data.options){const t=document.createElement("option");t.textContent=c.displayValue,t.value=c.exportValue,n.value.includes(c.exportValue)&&(t.setAttribute("selected",!0),r=!1),i.append(t)}let a=null;if(r){const t=document.createElement("option");t.value=" ",t.setAttribute("hidden",!0),t.setAttribute("selected",!0),i.prepend(t),a=()=>{t.remove(),i.removeEventListener("input",a),a=null},i.addEventListener("input",a)}const s=t=>{const e=t?"value":"textContent",{options:n,multiple:r}=i;return r?Array.prototype.filter.call(n,(t=>t.selected)).map((t=>t[e])):-1===n.selectedIndex?null:n[n.selectedIndex][e]};let o=s(!1);const l=t=>{const e=t.target.options;return Array.prototype.map.call(e,(t=>({displayValue:t.textContent,exportValue:t.value})))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",(n=>{const r={value(n){var r;null===(r=a)||void 0===r||r();const l=n.detail.value,c=new Set(Array.isArray(l)?l:[l]);for(const t of i.options)t.selected=c.has(t.value);t.setValue(e,{value:s(!0)}),o=s(!1)},multipleSelection(t){i.multiple=!0},remove(n){const r=i.options,a=n.detail.remove;if(r[a].selected=!1,i.remove(a),r.length>0){-1===Array.prototype.findIndex.call(r,(t=>t.selected))&&(r[0].selected=!0)}t.setValue(e,{value:s(!0),items:l(n)}),o=s(!1)},clear(n){for(;0!==i.length;)i.remove(0);t.setValue(e,{value:null,items:[]}),o=s(!1)},insert(n){const{index:r,displayValue:a,exportValue:c}=n.detail.insert,u=i.children[r],h=document.createElement("option");h.textContent=a,h.value=c,u?u.before(h):i.append(h),t.setValue(e,{value:s(!0),items:l(n)}),o=s(!1)},items(n){const{items:r}=n.detail;for(;0!==i.length;)i.remove(0);for(const t of r){const{displayValue:e,exportValue:n}=t,r=document.createElement("option");r.textContent=e,r.value=n,i.append(r)}i.options.length>0&&(i.options[0].selected=!0),t.setValue(e,{value:s(!0),items:l(n)}),o=s(!1)},indices(n){const i=new Set(n.detail.indices);for(const t of n.target.options)t.selected=i.has(t.index);t.setValue(e,{value:s(!0)}),o=s(!1)},editable(t){t.target.disabled=!t.detail.editable}};this._dispatchEventFromSandbox(r,n)})),i.addEventListener("input",(n=>{var i;const r=s(!0),a=s(!1);t.setValue(e,{value:r}),n.preventDefault(),null===(i=this.linkService.eventBus)||void 0===i||i.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:o,change:a,changeEx:r,willCommit:!1,commitKey:1,keyDown:!1}})})),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],(t=>t.target.value))):i.addEventListener("input",(function(n){t.setValue(e,{value:s(!0)})})),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}var gb=new WeakSet;class mb extends Zy{constructor(t){const{data:e,elements:n,parent:i}=t,r=!!i._commentManager;if(super(t,{isRenderable:!r&&Zy._hasPopupData(e)}),Is(this,gb),this.elements=n,r&&Zy._hasPopupData(e)){const t=this.popup=Os(gb,this,vb).call(this);for(const e of n)e.popup=t}else this.popup=null}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const e=this.popup=Os(gb,this,vb).call(this),n=[];for(const i of this.elements)i.popup=e,i.container.ariaHasPopup="dialog",n.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",n.map((t=>"".concat(pl).concat(t))).join(",")),this.container}}function vb(){return new Gb({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})}var yb=new WeakMap,bb=new WeakMap,wb=new WeakMap,xb=new WeakMap,_b=new WeakMap,kb=new WeakMap,Sb=new WeakMap,Ab=new WeakMap,Eb=new WeakMap,Cb=new WeakMap,Mb=new WeakMap,Tb=new WeakMap,Pb=new WeakMap,Rb=new WeakMap,Db=new WeakMap,Lb=new WeakMap,Nb=new WeakMap,Ib=new WeakMap,Fb=new WeakMap,Ob=new WeakMap,Bb=new WeakMap,jb=new WeakMap,Wb=new WeakMap,zb=new WeakMap,Ub=new WeakMap,Hb=new WeakMap,Vb=new WeakSet;class Gb{constructor(t){let{container:e,color:n,elements:i,titleObj:r,modificationDate:a,contentsObj:s,richText:o,parent:l,rect:c,parentRect:u,open:h,commentManager:d=null}=t;Is(this,Vb),Fs(this,yb,null),Fs(this,bb,Os(Vb,this,tw).bind(this)),Fs(this,wb,Os(Vb,this,rw).bind(this)),Fs(this,xb,Os(Vb,this,iw).bind(this)),Fs(this,_b,Os(Vb,this,nw).bind(this)),Fs(this,kb,null),Fs(this,Sb,null),Fs(this,Ab,null),Fs(this,Eb,null),Fs(this,Cb,null),Fs(this,Mb,null),Fs(this,Tb,null),Fs(this,Pb,!1),Fs(this,Rb,null),Fs(this,Db,null),Fs(this,Lb,null),Fs(this,Nb,null),Fs(this,Ib,null),Fs(this,Fb,null),Fs(this,Ob,null),Fs(this,Bb,null),Fs(this,jb,null),Fs(this,Wb,null),Fs(this,zb,!1),Fs(this,Ub,null),Fs(this,Hb,null),Ws(Sb,this,e),Ws(jb,this,r),Ws(Ab,this,s),Ws(Bb,this,o),Ws(Mb,this,l),Ws(kb,this,n),Ws(Ob,this,c),Ws(Tb,this,u),Ws(Cb,this,i),Ws(yb,this,d),Ws(Ub,this,i[0]),Ws(Eb,this,Pl.toDateObject(a)),this.trigger=i.flatMap((t=>t.getElementsToTriggerPopup())),d?this.renderCommentButton():(Os(Vb,this,qb).call(this),js(Sb,this).hidden=!0,h&&Os(Vb,this,nw).call(this))}renderCommentButton(){if(js(Nb,this))return;if(js(Ib,this)||Os(Vb,this,Xb).call(this),!js(Ib,this))return;const{signal:t}=Ws(Db,this,new AbortController),e=!!js(Ub,this).extraPopupElement,n=()=>{js(yb,this).toggleCommentPopup(this,!0,void 0,!e)},i=()=>{js(yb,this).toggleCommentPopup(this,!1,!0,!e)},r=()=>{js(yb,this).toggleCommentPopup(this,!1,!1)};if(e){Ws(Nb,this,js(Ub,this).container);for(const e of this.trigger)e.ariaHasPopup="dialog",e.ariaControls="commentPopup",e.addEventListener("keydown",js(bb,this),{signal:t}),e.addEventListener("click",n,{signal:t}),e.addEventListener("pointerenter",i,{signal:t}),e.addEventListener("pointerleave",r,{signal:t}),e.classList.add("popupTriggerArea")}else{const e=Ws(Nb,this,document.createElement("button"));e.className="annotationCommentButton";const a=js(Ub,this).container;e.style.zIndex=a.style.zIndex+1,e.tabIndex=0,e.ariaHasPopup="dialog",e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button"),Os(Vb,this,Kb).call(this),Os(Vb,this,Yb).call(this),e.addEventListener("keydown",js(bb,this),{signal:t}),e.addEventListener("click",n,{signal:t}),e.addEventListener("pointerenter",i,{signal:t}),e.addEventListener("pointerleave",r,{signal:t}),a.after(e)}}get commentButtonColor(){const{color:t,opacity:e}=js(Ub,this).commentData;return t?js(Mb,this)._commentManager.makeCommentColor(t,e):null}focusCommentButton(){setTimeout((()=>{var t;null===(t=js(Nb,this))||void 0===t||t.focus()}),0)}getData(){const{richText:t,color:e,opacity:n,creationDate:i,modificationDate:r}=js(Ub,this).commentData;return{contentsObj:{str:this.comment},richText:t,color:e,opacity:n,creationDate:i,modificationDate:r}}get elementBeforePopup(){return js(Nb,this)}get comment(){return js(Hb,this)||Ws(Hb,this,js(Ub,this).commentText),js(Hb,this)}set comment(t){t!==this.comment&&(js(Ub,this).commentText=Ws(Hb,this,t))}get parentBoundingClientRect(){return js(Ub,this).layer.getBoundingClientRect()}setCommentButtonStates(t){let{selected:e,hasPopup:n}=t;js(Nb,this)&&(js(Nb,this).classList.toggle("selected",e),js(Nb,this).ariaExpanded=n)}setSelectedCommentButton(t){js(Nb,this).classList.toggle("selected",t)}get commentPopupPosition(){if(js(Fb,this))return js(Fb,this);const{x:t,y:e,height:n}=js(Nb,this).getBoundingClientRect(),{x:i,y:r,width:a,height:s}=js(Ub,this).layer.getBoundingClientRect();return[(t-i)/a,(e+n-r)/s]}set commentPopupPosition(t){Ws(Fb,this,t)}hasDefaultPopupPosition(){return null===js(Fb,this)}get commentButtonPosition(){return js(Ib,this)}get commentButtonWidth(){return js(Nb,this).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(t){const[e,n]=js(Fb,this)||this.commentButtonPosition.map((t=>t/100)),i=this.parentBoundingClientRect,{x:r,y:a,width:s,height:o}=i;js(yb,this).showDialog(null,this,r+e*s,a+n*o,h(h({},t),{},{parentDimensions:i}))}render(){var t,e;if(js(Rb,this))return;const n=Ws(Rb,this,document.createElement("div"));if(n.className="popup",js(kb,this)){const t=n.style.outlineColor=ll.makeHexColor(...js(kb,this));n.style.backgroundColor="color-mix(in srgb, ".concat(t," 30%, white)")}const i=document.createElement("span");if(i.className="header",null!==(t=js(jb,this))&&void 0!==t&&t.str){const t=document.createElement("span");t.className="title",i.append(t),({dir:t.dir,str:t.textContent}=js(jb,this))}if(n.append(i),js(Eb,this)){const t=document.createElement("time");t.className="popupDate",t.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),t.setAttribute("data-l10n-args",JSON.stringify({dateObj:js(Eb,this).valueOf()})),t.dateTime=js(Eb,this).toISOString(),i.append(t)}Vl({html:Bs(Vb,this,Qb)||js(Ab,this).str,dir:null===(e=js(Ab,this))||void 0===e?void 0:e.dir,className:"popupContent"},n),js(Sb,this).append(n)}updateEdited(t){var e;let{rect:n,popup:i,deleted:r}=t;if(js(yb,this))return r?(this.remove(),Ws(Hb,this,null)):i&&(i.deleted?this.remove():(Os(Vb,this,Kb).call(this),Ws(Hb,this,i.text))),void(n&&(Ws(Ib,this,null),Os(Vb,this,Xb).call(this),Os(Vb,this,Yb).call(this)));r||null!==i&&void 0!==i&&i.deleted?this.remove():(Os(Vb,this,qb).call(this),js(Wb,this)||Ws(Wb,this,{contentsObj:js(Ab,this),richText:js(Bb,this)}),n&&Ws(Lb,this,null),i&&i.text&&(Ws(Bb,this,Os(Vb,this,Zb).call(this,i.text)),Ws(Eb,this,Pl.toDateObject(i.date)),Ws(Ab,this,null)),null===(e=js(Rb,this))||void 0===e||e.remove(),Ws(Rb,this,null))}resetEdited(){var t;js(Wb,this)&&(({contentsObj:Ls(Ws,[Ab,this])._,richText:Ls(Ws,[Bb,this])._}=js(Wb,this)),Ws(Wb,this,null),null===(t=js(Rb,this))||void 0===t||t.remove(),Ws(Rb,this,null),Ws(Lb,this,null))}remove(){var t,e,n;if(null===(t=js(Db,this))||void 0===t||t.abort(),Ws(Db,this,null),null===(e=js(Rb,this))||void 0===e||e.remove(),Ws(Rb,this,null),Ws(zb,this,!1),Ws(Pb,this,!1),null===(n=js(Nb,this))||void 0===n||n.remove(),Ws(Nb,this,null),this.trigger)for(const i of this.trigger)i.classList.remove("popupTriggerArea")}forceHide(){Ws(zb,this,this.isVisible),js(zb,this)&&(js(Sb,this).hidden=!0)}maybeShow(){js(yb,this)||(Os(Vb,this,qb).call(this),js(zb,this)&&(js(Rb,this)||Os(Vb,this,iw).call(this),Ws(zb,this,!1),js(Sb,this).hidden=!1))}get isVisible(){return!js(yb,this)&&!1===js(Sb,this).hidden}}function qb(){if(js(Db,this))return;Ws(Db,this,new AbortController);const{signal:t}=js(Db,this);for(const n of this.trigger)n.addEventListener("click",js(_b,this),{signal:t}),n.addEventListener("pointerenter",js(xb,this),{signal:t}),n.addEventListener("pointerleave",js(wb,this),{signal:t}),n.classList.add("popupTriggerArea");for(const n of js(Cb,this)){var e;null===(e=n.container)||void 0===e||e.addEventListener("keydown",js(bb,this),{signal:t})}}function Xb(){const t=js(Cb,this).find((t=>t.hasCommentButton));t&&Ws(Ib,this,t._normalizePoint(t.commentButtonPosition))}function Yb(){if(js(Ub,this).extraPopupElement&&!js(Ub,this).editor)return;this.renderCommentButton();const[t,e]=js(Ib,this),{style:n}=js(Nb,this);n.left="calc(".concat(t,"%)"),n.top="calc(".concat(e,"% - var(--comment-button-dim))")}function Kb(){js(Ub,this).extraPopupElement||(this.renderCommentButton(),js(Nb,this).style.backgroundColor=this.commentButtonColor||"")}function Qb(t){const e=js(Bb,t),n=js(Ab,t);return null===e||void 0===e||!e.str||null!==n&&void 0!==n&&n.str&&n.str!==e.str?null:js(Bb,t).html||null}function $b(t){var e;return(null===(e=Bs(Vb,t,Qb))||void 0===e||null===(e=e.attributes)||void 0===e||null===(e=e.style)||void 0===e?void 0:e.fontSize)||0}function Jb(t){var e;return(null===(e=Bs(Vb,t,Qb))||void 0===e||null===(e=e.attributes)||void 0===e||null===(e=e.style)||void 0===e?void 0:e.color)||null}function Zb(t){const e=[],n={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},i={style:{color:Bs(Vb,this,Jb),fontSize:Bs(Vb,this,$b)?"calc(".concat(Bs(Vb,this,$b),"px * var(--total-scale-factor))"):""}};for(const r of t.split("\n"))e.push({name:"span",value:r,attributes:i});return n}function tw(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||("Enter"===t.key||"Escape"===t.key&&js(Pb,this))&&Os(Vb,this,nw).call(this)}function ew(){if(null!==js(Lb,this))return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:n,pageX:i,pageY:r}}}=js(Mb,this);let a=!!js(Tb,this),s=js(a?Tb:Ob,this);for(const d of js(Cb,this))if(!s||null!==ll.intersect(d.data.rect,s)){s=d.data.rect,a=!0;break}const o=ll.normalizeRect([s[0],t[3]-s[1]+t[1],s[2],t[3]-s[3]+t[1]]),l=a?s[2]-s[0]+5:0,c=o[0]+l,u=o[1];Ws(Lb,this,[100*(c-i)/e,100*(u-r)/n]);const{style:h}=js(Sb,this);h.left="".concat(js(Lb,this)[0],"%"),h.top="".concat(js(Lb,this)[1],"%")}function nw(){js(yb,this)?js(yb,this).toggleCommentPopup(this,!1):(Ws(Pb,this,!js(Pb,this)),js(Pb,this)?(Os(Vb,this,iw).call(this),js(Sb,this).addEventListener("click",js(_b,this)),js(Sb,this).addEventListener("keydown",js(bb,this))):(Os(Vb,this,rw).call(this),js(Sb,this).removeEventListener("click",js(_b,this)),js(Sb,this).removeEventListener("keydown",js(bb,this))))}function iw(){js(Rb,this)||this.render(),this.isVisible?js(Pb,this)&&js(Sb,this).classList.add("focused"):(Os(Vb,this,ew).call(this),js(Sb,this).hidden=!1,js(Sb,this).style.zIndex=parseInt(js(Sb,this).style.zIndex)+1e3)}function rw(){js(Sb,this).classList.remove("focused"),!js(Pb,this)&&this.isVisible&&(js(Sb,this).hidden=!0,js(Sb,this).style.zIndex=parseInt(js(Sb,this).style.zIndex)-1e3)}class aw extends Zy{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=wo.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const n=document.createElement("span");n.textContent=e,t.append(n)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var sw=new WeakMap;class ow extends Zy{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),Fs(this,sw,null)}render(){this.container.classList.add("lineAnnotation");const{data:t,width:e,height:n}=this,i=this.svgFactory.create(e,n,!0),r=Ws(sw,this,this.svgFactory.createElement("svg:line"));return r.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),r.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),r.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),r.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),r.setAttribute("stroke-width",t.borderStyle.width||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),i.append(r),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return js(sw,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}var lw=new WeakMap;class cw extends Zy{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),Fs(this,lw,null)}render(){this.container.classList.add("squareAnnotation");const{data:t,width:e,height:n}=this,i=this.svgFactory.create(e,n,!0),r=t.borderStyle.width,a=Ws(lw,this,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",r/2),a.setAttribute("y",r/2),a.setAttribute("width",e-r),a.setAttribute("height",n-r),a.setAttribute("stroke-width",r||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return js(lw,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}var uw=new WeakMap;class hw extends Zy{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),Fs(this,uw,null)}render(){this.container.classList.add("circleAnnotation");const{data:t,width:e,height:n}=this,i=this.svgFactory.create(e,n,!0),r=t.borderStyle.width,a=Ws(uw,this,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",e/2),a.setAttribute("cy",n/2),a.setAttribute("rx",e/2-r/2),a.setAttribute("ry",n/2-r/2),a.setAttribute("stroke-width",r||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return js(uw,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}var dw=new WeakMap;class fw extends Zy{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),Fs(this,dw,null),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:e,borderStyle:n,popupRef:i},width:r,height:a}=this;if(!e)return this.container;const s=this.svgFactory.create(r,a,!0);let o=[];for(let c=0,u=e.length;c<u;c+=2){const n=e[c]-t[0],i=t[3]-e[c+1];o.push("".concat(n,",").concat(i))}o=o.join(" ");const l=Ws(dw,this,this.svgFactory.createElement(this.svgElementName));return l.setAttribute("points",o),l.setAttribute("stroke-width",n.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),s.append(l),this.container.append(s),!i&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return js(dw,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}class pw extends fw{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class gw extends Zy{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var mw=new WeakMap,vw=new WeakMap,yw=new WeakSet;class bw extends Zy{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),Is(this,yw),Fs(this,mw,null),Fs(this,vw,[]),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType="InkHighlight"===this.data.it?wo.HIGHLIGHT:wo.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:e,inkLists:n,borderStyle:i,popupRef:r}}=this,{transform:a,width:s,height:o}=Os(yw,this,ww).call(this,e,t),l=this.svgFactory.create(s,o,!0),c=Ws(mw,this,this.svgFactory.createElement("svg:g"));l.append(c),c.setAttribute("stroke-width",i.width||1),c.setAttribute("stroke-linecap","round"),c.setAttribute("stroke-linejoin","round"),c.setAttribute("stroke-miterlimit",10),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),c.setAttribute("transform",a);for(let u=0,h=n.length;u<h;u++){const t=this.svgFactory.createElement(this.svgElementName);js(vw,this).push(t),t.setAttribute("points",n[u].join(",")),c.append(t)}return!r&&this.hasPopupData&&this._createPopup(),this.container.append(l),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:e,points:n,rect:i}=t,r=js(mw,this);if(e>=0&&r.setAttribute("stroke-width",e||1),n)for(let a=0,s=js(vw,this).length;a<s;a++)js(vw,this)[a].setAttribute("points",n[a].join(","));if(i){const{transform:t,width:e,height:n}=Os(yw,this,ww).call(this,this.data.rotation,i);r.parentElement.setAttribute("viewBox","0 0 ".concat(e," ").concat(n)),r.setAttribute("transform",t)}}getElementsToTriggerPopup(){return js(vw,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}function ww(t,e){switch(t){case 90:return{transform:"rotate(90) translate(".concat(-e[0],",").concat(e[1],") scale(1,-1)"),width:e[3]-e[1],height:e[2]-e[0]};case 180:return{transform:"rotate(180) translate(".concat(-e[2],",").concat(e[1],") scale(1,-1)"),width:e[2]-e[0],height:e[3]-e[1]};case 270:return{transform:"rotate(270) translate(".concat(-e[2],",").concat(e[3],") scale(1,-1)"),width:e[3]-e[1],height:e[2]-e[0]};default:return{transform:"translate(".concat(-e[0],",").concat(e[3],") scale(1,-1)"),width:e[2]-e[0],height:e[3]-e[1]}}}class xw extends Zy{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=wo.HIGHLIGHT}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),t){const e=document.createElement("mark");e.classList.add("overlaidText"),e.textContent=t,this.container.append(e)}return this.container}}class _w extends Zy{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),t){const e=document.createElement("u");e.classList.add("overlaidText"),e.textContent=t,this.container.append(e)}return this.container}}class kw extends Zy{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),t){const e=document.createElement("u");e.classList.add("overlaidText"),e.textContent=t,this.container.append(e)}return this.container}}class Sw extends Zy{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),t){const e=document.createElement("s");e.classList.add("overlaidText"),e.textContent=t,this.container.append(e)}return this.container}}class Aw extends Zy{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=wo.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Ew=new WeakMap,Cw=new WeakSet;class Mw extends Zy{constructor(t){var e;super(t,{isRenderable:!0}),Is(this,Cw),Fs(this,Ew,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,null===(e=this.linkService.eventBus)||void 0===e||e.dispatch("fileattachmentannotation",h({source:this},n))}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:e}=this;let n;e.hasAppearance||0===e.fillAlpha?n=document.createElement("div"):(n=document.createElement("img"),n.src="".concat(this.imageResourcesPath,"annotation-").concat(/paperclip/i.test(e.name)?"paperclip":"pushpin",".svg"),e.fillAlpha&&e.fillAlpha<1&&(n.style="filter: opacity(".concat(Math.round(100*e.fillAlpha),"%);"))),n.addEventListener("dblclick",Os(Cw,this,Tw).bind(this)),Ws(Ew,this,n);const{isMac:i}=sl.platform;return t.addEventListener("keydown",(t=>{"Enter"===t.key&&(i?t.metaKey:t.ctrlKey)&&Os(Cw,this,Tw).call(this)})),!e.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),t.append(n),t}getElementsToTriggerPopup(){return js(Ew,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}function Tw(){var t;null===(t=this.downloadManager)||void 0===t||t.openOrDownloadData(this.content,this.filename)}var Pw=new WeakMap,Rw=new WeakMap,Dw=new WeakMap,Lw=new WeakMap,Nw=new WeakMap,Iw=new WeakMap,Fw=new WeakSet;class Ow{constructor(t){let{div:e,accessibilityManager:n,annotationCanvasMap:i,annotationEditorUIManager:r,page:a,viewport:s,structTreeLayer:o,commentManager:l,linkService:c,annotationStorage:u}=t;Is(this,Fw),Fs(this,Pw,null),Fs(this,Rw,null),Fs(this,Dw,null),Fs(this,Lw,new Map),Fs(this,Nw,null),Fs(this,Iw,null),this.div=e,Ws(Pw,this,n),Ws(Rw,this,i),Ws(Nw,this,o||null),Ws(Iw,this,c||null),Ws(Dw,this,u||new Yd),this.page=a,this.viewport=s,this.zIndex=0,this._annotationEditorUIManager=r,this._commentManager=l||null}hasEditableAnnotations(){return js(Lw,this).size>0}async render(t){const{annotations:e}=t,n=this.div;Il(n,this.viewport);const i=new Map,r={data:null,layer:n,linkService:js(Iw,this),downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:!1!==t.renderForms,svgFactory:new Gy,annotationStorage:js(Dw,this),enableComment:!0===t.enableComment,enableScripting:!0===t.enableScripting,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const o of e){var a;if(o.noHTML)continue;const t=o.annotationType===To.POPUP;if(t){const t=i.get(o.id);if(!t)continue;r.elements=t}else if(o.rect[2]===o.rect[0]||o.rect[3]===o.rect[1])continue;r.data=o;const e=Yy.create(r);if(!e.isRenderable)continue;if(!t&&o.popupRef){const t=i.get(o.popupRef);t?t.push(e):i.set(o.popupRef,[e])}const n=e.render();var s;if(o.hidden&&(n.style.visibility="hidden"),await Os(Fw,this,Bw).call(this,n,o.id,r.elements),null===(a=e.extraPopupElement)||void 0===a||null===(a=a.popup)||void 0===a||a.renderCommentButton(),e._isEditable)js(Lw,this).set(e.data.id,e),null===(s=this._annotationEditorUIManager)||void 0===s||s.renderAnnotationElement(e)}Os(Fw,this,jw).call(this)}async addLinkAnnotations(t){const e={data:null,layer:this.div,linkService:js(Iw,this),svgFactory:new Gy,parent:this};for(const n of t){n.borderStyle||(n.borderStyle=Ow._defaultBorderStyle),e.data=n;const t=Yy.create(e);if(!t.isRenderable)continue;const i=t.render();await Os(Fw,this,Bw).call(this,i,n.id,null)}}update(t){let{viewport:e}=t;const n=this.div;this.viewport=e,Il(n,{rotation:e.rotation}),Os(Fw,this,jw).call(this),n.hidden=!1}getEditableAnnotations(){return Array.from(js(Lw,this).values())}getEditableAnnotation(t){return js(Lw,this).get(t)}addFakeAnnotation(t){var e;const{div:n}=this,{id:i,rotation:r}=t,a=new eb({data:{id:i,rect:t.getPDFRect(),rotation:r},editor:t,layer:n,parent:this,enableComment:!!this._commentManager,linkService:js(Iw,this),annotationStorage:js(Dw,this)}),s=a.render();return n.append(s),null===(e=js(Pw,this))||void 0===e||e.moveElementInDOM(n,s,s,!1),a.createOrUpdatePopup(),a}static get _defaultBorderStyle(){return Qo(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Po,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}}async function Bw(t,e,n){var i;const r=t.firstChild||t,a=r.id="".concat(pl).concat(e),s=await(null===(i=js(Nw,this))||void 0===i?void 0:i.getAriaAttributes(a));if(s)for(const[l,c]of s)r.setAttribute(l,c);var o;n?n.at(-1).container.after(t):(this.div.append(t),null===(o=js(Pw,this))||void 0===o||o.moveElementInDOM(this.div,t,r,!1))}function jw(){if(!js(Rw,this))return;const t=this.div;for(const[n,i]of js(Rw,this)){const r=t.querySelector('[data-annotation-id="'.concat(n,'"]'));if(!r)continue;i.className="annotationContent";const{firstChild:a}=r;a?"CANVAS"===a.nodeName?a.replaceWith(i):a.classList.contains("annotationContent")?a.after(i):a.before(i):r.append(i);const s=js(Lw,this).get(n);var e;if(s)if(s._hasNoCanvas)null===(e=this._annotationEditorUIManager)||void 0===e||e.setMissingCanvas(n,r.id,i),s._hasNoCanvas=!1;else s.canvas=i}js(Rw,this).clear()}const Ww=/\r\n?|\n/g;var zw=new WeakMap,Uw=new WeakMap,Hw=new WeakMap,Vw=new WeakMap,Gw=new WeakSet;class qw extends vd{static get _keyboardManager(){const t=qw.prototype,e=t=>t.isEmpty(),n=Tu.TRANSLATE_SMALL,i=Tu.TRANSLATE_BIG;return Qo(this,"_keyboardManager",new Pc([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-n,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[n,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[i,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-n],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:e}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,n],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,i],checker:e}]]))}constructor(t){super(h(h({},t),{},{name:"freeTextEditor"})),Is(this,Gw),Fs(this,zw,""),Fs(this,Uw,"".concat(this.id,"-editor")),Fs(this,Hw,null),Fs(this,Vw,void 0),c(this,"_colorPicker",null),this.color=t.color||qw._defaultColor||vd._defaultLineColor,Ws(Vw,this,t.fontSize||qw._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static initialize(t,e){vd.initialize(t,e);const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,e){switch(t){case xo.FREETEXT_SIZE:qw._defaultFontSize=e;break;case xo.FREETEXT_COLOR:qw._defaultColor=e}}updateParams(t,e){switch(t){case xo.FREETEXT_SIZE:Os(Gw,this,Xw).call(this,e);break;case xo.FREETEXT_COLOR:Os(Gw,this,Yw).call(this,e)}}static get defaultPropertiesToUpdate(){return[[xo.FREETEXT_SIZE,qw._defaultFontSize],[xo.FREETEXT_COLOR,qw._defaultColor||vd._defaultLineColor]]}get propertiesToUpdate(){return[[xo.FREETEXT_SIZE,js(Vw,this)],[xo.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new jy(this)),[["colorPicker",this._colorPicker]]}get colorType(){return xo.FREETEXT_COLOR}onUpdatedColor(){var t;this.editorDiv.style.color=this.color,null===(t=this._colorPicker)||void 0===t||t.update(this.color),super.onUpdatedColor()}_translateEmpty(t,e){this._uiManager.translateSelectedEditors(t,e,!0)}getInitialTranslation(){const t=this.parentScale;return[-qw._internalPadding*t,-(qw._internalPadding+js(Vw,this))*t]}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),Ws(Hw,this,new AbortController);const t=this._uiManager.combinedSignal(js(Hw,this));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){var t;return!!super.disableEditMode()&&(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",js(Uw,this)),this._isDraggable=!0,null===(t=js(Hw,this))||void 0===t||t.abort(),Ws(Hw,this,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0)}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var e;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),null!==(e=this._initialOptions)&&void 0!==e&&e.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=js(zw,this),e=Ws(zw,this,Os(Gw,this,Kw).call(this).trimEnd());if(t===e)return;const n=t=>{Ws(zw,this,t),t?(Os(Gw,this,Jw).call(this),this._uiManager.rebuild(this),Os(Gw,this,Qw).call(this)):this.remove()};this.addCommands({cmd:()=>{n(e)},undo:()=>{n(t)},mustExec:!1}),Os(Gw,this,Qw).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&"Enter"===t.key&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){qw._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,e;(this._isCopy||this.annotationElementId)&&(t=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",js(Uw,this)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize="calc(".concat(js(Vw,this),"px * var(--total-scale-factor))"),n.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[n,i]=this.parentDimensions;if(this.annotationElementId){const{position:r}=this._initialData;let[a,s]=this.getInitialTranslation();[a,s]=this.pageTranslationToScreen(a,s);const[o,l]=this.pageDimensions,[c,u]=this.pageTranslation;let h,d;switch(this.rotation){case 0:h=t+(r[0]-c)/o,d=e+this.height-(r[1]-u)/l;break;case 90:h=t+(r[0]-c)/o,d=e-(r[1]-u)/l,[a,s]=[s,-a];break;case 180:h=t-this.width+(r[0]-c)/o,d=e-(r[1]-u)/l,[a,s]=[-a,-s];break;case 270:h=t+(r[0]-c-this.height*l)/o,d=e+(r[1]-u-this.width*o)/l,[a,s]=[-s,a]}this.setAt(h*n,d*i,a,s)}else this._moveAfterPaste(t,e);Os(Gw,this,Jw).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){const e=t.clipboardData||window.clipboardData,{types:n}=e;if(1===n.length&&"text/plain"===n[0])return;t.preventDefault();const i=tx.call(qw,e.getData("text")||"").replaceAll(Ww,"\n");if(!i)return;const r=window.getSelection();if(!r.rangeCount)return;this.editorDiv.normalize(),r.deleteFromDocument();const a=r.getRangeAt(0);if(!i.includes("\n"))return a.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),void r.collapseToStart();const{startContainer:s,startOffset:o}=a,l=[],c=[];if(s.nodeType===Node.TEXT_NODE){const t=s.parentElement;if(c.push(s.nodeValue.slice(o).replaceAll(Ww,"")),t!==this.editorDiv){let e=l;for(const n of this.editorDiv.childNodes)n!==t?e.push($w.call(qw,n)):e=c}l.push(s.nodeValue.slice(0,o).replaceAll(Ww,""))}else if(s===this.editorDiv){let t=l,e=0;for(const n of this.editorDiv.childNodes)e++===o&&(t=c),t.push($w.call(qw,n))}Ws(zw,this,"".concat(l.join("\n")).concat(i).concat(c.join("\n"))),Os(Gw,this,Jw).call(this);const u=new Range;let h=Math.sumPrecise(l.map((t=>t.length)));for(const{firstChild:d}of this.editorDiv.childNodes)if(d.nodeType===Node.TEXT_NODE){const t=d.nodeValue.length;if(h<=t){u.setStart(d,h),u.setEnd(d,h);break}h-=t}r.removeAllRanges(),r.addRange(u)}get contentDiv(){return this.editorDiv}getPDFRect(){const t=qw._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,e,n){let i=null;if(t instanceof aw){const{data:{defaultAppearanceData:{fontSize:e,fontColor:n},rect:r,rotation:a,id:s,popupRef:o,richText:l,contentsObj:c,creationDate:u,modificationDate:h},textContent:d,textPosition:f,parent:{page:{pageNumber:p}}}=t;if(!d||0===d.length)return null;i=t={annotationType:wo.FREETEXT,color:Array.from(n),fontSize:e,value:d.join("\n"),position:f,pageIndex:p-1,rect:r.slice(0),rotation:a,annotationElementId:s,id:s,deleted:!1,popupRef:o,comment:(null===c||void 0===c?void 0:c.str)||null,richText:l,creationDate:u,modificationDate:h}}const r=await super.deserialize(t,e,n);return Ws(Vw,r,t.fontSize),r.color=ll.makeHexColor(...t.color),Ws(zw,r,tx.call(qw,t.value)),r._initialData=i,t.comment&&r.setCommentData(t),r}serialize(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const e=vd._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),n=Object.assign(super.serialize(t),{color:e,fontSize:js(Vw,this),value:Os(Gw,this,Zw).call(this)});return this.addComment(n),t?(n.isCopy=!0,n):this.annotationElementId&&!Os(Gw,this,ex).call(this,n)?null:(n.id=this.annotationElementId,n)}renderAnnotationElement(t){const e=super.renderAnnotationElement(t);if(!e)return null;const{style:n}=e;n.fontSize="calc(".concat(js(Vw,this),"px * var(--total-scale-factor))"),n.color=this.color,e.replaceChildren();for(const i of js(zw,this).split("\n")){const t=document.createElement("div");t.append(i?document.createTextNode(i):document.createElement("br")),e.append(t)}return t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:js(zw,this)}}),e}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}}function Xw(t){const e=t=>{this.editorDiv.style.fontSize="calc(".concat(t,"px * var(--total-scale-factor))"),this.translate(0,-(t-js(Vw,this))*this.parentScale),Ws(Vw,this,t),Os(Gw,this,Qw).call(this)},n=js(Vw,this);this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:xo.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}function Yw(t){const e=t=>{this.color=t,this.onUpdatedColor()},n=this.color;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:xo.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function Kw(){const t=[];this.editorDiv.normalize();let e=null;for(const i of this.editorDiv.childNodes){var n;(null===(n=e)||void 0===n?void 0:n.nodeType)===Node.TEXT_NODE&&"BR"===i.nodeName||(t.push($w.call(eo,i)),e=i)}return t.join("\n")}function Qw(){const[t,e]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:t,div:e}=this,i=e.style.display,r=e.classList.contains("hidden");e.classList.remove("hidden"),e.style.display="hidden",t.div.append(this.div),n=e.getBoundingClientRect(),e.remove(),e.style.display=i,e.classList.toggle("hidden",r)}this.rotation%180===this.parentRotation%180?(this.width=n.width/t,this.height=n.height/e):(this.width=n.height/t,this.height=n.width/e),this.fixAndSetPosition()}function $w(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Ww,"")}function Jw(){if(this.editorDiv.replaceChildren(),js(zw,this))for(const t of js(zw,this).split("\n")){const e=document.createElement("div");e.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(e)}}function Zw(){return js(zw,this).replaceAll("\xa0"," ")}function tx(t){return t.replaceAll(" ","\xa0")}function ex(t){const{value:e,fontSize:n,color:i,pageIndex:r}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==e||t.fontSize!==n||t.color.some(((t,e)=>t!==i[e]))||t.pageIndex!==r}eo=qw,c(qw,"_freeTextDefaultContent",""),c(qw,"_internalPadding",0),c(qw,"_defaultColor",null),c(qw,"_defaultFontSize",10),c(qw,"_type","freetext"),c(qw,"_editorType",wo.FREETEXT);class nx{toSVGPath(){qo("Abstract method `toSVGPath` must be implemented.")}get box(){qo("Abstract getter `box` must be implemented.")}serialize(t,e){qo("Abstract method `serialize` must be implemented.")}static _rescale(t,e,n,i,r,a){a||(a=new Float32Array(t.length));for(let s=0,o=t.length;s<o;s+=2)a[s]=e+t[s]*i,a[s+1]=n+t[s+1]*r;return a}static _rescaleAndSwap(t,e,n,i,r,a){a||(a=new Float32Array(t.length));for(let s=0,o=t.length;s<o;s+=2)a[s]=e+t[s+1]*i,a[s+1]=n+t[s]*r;return a}static _translate(t,e,n,i){i||(i=new Float32Array(t.length));for(let r=0,a=t.length;r<a;r+=2)i[r]=e+t[r],i[r+1]=n+t[r+1];return i}static svgRound(t){return Math.round(1e4*t)}static _normalizePoint(t,e,n,i,r){switch(r){case 90:return[1-e/n,t/i];case 180:return[1-t/n,1-e/i];case 270:return[e/n,1-t/i];default:return[t/n,e/i]}}static _normalizePagePoint(t,e,n){switch(n){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,n,i,r,a){return[(t+5*n)/6,(e+5*i)/6,(5*n+r)/6,(5*i+a)/6,(n+r)/2,(i+a)/2]}}c(nx,"PRECISION",1e-4);var ix=new WeakMap,rx=new WeakMap,ax=new WeakMap,sx=new WeakMap,ox=new WeakMap,lx=new WeakMap,cx=new WeakMap,ux=new WeakMap,hx=new WeakMap,dx=new WeakMap,fx=new WeakMap,px=new WeakMap,gx=new WeakMap,mx=new WeakSet;class vx{constructor(t,e,n,i,r){let{x:a,y:s}=t,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;Is(this,mx),Fs(this,ix,void 0),Fs(this,rx,[]),Fs(this,ax,void 0),Fs(this,sx,void 0),Fs(this,ox,[]),Fs(this,lx,new Float32Array(18)),Fs(this,cx,void 0),Fs(this,ux,void 0),Fs(this,hx,void 0),Fs(this,dx,void 0),Fs(this,fx,void 0),Fs(this,px,void 0),Fs(this,gx,[]),Ws(ix,this,e),Ws(px,this,i*n),Ws(sx,this,r),js(lx,this).set([NaN,NaN,NaN,NaN,a,s],6),Ws(ax,this,o),Ws(dx,this,Ax._*n),Ws(hx,this,Ex._*n),Ws(fx,this,n),js(gx,this).push(a,s)}isEmpty(){return isNaN(js(lx,this)[8])}add(t){var e;let{x:n,y:i}=t;Ws(cx,this,n),Ws(ux,this,i);const[r,a,s,o]=js(ix,this);let[l,c,u,h]=js(lx,this).subarray(8,12);const d=n-u,f=i-h,p=Math.hypot(d,f);if(p<js(hx,this))return!1;const g=p-js(dx,this),m=g/p,v=m*d,y=m*f;let b=l,w=c;l=u,c=h,u+=v,h+=y,null===(e=js(gx,this))||void 0===e||e.push(n,i);const x=v/g,_=-y/g*js(px,this),k=x*js(px,this);if(js(lx,this).set(js(lx,this).subarray(2,8),0),js(lx,this).set([u+_,h+k],4),js(lx,this).set(js(lx,this).subarray(14,18),12),js(lx,this).set([u-_,h-k],16),isNaN(js(lx,this)[6]))return 0===js(ox,this).length&&(js(lx,this).set([l+_,c+k],2),js(ox,this).push(NaN,NaN,NaN,NaN,(l+_-r)/s,(c+k-a)/o),js(lx,this).set([l-_,c-k],14),js(rx,this).push(NaN,NaN,NaN,NaN,(l-_-r)/s,(c-k-a)/o)),js(lx,this).set([b,w,l,c,u,h],6),!this.isEmpty();js(lx,this).set([b,w,l,c,u,h],6);return Math.abs(Math.atan2(w-c,b-l)-Math.atan2(y,v))<Math.PI/2?([l,c,u,h]=js(lx,this).subarray(2,6),js(ox,this).push(NaN,NaN,NaN,NaN,((l+u)/2-r)/s,((c+h)/2-a)/o),[l,c,b,w]=js(lx,this).subarray(14,18),js(rx,this).push(NaN,NaN,NaN,NaN,((b+l)/2-r)/s,((w+c)/2-a)/o),!0):([b,w,l,c,u,h]=js(lx,this).subarray(0,6),js(ox,this).push(((b+5*l)/6-r)/s,((w+5*c)/6-a)/o,((5*l+u)/6-r)/s,((5*c+h)/6-a)/o,((l+u)/2-r)/s,((c+h)/2-a)/o),[u,h,l,c,b,w]=js(lx,this).subarray(12,18),js(rx,this).push(((b+5*l)/6-r)/s,((w+5*c)/6-a)/o,((5*l+u)/6-r)/s,((5*c+h)/6-a)/o,((l+u)/2-r)/s,((c+h)/2-a)/o),!0)}toSVGPath(){if(this.isEmpty())return"";const t=js(ox,this),e=js(rx,this);if(isNaN(js(lx,this)[6])&&!this.isEmpty())return Os(mx,this,bx).call(this);const n=[];n.push("M".concat(t[4]," ").concat(t[5]));for(let i=6;i<t.length;i+=6)isNaN(t[i])?n.push("L".concat(t[i+4]," ").concat(t[i+5])):n.push("C".concat(t[i]," ").concat(t[i+1]," ").concat(t[i+2]," ").concat(t[i+3]," ").concat(t[i+4]," ").concat(t[i+5]));Os(mx,this,xx).call(this,n);for(let i=e.length-6;i>=6;i-=6)isNaN(e[i])?n.push("L".concat(e[i+4]," ").concat(e[i+5])):n.push("C".concat(e[i]," ").concat(e[i+1]," ").concat(e[i+2]," ").concat(e[i+3]," ").concat(e[i+4]," ").concat(e[i+5]));return Os(mx,this,wx).call(this,n),n.join(" ")}newFreeDrawOutline(t,e,n,i,r,a){return new Ix(t,e,n,i,r,a)}getOutlines(){var t,e;const n=js(ox,this),i=js(rx,this),r=js(lx,this),[a,s,o,l]=js(ix,this),c=new Float32Array((null!==(t=null===(e=js(gx,this))||void 0===e?void 0:e.length)&&void 0!==t?t:0)+2);for(let d=0,f=c.length-2;d<f;d+=2)c[d]=(js(gx,this)[d]-a)/o,c[d+1]=(js(gx,this)[d+1]-s)/l;if(c[c.length-2]=(js(cx,this)-a)/o,c[c.length-1]=(js(ux,this)-s)/l,isNaN(r[6])&&!this.isEmpty())return Os(mx,this,_x).call(this,c);const u=new Float32Array(js(ox,this).length+24+js(rx,this).length);let h=n.length;for(let d=0;d<h;d+=2)isNaN(n[d])?u[d]=u[d+1]=NaN:(u[d]=n[d],u[d+1]=n[d+1]);h=Os(mx,this,Sx).call(this,u,h);for(let d=i.length-6;d>=6;d-=6)for(let t=0;t<6;t+=2)isNaN(i[d+t])?(u[h]=u[h+1]=NaN,h+=2):(u[h]=i[d+t],u[h+1]=i[d+t+1],h+=2);return Os(mx,this,kx).call(this,u,h),this.newFreeDrawOutline(u,c,js(ix,this),js(fx,this),js(ax,this),js(sx,this))}}function yx(){const t=js(lx,this).subarray(4,6),e=js(lx,this).subarray(16,18),[n,i,r,a]=js(ix,this);return[(js(cx,this)+(t[0]-e[0])/2-n)/r,(js(ux,this)+(t[1]-e[1])/2-i)/a,(js(cx,this)+(e[0]-t[0])/2-n)/r,(js(ux,this)+(e[1]-t[1])/2-i)/a]}function bx(){const[t,e,n,i]=js(ix,this),[r,a,s,o]=Os(mx,this,yx).call(this);return"M".concat((js(lx,this)[2]-t)/n," ").concat((js(lx,this)[3]-e)/i," L").concat((js(lx,this)[4]-t)/n," ").concat((js(lx,this)[5]-e)/i," L").concat(r," ").concat(a," L").concat(s," ").concat(o," L").concat((js(lx,this)[16]-t)/n," ").concat((js(lx,this)[17]-e)/i," L").concat((js(lx,this)[14]-t)/n," ").concat((js(lx,this)[15]-e)/i," Z")}function wx(t){const e=js(rx,this);t.push("L".concat(e[4]," ").concat(e[5]," Z"))}function xx(t){const[e,n,i,r]=js(ix,this),a=js(lx,this).subarray(4,6),s=js(lx,this).subarray(16,18),[o,l,c,u]=Os(mx,this,yx).call(this);t.push("L".concat((a[0]-e)/i," ").concat((a[1]-n)/r," L").concat(o," ").concat(l," L").concat(c," ").concat(u," L").concat((s[0]-e)/i," ").concat((s[1]-n)/r))}function _x(t){const e=js(lx,this),[n,i,r,a]=js(ix,this),[s,o,l,c]=Os(mx,this,yx).call(this),u=new Float32Array(36);return u.set([NaN,NaN,NaN,NaN,(e[2]-n)/r,(e[3]-i)/a,NaN,NaN,NaN,NaN,(e[4]-n)/r,(e[5]-i)/a,NaN,NaN,NaN,NaN,s,o,NaN,NaN,NaN,NaN,l,c,NaN,NaN,NaN,NaN,(e[16]-n)/r,(e[17]-i)/a,NaN,NaN,NaN,NaN,(e[14]-n)/r,(e[15]-i)/a],0),this.newFreeDrawOutline(u,t,js(ix,this),js(fx,this),js(ax,this),js(sx,this))}function kx(t,e){const n=js(rx,this);return t.set([NaN,NaN,NaN,NaN,n[4],n[5]],e),e+6}function Sx(t,e){const n=js(lx,this).subarray(4,6),i=js(lx,this).subarray(16,18),[r,a,s,o]=js(ix,this),[l,c,u,h]=Os(mx,this,yx).call(this);return t.set([NaN,NaN,NaN,NaN,(n[0]-r)/s,(n[1]-a)/o,NaN,NaN,NaN,NaN,l,c,NaN,NaN,NaN,NaN,u,h,NaN,NaN,NaN,NaN,(i[0]-r)/s,(i[1]-a)/o],e),e+24}var Ax={_:8},Ex={_:Ax._+2},Cx=new WeakMap,Mx=new WeakMap,Tx=new WeakMap,Px=new WeakMap,Rx=new WeakMap,Dx=new WeakMap,Lx=new WeakMap,Nx=new WeakSet;class Ix extends nx{constructor(t,e,n,i,r,a){super(),Is(this,Nx),Fs(this,Cx,void 0),Fs(this,Mx,new Float32Array(4)),Fs(this,Tx,void 0),Fs(this,Px,void 0),Fs(this,Rx,void 0),Fs(this,Dx,void 0),Fs(this,Lx,void 0),Ws(Lx,this,t),Ws(Rx,this,e),Ws(Cx,this,n),Ws(Dx,this,i),Ws(Tx,this,r),Ws(Px,this,a),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],Os(Nx,this,Fx).call(this,a);const[s,o,l,c]=js(Mx,this);for(let u=0,h=t.length;u<h;u+=2)t[u]=(t[u]-s)/l,t[u+1]=(t[u+1]-o)/c;for(let u=0,h=e.length;u<h;u+=2)e[u]=(e[u]-s)/l,e[u+1]=(e[u+1]-o)/c}toSVGPath(){const t=["M".concat(js(Lx,this)[4]," ").concat(js(Lx,this)[5])];for(let e=6,n=js(Lx,this).length;e<n;e+=6)isNaN(js(Lx,this)[e])?t.push("L".concat(js(Lx,this)[e+4]," ").concat(js(Lx,this)[e+5])):t.push("C".concat(js(Lx,this)[e]," ").concat(js(Lx,this)[e+1]," ").concat(js(Lx,this)[e+2]," ").concat(js(Lx,this)[e+3]," ").concat(js(Lx,this)[e+4]," ").concat(js(Lx,this)[e+5]));return t.push("Z"),t.join(" ")}serialize(t,e){let[n,i,r,a]=t;const s=r-n,o=a-i;let l,c;switch(e){case 0:l=nx._rescale(js(Lx,this),n,a,s,-o),c=nx._rescale(js(Rx,this),n,a,s,-o);break;case 90:l=nx._rescaleAndSwap(js(Lx,this),n,i,s,o),c=nx._rescaleAndSwap(js(Rx,this),n,i,s,o);break;case 180:l=nx._rescale(js(Lx,this),r,i,-s,o),c=nx._rescale(js(Rx,this),r,i,-s,o);break;case 270:l=nx._rescaleAndSwap(js(Lx,this),r,a,-s,-o),c=nx._rescaleAndSwap(js(Rx,this),r,a,-s,-o)}return{outline:Array.from(l),points:[Array.from(c)]}}get box(){return js(Mx,this)}newOutliner(t,e,n,i,r){return new vx(t,e,n,i,r,arguments.length>5&&void 0!==arguments[5]?arguments[5]:0)}getNewOutline(t,e){const[n,i,r,a]=js(Mx,this),[s,o,l,c]=js(Cx,this),u=r*l,h=a*c,d=n*l+s,f=i*c+o,p=this.newOutliner({x:js(Rx,this)[0]*u+d,y:js(Rx,this)[1]*h+f},js(Cx,this),js(Dx,this),t,js(Px,this),null!==e&&void 0!==e?e:js(Tx,this));for(let g=2;g<js(Rx,this).length;g+=2)p.add({x:js(Rx,this)[g]*u+d,y:js(Rx,this)[g+1]*h+f});return p.getOutlines()}}function Fx(t){const e=js(Lx,this);let n=e[4],i=e[5];const r=[n,i,n,i];let a=n,s=i,o=n,l=i;const c=t?Math.max:Math.min,u=new Float32Array(4);for(let d=6,f=e.length;d<f;d+=6){const t=e[d+4],h=e[d+5];isNaN(e[d])?(ll.pointBoundingBox(t,h,r),s>h?(a=t,s=h):s===h&&(a=c(a,t)),l<h?(o=t,l=h):l===h&&(o=c(o,t))):(u[0]=u[1]=1/0,u[2]=u[3]=-1/0,ll.bezierBoundingBox(n,i,...e.slice(d,d+6),u),ll.rectBoundingBox(u[0],u[1],u[2],u[3],r),s>u[1]?(a=u[0],s=u[1]):s===u[1]&&(a=c(a,u[0])),l<u[3]?(o=u[2],l=u[3]):l===u[3]&&(o=c(o,u[2]))),n=t,i=h}const h=js(Mx,this);h[0]=r[0]-js(Tx,this),h[1]=r[1]-js(Tx,this),h[2]=r[2]-r[0]+2*js(Tx,this),h[3]=r[3]-r[1]+2*js(Tx,this),this.firstPoint=[a,s],this.lastPoint=[o,l]}var Ox=new WeakMap,Bx=new WeakMap,jx=new WeakMap,Wx=new WeakMap,zx=new WeakMap,Ux=new WeakSet;class Hx{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];Is(this,Ux),Fs(this,Ox,void 0),Fs(this,Bx,void 0),Fs(this,jx,void 0),Fs(this,Wx,[]),Fs(this,zx,[]);const r=[1/0,1/0,-1/0,-1/0],a=10**-4;for(const{x:p,y:g,width:m,height:v}of t){const t=Math.floor((p-e)/a)*a,n=Math.ceil((p+m+e)/a)*a,i=Math.floor((g-e)/a)*a,s=Math.ceil((g+v+e)/a)*a,o=[t,i,s,!0],l=[n,i,s,!1];js(Wx,this).push(o,l),ll.rectBoundingBox(t,i,n,s,r)}const s=r[2]-r[0]+2*n,o=r[3]-r[1]+2*n,l=r[0]-n,c=r[1]-n;let u=i?-1/0:1/0,h=1/0;const d=js(Wx,this).at(i?-1:-2),f=[d[0],d[2]];for(const p of js(Wx,this)){const[t,e,n,r]=p;!r&&i?e<h?(h=e,u=t):e===h&&(u=Math.max(u,t)):r&&!i&&(e<h?(h=e,u=t):e===h&&(u=Math.min(u,t))),p[0]=(t-l)/s,p[1]=(e-c)/o,p[2]=(n-c)/o}Ws(Ox,this,new Float32Array([l,c,s,o])),Ws(Bx,this,[u,h]),Ws(jx,this,f)}getOutlines(){js(Wx,this).sort(((t,e)=>t[0]-e[0]||t[1]-e[1]||t[2]-e[2]));const t=[];for(const e of js(Wx,this))e[3]?(t.push(...Os(Ux,this,Yx).call(this,e)),Os(Ux,this,qx).call(this,e)):(Os(Ux,this,Xx).call(this,e),t.push(...Os(Ux,this,Yx).call(this,e)));return Os(Ux,this,Vx).call(this,t)}}function Vx(t){const e=[],n=new Set;for(const a of t){const[t,n,i]=a;e.push([t,n,a],[t,i,a])}e.sort(((t,e)=>t[1]-e[1]||t[0]-e[0]));for(let a=0,s=e.length;a<s;a+=2){const t=e[a][2],i=e[a+1][2];t.push(i),i.push(t),n.add(t),n.add(i)}const i=[];let r;for(;n.size>0;){const t=n.values().next().value;let[e,a,s,o,l]=t;n.delete(t);let c=e,u=a;for(r=[e,s],i.push(r);;){let t;if(n.has(o))t=o;else{if(!n.has(l))break;t=l}n.delete(t),[e,a,s,o,l]=t,c!==e&&(r.push(c,u,e,u===a?a:s),c=e),u=u===a?s:a}r.push(c,u)}return new $x(i,js(Ox,this),js(Bx,this),js(jx,this))}function Gx(t){const e=js(zx,this);let n=0,i=e.length-1;for(;n<=i;){const r=n+i>>1,a=e[r][0];if(a===t)return r;a<t?n=r+1:i=r-1}return i+1}function qx(t){let[,e,n]=t;const i=Os(Ux,this,Gx).call(this,e);js(zx,this).splice(i,0,[e,n])}function Xx(t){let[,e,n]=t;const i=Os(Ux,this,Gx).call(this,e);for(let r=i;r<js(zx,this).length;r++){const[t,i]=js(zx,this)[r];if(t!==e)break;if(t===e&&i===n)return void js(zx,this).splice(r,1)}for(let r=i-1;r>=0;r--){const[t,i]=js(zx,this)[r];if(t!==e)break;if(t===e&&i===n)return void js(zx,this).splice(r,1)}}function Yx(t){const[e,n,i]=t,r=[[e,n,i]],a=Os(Ux,this,Gx).call(this,i);for(let s=0;s<a;s++){const[t,n]=js(zx,this)[s];for(let i=0,a=r.length;i<a;i++){const[,s,o]=r[i];if(!(n<=s||o<=t))if(s>=t)if(o>n)r[i][1]=n;else{if(1===a)return[];r.splice(i,1),i--,a--}else r[i][2]=t,o>n&&r.push([e,n,o])}}return r}var Kx=new WeakMap,Qx=new WeakMap;class $x extends nx{constructor(t,e,n,i){super(),Fs(this,Kx,void 0),Fs(this,Qx,void 0),Ws(Qx,this,t),Ws(Kx,this,e),this.firstPoint=n,this.lastPoint=i}toSVGPath(){const t=[];for(const e of js(Qx,this)){let[n,i]=e;t.push("M".concat(n," ").concat(i));for(let r=2;r<e.length;r+=2){const a=e[r],s=e[r+1];a===n?(t.push("V".concat(s)),i=s):s===i&&(t.push("H".concat(a)),n=a)}t.push("Z")}return t.join(" ")}serialize(t,e){let[n,i,r,a]=t;const s=[],o=r-n,l=a-i;for(const c of js(Qx,this)){const t=new Array(c.length);for(let e=0;e<c.length;e+=2)t[e]=n+c[e]*o,t[e+1]=a-c[e+1]*l;s.push(t)}return s}get box(){return js(Kx,this)}get classNamesForOutlining(){return["highlightOutline"]}}class Jx extends vx{newFreeDrawOutline(t,e,n,i,r,a){return new Zx(t,e,n,i,r,a)}}class Zx extends Ix{newOutliner(t,e,n,i,r){return new Jx(t,e,n,i,r,arguments.length>5&&void 0!==arguments[5]?arguments[5]:0)}}var t_=new WeakMap,e_=new WeakMap,n_=new WeakMap,i_=new WeakMap,r_=new WeakMap,a_=new WeakMap,s_=new WeakMap,o_=new WeakMap,l_=new WeakMap,c_=new WeakMap,u_=new WeakMap,h_=new WeakMap,d_=new WeakMap,f_=new WeakMap,p_=new WeakMap,g_=new WeakMap,m_=new WeakMap,v_=new WeakMap,y_=new WeakSet;class b_ extends vd{static get _keyboardManager(){const t=b_.prototype;return Qo(this,"_keyboardManager",new Pc([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}constructor(t){super(h(h({},t),{},{name:"highlightEditor"})),Is(this,y_),Fs(this,t_,null),Fs(this,e_,0),Fs(this,n_,void 0),Fs(this,i_,null),Fs(this,r_,null),Fs(this,a_,null),Fs(this,s_,null),Fs(this,o_,0),Fs(this,l_,null),Fs(this,c_,null),Fs(this,u_,null),Fs(this,h_,!1),Fs(this,d_,null),Fs(this,f_,null),Fs(this,p_,null),Fs(this,g_,""),Fs(this,m_,void 0),Fs(this,v_,""),this.color=t.color||b_._defaultColor,Ws(m_,this,t.thickness||b_._defaultThickness),this.opacity=t.opacity||b_._defaultOpacity,Ws(n_,this,t.boxes||null),Ws(v_,this,t.methodOfCreation||""),Ws(g_,this,t.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(Ws(h_,this,!0),Os(y_,this,x_).call(this,t),Os(y_,this,E_).call(this)):js(n_,this)&&(Ws(t_,this,t.anchorNode),Ws(e_,this,t.anchorOffset),Ws(s_,this,t.focusNode),Ws(o_,this,t.focusOffset),Os(y_,this,w_).call(this),Os(y_,this,E_).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:js(h_,this)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:js(m_,this),methodOfCreation:js(v_,this)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,e){var n;vd.initialize(t,e),b_._defaultColor||(b_._defaultColor=(null===(n=e.highlightColors)||void 0===n?void 0:n.values().next().value)||"#fff066")}static updateDefaultParams(t,e){switch(t){case xo.HIGHLIGHT_COLOR:b_._defaultColor=e;break;case xo.HIGHLIGHT_THICKNESS:b_._defaultThickness=e}}translateInPage(t,e){}get toolbarPosition(){return js(f_,this)}get commentButtonPosition(){return js(d_,this)}updateParams(t,e){switch(t){case xo.HIGHLIGHT_COLOR:Os(y_,this,__).call(this,e);break;case xo.HIGHLIGHT_THICKNESS:Os(y_,this,k_).call(this,e)}}static get defaultPropertiesToUpdate(){return[[xo.HIGHLIGHT_COLOR,b_._defaultColor],[xo.HIGHLIGHT_THICKNESS,b_._defaultThickness]]}get propertiesToUpdate(){return[[xo.HIGHLIGHT_COLOR,this.color||b_._defaultColor],[xo.HIGHLIGHT_THICKNESS,js(m_,this)||b_._defaultThickness],[xo.HIGHLIGHT_FREE,js(h_,this)]]}onUpdatedColor(){var t,e;null===(t=this.parent)||void 0===t||t.drawLayer.updateProperties(js(u_,this),{root:{fill:this.color,"fill-opacity":this.opacity}}),null===(e=js(r_,this))||void 0===e||e.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){if(this._uiManager.highlightColors){return[["colorPicker",Ws(r_,this,new My({editor:this}))]]}return super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(Os(y_,this,P_).call(this))}getBaseTranslation(){return[0,0]}getRect(t,e){return super.getRect(t,e,Os(y_,this,P_).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){Os(y_,this,A_).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(Os(y_,this,E_).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;if(this.parent&&!t)Os(y_,this,A_).call(this);else if(t){var n;Os(y_,this,E_).call(this,t),e=!this.parent&&(null===(n=this.div)||void 0===n?void 0:n.classList.contains("selectedEditor"))}super.setParent(t),this.show(this._isVisible),e&&this.select()}rotate(t){const{drawLayer:e}=this.parent;let n;js(h_,this)?(t=(t-this.rotation+360)%360,n=C_.call(b_,js(c_,this).box,t)):n=C_.call(b_,[this.x,this.y,this.width,this.height],t),e.updateProperties(js(u_,this),{bbox:n,root:{"data-main-rotation":t}}),e.updateProperties(js(p_,this),{bbox:C_.call(b_,js(a_,this).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();js(g_,this)&&(t.setAttribute("aria-label",js(g_,this)),t.setAttribute("role","mark")),js(h_,this)?t.classList.add("free"):this.div.addEventListener("keydown",Os(y_,this,M_).bind(this),{signal:this._uiManager._signal});const e=Ws(l_,this,document.createElement("div"));return t.append(e),e.setAttribute("aria-hidden","true"),e.className="internal",e.style.clipPath=js(i_,this),this.setDims(this.width,this.height),gc(this,js(l_,this),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(null===(t=this.parent)||void 0===t||t.drawLayer.updateProperties(js(p_,this),{rootClass:{hovered:!0}}))}pointerleave(){var t;this.isSelected||(null===(t=this.parent)||void 0===t||t.drawLayer.updateProperties(js(p_,this),{rootClass:{hovered:!1}}))}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:Os(y_,this,T_).call(this,!0);break;case 1:case 3:Os(y_,this,T_).call(this,!1)}}select(){var t;super.select(),js(p_,this)&&(null===(t=this.parent)||void 0===t||t.drawLayer.updateProperties(js(p_,this),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),js(p_,this)&&(null===(t=this.parent)||void 0===t||t.drawLayer.updateProperties(js(p_,this),{rootClass:{selected:!1}}),js(h_,this)||Os(y_,this,T_).call(this,!1))}get _mustFixPosition(){return!js(h_,this)}show(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._isVisible;super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(js(u_,this),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(js(p_,this),{rootClass:{hidden:!t}}))}static startHighlighting(t,e,n){let{target:i,x:r,y:a}=n;const{x:s,y:o,width:l,height:c}=i.getBoundingClientRect(),u=new AbortController,h=t.combinedSignal(u),d=e=>{u.abort(),Os(b_,this,N_).call(this,t,e)};window.addEventListener("blur",d,{signal:h}),window.addEventListener("pointerup",d,{signal:h}),window.addEventListener("pointerdown",Tl,{capture:!0,passive:!1,signal:h}),window.addEventListener("contextmenu",Ml,{signal:h}),i.addEventListener("pointermove",Os(b_,this,L_).bind(this,t),{signal:h}),this._freeHighlight=new Jx({x:r,y:a},[s,o,l,c],t.scale,this._defaultThickness/2,e,.001),({id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0))}static async deserialize(t,e,n){let i=null;if(t instanceof xw){const{data:{quadPoints:e,rect:n,rotation:r,id:a,color:s,opacity:o,popupRef:l,richText:c,contentsObj:u,creationDate:h,modificationDate:d},parent:{page:{pageNumber:f}}}=t;i=t={annotationType:wo.HIGHLIGHT,color:Array.from(s),opacity:o,quadPoints:e,boxes:null,pageIndex:f-1,rect:n.slice(0),rotation:r,annotationElementId:a,id:a,deleted:!1,popupRef:l,richText:c,comment:(null===u||void 0===u?void 0:u.str)||null,creationDate:h,modificationDate:d}}else if(t instanceof bw){const{data:{inkLists:e,rect:n,rotation:r,id:a,color:s,borderStyle:{rawWidth:o},popupRef:l,richText:c,contentsObj:u,creationDate:h,modificationDate:d},parent:{page:{pageNumber:f}}}=t;i=t={annotationType:wo.HIGHLIGHT,color:Array.from(s),thickness:o,inkLists:e,boxes:null,pageIndex:f-1,rect:n.slice(0),rotation:r,annotationElementId:a,id:a,deleted:!1,popupRef:l,richText:c,comment:(null===u||void 0===u?void 0:u.str)||null,creationDate:h,modificationDate:d}}const{color:r,quadPoints:a,inkLists:s,opacity:o}=t,l=await super.deserialize(t,e,n);l.color=ll.makeHexColor(...r),l.opacity=o||1,s&&Ws(m_,l,t.thickness),l._initialData=i,t.comment&&l.setCommentData(t);const[c,u]=l.pageDimensions,[h,d]=l.pageTranslation;if(a){const t=Ws(n_,l,[]);for(let e=0;e<a.length;e+=8)t.push({x:(a[e]-h)/c,y:1-(a[e+1]-d)/u,width:(a[e+2]-a[e])/c,height:(a[e+1]-a[e+5])/u});Os(y_,l,w_).call(l),Os(y_,l,E_).call(l),l.rotate(l.rotation)}else if(s){Ws(h_,l,!0);const t=s[0],n={x:t[0]-h,y:u-(t[1]-d)},i=new Jx(n,[0,0,c,u],1,js(m_,l)/2,!0,.001);for(let e=0,s=t.length;e<s;e+=2)n.x=t[e]-h,n.y=u-(t[e+1]-d),i.add(n);const{id:r,clipPathId:a}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:l.color,"fill-opacity":l._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:i.toSVGPath()}},!0,!0);Os(y_,l,x_).call(l,{highlightOutlines:i.getOutlines(),highlightId:r,clipPathId:a}),Os(y_,l,E_).call(l),l.rotate(l.parentRotation)}return l}serialize(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const e=vd._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),n=super.serialize(t);return Object.assign(n,{color:e,opacity:this.opacity,thickness:js(m_,this),quadPoints:Os(y_,this,R_).call(this),outlines:Os(y_,this,D_).call(this,n.rect)}),this.addComment(n),this.annotationElementId&&!Os(y_,this,I_).call(this,n)?null:(n.id=this.annotationElementId,n)}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}}function w_(){const t=new Hx(js(n_,this),.001);Ws(c_,this,t.getOutlines()),[this.x,this.y,this.width,this.height]=js(c_,this).box;const e=new Hx(js(n_,this),.0025,.001,"ltr"===this._uiManager.direction);Ws(a_,this,e.getOutlines());const{firstPoint:n}=js(c_,this);Ws(d_,this,[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height]);const{lastPoint:i}=js(a_,this);Ws(f_,this,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])}function x_(t){let{highlightOutlines:e,highlightId:n,clipPathId:i}=t;Ws(c_,this,e);if(Ws(a_,this,e.getNewOutline(js(m_,this)/2+1.5,.0025)),n>=0)Ws(u_,this,n),Ws(i_,this,i),this.parent.drawLayer.finalizeDraw(n,{bbox:e.box,path:{d:e.toSVGPath()}}),Ws(p_,this,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:js(a_,this).box,path:{d:js(a_,this).toSVGPath()}},!0));else if(this.parent){const t=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(js(u_,this),{bbox:C_.call(no,js(c_,this).box,(t-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(js(p_,this),{bbox:C_.call(no,js(a_,this).box,t),path:{d:js(a_,this).toSVGPath()}})}const[r,a,s,o]=e.box;switch(this.rotation){case 0:this.x=r,this.y=a,this.width=s,this.height=o;break;case 90:{const[t,e]=this.parentDimensions;this.x=a,this.y=1-r,this.width=s*e/t,this.height=o*t/e;break}case 180:this.x=1-r,this.y=1-a,this.width=s,this.height=o;break;case 270:{const[t,e]=this.parentDimensions;this.x=1-a,this.y=r,this.width=s*e/t,this.height=o*t/e;break}}const{firstPoint:l}=e;Ws(d_,this,[(l[0]-r)/s,(l[1]-a)/o]);const{lastPoint:c}=js(a_,this);Ws(f_,this,[(c[0]-r)/s,(c[1]-a)/o])}function __(t){const e=(t,e)=>{this.color=t,this.opacity=e,this.onUpdatedColor()},n=this.color,i=this.opacity;this.addCommands({cmd:e.bind(this,t,no._defaultOpacity),undo:e.bind(this,n,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:xo.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)}function k_(t){const e=js(m_,this),n=t=>{Ws(m_,this,t),Os(y_,this,S_).call(this,t)};this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:xo.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)}function S_(t){js(h_,this)&&(Os(y_,this,x_).call(this,{highlightOutlines:js(c_,this).getNewOutline(t/2)}),this.fixAndSetPosition(),this.setDims(this.width,this.height))}function A_(){null!==js(u_,this)&&this.parent&&(this.parent.drawLayer.remove(js(u_,this)),Ws(u_,this,null),this.parent.drawLayer.remove(js(p_,this)),Ws(p_,this,null))}function E_(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parent;null===js(u_,this)&&(({id:Ls(Ws,[u_,this])._,clipPathId:Ls(Ws,[i_,this])._}=t.drawLayer.draw({bbox:js(c_,this).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:js(h_,this)},path:{d:js(c_,this).toSVGPath()}},!1,!0)),Ws(p_,this,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:js(h_,this)},bbox:js(a_,this).box,path:{d:js(a_,this).toSVGPath()}},js(h_,this))),js(l_,this)&&(js(l_,this).style.clipPath=js(i_,this)))}function C_(t,e){let[n,i,r,a]=t;switch(e){case 90:return[1-i-a,n,a,r];case 180:return[1-n-r,1-i-a,r,a];case 270:return[i,1-n-r,a,r]}return[n,i,r,a]}function M_(t){no._keyboardManager.exec(this,t)}function T_(t){if(!js(t_,this))return;const e=window.getSelection();t?e.setPosition(js(t_,this),js(e_,this)):e.setPosition(js(s_,this),js(o_,this))}function P_(){return js(h_,this)?this.rotation:0}function R_(){if(js(h_,this))return null;const[t,e]=this.pageDimensions,[n,i]=this.pageTranslation,r=js(n_,this),a=new Float32Array(8*r.length);let s=0;for(const{x:o,y:l,width:c,height:u}of r){const r=o*t+n,h=(1-l)*e+i;a[s]=a[s+4]=r,a[s+1]=a[s+3]=h,a[s+2]=a[s+6]=r+c*t,a[s+5]=a[s+7]=h-u*e,s+=8}return a}function D_(t){return js(c_,this).serialize(t,Os(y_,this,P_).call(this))}function L_(t,e){this._freeHighlight.add(e)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}function N_(t,e){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(e,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}function I_(t){const{color:e}=this._initialData;return this.hasEditedComment||t.color.some(((t,n)=>t!==e[n]))}no=b_,c(b_,"_defaultColor",null),c(b_,"_defaultOpacity",1),c(b_,"_defaultThickness",12),c(b_,"_type","highlight"),c(b_,"_editorType",wo.HIGHLIGHT),c(b_,"_freeHighlightId",-1),c(b_,"_freeHighlight",null),c(b_,"_freeHighlightClipId","");var F_=new WeakMap;class O_{constructor(){Fs(this,F_,Object.create(null))}updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,n]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,n)}updateSVGProperty(t,e){js(F_,this)[t]=e}toSVGProperties(){const t=js(F_,this);return Ws(F_,this,Object.create(null)),{root:t}}reset(){Ws(F_,this,Object.create(null))}updateAll(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;this.updateProperties(t)}clone(){qo("Not implemented")}}var B_=new WeakMap,j_=new WeakMap,W_=new WeakSet;class z_ extends vd{constructor(t){super(t),Is(this,W_),Fs(this,B_,null),Fs(this,j_,void 0),c(this,"_colorPicker",null),c(this,"_drawId",null),Ws(j_,this,t.mustBeCommitted||!1),this._addOutlines(t)}onUpdatedColor(){var t;null===(t=this._colorPicker)||void 0===t||t.update(this.color),super.onUpdatedColor()}_addOutlines(t){t.drawOutlines&&(Os(W_,this,U_).call(this,t),Os(W_,this,G_).call(this))}static _mergeSVGProperties(t,e){const n=new Set(Object.keys(t));for(const[i,r]of Object.entries(e))n.has(i)?Object.assign(t[i],r):t[i]=r;return t}static getDefaultDrawingOptions(t){qo("Not implemented")}static get typesMap(){qo("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,e){const n=this.typesMap.get(t);n&&this._defaultDrawingOptions.updateProperty(n,e),this._currentParent&&(Q_._.updateProperty(n,e),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,e){const n=this.constructor.typesMap.get(t);n&&this._updateProperty(t,n,e)}static get defaultPropertiesToUpdate(){const t=[],e=this._defaultDrawingOptions;for(const[n,i]of this.typesMap)t.push([n,e[i]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:e}=this;for(const[n,i]of this.constructor.typesMap)t.push([n,e[i]]);return t}_updateProperty(t,e,n){const i=this._drawingOptions,r=i[e],a=n=>{var r;i.updateProperty(e,n);const a=js(B_,this).updateProperty(e,n);a&&Os(W_,this,Y_).call(this,a),null===(r=this.parent)||void 0===r||r.drawLayer.updateProperties(this._drawId,i.toSVGProperties()),t===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:a.bind(this,n),undo:a.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;null===(t=this.parent)||void 0===t||t.drawLayer.updateProperties(this._drawId,z_._mergeSVGProperties(js(B_,this).getPathResizingSVGProperties(Os(W_,this,X_).call(this)),{bbox:Os(W_,this,K_).call(this)}))}_onResized(){var t;null===(t=this.parent)||void 0===t||t.drawLayer.updateProperties(this._drawId,z_._mergeSVGProperties(js(B_,this).getPathResizedSVGProperties(Os(W_,this,X_).call(this)),{bbox:Os(W_,this,K_).call(this)}))}_onTranslating(t,e){var n;null===(n=this.parent)||void 0===n||n.drawLayer.updateProperties(this._drawId,{bbox:Os(W_,this,K_).call(this)})}_onTranslated(){var t;null===(t=this.parent)||void 0===t||t.drawLayer.updateProperties(this._drawId,z_._mergeSVGProperties(js(B_,this).getPathTranslatedSVGProperties(Os(W_,this,X_).call(this),this.parentDimensions),{bbox:Os(W_,this,K_).call(this)}))}_onStartDragging(){var t;null===(t=this.parent)||void 0===t||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;null===(t=this.parent)||void 0===t||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,js(j_,this)&&(Ws(j_,this,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){Os(W_,this,V_).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(Os(W_,this,G_).call(this),Os(W_,this,Y_).call(this,js(B_,this).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;if(this.parent&&!t)this._uiManager.removeShouldRescale(this),Os(W_,this,V_).call(this);else if(t){var n;this._uiManager.addShouldRescale(this),Os(W_,this,G_).call(this,t),e=!this.parent&&(null===(n=this.div)||void 0===n?void 0:n.classList.contains("selectedEditor"))}super.setParent(t),e&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,z_._mergeSVGProperties({bbox:Os(W_,this,K_).call(this)},js(B_,this).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&Os(W_,this,Y_).call(this,js(B_,this).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,e;this._isCopy&&(t=this.x,e=this.y);const n=super.render();n.classList.add("draw");const i=document.createElement("div");return n.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,e),n}static createDrawerInstance(t,e,n,i,r){qo("Not implemented")}static startDrawing(t,e,n,i){var r,a;const{target:s,offsetX:o,offsetY:l,pointerId:c,pointerType:u}=i;if(tk._&&tk._!==u)return;const{viewport:{rotation:h}}=t,{width:d,height:f}=s.getBoundingClientRect(),p=$_._=new AbortController,g=t.combinedSignal(p);Z_._||(Z_._=c),null!==(r=tk._)&&void 0!==r||(tk._=u),window.addEventListener("pointerup",(t=>{var e;Z_._===t.pointerId?this._endDraw(t):null===(e=ek._)||void 0===e||e.delete(t.pointerId)}),{signal:g}),window.addEventListener("pointercancel",(t=>{var e;Z_._===t.pointerId?this._currentParent.endDrawingSession():null===(e=ek._)||void 0===e||e.delete(t.pointerId)}),{signal:g}),window.addEventListener("pointerdown",(t=>{tk._===t.pointerType&&((ek._||(ek._=new Set)).add(t.pointerId),Q_._.isCancellable()&&(Q_._.removeLastElement(),Q_._.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))}),{capture:!0,passive:!1,signal:g}),window.addEventListener("contextmenu",Ml,{signal:g}),s.addEventListener("pointermove",this._drawMove.bind(this),{signal:g}),s.addEventListener("touchmove",(t=>{t.timeStamp===nk._&&Tl(t)}),{signal:g}),t.toggleDrawing(),null===(a=e._editorUndoBar)||void 0===a||a.hide(),Q_._?t.drawLayer.updateProperties(this._currentDrawId,Q_._.startNew(o,l,d,f,h)):(e.updateUIForDefaultProperties(this),Q_._=this.createDrawerInstance(o,l,d,f,h),J_._=this.getDefaultDrawingOptions(),this._currentParent=t,({id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(J_._.toSVGProperties(),Q_._.defaultSVGProperties),!0,!1)))}static _drawMove(t){var e;if(nk._=-1,!Q_._)return;const{offsetX:n,offsetY:i,pointerId:r}=t;Z_._===r&&((null===(e=ek._)||void 0===e?void 0:e.size)>=1?this._endDraw(t):(this._currentParent.drawLayer.updateProperties(this._currentDrawId,Q_._.add(n,i)),nk._=t.timeStamp,Tl(t)))}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,Q_._=null,J_._=null,tk._=null,nk._=NaN),$_._&&($_._.abort(),$_._=null,Z_._=NaN,ek._=null)}static _endDraw(t){const e=this._currentParent;if(e)if(e.toggleDrawing(!0),this._cleanup(!1),(null===t||void 0===t?void 0:t.target)===e.div&&e.drawLayer.updateProperties(this._currentDrawId,Q_._.end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const t=Q_._,n=this._currentDrawId,i=t.getLastElement();e.addCommands({cmd:()=>{e.drawLayer.updateProperties(n,t.setLastElement(i))},undo:()=>{e.drawLayer.updateProperties(n,t.removeLastElement())},mustExec:!1,type:xo.DRAW_STEP})}else this.endDrawing(!1)}static endDrawing(t){const e=this._currentParent;if(!e)return null;if(e.toggleDrawing(!0),e.cleanUndoStack(xo.DRAW_STEP),!Q_._.isEmpty()){const{pageDimensions:[n,i],scale:r}=e,a=e.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:Q_._.getOutlines(n*r,i*r,r,this._INNER_MARGIN),drawingOptions:J_._,mustBeCommitted:!t});return this._cleanup(!0),a}return e.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,e,n,i,r,a){qo("Not implemented")}static async deserialize(t,e,n){const{rawDims:{pageWidth:i,pageHeight:r,pageX:a,pageY:s}}=e.viewport,o=this.deserializeDraw(a,s,i,r,this._INNER_MARGIN,t),l=await super.deserialize(t,e,n);return l.createDrawingOptions(t),Os(W_,l,U_).call(l,{drawOutlines:o}),Os(W_,l,G_).call(l),l.onScaleChanging(),l.rotate(),l}serializeDraw(t){const[e,n]=this.pageTranslation,[i,r]=this.pageDimensions;return js(B_,this).serialize([e,n,i,r],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}function U_(t){let{drawOutlines:e,drawId:n,drawingOptions:i}=t;Ws(B_,this,e),this._drawingOptions||(this._drawingOptions=i),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-".concat(this.editorType,"-added-alert")),n>=0?(this._drawId=n,this.parent.drawLayer.finalizeDraw(n,e.defaultProperties)):this._drawId=Os(W_,this,H_).call(this,e,this.parent),Os(W_,this,Y_).call(this,e.box)}function H_(t,e){const{id:n}=e.drawLayer.draw(io._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return n}function V_(){null!==this._drawId&&this.parent&&(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}function G_(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parent;null!==this._drawId&&this.parent===t||(null===this._drawId?(this._drawingOptions.updateAll(),this._drawId=Os(W_,this,H_).call(this,js(B_,this),t)):this.parent.drawLayer.updateParent(this._drawId,t.drawLayer))}function q_(t){let[e,n,i,r]=t;const{parentDimensions:[a,s],rotation:o}=this;switch(o){case 90:return[n,1-e,i*(s/a),r*(a/s)];case 180:return[1-e,1-n,i,r];case 270:return[1-n,e,i*(s/a),r*(a/s)];default:return[e,n,i,r]}}function X_(){const{x:t,y:e,width:n,height:i,parentDimensions:[r,a],rotation:s}=this;switch(s){case 90:return[1-e,t,n*(r/a),i*(a/r)];case 180:return[1-t,1-e,n,i];case 270:return[e,1-t,n*(r/a),i*(a/r)];default:return[t,e,n,i]}}function Y_(t){[this.x,this.y,this.width,this.height]=Os(W_,this,q_).call(this,t),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()}function K_(){const{x:t,y:e,width:n,height:i,rotation:r,parentRotation:a,parentDimensions:[s,o]}=this;switch((4*r+a)/90){case 1:return[1-e-i,t,i,n];case 2:return[1-t-n,1-e-i,n,i];case 3:return[e,1-t-n,i,n];case 4:return[t,e-n*(s/o),i*(o/s),n*(s/o)];case 5:return[1-e,t,n*(s/o),i*(o/s)];case 6:return[1-t-i*(o/s),1-e,i*(o/s),n*(s/o)];case 7:return[e-n*(s/o),1-t-i*(o/s),n*(s/o),i*(o/s)];case 8:return[t-n,e-i,n,i];case 9:return[1-e,t-n,i,n];case 10:return[1-t,1-e,n,i];case 11:return[e-i,1-t,i,n];case 12:return[t-i*(o/s),e,i*(o/s),n*(s/o)];case 13:return[1-e-n*(s/o),t-i*(o/s),n*(s/o),i*(o/s)];case 14:return[1-t,1-e-n*(s/o),i*(o/s),n*(s/o)];case 15:return[e,1-t,n*(s/o),i*(o/s)];default:return[t,e,n,i]}}io=z_,c(z_,"_currentDrawId",-1),c(z_,"_currentParent",null);var Q_={_:null},$_={_:null},J_={_:null},Z_={_:NaN},tk={_:null},ek={_:null},nk={_:NaN};c(z_,"_INNER_MARGIN",3);var ik=new WeakMap,rk=new WeakMap,ak=new WeakMap,sk=new WeakMap,ok=new WeakMap,lk=new WeakMap,ck=new WeakMap,uk=new WeakMap,hk=new WeakMap,dk=new WeakMap,fk=new WeakMap,pk=new WeakSet;class gk{constructor(t,e,n,i,r,a){Is(this,pk),Fs(this,ik,new Float64Array(6)),Fs(this,rk,void 0),Fs(this,ak,void 0),Fs(this,sk,void 0),Fs(this,ok,void 0),Fs(this,lk,void 0),Fs(this,ck,""),Fs(this,uk,0),Fs(this,hk,new Ck),Fs(this,dk,void 0),Fs(this,fk,void 0),Ws(dk,this,n),Ws(fk,this,i),Ws(sk,this,r),Ws(ok,this,a),[t,e]=Os(pk,this,mk).call(this,t,e);const s=Ws(rk,this,[NaN,NaN,NaN,NaN,t,e]);Ws(lk,this,[t,e]),Ws(ak,this,[{line:s,points:js(lk,this)}]),js(ik,this).set(s,0)}updateProperty(t,e){"stroke-width"===t&&Ws(ok,this,e)}isEmpty(){return!js(ak,this)||0===js(ak,this).length}isCancellable(){return js(lk,this).length<=10}add(t,e){[t,e]=Os(pk,this,mk).call(this,t,e);const[n,i,r,a]=js(ik,this).subarray(2,6),s=t-r,o=e-a;return Math.hypot(js(dk,this)*s,js(fk,this)*o)<=2?null:(js(lk,this).push(t,e),isNaN(n)?(js(ik,this).set([r,a,t,e],2),js(rk,this).push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(js(ik,this)[0])&&js(rk,this).splice(6,6),js(ik,this).set([n,i,r,a,t,e],0),js(rk,this).push(...nx.createBezierPoints(n,i,r,a,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const n=this.add(t,e);return n||(2===js(lk,this).length?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,n,i,r){Ws(dk,this,n),Ws(fk,this,i),Ws(sk,this,r),[t,e]=Os(pk,this,mk).call(this,t,e);const a=Ws(rk,this,[NaN,NaN,NaN,NaN,t,e]);Ws(lk,this,[t,e]);const s=js(ak,this).at(-1);return s&&(s.line=new Float32Array(s.line),s.points=new Float32Array(s.points)),js(ak,this).push({line:a,points:js(lk,this)}),js(ik,this).set(a,0),Ws(uk,this,0),this.toSVGPath(),null}getLastElement(){return js(ak,this).at(-1)}setLastElement(t){return js(ak,this)?(js(ak,this).push(t),Ws(rk,this,t.line),Ws(lk,this,t.points),Ws(uk,this,0),{path:{d:this.toSVGPath()}}):js(hk,this).setLastElement(t)}removeLastElement(){if(!js(ak,this))return js(hk,this).removeLastElement();js(ak,this).pop(),Ws(ck,this,"");for(let t=0,e=js(ak,this).length;t<e;t++){const{line:e,points:n}=js(ak,this)[t];Ws(rk,this,e),Ws(lk,this,n),Ws(uk,this,0),this.toSVGPath()}return{path:{d:js(ck,this)}}}toSVGPath(){const t=nx.svgRound(js(rk,this)[4]),e=nx.svgRound(js(rk,this)[5]);if(2===js(lk,this).length)return Ws(ck,this,"".concat(js(ck,this)," M ").concat(t," ").concat(e," Z")),js(ck,this);if(js(lk,this).length<=6){const n=js(ck,this).lastIndexOf("M");Ws(ck,this,"".concat(js(ck,this).slice(0,n)," M ").concat(t," ").concat(e)),Ws(uk,this,6)}if(4===js(lk,this).length){const t=nx.svgRound(js(rk,this)[10]),e=nx.svgRound(js(rk,this)[11]);return Ws(ck,this,"".concat(js(ck,this)," L ").concat(t," ").concat(e)),Ws(uk,this,12),js(ck,this)}const n=[];0===js(uk,this)&&(n.push("M ".concat(t," ").concat(e)),Ws(uk,this,6));for(let i=js(uk,this),r=js(rk,this).length;i<r;i+=6){const[t,e,r,a,s,o]=js(rk,this).slice(i,i+6).map(nx.svgRound);n.push("C".concat(t," ").concat(e," ").concat(r," ").concat(a," ").concat(s," ").concat(o))}return Ws(ck,this,js(ck,this)+n.join(" ")),Ws(uk,this,js(rk,this).length),js(ck,this)}getOutlines(t,e,n,i){const r=js(ak,this).at(-1);return r.line=new Float32Array(r.line),r.points=new Float32Array(r.points),js(hk,this).build(js(ak,this),t,e,n,js(sk,this),js(ok,this),i),Ws(ik,this,null),Ws(rk,this,null),Ws(ak,this,null),Ws(ck,this,null),js(hk,this)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}function mk(t,e){return nx._normalizePoint(t,e,js(dk,this),js(fk,this),js(sk,this))}var vk=new WeakMap,yk=new WeakMap,bk=new WeakMap,wk=new WeakMap,xk=new WeakMap,_k=new WeakMap,kk=new WeakMap,Sk=new WeakMap,Ak=new WeakMap,Ek=new WeakSet;class Ck extends nx{constructor(){super(...arguments),Is(this,Ek),Fs(this,vk,void 0),Fs(this,yk,0),Fs(this,bk,void 0),Fs(this,wk,void 0),Fs(this,xk,void 0),Fs(this,_k,void 0),Fs(this,kk,void 0),Fs(this,Sk,void 0),Fs(this,Ak,void 0)}build(t,e,n,i,r,a,s){Ws(xk,this,e),Ws(_k,this,n),Ws(kk,this,i),Ws(Sk,this,r),Ws(Ak,this,a),Ws(bk,this,null!==s&&void 0!==s?s:0),Ws(wk,this,t),Os(Ek,this,Pk).call(this)}get thickness(){return js(Ak,this)}setLastElement(t){return js(wk,this).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return js(wk,this).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:e}of js(wk,this))if(t.push("M".concat(nx.svgRound(e[4])," ").concat(nx.svgRound(e[5]))),6!==e.length)if(12===e.length&&isNaN(e[6]))t.push("L".concat(nx.svgRound(e[10])," ").concat(nx.svgRound(e[11])));else for(let n=6,i=e.length;n<i;n+=6){const[i,r,a,s,o,l]=e.subarray(n,n+6).map(nx.svgRound);t.push("C".concat(i," ").concat(r," ").concat(a," ").concat(s," ").concat(o," ").concat(l))}else t.push("Z");return t.join("")}serialize(t,e){let[n,i,r,a]=t;const s=[],o=[],[l,c,u,h]=Os(Ek,this,Tk).call(this);let d,f,p,g,m,v,y,b,w;switch(js(Sk,this)){case 0:w=nx._rescale,d=n,f=i+a,p=r,g=-a,m=n+l*r,v=i+(1-c-h)*a,y=n+(l+u)*r,b=i+(1-c)*a;break;case 90:w=nx._rescaleAndSwap,d=n,f=i,p=r,g=a,m=n+c*r,v=i+l*a,y=n+(c+h)*r,b=i+(l+u)*a;break;case 180:w=nx._rescale,d=n+r,f=i,p=-r,g=a,m=n+(1-l-u)*r,v=i+c*a,y=n+(1-l)*r,b=i+(c+h)*a;break;case 270:w=nx._rescaleAndSwap,d=n+r,f=i+a,p=-r,g=-a,m=n+(1-c-h)*r,v=i+(1-l-u)*a,y=n+(1-c)*r,b=i+(1-l)*a}for(const{line:x,points:_}of js(wk,this))s.push(w(x,d,f,p,g,e?new Array(x.length):null)),o.push(w(_,d,f,p,g,e?new Array(_.length):null));return{lines:s,points:o,rect:[m,v,y,b]}}static deserialize(t,e,n,i,r,a){let{paths:{lines:s,points:o},rotation:l,thickness:c}=a;const u=[];let h,d,f,p,g;switch(l){case 0:g=nx._rescale,h=-t/n,d=e/i+1,f=1/n,p=-1/i;break;case 90:g=nx._rescaleAndSwap,h=-e/i,d=-t/n,f=1/i,p=1/n;break;case 180:g=nx._rescale,h=t/n+1,d=-e/i,f=-1/n,p=1/i;break;case 270:g=nx._rescaleAndSwap,h=e/i+1,d=t/n+1,f=-1/i,p=-1/n}if(!s){s=[];for(const t of o){const e=t.length;if(2===e){s.push(new Float32Array([NaN,NaN,NaN,NaN,t[0],t[1]]));continue}if(4===e){s.push(new Float32Array([NaN,NaN,NaN,NaN,t[0],t[1],NaN,NaN,NaN,NaN,t[2],t[3]]));continue}const n=new Float32Array(3*(e-2));s.push(n);let[i,r,a,o]=t.subarray(0,4);n.set([NaN,NaN,NaN,NaN,i,r],0);for(let s=4;s<e;s+=2){const e=t[s],l=t[s+1];n.set(nx.createBezierPoints(i,r,a,o,e,l),3*(s-2)),[i,r,a,o]=[a,o,e,l]}}}for(let v=0,y=s.length;v<y;v++)u.push({line:g(s[v].map((t=>null!==t&&void 0!==t?t:NaN)),h,d,f,p),points:g(o[v].map((t=>null!==t&&void 0!==t?t:NaN)),h,d,f,p)});const m=new this.prototype.constructor;return m.build(u,n,i,1,l,c,r),m}get box(){return js(vk,this)}updateProperty(t,e){return"stroke-width"===t?Os(Ek,this,Rk).call(this,e):null}updateParentDimensions(t,e){let[n,i]=t;const[r,a]=Os(Ek,this,Mk).call(this);Ws(xk,this,n),Ws(_k,this,i),Ws(kk,this,e);const[s,o]=Os(Ek,this,Mk).call(this),l=s-r,c=o-a,u=js(vk,this);return u[0]-=l,u[1]-=c,u[2]+=2*l,u[3]+=2*c,u}updateRotation(t){return Ws(yk,this,t),{path:{transform:this.rotationTransform}}}get viewBox(){return js(vk,this).map(nx.svgRound).join(" ")}get defaultProperties(){const[t,e]=js(vk,this);return{root:{viewBox:this.viewBox},path:{"transform-origin":"".concat(nx.svgRound(t)," ").concat(nx.svgRound(e))}}}get rotationTransform(){const[,,t,e]=js(vk,this);let n=0,i=0,r=0,a=0,s=0,o=0;switch(js(yk,this)){case 90:i=e/t,r=-t/e,s=t;break;case 180:n=-1,a=-1,s=t,o=e;break;case 270:i=-e/t,r=t/e,o=e;break;default:return""}return"matrix(".concat(n," ").concat(i," ").concat(r," ").concat(a," ").concat(nx.svgRound(s)," ").concat(nx.svgRound(o),")")}getPathResizingSVGProperties(t){let[e,n,i,r]=t;const[a,s]=Os(Ek,this,Mk).call(this),[o,l,c,u]=js(vk,this);if(Math.abs(c-a)<=nx.PRECISION||Math.abs(u-s)<=nx.PRECISION){const t=e+i/2-(o+c/2),a=n+r/2-(l+u/2);return{path:{"transform-origin":"".concat(nx.svgRound(e)," ").concat(nx.svgRound(n)),transform:"".concat(this.rotationTransform," translate(").concat(t," ").concat(a,")")}}}const h=(i-2*a)/(c-2*a),d=(r-2*s)/(u-2*s),f=c/i,p=u/r;return{path:{"transform-origin":"".concat(nx.svgRound(o)," ").concat(nx.svgRound(l)),transform:"".concat(this.rotationTransform," scale(").concat(f," ").concat(p,") ")+"translate(".concat(nx.svgRound(a)," ").concat(nx.svgRound(s),") scale(").concat(h," ").concat(d,") ")+"translate(".concat(nx.svgRound(-a)," ").concat(nx.svgRound(-s),")")}}}getPathResizedSVGProperties(t){let[e,n,i,r]=t;const[a,s]=Os(Ek,this,Mk).call(this),o=js(vk,this),[l,c,u,h]=o;if(o[0]=e,o[1]=n,o[2]=i,o[3]=r,Math.abs(u-a)<=nx.PRECISION||Math.abs(h-s)<=nx.PRECISION){const t=e+i/2-(l+u/2),a=n+r/2-(c+h/2);for(const{line:e,points:n}of js(wk,this))nx._translate(e,t,a,e),nx._translate(n,t,a,n);return{root:{viewBox:this.viewBox},path:{"transform-origin":"".concat(nx.svgRound(e)," ").concat(nx.svgRound(n)),transform:this.rotationTransform||null,d:this.toSVGPath()}}}const d=(i-2*a)/(u-2*a),f=(r-2*s)/(h-2*s),p=-d*(l+a)+e+a,g=-f*(c+s)+n+s;if(1!==d||1!==f||0!==p||0!==g)for(const{line:m,points:v}of js(wk,this))nx._rescale(m,p,g,d,f,m),nx._rescale(v,p,g,d,f,v);return{root:{viewBox:this.viewBox},path:{"transform-origin":"".concat(nx.svgRound(e)," ").concat(nx.svgRound(n)),transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties(t,e){let[n,i]=t;const[r,a]=e,s=js(vk,this),o=n-s[0],l=i-s[1];if(js(xk,this)===r&&js(_k,this)===a)for(const{line:c,points:u}of js(wk,this))nx._translate(c,o,l,c),nx._translate(u,o,l,u);else{const t=js(xk,this)/r,e=js(_k,this)/a;Ws(xk,this,r),Ws(_k,this,a);for(const{line:n,points:i}of js(wk,this))nx._rescale(n,o,l,t,e,n),nx._rescale(i,o,l,t,e,i);s[2]*=t,s[3]*=e}return s[0]=n,s[1]=i,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":"".concat(nx.svgRound(n)," ").concat(nx.svgRound(i))}}}get defaultSVGProperties(){const t=js(vk,this);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":"".concat(nx.svgRound(t[0])," ").concat(nx.svgRound(t[1])),transform:this.rotationTransform||null},bbox:t}}}function Mk(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:js(Ak,this);const e=js(bk,this)+t/2*js(kk,this);return js(Sk,this)%180===0?[e/js(xk,this),e/js(_k,this)]:[e/js(_k,this),e/js(xk,this)]}function Tk(){const[t,e,n,i]=js(vk,this),[r,a]=Os(Ek,this,Mk).call(this,0);return[t+r,e+a,n-2*r,i-2*a]}function Pk(){const t=Ws(vk,this,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:i}of js(wk,this)){if(i.length<=12){for(let e=4,n=i.length;e<n;e+=6)ll.pointBoundingBox(i[e],i[e+1],t);continue}let e=i[4],n=i[5];for(let r=6,a=i.length;r<a;r+=6){const[a,s,o,l,c,u]=i.subarray(r,r+6);ll.bezierBoundingBox(e,n,a,s,o,l,c,u,t),e=c,n=u}}const[e,n]=Os(Ek,this,Mk).call(this);t[0]=gl(t[0]-e,0,1),t[1]=gl(t[1]-n,0,1),t[2]=gl(t[2]+e,0,1),t[3]=gl(t[3]+n,0,1),t[2]-=t[0],t[3]-=t[1]}function Rk(t){const[e,n]=Os(Ek,this,Mk).call(this);Ws(Ak,this,t);const[i,r]=Os(Ek,this,Mk).call(this),[a,s]=[i-e,r-n],o=js(vk,this);return o[0]-=a,o[1]-=s,o[2]+=2*a,o[3]+=2*s,o}class Dk extends O_{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:vd._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){"stroke-width"===t&&(null!==e&&void 0!==e||(e=this["stroke-width"]),e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new Dk(this._viewParameters);return t.updateAll(this),t}}var Lk=new WeakSet;class Nk extends z_{constructor(t){super(h(h({},t),{},{name:"inkEditor"})),Is(this,Lk),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,e){vd.initialize(t,e),this._defaultDrawingOptions=new Dk(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!0}static get typesMap(){return Qo(this,"typesMap",new Map([[xo.INK_THICKNESS,"stroke-width"],[xo.INK_COLOR,"stroke"],[xo.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,e,n,i,r){return new gk(t,e,n,i,r,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,e,n,i,r,a){return Ck.deserialize(t,e,n,i,r,a)}static async deserialize(t,e,n){let i=null;if(t instanceof bw){const{data:{inkLists:e,rect:n,rotation:r,id:a,color:s,opacity:o,borderStyle:{rawWidth:l},popupRef:c,richText:u,contentsObj:h,creationDate:d,modificationDate:f},parent:{page:{pageNumber:p}}}=t;i=t={annotationType:wo.INK,color:Array.from(s),thickness:l,opacity:o,paths:{points:e},boxes:null,pageIndex:p-1,rect:n.slice(0),rotation:r,annotationElementId:a,id:a,deleted:!1,popupRef:c,richText:u,comment:(null===h||void 0===h?void 0:h.str)||null,creationDate:d,modificationDate:f}}const r=await super.deserialize(t,e,n);return r._initialData=i,t.comment&&r.setCommentData(t),r}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new jy(this)),[["colorPicker",this._colorPicker]]}get colorType(){return xo.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:e,parent:n}=this;e.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(t,e.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions(t){let{color:e,thickness:n,opacity:i}=t;this._drawingOptions=Nk.getDefaultDrawingOptions({stroke:ll.makeHexColor(...e),"stroke-width":n,"stroke-opacity":i})}serialize(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:e,points:n}=this.serializeDraw(t),{_drawingOptions:{stroke:i,"stroke-opacity":r,"stroke-width":a}}=this,s=Object.assign(super.serialize(t),{color:vd._colorManager.convert(i),opacity:r,thickness:a,paths:{lines:e,points:n}});return this.addComment(s),t?(s.isCopy=!0,s):this.annotationElementId&&!Os(Lk,this,Ik).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:e,rect:n}=this.serializeDraw(!1);return t.updateEdited({rect:n,thickness:this._drawingOptions["stroke-width"],points:e,popup:this.comment}),null}}function Ik(t){const{color:e,thickness:n,opacity:i,pageIndex:r}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some(((t,n)=>t!==e[n]))||t.thickness!==n||t.opacity!==i||t.pageIndex!==r}c(Nk,"_type","ink"),c(Nk,"_editorType",wo.INK),c(Nk,"_defaultDrawingOptions",null);class Fk extends Ck{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}class Ok{static extractContoursFromText(t,e,n,i,r,a){let{fontFamily:s,fontStyle:o,fontWeight:l}=e,c=new OffscreenCanvas(1,1),u=c.getContext("2d",{alpha:!1});const h=u.font="".concat(o," ").concat(l," ").concat(200,"px ").concat(s),{actualBoundingBoxLeft:d,actualBoundingBoxRight:f,actualBoundingBoxAscent:p,actualBoundingBoxDescent:g,fontBoundingBoxAscent:m,fontBoundingBoxDescent:v,width:y}=u.measureText(t),b=1.5,w=Math.ceil(Math.max(Math.abs(d)+Math.abs(f)||0,y)*b),x=Math.ceil(Math.max(Math.abs(p)+Math.abs(g)||200,Math.abs(m)+Math.abs(v)||200)*b);c=new OffscreenCanvas(w,x),u=c.getContext("2d",{alpha:!0,willReadFrequently:!0}),u.font=h,u.filter="grayscale(1)",u.fillStyle="white",u.fillRect(0,0,w,x),u.fillStyle="black",u.fillText(t,.5*w/2,1.5*x/2);const _=Os(Ok,this,qk).call(this,u.getImageData(0,0,w,x).data),k=Os(Ok,this,Gk).call(this,_),S=Os(Ok,this,Xk).call(this,k),A=Os(Ok,this,zk).call(this,_,w,x,S);return this.processDrawnLines({lines:{curves:A,width:w,height:x},pageWidth:n,pageHeight:i,rotation:r,innerMargin:a,mustSmooth:!0,areContours:!0})}static process(t,e,n,i,r){const[a,s,o]=Os(Ok,this,Yk).call(this,t),[l,c]=Os(Ok,this,Vk).call(this,a,s,o,Math.hypot(s,o)*Os(Ok,this,Kk)._.sigmaSFactor,Os(Ok,this,Kk)._.sigmaR,Os(Ok,this,Kk)._.kernelSize),u=Os(Ok,this,Xk).call(this,c),h=Os(Ok,this,zk).call(this,l,s,o,u);return this.processDrawnLines({lines:{curves:h,width:s,height:o},pageWidth:e,pageHeight:n,rotation:i,innerMargin:r,mustSmooth:!0,areContours:!0})}static processDrawnLines(t){var e;let{lines:n,pageWidth:i,pageHeight:r,rotation:a,innerMargin:s,mustSmooth:o,areContours:l}=t;a%180!==0&&([i,r]=[r,i]);const{curves:c,width:u,height:h}=n,d=null!==(e=n.thickness)&&void 0!==e?e:0,f=[],p=Math.min(i/u,r/h),g=p/i,m=p/r,v=[];for(const{points:b}of c){const t=o?Os(Ok,this,Hk).call(this,b):b;if(!t)continue;v.push(t);const e=t.length,n=new Float32Array(e),i=new Float32Array(3*(2===e?2:e-2));if(f.push({line:i,points:n}),2===e){n[0]=t[0]*g,n[1]=t[1]*m,i.set([NaN,NaN,NaN,NaN,n[0],n[1]],0);continue}let[r,a,s,l]=t;r*=g,a*=m,s*=g,l*=m,n.set([r,a,s,l],0),i.set([NaN,NaN,NaN,NaN,r,a],0);for(let o=4;o<e;o+=2){const e=n[o]=t[o]*g,c=n[o+1]=t[o+1]*m;i.set(nx.createBezierPoints(r,a,s,l,e,c),3*(o-2)),[r,a,s,l]=[s,l,e,c]}}if(0===f.length)return null;const y=l?new Fk:new Ck;return y.build(f,i,r,1,a,l?0:d,s),{outline:y,newCurves:v,areContours:l,thickness:d,width:u,height:h}}static async compressSignature(t){let e,{outlines:n,areContours:i,thickness:r,width:a,height:s}=t,o=1/0,l=-1/0,c=0;for(const y of n){c+=y.length;for(let t=2,e=y.length;t<e;t++){const e=y[t]-y[t-2];o=Math.min(o,e),l=Math.max(l,e)}}e=o>=-128&&l<=127?Int8Array:o>=-32768&&l<=32767?Int16Array:Int32Array;const u=n.length,h=8+3*u,d=new Uint32Array(h);let f=0;d[f++]=h*Uint32Array.BYTES_PER_ELEMENT+(c-2*u)*e.BYTES_PER_ELEMENT,d[f++]=0,d[f++]=a,d[f++]=s,d[f++]=i?0:1,d[f++]=Math.max(0,Math.floor(null!==r&&void 0!==r?r:0)),d[f++]=u,d[f++]=e.BYTES_PER_ELEMENT;for(const y of n)d[f++]=y.length-2,d[f++]=y[0],d[f++]=y[1];const p=new CompressionStream("deflate-raw"),g=p.writable.getWriter();await g.ready,g.write(d);const m=e.prototype.constructor;for(const y of n){const t=new m(y.length-2);for(let e=2,n=y.length;e<n;e++)t[e-2]=y[e]-y[e-2];g.write(t)}g.close();const v=await new Response(p.readable).arrayBuffer();return ml(new Uint8Array(v))}static async decompressSignature(t){try{const l=(s=t,Uint8Array.fromBase64?Uint8Array.fromBase64(s):al(atob(s))),{readable:c,writable:u}=new DecompressionStream("deflate-raw"),h=u.getWriter();await h.ready,h.write(l).then((async()=>{await h.ready,await h.close()})).catch((()=>{}));let d=null,f=0;var e,n=!1,i=!1;try{for(var r,a=function(t){var e,n,i,r=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,i=Symbol.iterator);r--;){if(n&&null!=(e=t[n]))return e.call(t);if(i&&null!=(e=t[i]))return new zs(e.call(t));n="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")}(c);n=!(r=await a.next()).done;n=!1){const t=r.value;d||(d=new Uint8Array(new Uint32Array(t.buffer,0,4)[0])),d.set(t,f),f+=t.length}}catch(o){i=!0,e=o}finally{try{n&&null!=a.return&&await a.return()}finally{if(i)throw e}}const p=new Uint32Array(d.buffer,0,d.length>>2),g=p[1];if(0!==g)throw new Error("Invalid version: ".concat(g));const m=p[2],v=p[3],y=0===p[4],b=p[5],w=p[6],x=p[7],_=[],k=(8+3*w)*Uint32Array.BYTES_PER_ELEMENT;let S;switch(x){case Int8Array.BYTES_PER_ELEMENT:S=new Int8Array(d.buffer,k);break;case Int16Array.BYTES_PER_ELEMENT:S=new Int16Array(d.buffer,k);break;case Int32Array.BYTES_PER_ELEMENT:S=new Int32Array(d.buffer,k)}f=0;for(let t=0;t<w;t++){const e=p[3*t+8],n=new Float32Array(e+2);_.push(n);for(let i=0;i<2;i++)n[i]=p[3*t+8+i+1];for(let t=0;t<e;t++)n[t+2]=n[t]+S[f++]}return{areContours:y,thickness:b,outlines:_,width:m,height:v}}catch(dE){return Go("decompressSignature: ".concat(dE)),null}var s}}function Bk(t,e,n,i){return i-=e,0===(n-=t)?i>0?0:4:1===n?i+6:2-i}function jk(t,e,n,i,r,a,s){const o=Os(ro,this,Bk).call(this,n,i,r,a);for(let l=0;l<8;l++){const r=(-l+o-s+16)%8;if(0!==t[(n+Os(ro,this,Qk)._[2*r])*e+(i+Os(ro,this,Qk)._[2*r+1])])return r}return-1}function Wk(t,e,n,i,r,a,s){const o=Os(ro,this,Bk).call(this,n,i,r,a);for(let l=0;l<8;l++){const r=(l+o+s+16)%8;if(0!==t[(n+Os(ro,this,Qk)._[2*r])*e+(i+Os(ro,this,Qk)._[2*r+1])])return r}return-1}function zk(t,e,n,i){const r=t.length,a=new Int32Array(r);for(let c=0;c<r;c++)a[c]=t[c]<=i?1:0;for(let c=1;c<n-1;c++)a[c*e]=a[c*e+e-1]=0;for(let c=0;c<e;c++)a[c]=a[e*n-1-c]=0;let s,o=1;const l=[];for(let c=1;c<n-1;c++){s=1;for(let t=1;t<e-1;t++){const n=c*e+t,i=a[n];if(0===i)continue;let r=c,u=t;if(1===i&&0===a[n-1])o+=1,u-=1;else{if(!(i>=1&&0===a[n+1])){1!==i&&(s=Math.abs(i));continue}o+=1,u+=1,i>1&&(s=i)}const h=[t,c],d=u===t+1,f={isHole:d,points:h,id:o,parent:0};let p;l.push(f);for(const t of l)if(t.id===s){p=t;break}p?p.isHole?f.parent=d?p.parent:s:f.parent=d?s:p.parent:f.parent=d?s:0;const g=Os(ro,this,jk).call(this,a,e,c,t,r,u,0);if(-1===g){a[n]=-o,1!==a[n]&&(s=Math.abs(a[n]));continue}let m=Os(ro,this,Qk)._[2*g],v=Os(ro,this,Qk)._[2*g+1];const y=c+m,b=t+v;r=y,u=b;let w=c,x=t;for(;;){const i=Os(ro,this,Wk).call(this,a,e,w,x,r,u,1);m=Os(ro,this,Qk)._[2*i],v=Os(ro,this,Qk)._[2*i+1];const l=w+m,d=x+v;h.push(d,l);const f=w*e+x;if(0===a[f+1]?a[f]=-o:1===a[f]&&(a[f]=o),l===c&&d===t&&w===y&&x===b){1!==a[n]&&(s=Math.abs(a[n]));break}r=w,u=x,w=l,x=d}}}return l}function Uk(t,e,n,i){if(n-e<=4){for(let r=e;r<n-2;r+=2)i.push(t[r],t[r+1]);return}const r=t[e],a=t[e+1],s=t[n-4]-r,o=t[n-3]-a,l=Math.hypot(s,o),c=s/l,u=o/l,h=c*a-u*r,d=o/s,f=1/l,p=Math.atan(d),g=Math.cos(p),m=Math.sin(p),v=f*(Math.abs(g)+Math.abs(m)),y=f*(1-v+v**2),b=Math.max(Math.atan(Math.abs(m+g)*y),Math.atan(Math.abs(m-g)*y));let w=0,x=e;for(let _=e+2;_<n-2;_+=2){const e=Math.abs(h-c*t[_+1]+u*t[_]);e>w&&(x=_,w=e)}w>(l*b)**2?(Os(ro,this,Uk).call(this,t,e,x+2,i),Os(ro,this,Uk).call(this,t,x,n,i)):i.push(r,a)}function Hk(t){const e=[],n=t.length;return Os(ro,this,Uk).call(this,t,0,n,e),e.push(t[n-2],t[n-1]),e.length<=4?null:e}function Vk(t,e,n,i,r,a){const s=new Float32Array(a**2),o=-2*i**2,l=a>>1;for(let p=0;p<a;p++){const t=(p-l)**2;for(let e=0;e<a;e++)s[p*a+e]=Math.exp((t+(e-l)**2)/o)}const c=new Float32Array(256),u=-2*r**2;for(let p=0;p<256;p++)c[p]=Math.exp(p**2/u);const h=t.length,d=new Uint8Array(h),f=new Uint32Array(256);for(let p=0;p<n;p++)for(let i=0;i<e;i++){const r=p*e+i,o=t[r];let u=0,h=0;for(let d=0;d<a;d++){const r=p+d-l;if(!(r<0||r>=n))for(let n=0;n<a;n++){const f=i+n-l;if(f<0||f>=e)continue;const p=t[r*e+f],g=s[d*a+n]*c[Math.abs(p-o)];u+=p*g,h+=g}}f[d[r]=Math.round(u/h)]++}return[d,f]}function Gk(t){const e=new Uint32Array(256);for(const n of t)e[n]++;return e}function qk(t){const e=t.length,n=new Uint8ClampedArray(e>>2);let i=-1/0,r=1/0;for(let s=0,o=n.length;s<o;s++){const e=n[s]=t[s<<2];i=Math.max(i,e),r=Math.min(r,e)}const a=255/(i-r);for(let s=0,o=n.length;s<o;s++)n[s]=(n[s]-r)*a;return n}function Xk(t){let e,n=-1/0,i=-1/0;const r=t.findIndex((t=>0!==t));let a=r,s=r;for(e=r;e<256;e++){const r=t[e];r>n&&(e-a>i&&(i=e-a,s=e-1),n=r,a=e)}for(e=s-1;e>=0&&!(t[e]>t[e+1]);e--);return e}function Yk(t){const e=t,{width:n,height:i}=t,{maxDim:r}=Os(ro,this,Kk)._;let a=n,s=i;if(n>r||i>r){let o=n,l=i,c=Math.log2(Math.max(n,i)/r);const u=Math.floor(c);c=c===u?u-1:u;for(let n=0;n<c;n++){a=Math.ceil(o/2),s=Math.ceil(l/2);const n=new OffscreenCanvas(a,s);n.getContext("2d").drawImage(t,0,0,o,l,0,0,a,s),o=a,l=s,t!==e&&t.close(),t=n.transferToImageBitmap()}const h=Math.min(r/a,r/s);a=Math.round(a*h),s=Math.round(s*h)}const o=new OffscreenCanvas(a,s).getContext("2d",{willReadFrequently:!0});o.fillStyle="white",o.fillRect(0,0,a,s),o.filter="grayscale(1)",o.drawImage(t,0,0,t.width,t.height,0,0,a,s);const l=o.getImageData(0,0,a,s).data;return[Os(ro,this,qk).call(this,l),a,s]}ro=Ok;var Kk={_:{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}},Qk={_:new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1])};class $k extends O_{constructor(){super(),super.updateProperties({fill:vd._defaultLineColor,"stroke-width":0})}clone(){const t=new $k;return t.updateAll(this),t}}class Jk extends Dk{constructor(t){super(t),super.updateProperties({stroke:vd._defaultLineColor,"stroke-width":1})}clone(){const t=new Jk(this._viewParameters);return t.updateAll(this),t}}var Zk=new WeakMap,tS=new WeakMap,eS=new WeakMap,nS=new WeakMap;class iS extends z_{constructor(t){super(h(h({},t),{},{mustBeCommitted:!0,name:"signatureEditor"})),Fs(this,Zk,!1),Fs(this,tS,null),Fs(this,eS,null),Fs(this,nS,null),this._willKeepAspectRatio=!0,Ws(eS,this,t.signatureData||null),Ws(tS,this,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,e){vd.initialize(t,e),this._defaultDrawingOptions=new $k,this._defaultDrawnSignatureOptions=new Jk(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!1}static get typesMap(){return Qo(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!js(tS,this)}}static computeTelemetryFinalData(t){var e,n;const i=t.get("hasDescription");return{hasAltText:null!==(e=i.get(!0))&&void 0!==e?e:0,hasNoAltText:null!==(n=i.get(!1))&&void 0!==n?n:0}}get isResizable(){return!0}onScaleChanging(){null!==this._drawId&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,e;const{_isCopy:n}=this;if(n&&(this._isCopy=!1,t=this.x,e=this.y),super.render(),null===this._drawId)if(js(eS,this)){const{lines:t,mustSmooth:e,areContours:n,description:i,uuid:r,heightInPage:a}=js(eS,this),{rawDims:{pageWidth:s,pageHeight:o},rotation:l}=this.parent.viewport,c=Ok.processDrawnLines({lines:t,pageWidth:s,pageHeight:o,rotation:l,innerMargin:iS._INNER_MARGIN,mustSmooth:e,areContours:n});this.addSignature(c,a,i,r)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:js(tS,this)||""}));return n&&(this._isCopy=!0,this._moveAfterPaste(t,e)),this.div}setUuid(t){Ws(nS,this,t),this.addEditToolbar()}getUuid(){return js(nS,this)}get description(){return js(tS,this)}set description(t){Ws(tS,this,t),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then((e=>{null===e||void 0===e||e.updateEditSignatureButton(t)})))}getSignaturePreview(){const{newCurves:t,areContours:e,thickness:n,width:i,height:r}=js(eS,this),a=Math.max(i,r);return{areContours:e,outline:Ok.processDrawnLines({lines:{curves:t.map((t=>({points:t}))),thickness:n,width:i,height:r},pageWidth:a,pageHeight:a,rotation:0,innerMargin:0,mustSmooth:!1,areContours:e}).outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,e,n,i){const{x:r,y:a}=this,{outline:s}=Ws(eS,this,t);let o;Ws(Zk,this,s instanceof Fk),this.description=n,js(Zk,this)?o=iS.getDefaultDrawingOptions():(o=iS._defaultDrawnSignatureOptions.clone(),o.updateProperties({"stroke-width":s.thickness})),this._addOutlines({drawOutlines:s,drawingOptions:o});const[,l]=this.pageDimensions;let c=e/l;c=c>=1?.5:c,this.width*=c/this.height,this.width>=1&&(c*=.9/this.width,this.width=.9),this.height=c,this.setDims(),this.x=r,this.y=a,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(i),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!i,hasDescription:!!n}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:e,pageHeight:n},rotation:i}=this.parent.viewport;return Ok.process(t,e,n,i,iS._INNER_MARGIN)}getFromText(t,e){const{rawDims:{pageWidth:n,pageHeight:i},rotation:r}=this.parent.viewport;return Ok.extractContoursFromText(t,e,n,i,r,iS._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:e,pageHeight:n},rotation:i}=this.parent.viewport;return Ok.processDrawnLines({lines:t,pageWidth:e,pageHeight:n,rotation:i,innerMargin:iS._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions(t){let{areContours:e,thickness:n}=t;e?this._drawingOptions=iS.getDefaultDrawingOptions():(this._drawingOptions=iS._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":n}))}serialize(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return null;const{lines:e,points:n}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":i}}=this,r=Object.assign(super.serialize(t),{isSignature:!0,areContours:js(Zk,this),color:[0,0,0],thickness:js(Zk,this)?0:i});return this.addComment(r),t?(r.paths={lines:e,points:n},r.uuid=js(nS,this),r.isCopy=!0):r.lines=e,js(tS,this)&&(r.accessibilityData={type:"Figure",alt:js(tS,this)}),r}static deserializeDraw(t,e,n,i,r,a){return a.areContours?Fk.deserialize(t,e,n,i,r,a):Ck.deserialize(t,e,n,i,r,a)}static async deserialize(t,e,n){var i;const r=await super.deserialize(t,e,n);return Ws(Zk,r,t.areContours),r.description=(null===(i=t.accessibilityData)||void 0===i?void 0:i.alt)||"",Ws(nS,r,t.uuid),r}}c(iS,"_type","signature"),c(iS,"_editorType",wo.SIGNATURE),c(iS,"_defaultDrawingOptions",null);var rS=new WeakMap,aS=new WeakMap,sS=new WeakMap,oS=new WeakMap,lS=new WeakMap,cS=new WeakMap,uS=new WeakMap,hS=new WeakMap,dS=new WeakMap,fS=new WeakMap,pS=new WeakMap,gS=new WeakSet;class mS extends vd{constructor(t){super(h(h({},t),{},{name:"stampEditor"})),Is(this,gS),Fs(this,rS,null),Fs(this,aS,null),Fs(this,sS,null),Fs(this,oS,null),Fs(this,lS,null),Fs(this,cS,""),Fs(this,uS,null),Fs(this,hS,!1),Fs(this,dS,null),Fs(this,fS,!1),Fs(this,pS,!1),Ws(oS,this,t.bitmapUrl),Ws(lS,this,t.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,e){vd.initialize(t,e)}static isHandlingMimeForPasting(t){return Ol.includes(t)}static paste(t,e){e.pasteEditor({mode:wo.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!(null===(t=this.altTextData)||void 0===t||!t.altText)}}static computeTelemetryFinalData(t){var e,n;const i=t.get("hasAltText");return{hasAltText:null!==(e=i.get(!0))&&void 0!==e?e:0,hasNoAltText:null!==(n=i.get(!1))&&void 0!==n?n:0}}async mlGuessAltText(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.hasAltTextData())return null;const{mlManager:n}=this._uiManager;if(!n)throw new Error("No ML.");if(!await n.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:i,width:r,height:a}=t||this.copyCanvas(null,null,!0).imageData,s=await n.guess({name:"altText",request:{data:i,width:r,height:a,channels:i.length/(r*a)}});if(!s)throw new Error("No response from the AI service.");if(s.error)throw new Error("Error from the AI service.");if(s.cancel)return null;if(!s.output)throw new Error("No valid response from the AI service.");const o=s.output;return await this.setGuessedAltText(o),e&&!this.hasAltTextData()&&(this.altTextData={alt:o,decorative:!1}),o}remove(){var t;js(aS,this)&&(Ws(rS,this,null),this._uiManager.imageManager.deleteId(js(aS,this)),null===(t=js(uS,this))||void 0===t||t.remove(),Ws(uS,this,null),js(dS,this)&&(clearTimeout(js(dS,this)),Ws(dS,this,null)));super.remove()}rebuild(){this.parent?(super.rebuild(),null!==this.div&&(js(aS,this)&&null===js(uS,this)&&Os(gS,this,bS).call(this),this.isAttachedToDOM||this.parent.add(this))):js(aS,this)&&Os(gS,this,bS).call(this)}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(js(sS,this)||js(rS,this)||js(oS,this)||js(lS,this)||js(aS,this)||js(hS,this))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,e;return this._isCopy&&(t=this.x,e=this.y),super.render(),this.div.hidden=!0,this.createAltText(),js(hS,this)||(js(rS,this)?Os(gS,this,wS).call(this):Os(gS,this,bS).call(this)),this._isCopy&&this._moveAfterPaste(t,e),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,e){const{id:n,bitmap:i}=this._uiManager.imageManager.getFromCanvas(t,e);e.remove(),n&&this._uiManager.imageManager.isValidId(n)&&(Ws(aS,this,n),i&&Ws(rS,this,i),Ws(hS,this,!1),Os(gS,this,wS).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;null!==js(dS,this)&&clearTimeout(js(dS,this));Ws(dS,this,setTimeout((()=>{Ws(dS,this,null),Os(gS,this,_S).call(this)}),200))}copyCanvas(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t||(t=224);const{width:i,height:r}=js(rS,this),a=new Fl;let s=js(rS,this),o=i,l=r,c=null;if(e){if(i>e||r>e){const t=Math.min(e/i,e/r);o=Math.floor(i*t),l=Math.floor(r*t)}c=document.createElement("canvas");const t=c.width=Math.ceil(o*a.sx),n=c.height=Math.ceil(l*a.sy);js(fS,this)||(s=Os(gS,this,xS).call(this,t,n));const u=c.getContext("2d");u.filter=this._uiManager.hcmFilter;let h="white",d="#cfcfd8";"none"!==this._uiManager.hcmFilter?d="black":Bl.isDarkMode&&(h="#8f8f9d",d="#42414d");const f=15,p=f*a.sx,g=f*a.sy,m=new OffscreenCanvas(2*p,2*g),v=m.getContext("2d");v.fillStyle=h,v.fillRect(0,0,2*p,2*g),v.fillStyle=d,v.fillRect(0,0,p,g),v.fillRect(p,g,p,g),u.fillStyle=u.createPattern(m,"repeat"),u.fillRect(0,0,t,n),u.drawImage(s,0,0,s.width,s.height,0,0,t,n)}let u=null;if(n){let e,n;if(a.symmetric&&s.width<t&&s.height<t)e=s.width,n=s.height;else if(s=js(rS,this),i>t||r>t){const a=Math.min(t/i,t/r);e=Math.floor(i*a),n=Math.floor(r*a),js(fS,this)||(s=Os(gS,this,xS).call(this,e,n))}const o=new OffscreenCanvas(e,n).getContext("2d",{willReadFrequently:!0});o.drawImage(s,0,0,s.width,s.height,0,0,e,n),u={width:e,height:n,data:o.getImageData(0,0,e,n).data}}return{canvas:c,width:o,height:l,imageData:u}}static async deserialize(t,e,n){let i=null,r=!1;if(t instanceof Aw){var a;const{data:{rect:s,rotation:o,id:l,structParent:c,popupRef:u,richText:h,contentsObj:d,creationDate:f,modificationDate:p},container:g,parent:{page:{pageNumber:m}},canvas:v}=t;let y,b;v?(delete t.canvas,({id:y,bitmap:b}=n.imageManager.getFromCanvas(g.id,v)),v.remove()):(r=!0,t._hasNoCanvas=!0);const w=(null===(a=await e._structTree.getAriaAttributes("".concat(pl).concat(l)))||void 0===a?void 0:a.get("aria-label"))||"";i=t={annotationType:wo.STAMP,bitmapId:y,bitmap:b,pageIndex:m-1,rect:s.slice(0),rotation:o,annotationElementId:l,id:l,deleted:!1,accessibilityData:{decorative:!1,altText:w},isSvg:!1,structParent:c,popupRef:u,richText:h,comment:(null===d||void 0===d?void 0:d.str)||null,creationDate:f,modificationDate:p}}const s=await super.deserialize(t,e,n),{rect:o,bitmap:l,bitmapUrl:c,bitmapId:u,isSvg:h,accessibilityData:d}=t;r?(n.addMissingCanvas(t.id,s),Ws(hS,s,!0)):u&&n.imageManager.isValidId(u)?(Ws(aS,s,u),l&&Ws(rS,s,l)):Ws(oS,s,c),Ws(fS,s,h);const[f,p]=s.pageDimensions;return s.width=(o[2]-o[0])/f,s.height=(o[3]-o[1])/p,d&&(s.altTextData=d),s._initialData=i,t.comment&&s.setCommentData(t),Ws(pS,s,!!i),s}serialize(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=Object.assign(super.serialize(t),{bitmapId:js(aS,this),isSvg:js(fS,this)});if(this.addComment(n),t)return n.bitmapUrl=Os(gS,this,kS).call(this,!0),n.accessibilityData=this.serializeAltText(!0),n.isCopy=!0,n;const{decorative:i,altText:r}=this.serializeAltText(!1);if(!i&&r&&(n.accessibilityData={type:"Figure",alt:r}),this.annotationElementId){const t=Os(gS,this,SS).call(this,n);if(t.isSame)return null;var a;if(t.isSameAltText)delete n.accessibilityData;else n.accessibilityData.structParent=null!==(a=this._initialData.structParent)&&void 0!==a?a:-1;return n.id=this.annotationElementId,delete n.bitmapId,n}if(null===e)return n;e.stamps||(e.stamps=new Map);const s=js(fS,this)?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(e.stamps.has(js(aS,this))){if(js(fS,this)){const t=e.stamps.get(js(aS,this));s>t.area&&(t.area=s,t.serialized.bitmap.close(),t.serialized.bitmap=Os(gS,this,kS).call(this,!1))}}else e.stamps.set(js(aS,this),{area:s,serialized:n}),n.bitmap=Os(gS,this,kS).call(this,!1);return n}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}function vS(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t?(Ws(rS,this,t.bitmap),e||(Ws(aS,this,t.id),Ws(fS,this,t.isSvg)),t.file&&Ws(cS,this,t.file.name),Os(gS,this,wS).call(this)):this.remove()}function yS(){if(Ws(sS,this,null),this._uiManager.enableWaiting(!1),js(uS,this))if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&js(rS,this))this.addEditToolbar().then((()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)}));else{if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&js(rS,this)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch(t){}}this.div.focus()}}function bS(){if(js(aS,this))return this._uiManager.enableWaiting(!0),void this._uiManager.imageManager.getFromId(js(aS,this)).then((t=>Os(gS,this,vS).call(this,t,!0))).finally((()=>Os(gS,this,yS).call(this)));if(js(oS,this)){const t=js(oS,this);return Ws(oS,this,null),this._uiManager.enableWaiting(!0),void Ws(sS,this,this._uiManager.imageManager.getFromUrl(t).then((t=>Os(gS,this,vS).call(this,t))).finally((()=>Os(gS,this,yS).call(this))))}if(js(lS,this)){const t=js(lS,this);return Ws(lS,this,null),this._uiManager.enableWaiting(!0),void Ws(sS,this,this._uiManager.imageManager.getFromFile(t).then((t=>Os(gS,this,vS).call(this,t))).finally((()=>Os(gS,this,yS).call(this))))}const t=document.createElement("input");t.type="file",t.accept=Ol.join(",");const e=this._uiManager._signal;Ws(sS,this,new Promise((n=>{t.addEventListener("change",(async()=>{if(t.files&&0!==t.files.length){this._uiManager.enableWaiting(!0);const e=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),Os(gS,this,vS).call(this,e)}else this.remove();n()}),{signal:e}),t.addEventListener("cancel",(()=>{this.remove(),n()}),{signal:e})})).finally((()=>Os(gS,this,yS).call(this)))),t.click()}function wS(){var t;const{div:e}=this;let{width:n,height:i}=js(rS,this);const[r,a]=this.pageDimensions,s=.75;if(this.width)n=this.width*r,i=this.height*a;else if(n>s*r||i>s*a){const t=Math.min(s*r/n,s*a/i);n*=t,i*=t}this._uiManager.enableWaiting(!1);const o=Ws(uS,this,document.createElement("canvas"));o.setAttribute("role","img"),this.addContainer(o),this.width=n/r,this.height=i/a,this.setDims(),null!==(t=this._initialOptions)&&void 0!==t&&t.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&!this.annotationElementId||(e.hidden=!1),Os(gS,this,_S).call(this),js(pS,this)||(this.parent.addUndoableEditor(this),Ws(pS,this,!0)),this._reportTelemetry({action:"inserted_image"}),js(cS,this)&&this.div.setAttribute("aria-description",js(cS,this)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}function xS(t,e){const{width:n,height:i}=js(rS,this);let r=n,a=i,s=js(rS,this);for(;r>2*t||a>2*e;){const n=r,i=a;r>2*t&&(r=r>=16384?Math.floor(r/2)-1:Math.ceil(r/2)),a>2*e&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const o=new OffscreenCanvas(r,a);o.getContext("2d").drawImage(s,0,0,n,i,0,0,r,a),s=o.transferToImageBitmap()}return s}function _S(){const[t,e]=this.parentDimensions,{width:n,height:i}=this,r=new Fl,a=Math.ceil(n*t*r.sx),s=Math.ceil(i*e*r.sy),o=js(uS,this);if(!o||o.width===a&&o.height===s)return;o.width=a,o.height=s;const l=js(fS,this)?js(rS,this):Os(gS,this,xS).call(this,a,s),c=o.getContext("2d");c.filter=this._uiManager.hcmFilter,c.drawImage(l,0,0,l.width,l.height,0,0,a,s)}function kS(t){if(t){if(js(fS,this)){const t=this._uiManager.imageManager.getSvgUrl(js(aS,this));if(t)return t}const t=document.createElement("canvas");({width:t.width,height:t.height}=js(rS,this));return t.getContext("2d").drawImage(js(rS,this),0,0),t.toDataURL()}if(js(fS,this)){const[t,e]=this.pageDimensions,n=Math.round(this.width*t*wl.PDF_TO_CSS_UNITS),i=Math.round(this.height*e*wl.PDF_TO_CSS_UNITS),r=new OffscreenCanvas(n,i);return r.getContext("2d").drawImage(js(rS,this),0,0,js(rS,this).width,js(rS,this).height,0,0,n,i),r.transferToImageBitmap()}return structuredClone(js(rS,this))}function SS(t){var e;const{pageIndex:n,accessibilityData:{altText:i}}=this._initialData,r=t.pageIndex===n,a=((null===(e=t.accessibilityData)||void 0===e?void 0:e.alt)||"")===i;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&r&&a,isSameAltText:a}}c(mS,"_type","stamp"),c(mS,"_editorType",wo.STAMP);var AS=new WeakMap,ES=new WeakMap,CS=new WeakMap,MS=new WeakMap,TS=new WeakMap,PS=new WeakMap,RS=new WeakMap,DS=new WeakMap,LS=new WeakMap,NS=new WeakMap,IS=new WeakMap,FS=new WeakMap,OS=new WeakMap,BS=new WeakMap,jS=new WeakMap,WS=new WeakMap,zS=new WeakSet;class US{constructor(t){let{uiManager:e,pageIndex:n,div:i,structTreeLayer:r,accessibilityManager:a,annotationLayer:s,drawLayer:o,textLayer:l,viewport:c,l10n:u}=t;Is(this,zS),Fs(this,AS,void 0),Fs(this,ES,!1),Fs(this,CS,null),Fs(this,MS,null),Fs(this,TS,null),Fs(this,PS,new Map),Fs(this,RS,!1),Fs(this,DS,!1),Fs(this,LS,!1),Fs(this,NS,null),Fs(this,IS,null),Fs(this,FS,null),Fs(this,OS,null),Fs(this,BS,null),Fs(this,jS,-1),Fs(this,WS,void 0);const h=[...KS._.values()];if(!US._initialized){US._initialized=!0;for(const t of h)t.initialize(u,e)}e.registerEditorTypes(h),Ws(WS,this,e),this.pageIndex=n,this.div=i,Ws(AS,this,a),Ws(CS,this,s),this.viewport=c,Ws(FS,this,l),this.drawLayer=o,this._structTree=r,js(WS,this).addLayer(this)}get isEmpty(){return 0===js(PS,this).size}get isInvisible(){return this.isEmpty&&js(WS,this).getMode()===wo.NONE}updateToolbar(t){js(WS,this).updateToolbar(t)}updateMode(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:js(WS,this).getMode();switch(Os(zS,this,YS).call(this),t){case wo.NONE:return this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),void this.disableClick();case wo.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case wo.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;if(e.toggle("nonEditing",!1),t===wo.POPUP)e.toggle("commentEditing",!0);else{e.toggle("commentEditing",!1);for(const n of KS._.values())e.toggle("".concat(n._type,"Editing"),t===n._editorType)}this.div.hidden=!1}hasTextLayer(t){var e;return t===(null===(e=js(FS,this))||void 0===e?void 0:e.div)}setEditingState(t){js(WS,this).setEditingState(t)}addCommands(t){js(WS,this).addCommands(t)}cleanUndoStack(t){js(WS,this).cleanUndoStack(t)}toggleDrawing(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.div.classList.toggle("drawing",!t)}togglePointerEvents(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(){var t;let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];null===(t=js(CS,this))||void 0===t||t.div.classList.toggle("disabled",!e)}async enable(){var t;Ws(LS,this,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),null===(t=js(BS,this))||void 0===t||t.abort(),Ws(BS,this,null);const e=new Set;for(const i of Bs(zS,this,HS))i.enableEditing(),i.show(!0),i.annotationElementId&&(js(WS,this).removeChangedExistingAnnotation(i),e.add(i.annotationElementId));const n=js(CS,this);if(n)for(const i of n.getEditableAnnotations()){if(i.hide(),js(WS,this).isDeletedAnnotationElement(i.data.id))continue;if(e.has(i.data.id))continue;const t=await this.deserialize(i);t&&(this.addOrRebuild(t),t.enableEditing())}Ws(LS,this,!1),js(WS,this)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){if(Ws(DS,this,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),js(FS,this)&&!js(BS,this)){Ws(BS,this,new AbortController);const t=js(WS,this).combinedSignal(js(BS,this));js(FS,this).div.addEventListener("pointerdown",(t=>{const{clientX:e,clientY:n,timeStamp:i}=t;if(i-js(jS,this)>500)return void Ws(jS,this,i);Ws(jS,this,-1);const{classList:r}=this.div;r.toggle("getElements",!0);const a=document.elementsFromPoint(e,n);if(r.toggle("getElements",!1),!this.div.contains(a[0]))return;let s;const o=new RegExp("^".concat(bo,"[0-9]+$"));for(const c of a)if(o.test(c.id)){s=c.id;break}if(!s)return;const l=js(PS,this).get(s);null===(null===l||void 0===l?void 0:l.annotationElementId)&&(t.stopPropagation(),t.preventDefault(),l.dblclick(t))}),{signal:t,capture:!0})}const t=js(CS,this);if(t){const n=new Map,i=new Map;for(const a of Bs(zS,this,HS)){var e;a.disableEditing(),a.annotationElementId?null===a.serialize()?(i.set(a.annotationElementId,a),null===(e=this.getEditableAnnotation(a.annotationElementId))||void 0===e||e.show(),a.remove()):n.set(a.annotationElementId,a):a.updateFakeAnnotationElement(t)}const r=t.getEditableAnnotations();for(const t of r){const{id:e}=t.data;if(js(WS,this).isDeletedAnnotationElement(e)){t.updateEdited({deleted:!0});continue}let r=i.get(e);r?(r.resetAnnotationElement(t),r.show(!1),t.show()):(r=n.get(e),r&&(js(WS,this).addChangedExistingAnnotation(r),r.renderAnnotationElement(t)&&r.show(!1)),t.show())}}Os(zS,this,YS).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const i of KS._.values())n.remove("".concat(i._type,"Editing"));this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),Ws(DS,this,!1)}getEditableAnnotation(t){var e;return(null===(e=js(CS,this))||void 0===e?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){js(WS,this).getActive()!==t&&js(WS,this).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,null!==(t=js(FS,this))&&void 0!==t&&t.div&&!js(OS,this)){Ws(OS,this,new AbortController);const t=js(WS,this).combinedSignal(js(OS,this));js(FS,this).div.addEventListener("pointerdown",Os(zS,this,VS).bind(this),{signal:t}),js(FS,this).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,null!==(t=js(FS,this))&&void 0!==t&&t.div&&js(OS,this)&&(js(OS,this).abort(),Ws(OS,this,null),js(FS,this).div.classList.remove("highlighting"))}enableClick(){if(js(MS,this))return;Ws(MS,this,new AbortController);const t=js(WS,this).combinedSignal(js(MS,this));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){var t;null===(t=js(MS,this))||void 0===t||t.abort(),Ws(MS,this,null)}attach(t){js(PS,this).set(t.id,t);const{annotationElementId:e}=t;e&&js(WS,this).isDeletedAnnotationElement(e)&&js(WS,this).removeDeletedAnnotationElement(t)}detach(t){var e;js(PS,this).delete(t.id),null===(e=js(AS,this))||void 0===e||e.removePointerInTextLayer(t.contentDiv),!js(DS,this)&&t.annotationElementId&&js(WS,this).addDeletedAnnotationElement(t)}remove(t){this.detach(t),js(WS,this).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(js(WS,this).addDeletedAnnotationElement(t.annotationElementId),vd.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),null===(e=t.parent)||void 0===e||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(t.parent!==this||!t.isAttachedToDOM){if(this.changeParent(t),js(WS,this).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!js(LS,this)),js(WS,this).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var e;if(!t.isAttachedToDOM)return;const{activeElement:n}=document;t.div.contains(n)&&!js(TS,this)&&(t._focusEventsAllowed=!1,Ws(TS,this,setTimeout((()=>{Ws(TS,this,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",(()=>{t._focusEventsAllowed=!0}),{once:!0,signal:js(WS,this)._signal}),n.focus())}),0))),t._structTreeParentId=null===(e=js(AS,this))||void 0===e?void 0:e.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){this.addCommands({cmd:()=>t._uiManager.rebuild(t),undo:()=>{t.remove()},mustExec:!1})}getEditorByUID(t){for(const e of js(PS,this).values())if(e.uid===t)return e;return null}getNextId(){return js(WS,this).getId()}combinedSignal(t){return js(WS,this).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return null===(t=Bs(zS,this,GS))||void 0===t?void 0:t.canCreateNewEmptyEditor()}async pasteEditor(t,e){this.updateToolbar(t),await js(WS,this).updateMode(t.mode);const{offsetX:n,offsetY:i}=Os(zS,this,XS).call(this),r=this.getNextId(),a=Os(zS,this,qS).call(this,h({parent:this,id:r,x:n,y:i,uiManager:js(WS,this),isCentered:!0},e));a&&this.add(a)}async deserialize(t){var e,n;return await(null===(e=KS._.get(null!==(n=t.annotationType)&&void 0!==n?n:t.annotationEditorType))||void 0===e?void 0:e.deserialize(t,this,js(WS,this)))||null}createAndAddNewEditor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=this.getNextId(),r=Os(zS,this,qS).call(this,h({parent:this,id:i,x:t.offsetX,y:t.offsetY,uiManager:js(WS,this),isCentered:e},n));return r&&this.add(r),r}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.createAndAddNewEditor(Os(zS,this,XS).call(this),!0,t)}setSelected(t){js(WS,this).setSelected(t)}toggleSelected(t){js(WS,this).toggleSelected(t)}unselect(t){js(WS,this).unselect(t)}pointerup(t){var e;const{isMac:n}=sl.platform;if(0!==t.button||t.ctrlKey&&n)return;if(t.target!==this.div)return;if(!js(RS,this))return;if(Ws(RS,this,!1),null!==(e=Bs(zS,this,GS))&&void 0!==e&&e.isDrawer&&Bs(zS,this,GS).supportMultipleDrawings)return;if(!js(ES,this))return void Ws(ES,this,!0);const i=js(WS,this).getMode();i!==wo.STAMP&&i!==wo.SIGNATURE?this.createAndAddNewEditor(t,!1):js(WS,this).unselectAll()}pointerdown(t){var e;if(js(WS,this).getMode()===wo.HIGHLIGHT&&this.enableTextSelection(),js(RS,this))return void Ws(RS,this,!1);const{isMac:n}=sl.platform;if(0!==t.button||t.ctrlKey&&n)return;if(t.target!==this.div)return;if(Ws(RS,this,!0),null!==(e=Bs(zS,this,GS))&&void 0!==e&&e.isDrawer)return void this.startDrawingSession(t);const i=js(WS,this).getActive();Ws(ES,this,!i||i.isEmpty())}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),js(NS,this))return void Bs(zS,this,GS).startDrawing(this,js(WS,this),!1,t);js(WS,this).setCurrentDrawingSession(this),Ws(NS,this,new AbortController);const e=js(WS,this).combinedSignal(js(NS,this));this.div.addEventListener("blur",(t=>{let{relatedTarget:e}=t;e&&!this.div.contains(e)&&(Ws(IS,this,null),this.commitOrRemove())}),{signal:e}),Bs(zS,this,GS).startDrawing(this,js(WS,this),!1,t)}pause(t){if(t){const{activeElement:t}=document;this.div.contains(t)&&Ws(IS,this,t)}else js(IS,this)&&setTimeout((()=>{var t;null===(t=js(IS,this))||void 0===t||t.focus(),Ws(IS,this,null)}),0)}endDrawingSession(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return js(NS,this)?(js(WS,this).setCurrentDrawingSession(null),js(NS,this).abort(),Ws(NS,this,null),Ws(IS,this,null),Bs(zS,this,GS).endDrawing(t)):null}findNewParent(t,e,n){const i=js(WS,this).findParent(e,n);return null!==i&&i!==this&&(i.changeParent(t),!0)}commitOrRemove(){return!!js(NS,this)&&(this.endDrawingSession(),!0)}onScaleChanging(){js(NS,this)&&Bs(zS,this,GS).onScaleChangingWhenDrawing(this)}destroy(){var t;this.commitOrRemove(),(null===(t=js(WS,this).getActive())||void 0===t?void 0:t.parent)===this&&(js(WS,this).commitOrRemove(),js(WS,this).setActiveEditor(null)),js(TS,this)&&(clearTimeout(js(TS,this)),Ws(TS,this,null));for(const n of js(PS,this).values()){var e;null===(e=js(AS,this))||void 0===e||e.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove()}this.div=null,js(PS,this).clear(),js(WS,this).removeLayer(this)}render(t){let{viewport:e}=t;this.viewport=e,Il(this.div,e);for(const n of js(WS,this).getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update(t){let{viewport:e}=t;js(WS,this).commitOrRemove(),Os(zS,this,YS).call(this);const n=this.viewport.rotation,i=e.rotation;if(this.viewport=e,Il(this.div,{rotation:i}),n!==i)for(const r of js(PS,this).values())r.rotate(i)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return js(WS,this).viewParameters.realScale}}function HS(t){return 0!==js(PS,t).size?js(PS,t).values():js(WS,t).getEditors(t.pageIndex)}function VS(t){js(WS,this).unselectAll();const{target:e}=t;if(e===js(FS,this).div||("img"===e.getAttribute("role")||e.classList.contains("endOfContent"))&&js(FS,this).div.contains(e)){const{isMac:e}=sl.platform;if(0!==t.button||t.ctrlKey&&e)return;js(WS,this).showAllEditors("highlight",!0,!0),js(FS,this).div.classList.add("free"),this.toggleDrawing(),b_.startHighlighting(this,"ltr"===js(WS,this).direction,{target:js(FS,this).div,x:t.x,y:t.y}),js(FS,this).div.addEventListener("pointerup",(()=>{js(FS,this).div.classList.remove("free"),this.toggleDrawing(!0)}),{once:!0,signal:js(WS,this)._signal}),t.preventDefault()}}function GS(t){return KS._.get(js(WS,t).getMode())}function qS(t){const e=Bs(zS,this,GS);return e?new e.prototype.constructor(t):null}function XS(){const{x:t,y:e,width:n,height:i}=this.boundingClientRect,r=Math.max(0,t),a=Math.max(0,e),s=(r+Math.min(window.innerWidth,t+n))/2-t,o=(a+Math.min(window.innerHeight,e+i))/2-e,[l,c]=this.viewport.rotation%180===0?[s,o]:[o,s];return{offsetX:l,offsetY:c}}function YS(){for(const t of js(PS,this).values())t.isEmpty()&&t.remove()}c(US,"_initialized",!1);var KS={_:new Map([qw,Nk,mS,b_,iS].map((t=>[t._editorType,t])))},QS=new WeakMap,$S=new WeakMap,JS=new WeakMap,ZS=new WeakSet;class tA{constructor(t){let{pageIndex:e}=t;Is(this,ZS),Fs(this,QS,null),Fs(this,$S,new Map),Fs(this,JS,new Map),this.pageIndex=e}setParent(t){if(js(QS,this)){if(js(QS,this)!==t){if(js($S,this).size>0)for(const e of js($S,this).values())e.remove(),t.append(e);Ws(QS,this,t)}}else Ws(QS,this,t)}static get _svgFactory(){return Qo(this,"_svgFactory",new Gy)}draw(t){var e,n;let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=(aA._=(e=aA._,n=e++,e),n),s=Os(ZS,this,nA).call(this),o=tA._svgFactory.createElement("defs");s.append(o);const l=tA._svgFactory.createElement("path");o.append(l);const c="path_p".concat(this.pageIndex,"_").concat(a);l.setAttribute("id",c),l.setAttribute("vector-effect","non-scaling-stroke"),i&&js(JS,this).set(a,l);const u=r?Os(ZS,this,iA).call(this,o,c):null,h=tA._svgFactory.createElement("use");return s.append(h),h.setAttribute("href","#".concat(c)),this.updateProperties(s,t),js($S,this).set(a,s),{id:a,clipPathId:"url(#".concat(u,")")}}drawOutline(t,e){var n,i;const r=(aA._=(n=aA._,i=n++,n),i),a=Os(ZS,this,nA).call(this),s=tA._svgFactory.createElement("defs");a.append(s);const o=tA._svgFactory.createElement("path");s.append(o);const l="path_p".concat(this.pageIndex,"_").concat(r);let c;if(o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke"),e){const t=tA._svgFactory.createElement("mask");s.append(t),c="mask_p".concat(this.pageIndex,"_").concat(r),t.setAttribute("id",c),t.setAttribute("maskUnits","objectBoundingBox");const e=tA._svgFactory.createElement("rect");t.append(e),e.setAttribute("width","1"),e.setAttribute("height","1"),e.setAttribute("fill","white");const n=tA._svgFactory.createElement("use");t.append(n),n.setAttribute("href","#".concat(l)),n.setAttribute("stroke","none"),n.setAttribute("fill","black"),n.setAttribute("fill-rule","nonzero"),n.classList.add("mask")}const u=tA._svgFactory.createElement("use");a.append(u),u.setAttribute("href","#".concat(l)),c&&u.setAttribute("mask","url(#".concat(c,")"));const h=u.cloneNode();return a.append(h),u.classList.add("mainOutline"),h.classList.add("secondaryOutline"),this.updateProperties(a,t),js($S,this).set(r,a),r}finalizeDraw(t,e){js(JS,this).delete(t),this.updateProperties(t,e)}updateProperties(t,e){if(!e)return;const{root:n,bbox:i,rootClass:r,path:a}=e,s="number"===typeof t?js($S,this).get(t):t;if(s){if(n&&Os(ZS,this,rA).call(this,s,n),i&&eA.call(tA,s,i),r){const{classList:t}=s;for(const[e,n]of Object.entries(r))t.toggle(e,n)}if(a){const t=s.firstChild.firstChild;Os(ZS,this,rA).call(this,t,a)}}}updateParent(t,e){if(e===this)return;const n=js($S,this).get(t);n&&(js(QS,e).append(n),js($S,this).delete(t),js($S,e).set(t,n))}remove(t){js(JS,this).delete(t),null!==js(QS,this)&&(js($S,this).get(t).remove(),js($S,this).delete(t))}destroy(){Ws(QS,this,null);for(const t of js($S,this).values())t.remove();js($S,this).clear(),js(JS,this).clear()}}function eA(t,e){let[n,i,r,a]=e;const{style:s}=t;s.top="".concat(100*i,"%"),s.left="".concat(100*n,"%"),s.width="".concat(100*r,"%"),s.height="".concat(100*a,"%")}function nA(){const t=ao._svgFactory.create(1,1,!0);return js(QS,this).append(t),t.setAttribute("aria-hidden",!0),t}function iA(t,e){const n=ao._svgFactory.createElement("clipPath");t.append(n);const i="clip_".concat(e);n.setAttribute("id",i),n.setAttribute("clipPathUnits","objectBoundingBox");const r=ao._svgFactory.createElement("use");return n.append(r),r.setAttribute("href","#".concat(e)),r.classList.add("clip"),i}function rA(t,e){for(const[n,i]of Object.entries(e))null===i?t.removeAttribute(n):t.setAttribute(n,i)}ao=tA;var aA={_:0};function sA(t){var e,n,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t)if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=sA(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}globalThis._pdfjsTestingUtils={HighlightOutliner:Hx},globalThis.pdfjsLib={AbortException:il,AnnotationEditorLayer:US,AnnotationEditorParamsType:xo,AnnotationEditorType:wo,AnnotationEditorUIManager:Tu,AnnotationLayer:Ow,AnnotationMode:yo,AnnotationType:To,applyOpacity:function(t,e,n,i){const r=255*(1-(i=Math.min(Math.max(null!==i&&void 0!==i?i:1,0),1)));return[t=Math.round(t*i+r),e=Math.round(e*i+r),n=Math.round(n*i+r)]},build:"f56dc8601",ColorPicker:My,createValidAbsoluteUrl:Yo,CSSConstants:class{static get commentForegroundColor(){const t=document.createElement("span");t.classList.add("comment","sidebar");const{style:e}=t;e.width=e.height="0",e.display="none",e.color="var(--comment-fg-color)",document.body.append(t);const{color:n}=window.getComputedStyle(t);return t.remove(),Qo(this,"commentForegroundColor",Dl(n))}},DOMSVGFactory:Gy,DrawLayer:tA,FeatureTest:sl,fetchData:xl,findContrastColor:function(t,e){const n=t[0]+256*t[1]+65536*t[2]+16777216*e[0]+4294967296*e[1]+1099511627776*e[2];let i=Hl.get(n);if(i)return i;const r=new Float32Array(9),a=r.subarray(0,3),s=r.subarray(3,6);jl(t,s);const o=r.subarray(6,9);jl(e,o);const l=o[2]<.5,c=l?12:4.5;if(s[2]=l?Math.sqrt(s[2]):1-Math.sqrt(1-s[2]),Ul(s,o,a)<c){let t,e;l?(t=s[2],e=1):(t=0,e=s[2]);const n=.005;for(;e-t>n;){const n=s[2]=(t+e)/2;l===Ul(s,o,a)<c?t=n:e=n}s[2]=l?e:t}return Wl(s,a),i=ll.makeHexColor(Math.round(255*a[0]),Math.round(255*a[1]),Math.round(255*a[2])),Hl.set(n,i),i},getDocument:Tv,getFilenameFromUrl:function(t){return[t]=t.split(/[#?]/,1),t.substring(t.lastIndexOf("/")+1)},getPdfFilenameFromUrl:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!==typeof t)return e;if(Sl(t))return Go('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=(t=>{try{return new URL(t)}catch(e){try{return new URL(decodeURIComponent(t))}catch(n){try{return new URL(t,"https://foo.bar")}catch(i){try{return new URL(decodeURIComponent(t),"https://foo.bar")}catch(r){return null}}}}})(t);if(!n)return e;const i=t=>{try{let e=decodeURIComponent(t);return e.includes("/")?(e=e.split("/").at(-1),e.test(/^\.pdf$/i)?e:t):e}catch(e){return t}},r=/\.pdf$/i,a=n.pathname.split("/").at(-1);if(r.test(a))return i(a);if(n.searchParams.size>0){const t=Array.from(n.searchParams.values()).reverse();for(const n of t)if(r.test(n))return i(n);const e=Array.from(n.searchParams.keys()).reverse();for(const n of e)if(r.test(n))return i(n)}if(n.hash){const t=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(t)return i(t[0])}return e},getRGB:Dl,getUuid:fl,getXfaPageViewport:function(t,e){let{scale:n=1,rotation:i=0}=e;const{width:r,height:a}=t.attributes.style,s=[0,0,parseInt(r),parseInt(a)];return new _l({viewBox:s,userUnit:1,scale:n,rotation:i})},GlobalWorkerOptions:am,ImageKind:Mo,InvalidPDFException:tl,isDataScheme:Sl,isPdfFile:Al,isValidExplicitDest:af,MathClamp:gl,noContextMenu:Ml,normalizeUnicode:function(t){return hl||(hl=/([\xA0\xB5\u037E\u0EB3\u2000-\u200A\u202F\u2126\uFB00-\uFB04\uFB06\uFB20-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBA1\uFBA4-\uFBA9\uFBAE-\uFBB1\uFBD3-\uFBDC\uFBDE-\uFBE7\uFBEA-\uFBF8\uFBFC\uFBFD\uFC00-\uFC5D\uFC64-\uFCF1\uFCF5-\uFD3D\uFD88\uFDF4\uFDFA\uFDFB\uFE71\uFE77\uFE79\uFE7B\uFE7D]+)|(\uFB05+)/g,dl=new Map([["\ufb05","\u017ft"]])),t.replaceAll(hl,((t,e,n)=>e?e.normalize("NFKC"):dl.get(n)))},OPS:Fo,OutputScale:Fl,PasswordResponses:{NEED_PASSWORD:1,INCORRECT_PASSWORD:2},PDFDataRangeTransport:Ov,PDFDateString:Pl,PDFWorker:Yv,PermissionFlag:{PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},PixelsPerInch:wl,RenderingCancelledException:kl,renderRichText:Vl,ResponseException:el,setLayerDimensions:Il,shadow:Qo,SignatureExtractor:Ok,stopEvent:Tl,SupportedImageMimeTypes:Ol,TextLayer:mv,TouchManager:Wh,updateUrlHash:Ko,Util:ll,VerbosityLevel:Io,version:my,XfaLayer:yl};const oA=function(){for(var t,e,n=0,i="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=sA(t))&&(i&&(i+=" "),i+=e);return i};var lA=Object.prototype.hasOwnProperty;function cA(t,e,n){for(n of t.keys())if(uA(n,e))return n}function uA(t,e){var n,i,r;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((i=t.length)===e.length)for(;i--&&uA(t[i],e[i]););return-1===i}if(n===Set){if(t.size!==e.size)return!1;for(i of t){if((r=i)&&"object"===typeof r&&!(r=cA(e,r)))return!1;if(!e.has(r))return!1}return!0}if(n===Map){if(t.size!==e.size)return!1;for(i of t){if((r=i[0])&&"object"===typeof r&&!(r=cA(e,r)))return!1;if(!uA(i[1],e.get(r)))return!1}return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((i=t.byteLength)===e.byteLength)for(;i--&&t.getInt8(i)===e.getInt8(i););return-1===i}if(ArrayBuffer.isView(t)){if((i=t.byteLength)===e.byteLength)for(;i--&&t[i]===e[i];);return-1===i}if(!n||"object"===typeof t){for(n in i=0,t){if(lA.call(t,n)&&++i&&!lA.call(e,n))return!1;if(!(n in e)||!uA(t[n],e[n]))return!1}return Object.keys(e).length===i}}return t!==t&&e!==e}function hA(t){let e=!1;const n=new Promise(((n,i)=>{t.then((t=>!e&&n(t))).catch((t=>!e&&i(t)))}));return{promise:n,cancel(){e=!0}}}const dA=["onCopy","onCut","onPaste","onCompositionEnd","onCompositionStart","onCompositionUpdate","onFocus","onBlur","onInput","onInvalid","onReset","onSubmit","onLoad","onError","onKeyDown","onKeyPress","onKeyUp","onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting","onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut","onScroll","onWheel","onAnimationStart","onAnimationEnd","onAnimationIteration","onTransitionEnd","onChange","onToggle"];function fA(t,e){const n={};for(const i of dA){const r=t[i];r&&(n[i]=e?t=>r(t,e(i)):r)}return n}var pA="Invariant failed";function gA(t,e){if(!t)throw new Error(pA)}var mA=n(440);const vA=(0,r.createContext)(null);class yA{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHash(){}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return gA(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){gA(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}addLinkAttributes(t,e,n){t.href=e,t.rel=this.externalLinkRel||"noopener noreferrer nofollow",t.target=n?"_blank":this.externalLinkTarget||""}goToDestination(t){return new Promise((e=>{gA(this.pdfDocument),gA(t),"string"===typeof t?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)})).then((t=>{gA(Array.isArray(t),'"'.concat(t,'" is not a valid destination array.'));const e=t[0];new Promise((t=>{gA(this.pdfDocument),e instanceof Object?this.pdfDocument.getPageIndex(e).then((e=>{t(e)})).catch((()=>{gA(!1,'"'.concat(e,'" is not a valid page reference.'))})):"number"===typeof e?t(e):gA(!1,'"'.concat(e,'" is not a valid destination reference.'))})).then((e=>{const n=e+1;gA(this.pdfViewer),gA(n>=1&&n<=this.pagesCount,'"'.concat(n,'" is not a valid page number.')),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:e,pageNumber:n})}))}))}goToPage(t){const e=t-1;gA(this.pdfViewer),gA(t>=1&&t<=this.pagesCount,'"'.concat(t,'" is not a valid page number.')),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}goToXY(){}cachePageRef(){}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}executeNamedAction(){}executeSetOCGState(){}isPageVisible(){return!0}isPageCached(){return!0}navigateTo(t){this.goToDestination(t)}}function bA(t){let{children:e,type:n}=t;return(0,ke.jsx)("div",{className:"react-pdf__message react-pdf__message--".concat(n),children:e})}const wA={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function xA(t,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return t}}function _A(){return(0,r.useReducer)(xA,{value:void 0,error:void 0})}const kA="undefined"!==typeof window,SA=kA&&"file:"===window.location.protocol;function AA(t){return function(t){return"undefined"!==typeof t}(t)&&null!==t}function EA(t){return function(t){return"string"===typeof t}(t)&&/^data:/.test(t)}function CA(t){gA(EA(t));const[e="",n=""]=t.split(",");return-1!==e.split(";").indexOf("base64")?atob(n):unescape(n)}function MA(){return kA&&window.devicePixelRatio||1}const TA="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function PA(){mA(!SA,"Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ".concat(TA))}function RA(t){(null===t||void 0===t?void 0:t.cancel)&&t.cancel()}function DA(t,e){return Object.defineProperty(t,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(t,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(t,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(t,"originalHeight",{get(){return this.view[3]},configurable:!0}),t}const LA=["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate","scale"],NA=["url"],{Tm:IA}=i,FA=(t,e)=>{switch(e){case wA.NEED_PASSWORD:t(prompt("Enter the password to open this PDF file."));break;case wA.INCORRECT_PASSWORD:t(prompt("Invalid password. Please try again."));break}};function OA(t){return"object"===typeof t&&null!==t&&("data"in t||"range"in t||"url"in t)}const BA=(0,r.forwardRef)((function(t,e){let{children:n,className:i,error:a="Failed to load PDF file.",externalLinkRel:o,externalLinkTarget:l,file:c,inputRef:u,imageResourcesPath:d,loading:f="Loading PDF\u2026",noData:p="No PDF file specified.",onItemClick:g,onLoadError:m,onLoadProgress:v,onLoadSuccess:y,onPassword:b=FA,onSourceError:w,onSourceSuccess:x,options:_,renderMode:k,rotate:S,scale:A}=t,E=s(t,LA);const[C,M]=_A(),{value:T,error:P}=C,[R,D]=_A(),{value:L,error:N}=R,I=(0,r.useRef)(new yA),F=(0,r.useRef)([]),O=(0,r.useRef)(void 0),B=(0,r.useRef)(void 0);c&&c!==O.current&&OA(c)&&(mA(!uA(c,O.current),'File prop passed to <Document /> changed, but it\'s equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.'),O.current=c),_&&_!==B.current&&(mA(!uA(_,B.current),'Options prop passed to <Document /> changed, but it\'s equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.'),B.current=_);const j=(0,r.useRef)({scrollPageIntoView:t=>{const{dest:e,pageNumber:n,pageIndex:i=n-1}=t;if(g)return void g({dest:e,pageIndex:i,pageNumber:n});const r=F.current[i];r?r.scrollIntoView():mA(!1,"An internal link leading to page ".concat(n," was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>."))}});(0,r.useImperativeHandle)(e,(()=>({linkService:I,pages:F,viewer:j})),[]),(0,r.useEffect)((function(){M({type:"RESET"})}),[c,M]);const W=(0,r.useCallback)((async()=>{if(!c)return null;if("string"===typeof c){if(EA(c)){return{data:CA(c)}}return PA(),{url:c}}if(c instanceof IA)return{range:c};if(c instanceof ArrayBuffer)return{data:c};if(kA&&function(t){return gA(kA),t instanceof Blob}(c)){const t=await function(t){return new Promise(((e,n)=>{const i=new FileReader;i.onload=()=>{if(!i.result)return n(new Error("Error while reading a file."));e(i.result)},i.onerror=t=>{if(!t.target)return n(new Error("Error while reading a file."));const{error:e}=t.target;if(!e)return n(new Error("Error while reading a file."));switch(e.code){case e.NOT_FOUND_ERR:return n(new Error("Error while reading a file: File not found."));case e.SECURITY_ERR:return n(new Error("Error while reading a file: Security error."));case e.ABORT_ERR:return n(new Error("Error while reading a file: Aborted."));default:return n(new Error("Error while reading a file."))}},i.readAsArrayBuffer(t)}))}(c);return{data:t}}if(gA("object"===typeof c),gA(OA(c)),"url"in c&&"string"===typeof c.url){if(EA(c.url)){const{url:t}=c,e=s(c,NA);return h({data:CA(t)},e)}PA()}return c}),[c]);(0,r.useEffect)((()=>{const t=hA(W());return t.promise.then((t=>{M({type:"RESOLVE",value:t})})).catch((t=>{M({type:"REJECT",error:t})})),()=>{RA(t)}}),[W,M]),(0,r.useEffect)((()=>{"undefined"!==typeof T&&(!1!==T?x&&x():P&&(mA(!1,P.toString()),w&&w(P)))}),[T]),(0,r.useEffect)((function(){D({type:"RESET"})}),[D,T]),(0,r.useEffect)((function(){if(!T)return;const t=Tv(_?h(h({},T),_):T);v&&(t.onProgress=v),b&&(t.onPassword=b);const e=t,n=e.promise.then((t=>{D({type:"RESOLVE",value:t})})).catch((t=>{e.destroyed||D({type:"REJECT",error:t})}));return()=>{n.finally((()=>e.destroy()))}}),[_,D,T]),(0,r.useEffect)((()=>{"undefined"!==typeof L&&(!1!==L?L&&(y&&y(L),F.current=new Array(L.numPages),I.current.setDocument(L)):N&&(mA(!1,N.toString()),m&&m(N)))}),[L]),(0,r.useEffect)((function(){I.current.setViewer(j.current),I.current.setExternalLinkRel(o),I.current.setExternalLinkTarget(l)}),[o,l]);const z=(0,r.useCallback)(((t,e)=>{F.current[t]=e}),[]),U=(0,r.useCallback)((t=>{delete F.current[t]}),[]),H=(0,r.useMemo)((()=>({imageResourcesPath:d,linkService:I.current,onItemClick:g,pdf:L,registerPage:z,renderMode:k,rotate:S,scale:A,unregisterPage:U})),[d,g,L,z,k,S,A,U]),V=(0,r.useMemo)((()=>fA(E,(()=>L))),[E,L]);return(0,ke.jsx)("div",h(h({className:oA("react-pdf__Document",i),ref:u},V),{},{children:c?void 0===L||null===L?(0,ke.jsx)(bA,{type:"loading",children:"function"===typeof f?f():f}):!1===L?(0,ke.jsx)(bA,{type:"error",children:"function"===typeof a?a():a}):function(){if(t=H,!Boolean(null===t||void 0===t?void 0:t.pdf))throw new Error("pdf is undefined");var t;const e="function"===typeof n?n(H):n;return(0,ke.jsx)(vA.Provider,{value:H,children:e})}():(0,ke.jsx)(bA,{type:"no-data",children:"function"===typeof p?p():p})}))})),jA=BA;function WA(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.filter(Boolean);return n.length<=1?n[0]||null:function(t){for(var e=0,i=n;e<i.length;e++){var r=i[e];"function"===typeof r?r(t):r&&(r.current=t)}}}function zA(){return(0,r.useContext)(vA)}const UA=(0,r.createContext)(null);function HA(){return(0,r.useContext)(UA)}function VA(){const t=zA(),e=HA();gA(e);const n=h(h({},t),e),{imageResourcesPath:i,linkService:a,onGetAnnotationsError:s,onGetAnnotationsSuccess:o,onRenderAnnotationLayerError:l,onRenderAnnotationLayerSuccess:c,page:u,pdf:d,renderForms:f,rotate:p,scale:g=1}=n;gA(d),gA(u),gA(a);const[m,v]=_A(),{value:y,error:b}=m,w=(0,r.useRef)(null);mA(1===Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10),"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations"),(0,r.useEffect)((function(){v({type:"RESET"})}),[v,u]),(0,r.useEffect)((function(){if(!u)return;const t=hA(u.getAnnotations()),e=t;return t.promise.then((t=>{v({type:"RESOLVE",value:t})})).catch((t=>{v({type:"REJECT",error:t})})),()=>{RA(e)}}),[v,u]),(0,r.useEffect)((()=>{void 0!==y&&(!1!==y?y&&o&&o(y):b&&(mA(!1,b.toString()),s&&s(b)))}),[y]);const x=(0,r.useMemo)((()=>u.getViewport({scale:g,rotation:p})),[u,p,g]);return(0,r.useEffect)((function(){if(!d||!u||!a||!y)return;const{current:t}=w;if(!t)return;const e=x.clone({dontFlip:!0}),n={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,annotationStorage:d.annotationStorage,commentManager:null,div:t,l10n:null,linkService:a,page:u,structTreeLayer:null,viewport:e},r={annotations:y,annotationStorage:d.annotationStorage,div:t,imageResourcesPath:i,linkService:a,page:u,renderForms:f,viewport:e};t.innerHTML="";try{new Ow(n).render(r),c&&c()}catch(s){!function(t){mA(!1,"".concat(t)),l&&l(t)}(s)}return()=>{}}),[y,i,a,u,d,f,x]),(0,ke.jsx)("div",{className:oA("react-pdf__Page__annotations","annotationLayer"),ref:w})}const GA={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},qA=/^H(\d+)$/;function XA(t){return"children"in t}function YA(t){return!!XA(t)&&(1===t.children.length&&0 in t.children&&"id"in t.children[0])}function KA(t){const e={};if(XA(t)){const{role:n}=t,i=n.match(qA);if(i)e.role="heading",e["aria-level"]=Number(i[1]);else if(function(t){return t in GA}(n)){const t=GA[n];t&&(e.role=t)}}return e}function QA(t){const e={};if(XA(t)){if(void 0!==t.alt&&(e["aria-label"]=t.alt),void 0!==t.lang&&(e.lang=t.lang),YA(t)){const[n]=t.children;if(n){const t=QA(n);return h(h({},e),t)}}}else"id"in t&&(e["aria-owns"]=t.id);return e}function $A(t){return t?h(h({},KA(t)),QA(t)):null}function JA(t){let{className:e,node:n}=t;const i=(0,r.useMemo)((()=>$A(n)),[n]),a=(0,r.useMemo)((()=>XA(n)?YA(n)?null:n.children.map(((t,e)=>(0,ke.jsx)(JA,{node:t},e))):null),[n]);return(0,ke.jsx)("span",h(h({className:e},i),{},{children:a}))}function ZA(){const t=HA();gA(t);const{onGetStructTreeError:e,onGetStructTreeSuccess:n}=t,[i,a]=_A(),{value:s,error:o}=i,{customTextRenderer:l,page:c}=t;return(0,r.useEffect)((function(){a({type:"RESET"})}),[a,c]),(0,r.useEffect)((function(){if(l)return;if(!c)return;const t=hA(c.getStructTree()),e=t;return t.promise.then((t=>{a({type:"RESOLVE",value:t})})).catch((t=>{a({type:"REJECT",error:t})})),()=>RA(e)}),[l,c,a]),(0,r.useEffect)((()=>{void 0!==s&&(!1!==s?s&&n&&n(s):o&&(mA(!1,o.toString()),e&&e(o)))}),[s]),s?(0,ke.jsx)(JA,{className:"react-pdf__Page__structTree structTree",node:s}):null}const tE=yo;function eE(t){const e=HA();gA(e);const n=h(h({},e),t),{_className:i,canvasBackground:a,devicePixelRatio:s=MA(),onRenderError:o,onRenderSuccess:l,page:c,renderForms:u,renderTextLayer:d,rotate:f,scale:p}=n,{canvasRef:g}=t;gA(c);const m=(0,r.useRef)(null);function v(t){(function(t){return"RenderingCancelledException"===t.name})(t)||(mA(!1,t.toString()),o&&o(t))}const y=(0,r.useMemo)((()=>c.getViewport({scale:p*s,rotation:f})),[s,c,f,p]),b=(0,r.useMemo)((()=>c.getViewport({scale:p,rotation:f})),[c,f,p]);(0,r.useEffect)((function(){if(!c)return;c.cleanup();const{current:t}=m;if(!t)return;t.width=y.width,t.height=y.height,t.style.width="".concat(Math.floor(b.width),"px"),t.style.height="".concat(Math.floor(b.height),"px"),t.style.visibility="hidden";const e={annotationMode:u?tE.ENABLE_FORMS:tE.ENABLE,canvas:t,canvasContext:t.getContext("2d",{alpha:!1}),viewport:y};a&&(e.background=a);const n=c.render(e),i=n;return n.promise.then((()=>{t.style.visibility="",c&&l&&l(DA(c,p))})).catch(v),()=>RA(i)}),[a,c,u,y,b]);const w=(0,r.useCallback)((()=>{const{current:t}=m;t&&(t.width=0,t.height=0)}),[]);return(0,r.useEffect)((()=>w),[w]),(0,ke.jsx)("canvas",{className:"".concat(i,"__canvas"),dir:"ltr",ref:WA(g,m),style:{display:"block",userSelect:"none"},children:d?(0,ke.jsx)(ZA,{}):null})}function nE(){const t=HA();gA(t);const{customTextRenderer:e,onGetTextError:n,onGetTextSuccess:i,onRenderTextLayerError:a,onRenderTextLayerSuccess:s,page:o,pageIndex:l,pageNumber:c,rotate:u,scale:d}=t;gA(o);const[f,p]=_A(),{value:g,error:m}=f,v=(0,r.useRef)(null);mA(1===Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10),"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer"),(0,r.useEffect)((function(){p({type:"RESET"})}),[o,p]),(0,r.useEffect)((function(){if(!o)return;const t=hA(o.getTextContent()),e=t;return t.promise.then((t=>{p({type:"RESOLVE",value:t})})).catch((t=>{p({type:"REJECT",error:t})})),()=>RA(e)}),[o,p]),(0,r.useEffect)((()=>{void 0!==g&&(!1!==g?g&&i&&i(g):m&&(mA(!1,m.toString()),n&&n(m)))}),[g]);const y=(0,r.useCallback)((()=>{s&&s()}),[s]),b=(0,r.useCallback)((t=>{mA(!1,t.toString()),a&&a(t)}),[a]);const w=(0,r.useMemo)((()=>o.getViewport({scale:d,rotation:u})),[o,u,d]);return(0,r.useLayoutEffect)((function(){if(!o||!g)return;const{current:t}=v;if(!t)return;t.innerHTML="";const n=o.streamTextContent({includeMarkedContent:!0}),i=new mv({container:t,textContentSource:n,viewport:w}),r=i;return i.render().then((()=>{const n=document.createElement("div");n.className="endOfContent",t.append(n);const i=t.querySelectorAll('[role="presentation"]');if(e){let t=0;g.items.forEach(((n,r)=>{if(!function(t){return"str"in t}(n))return;const a=i[t];if(!a)return;const s=e(h({pageIndex:l,pageNumber:c,itemIndex:r},n));a.innerHTML=s,t+=n.str&&n.hasEOL?2:1}))}y()})).catch(b),()=>RA(r)}),[e,b,y,o,l,c,g,w]),(0,ke.jsx)("div",{className:oA("react-pdf__Page__textContent","textLayer"),onMouseUp:function(){const t=v.current;t&&t.classList.remove("selecting")},onMouseDown:function(){const t=v.current;t&&t.classList.add("selecting")},ref:v})}const iE=["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"],rE=1;function aE(t){const e=h(h({},zA()),t),{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:i=!0,canvasBackground:a,canvasRef:o,children:l,className:c,customRenderer:u,customTextRenderer:d,devicePixelRatio:f,error:p="Failed to load the page.",height:g,inputRef:m,loading:v="Loading page\u2026",noData:y="No page specified.",onGetAnnotationsError:b,onGetAnnotationsSuccess:w,onGetStructTreeError:x,onGetStructTreeSuccess:_,onGetTextError:k,onGetTextSuccess:S,onLoadError:A,onLoadSuccess:E,onRenderAnnotationLayerError:C,onRenderAnnotationLayerSuccess:M,onRenderError:T,onRenderSuccess:P,onRenderTextLayerError:R,onRenderTextLayerSuccess:D,pageIndex:L,pageNumber:N,pdf:I,registerPage:F,renderAnnotationLayer:O=!0,renderForms:B=!1,renderMode:j="canvas",renderTextLayer:W=!0,rotate:z,scale:U=rE,unregisterPage:H,width:V}=e,G=s(e,iE),[q,X]=_A(),{value:Y,error:K}=q,Q=(0,r.useRef)(null);gA(I);const $=AA(N)?N-1:null!==L&&void 0!==L?L:null,J=null!==N&&void 0!==N?N:AA(L)?L+1:null,Z=null!==z&&void 0!==z?z:Y?Y.rotate:null,tt=(0,r.useMemo)((()=>{if(!Y)return null;let t=1;const e=null!==U&&void 0!==U?U:rE;if(V||g){const e=Y.getViewport({scale:1,rotation:Z});V?t=V/e.width:g&&(t=g/e.height)}return e*t}),[g,Y,Z,U,V]);(0,r.useEffect)((function(){return()=>{AA($)&&i&&H&&H($)}}),[i,I,$,H]),(0,r.useEffect)((function(){X({type:"RESET"})}),[X,I,$]),(0,r.useEffect)((function(){if(!I||!J)return;const t=hA(I.getPage(J)),e=t;return t.promise.then((t=>{X({type:"RESOLVE",value:t})})).catch((t=>{X({type:"REJECT",error:t})})),()=>RA(e)}),[X,I,J]),(0,r.useEffect)((()=>{void 0!==Y&&(!1!==Y?function(){if(E){if(!Y||!tt)return;E(DA(Y,tt))}if(i&&F){if(!AA($)||!Q.current)return;F($,Q.current)}}():K&&(mA(!1,K.toString()),A&&A(K)))}),[Y,tt]);const et=(0,r.useMemo)((()=>AA($)&&J&&AA(Z)&&AA(tt)?{_className:n,canvasBackground:a,customTextRenderer:d,devicePixelRatio:f,onGetAnnotationsError:b,onGetAnnotationsSuccess:w,onGetStructTreeError:x,onGetStructTreeSuccess:_,onGetTextError:k,onGetTextSuccess:S,onRenderAnnotationLayerError:C,onRenderAnnotationLayerSuccess:M,onRenderError:T,onRenderSuccess:P,onRenderTextLayerError:R,onRenderTextLayerSuccess:D,page:Y,pageIndex:$,pageNumber:J,renderForms:B,renderTextLayer:W,rotate:Z,scale:tt}:null),[n,a,d,f,b,w,x,_,k,S,C,M,T,P,R,D,Y,$,J,B,W,Z,tt]),nt=(0,r.useMemo)((()=>fA(G,(()=>Y?tt?DA(Y,tt):void 0:Y))),[G,Y,tt]),it="".concat($,"@").concat(tt,"/").concat(Z);function rt(){switch(j){case"custom":return gA(u),(0,ke.jsx)(u,{},"".concat(it,"_custom"));case"none":return null;default:return(0,ke.jsx)(eE,{canvasRef:o},"".concat(it,"_canvas"))}}return(0,ke.jsx)("div",h(h({className:oA(n,c),"data-page-number":J,ref:WA(m,Q),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":"".concat(tt),"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:a||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},nt),{},{children:J?null===I||void 0===Y||null===Y?(0,ke.jsx)(bA,{type:"loading",children:"function"===typeof v?v():v}):!1===I||!1===Y?(0,ke.jsx)(bA,{type:"error",children:"function"===typeof p?p():p}):function(){if(t=et,!Boolean(null===t||void 0===t?void 0:t.page))throw new Error("page is undefined");var t;const e="function"===typeof l?l(et):l;return(0,ke.jsxs)(UA.Provider,{value:et,children:[rt(),W?(0,ke.jsx)(nE,{},"".concat(it,"_text")):null,O?(0,ke.jsx)(VA,{},"".concat(it,"_annotations")):null,e]})}():(0,ke.jsx)(bA,{type:"no-data",children:"function"===typeof y?y():y})}))}function sE(){const t="diploma"===new URLSearchParams(window.location.search).get("doc")?"diploma":"resume",[e,n]=r.useState(t),[i,a]=(0,r.useState)(!1),[s,o]=(0,r.useState)(0),l=(0,r.useMemo)((()=>({resume:{label:"Resume",url:"".concat("/hyder","/HyderMohyuddin-Resume.pdf")},diploma:{label:"Diploma",url:"".concat("/hyder","/HyderMohyuddin-Diploma.pdf")}})),[]),c=l[e];(0,r.useEffect)((()=>{var t;const e=window.matchMedia("(max-width: 900px)"),n=()=>a(e.matches);return n(),null===(t=e.addEventListener)||void 0===t||t.call(e,"change",n),()=>{var t;return null===(t=e.removeEventListener)||void 0===t?void 0:t.call(e,"change",n)}}),[]);const u=(0,r.useRef)(null),[h,d]=(0,r.useState)(800);return(0,r.useEffect)((()=>{if(!i)return;const t=u.current;if(!t)return;const e=new ResizeObserver((t=>{let[e]=t;const n=Math.floor(e.contentRect.width);d(Math.max(320,Math.min(1200,n)))}));return e.observe(t),()=>e.disconnect()}),[i]),(0,r.useEffect)((()=>{o(0)}),[e]),(0,ke.jsxs)("div",{className:"resume-pdf-wrapper",children:[(0,ke.jsx)("div",{className:"doc-toggle",role:"tablist","aria-label":"Document selector",children:["resume","diploma"].map((t=>(0,ke.jsx)("button",{role:"tab","aria-selected":e===t,"aria-controls":"pdf-viewer",className:"doc-toggle-btn ".concat(e===t?"active":""),onClick:()=>n(t),children:l[t].label},t)))}),i?(0,ke.jsxs)("div",{className:"pdf-viewport",children:[(0,ke.jsxs)("div",{className:"pdf-actions",role:"group","aria-label":"Current document actions",children:[(0,ke.jsxs)("a",{className:"icon-btn",href:c.url,target:"_blank",rel:"noopener noreferrer","aria-label":"Open ".concat(c.label," in a new tab"),title:"Open ".concat(c.label," in a new tab"),children:[(0,ke.jsxs)("svg",{viewBox:"0 0 24 24","aria-hidden":"true",children:[(0,ke.jsx)("path",{d:"M14 3h7v7h-2V6.41l-9.29 9.3-1.42-1.42 9.3-9.29H14V3z"}),(0,ke.jsx)("path",{d:"M19 21H5a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h7v2H5v14h14v-7h2v7a2 2 0 0 1-2 2z"})]}),(0,ke.jsx)("span",{className:"sr-only",children:"Open"})]}),(0,ke.jsxs)("a",{className:"icon-btn",href:c.url,download:!0,"aria-label":"Download ".concat(c.label," PDF"),title:"Download ".concat(c.label," PDF"),children:[(0,ke.jsxs)("svg",{viewBox:"0 0 24 24","aria-hidden":"true",children:[(0,ke.jsx)("path",{d:"M12 3v10.59l3.3-3.3 1.4 1.42-5 5-5-5 1.4-1.42 3.3 3.3V3h2z"}),(0,ke.jsx)("path",{d:"M5 19h14v2H5z"})]}),(0,ke.jsx)("span",{className:"sr-only",children:"Download"})]})]}),(0,ke.jsx)("div",{id:"pdf-viewer",className:"pdf-scroll",ref:u,children:(0,ke.jsx)(jA,{file:c.url,onLoadSuccess:t=>{let{numPages:e}=t;return o(e)},onLoadError:t=>console.error("PDF load error:",t),loading:(0,ke.jsx)("div",{className:"pdf-loading",children:"Loading\u2026"}),error:(0,ke.jsx)("div",{className:"pdf-loading",children:"Failed to load PDF."}),noData:(0,ke.jsx)("div",{className:"pdf-loading",children:"No PDF file specified."}),children:s>0&&Array.from({length:s},((t,e)=>(0,ke.jsx)(aE,{pageNumber:e+1,width:h,renderTextLayer:!1,renderAnnotationLayer:!1},"p_".concat(e+1))))},c.url)})]}):(0,ke.jsx)("object",{id:"pdf-viewer",data:"".concat(c.url,"#toolbar=0&navpanes=0&scrollbar=1"),type:"application/pdf",className:"resume-pdf-frame","aria-label":"".concat(c.label," PDF"),children:(0,ke.jsxs)("p",{className:"resume-fallback",children:["Your device can\u2019t display the PDF inline.\xa0",(0,ke.jsx)("a",{href:c.url,target:"_blank",rel:"noopener noreferrer",children:"Open"}),"\xa0or\xa0",(0,ke.jsx)("a",{href:c.url,download:!0,children:"download"})," the ",c.label,"."]})})]})}am.workerSrc="https://unpkg.com/pdfjs-dist@".concat(my,"/build/pdf.worker.min.mjs");const oE={SkillsMap:{component:(0,ke.jsx)(_s,{}),path:"/skills",label:"Skills",accentA:"#ff72a1",accentB:"#ffb8d0"},Projects:{component:(0,ke.jsx)(Rs,{}),path:"/projects",label:"Projects",accentA:"#b48bff",accentB:"#92a2ff"},About:{component:(0,ke.jsx)(Ds,{}),path:"/about",label:"About",accentA:"#7fd3ff",accentB:"#9fe1ff"},Resume:{component:(0,ke.jsx)(sE,{}),path:"/resume",label:"Resume",accentA:"#78ffa8",accentB:"#c7ffd8"}};function lE(){const t=dt();return(0,ke.jsx)("nav",{className:"nav-bar",role:"navigation","aria-label":"Main Navigation",children:Object.entries(oE).map((e=>{let[n,{path:i,label:r,accentA:a,accentB:s}]=e;return(0,ke.jsx)(ge,{to:i,className:"nav-link ".concat(t.pathname===i?"active":""),"aria-current":t.pathname===i?"page":void 0,style:{"--accentA":a,"--accentB":s},children:(0,ke.jsx)("span",{className:"nav-label",children:r})},n)}))})}function cE(){const[t,e]=(0,r.useState)(!1),n=dt();(0,r.useEffect)((()=>{requestAnimationFrame((()=>e(!0)))}),[]);const i="/"===n.pathname;return(0,ke.jsxs)(ke.Fragment,{children:[(0,ke.jsx)("div",{id:"bg-animation"}),(0,ke.jsxs)("div",{className:"App ".concat(t?"visible":""),children:[!i&&(0,ke.jsxs)("header",{className:"App-header",children:[(0,ke.jsx)(ge,{to:"/",className:"site-title site-title-link","aria-label":"Go to landing",children:"Hyder Mohyuddin"}),(0,ke.jsx)(lE,{})]}),(0,ke.jsx)("main",{className:"App-main",children:(0,ke.jsxs)(Dt,{children:[(0,ke.jsx)(Pt,{path:"/",element:(0,ke.jsx)(Me,{})}),Object.entries(oE).map((t=>{let[e,{path:n,component:i}]=t;return(0,ke.jsx)(Pt,{path:n,element:i},e)}))]})})]})]})}function uE(){return(0,ke.jsx)(fe,{children:(0,ke.jsx)(cE,{})})}const hE=t=>{t&&t instanceof Function&&n.e(453).then(n.bind(n,453)).then((e=>{let{getCLS:n,getFID:i,getFCP:r,getLCP:a,getTTFB:s}=e;n(t),i(t),r(t),a(t),s(t)}))};document.addEventListener("DOMContentLoaded",(()=>{const t=document.getElementById("bg-animation");if(t&&0===t.childNodes.length)for(let e=0;e<60;e++){const e=document.createElement("div");e.className="bg-dot",e.style.left="".concat(100*Math.random(),"vw"),e.style.top="".concat(100+100*Math.random(),"vh"),e.style.animationDuration="".concat(10+30*Math.random(),"s"),t.appendChild(e)}}));a.createRoot(document.getElementById("root")).render((0,ke.jsx)(r.StrictMode,{children:(0,ke.jsx)(uE,{})})),hE()})();
//# sourceMappingURL=main.16b149c7.js.map