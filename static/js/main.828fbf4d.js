/*! For license information please see main.828fbf4d.js.LICENSE.txt */
(()=>{"use strict";var t={4:(t,e,n)=>{var i=n(853),r=n(43),a=n(950);function s(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function l(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(4098&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function c(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function u(t){if(l(t)!==t)throw Error(s(188))}function h(t){var e=t.tag;if(5===e||26===e||27===e||6===e)return t;for(t=t.child;null!==t;){if(null!==(e=h(t)))return e;t=t.sibling}return null}var d=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),x=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),E=Symbol.for("react.lazy");Symbol.for("react.scope");var C=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var M=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var T=Symbol.iterator;function P(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=T&&t[T]||t["@@iterator"])?t:null}var R=Symbol.for("react.client.reference");function D(t){if(null==t)return null;if("function"===typeof t)return t.$$typeof===R?null:t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case m:return"Fragment";case y:return"Profiler";case v:return"StrictMode";case k:return"Suspense";case S:return"SuspenseList";case C:return"Activity"}if("object"===typeof t)switch(t.$$typeof){case g:return"Portal";case x:return(t.displayName||"Context")+".Provider";case w:return(t._context.displayName||"Context")+".Consumer";case _:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case A:return null!==(e=t.displayName||null)?e:D(t.type)||"Memo";case E:e=t._payload,t=t._init;try{return D(t(e))}catch(n){}}return null}var N=Array.isArray,L=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},O=[],B=-1;function j(t){return{current:t}}function W(t){0>B||(t.current=O[B],O[B]=null,B--)}function z(t,e){B++,O[B]=t.current,t.current=e}var U=j(null),H=j(null),V=j(null),G=j(null);function q(t,e){switch(z(V,e),z(H,t),z(U,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?rh(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)t=ah(e=rh(e),t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}W(U),z(U,t)}function X(){W(U),W(H),W(V)}function Y(t){null!==t.memoizedState&&z(G,t);var e=U.current,n=ah(e,t.type);e!==n&&(z(H,t),z(U,n))}function K(t){H.current===t&&(W(U),W(H)),G.current===t&&(W(G),Yh._currentValue=F)}var Q=Object.prototype.hasOwnProperty,$=i.unstable_scheduleCallback,J=i.unstable_cancelCallback,Z=i.unstable_shouldYield,tt=i.unstable_requestPaint,et=i.unstable_now,nt=i.unstable_getCurrentPriorityLevel,it=i.unstable_ImmediatePriority,rt=i.unstable_UserBlockingPriority,at=i.unstable_NormalPriority,st=i.unstable_LowPriority,ot=i.unstable_IdlePriority,lt=i.log,ct=i.unstable_setDisableYieldValue,ut=null,ht=null;function dt(t){if("function"===typeof lt&&ct(t),ht&&"function"===typeof ht.setStrictMode)try{ht.setStrictMode(ut,t)}catch(e){}}var ft=Math.clz32?Math.clz32:function(t){return t>>>=0,0===t?32:31-(pt(t)/gt|0)|0},pt=Math.log,gt=Math.LN2;var mt=256,vt=4194304;function yt(t){var e=42&t;if(0!==e)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&t;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&t;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function bt(t,e,n){var i=t.pendingLanes;if(0===i)return 0;var r=0,a=t.suspendedLanes,s=t.pingedLanes;t=t.warmLanes;var o=134217727&i;return 0!==o?0!==(i=o&~a)?r=yt(i):0!==(s&=o)?r=yt(s):n||0!==(n=o&~t)&&(r=yt(n)):0!==(o=i&~a)?r=yt(o):0!==s?r=yt(s):n||0!==(n=i&~t)&&(r=yt(n)),0===r?0:0!==e&&e!==r&&0===(e&a)&&((a=r&-r)>=(n=e&-e)||32===a&&0!==(4194048&n))?e:r}function wt(t,e){return 0===(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)}function xt(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function _t(){var t=mt;return 0===(4194048&(mt<<=1))&&(mt=256),t}function kt(){var t=vt;return 0===(62914560&(vt<<=1))&&(vt=4194304),t}function St(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function At(t,e){t.pendingLanes|=e,268435456!==e&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Et(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-ft(e);t.entangledLanes|=e,t.entanglements[i]=1073741824|t.entanglements[i]|4194090&n}function Ct(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-ft(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}function Mt(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Tt(t){return 2<(t&=-t)?8<t?0!==(134217727&t)?32:268435456:8:2}function Pt(){var t=I.p;return 0!==t?t:void 0===(t=window.event)?32:cd(t.type)}var Rt=Math.random().toString(36).slice(2),Dt="__reactFiber$"+Rt,Nt="__reactProps$"+Rt,Lt="__reactContainer$"+Rt,It="__reactEvents$"+Rt,Ft="__reactListeners$"+Rt,Ot="__reactHandles$"+Rt,Bt="__reactResources$"+Rt,jt="__reactMarker$"+Rt;function Wt(t){delete t[Dt],delete t[Nt],delete t[It],delete t[Ft],delete t[Ot]}function zt(t){var e=t[Dt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Lt]||n[Dt]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=bh(t);null!==t;){if(n=t[Dt])return n;t=bh(t)}return e}n=(t=n).parentNode}return null}function Ut(t){if(t=t[Dt]||t[Lt]){var e=t.tag;if(5===e||6===e||13===e||26===e||27===e||3===e)return t}return null}function Ht(t){var e=t.tag;if(5===e||26===e||27===e||6===e)return t.stateNode;throw Error(s(33))}function Vt(t){var e=t[Bt];return e||(e=t[Bt]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Gt(t){t[jt]=!0}var qt=new Set,Xt={};function Yt(t,e){Kt(t,e),Kt(t+"Capture",e)}function Kt(t,e){for(Xt[t]=e,t=0;t<e.length;t++)qt.add(e[t])}var Qt,$t,Jt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zt={},te={};function ee(t,e,n){if(r=e,Q.call(te,r)||!Q.call(Zt,r)&&(Jt.test(r)?te[r]=!0:(Zt[r]=!0,0)))if(null===n)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":return void t.removeAttribute(e);case"boolean":var i=e.toLowerCase().slice(0,5);if("data-"!==i&&"aria-"!==i)return void t.removeAttribute(e)}t.setAttribute(e,""+n)}var r}function ne(t,e,n){if(null===n)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void t.removeAttribute(e)}t.setAttribute(e,""+n)}}function ie(t,e,n,i){if(null===i)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":return void t.removeAttribute(n)}t.setAttributeNS(e,n,""+i)}}function re(t){if(void 0===Qt)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Qt=e&&e[1]||"",$t=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Qt+t+$t}var ae=!1;function se(t,e){if(!t||ae)return"";ae=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(r){var i=r}Reflect.construct(t,[],n)}else{try{n.call()}catch(a){i=a}t.call(n.prototype)}}else{try{throw Error()}catch(s){i=s}(n=t())&&"function"===typeof n.catch&&n.catch((function(){}))}}catch(o){if(o&&i&&"string"===typeof o.stack)return[o.stack,i.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=i.DetermineComponentFrameRoot(),s=a[0],o=a[1];if(s&&o){var l=s.split("\n"),c=o.split("\n");for(r=i=0;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(i===l.length||r===c.length)for(i=l.length-1,r=c.length-1;1<=i&&0<=r&&l[i]!==c[r];)r--;for(;1<=i&&0<=r;i--,r--)if(l[i]!==c[r]){if(1!==i||1!==r)do{if(i--,0>--r||l[i]!==c[r]){var u="\n"+l[i].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}}while(1<=i&&0<=r);break}}}finally{ae=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?re(n):""}function oe(t){switch(t.tag){case 26:case 27:case 5:return re(t.type);case 16:return re("Lazy");case 13:return re("Suspense");case 19:return re("SuspenseList");case 0:case 15:return se(t.type,!1);case 11:return se(t.type.render,!1);case 1:return se(t.type,!0);case 31:return re("Activity");default:return""}}function le(t){try{var e="";do{e+=oe(t),t=t.return}while(t);return e}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ce(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function ue(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function he(t){t._valueTracker||(t._valueTracker=function(t){var e=ue(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(t){i=""+t,a.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(t){i=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function de(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=ue(t)?t.checked?"true":"false":t.value),(t=i)!==n&&(e.setValue(t),!0)}function fe(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}var pe=/[\n"\\]/g;function ge(t){return t.replace(pe,(function(t){return"\\"+t.charCodeAt(0).toString(16)+" "}))}function me(t,e,n,i,r,a,s,o){t.name="",null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?t.type=s:t.removeAttribute("type"),null!=e?"number"===s?(0===e&&""===t.value||t.value!=e)&&(t.value=""+ce(e)):t.value!==""+ce(e)&&(t.value=""+ce(e)):"submit"!==s&&"reset"!==s||t.removeAttribute("value"),null!=e?ye(t,s,ce(e)):null!=n?ye(t,s,ce(n)):null!=i&&t.removeAttribute("value"),null==r&&null!=a&&(t.defaultChecked=!!a),null!=r&&(t.checked=r&&"function"!==typeof r&&"symbol"!==typeof r),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?t.name=""+ce(o):t.removeAttribute("name")}function ve(t,e,n,i,r,a,s,o){if(null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(t.type=a),null!=e||null!=n){if(!("submit"!==a&&"reset"!==a||void 0!==e&&null!==e))return;n=null!=n?""+ce(n):"",e=null!=e?""+ce(e):n,o||e===t.value||(t.value=e),t.defaultValue=e}i="function"!==typeof(i=null!=i?i:r)&&"symbol"!==typeof i&&!!i,t.checked=o?t.checked:!!i,t.defaultChecked=!!i,null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(t.name=s)}function ye(t,e,n){"number"===e&&fe(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function be(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+ce(n),e=null,r=0;r<t.length;r++){if(t[r].value===n)return t[r].selected=!0,void(i&&(t[r].defaultSelected=!0));null!==e||t[r].disabled||(e=t[r])}null!==e&&(e.selected=!0)}}function we(t,e,n){null==e||((e=""+ce(e))!==t.value&&(t.value=e),null!=n)?t.defaultValue=null!=n?""+ce(n):"":t.defaultValue!==e&&(t.defaultValue=e)}function xe(t,e,n,i){if(null==e){if(null!=i){if(null!=n)throw Error(s(92));if(N(i)){if(1<i.length)throw Error(s(93));i=i[0]}n=i}null==n&&(n=""),e=n}n=ce(e),t.defaultValue=n,(i=t.textContent)===n&&""!==i&&null!==i&&(t.value=i)}function _e(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var ke=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Se(t,e,n){var i=0===e.indexOf("--");null==n||"boolean"===typeof n||""===n?i?t.setProperty(e,""):"float"===e?t.cssFloat="":t[e]="":i?t.setProperty(e,n):"number"!==typeof n||0===n||ke.has(e)?"float"===e?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function Ae(t,e,n){if(null!=e&&"object"!==typeof e)throw Error(s(62));if(t=t.style,null!=n){for(var i in n)!n.hasOwnProperty(i)||null!=e&&e.hasOwnProperty(i)||(0===i.indexOf("--")?t.setProperty(i,""):"float"===i?t.cssFloat="":t[i]="");for(var r in e)i=e[r],e.hasOwnProperty(r)&&n[r]!==i&&Se(t,r,i)}else for(var a in e)e.hasOwnProperty(a)&&Se(t,a,e[a])}function Ee(t){if(-1===t.indexOf("-"))return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ce=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Me=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Te(t){return Me.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Pe=null;function Re(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var De=null,Ne=null;function Le(t){var e=Ut(t);if(e&&(t=e.stateNode)){var n=t[Nt]||null;t:switch(t=e.stateNode,e.type){case"input":if(me(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ge(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=i[Nt]||null;if(!r)throw Error(s(90));me(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(e=0;e<n.length;e++)(i=n[e]).form===t.form&&de(i)}break t;case"textarea":we(t,n.value,n.defaultValue);break t;case"select":null!=(e=n.value)&&be(t,!!n.multiple,e,!1)}}}var Ie=!1;function Fe(t,e,n){if(Ie)return t(e,n);Ie=!0;try{return t(e)}finally{if(Ie=!1,(null!==De||null!==Ne)&&(zc(),De&&(e=De,t=Ne,Ne=De=null,Le(e),t)))for(e=0;e<t.length;e++)Le(t[e])}}function Oe(t,e){var n=t.stateNode;if(null===n)return null;var i=n[Nt]||null;if(null===i)return null;n=i[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!i;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(s(231,e,typeof n));return n}var Be=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),je=!1;if(Be)try{var We={};Object.defineProperty(We,"passive",{get:function(){je=!0}}),window.addEventListener("test",We,We),window.removeEventListener("test",We,We)}catch(Nd){je=!1}var ze=null,Ue=null,He=null;function Ve(){if(He)return He;var t,e,n=Ue,i=n.length,r="value"in ze?ze.value:ze.textContent,a=r.length;for(t=0;t<i&&n[t]===r[t];t++);var s=i-t;for(e=1;e<=s&&n[i-e]===r[a-e];e++);return He=r.slice(t,1<e?1-e:void 0)}function Ge(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function qe(){return!0}function Xe(){return!1}function Ye(t){function e(e,n,i,r,a){for(var s in this._reactName=e,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=a,this.currentTarget=null,t)t.hasOwnProperty(s)&&(e=t[s],this[s]=e?e(r):r[s]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?qe:Xe,this.isPropagationStopped=Xe,this}return d(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=qe)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=qe)},persist:function(){},isPersistent:qe}),e}var Ke,Qe,$e,Je={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ze=Ye(Je),tn=d({},Je,{view:0,detail:0}),en=Ye(tn),nn=d({},tn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pn,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$e&&($e&&"mousemove"===t.type?(Ke=t.screenX-$e.screenX,Qe=t.screenY-$e.screenY):Qe=Ke=0,$e=t),Ke)},movementY:function(t){return"movementY"in t?t.movementY:Qe}}),rn=Ye(nn),an=Ye(d({},nn,{dataTransfer:0})),sn=Ye(d({},tn,{relatedTarget:0})),on=Ye(d({},Je,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Ye(d({},Je,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}})),cn=Ye(d({},Je,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=dn[t])&&!!e[t]}function pn(){return fn}var gn=Ye(d({},tn,{key:function(t){if(t.key){var e=un[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=Ge(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?hn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pn,charCode:function(t){return"keypress"===t.type?Ge(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?Ge(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}})),mn=Ye(d({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),vn=Ye(d({},tn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pn})),yn=Ye(d({},Je,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Ye(d({},nn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0})),wn=Ye(d({},Je,{newState:0,oldState:0})),xn=[9,13,27,32],_n=Be&&"CompositionEvent"in window,kn=null;Be&&"documentMode"in document&&(kn=document.documentMode);var Sn=Be&&"TextEvent"in window&&!kn,An=Be&&(!_n||kn&&8<kn&&11>=kn),En=String.fromCharCode(32),Cn=!1;function Mn(t,e){switch(t){case"keyup":return-1!==xn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tn(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Pn=!1;var Rn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Rn[t.type]:"textarea"===e}function Nn(t,e,n,i){De?Ne?Ne.push(i):Ne=[i]:De=i,0<(e=Vu(e,"onChange")).length&&(n=new Ze("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Ln=null,In=null;function Fn(t){Fu(t,0)}function On(t){if(de(Ht(t)))return t}function Bn(t,e){if("change"===t)return e}var jn=!1;if(Be){var Wn;if(Be){var zn="oninput"in document;if(!zn){var Un=document.createElement("div");Un.setAttribute("oninput","return;"),zn="function"===typeof Un.oninput}Wn=zn}else Wn=!1;jn=Wn&&(!document.documentMode||9<document.documentMode)}function Hn(){Ln&&(Ln.detachEvent("onpropertychange",Vn),In=Ln=null)}function Vn(t){if("value"===t.propertyName&&On(In)){var e=[];Nn(e,In,t,Re(t)),Fe(Fn,e)}}function Gn(t,e,n){"focusin"===t?(Hn(),In=n,(Ln=e).attachEvent("onpropertychange",Vn)):"focusout"===t&&Hn()}function qn(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return On(In)}function Xn(t,e){if("click"===t)return On(e)}function Yn(t,e){if("input"===t||"change"===t)return On(e)}var Kn="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e};function Qn(t,e){if(Kn(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Q.call(e,r)||!Kn(t[r],e[r]))return!1}return!0}function $n(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Jn(t,e){var n,i=$n(t);for(t=0;i;){if(3===i.nodeType){if(n=t+i.textContent.length,t<=e&&n>=e)return{node:i,offset:e-t};t=n}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=$n(i)}}function Zn(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?Zn(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function ti(t){for(var e=fe((t=null!=t&&null!=t.ownerDocument&&null!=t.ownerDocument.defaultView?t.ownerDocument.defaultView:window).document);e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(i){n=!1}if(!n)break;e=fe((t=e.contentWindow).document)}return e}function ei(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var ni=Be&&"documentMode"in document&&11>=document.documentMode,ii=null,ri=null,ai=null,si=!1;function oi(t,e,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;si||null==ii||ii!==fe(i)||("selectionStart"in(i=ii)&&ei(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},ai&&Qn(ai,i)||(ai=i,0<(i=Vu(ri,"onSelect")).length&&(e=new Ze("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=ii)))}function li(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ci={animationend:li("Animation","AnimationEnd"),animationiteration:li("Animation","AnimationIteration"),animationstart:li("Animation","AnimationStart"),transitionrun:li("Transition","TransitionRun"),transitionstart:li("Transition","TransitionStart"),transitioncancel:li("Transition","TransitionCancel"),transitionend:li("Transition","TransitionEnd")},ui={},hi={};function di(t){if(ui[t])return ui[t];if(!ci[t])return t;var e,n=ci[t];for(e in n)if(n.hasOwnProperty(e)&&e in hi)return ui[t]=n[e];return t}Be&&(hi=document.createElement("div").style,"AnimationEvent"in window||(delete ci.animationend.animation,delete ci.animationiteration.animation,delete ci.animationstart.animation),"TransitionEvent"in window||delete ci.transitionend.transition);var fi=di("animationend"),pi=di("animationiteration"),gi=di("animationstart"),mi=di("transitionrun"),vi=di("transitionstart"),yi=di("transitioncancel"),bi=di("transitionend"),wi=new Map,xi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _i(t,e){wi.set(t,e),Yt(e,[t])}xi.push("scrollEnd");var ki=new WeakMap;function Si(t,e){if("object"===typeof t&&null!==t){var n=ki.get(t);return void 0!==n?n:(e={value:t,source:e,stack:le(e)},ki.set(t,e),e)}return{value:t,source:e,stack:le(e)}}var Ai=[],Ei=0,Ci=0;function Mi(){for(var t=Ei,e=Ci=Ei=0;e<t;){var n=Ai[e];Ai[e++]=null;var i=Ai[e];Ai[e++]=null;var r=Ai[e];Ai[e++]=null;var a=Ai[e];if(Ai[e++]=null,null!==i&&null!==r){var s=i.pending;null===s?r.next=r:(r.next=s.next,s.next=r),i.pending=r}0!==a&&Di(n,r,a)}}function Ti(t,e,n,i){Ai[Ei++]=t,Ai[Ei++]=e,Ai[Ei++]=n,Ai[Ei++]=i,Ci|=i,t.lanes|=i,null!==(t=t.alternate)&&(t.lanes|=i)}function Pi(t,e,n,i){return Ti(t,e,n,i),Ni(t)}function Ri(t,e){return Ti(t,null,null,e),Ni(t)}function Di(t,e,n){t.lanes|=n;var i=t.alternate;null!==i&&(i.lanes|=n);for(var r=!1,a=t.return;null!==a;)a.childLanes|=n,null!==(i=a.alternate)&&(i.childLanes|=n),22===a.tag&&(null===(t=a.stateNode)||1&t._visibility||(r=!0)),t=a,a=a.return;return 3===t.tag?(a=t.stateNode,r&&null!==e&&(r=31-ft(n),null===(i=(t=a.hiddenUpdates)[r])?t[r]=[e]:i.push(e),e.lane=536870912|n),a):null}function Ni(t){if(50<Dc)throw Dc=0,Nc=null,Error(s(185));for(var e=t.return;null!==e;)e=(t=e).return;return 3===t.tag?t.stateNode:null}var Li={};function Ii(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fi(t,e,n,i){return new Ii(t,e,n,i)}function Oi(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Bi(t,e){var n=t.alternate;return null===n?((n=Fi(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&t.flags,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function ji(t,e){t.flags&=65011714;var n=t.alternate;return null===n?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Wi(t,e,n,i,r,a){var o=0;if(i=t,"function"===typeof t)Oi(t)&&(o=1);else if("string"===typeof t)o=function(t,e,n){if(1===n||null!=e.itemProp)return!1;switch(t){case"meta":case"title":return!0;case"style":if("string"!==typeof e.precedence||"string"!==typeof e.href||""===e.href)break;return!0;case"link":if("string"!==typeof e.rel||"string"!==typeof e.href||""===e.href||e.onLoad||e.onError)break;return"stylesheet"!==e.rel||(t=e.disabled,"string"===typeof e.precedence&&null==t);case"script":if(e.async&&"function"!==typeof e.async&&"symbol"!==typeof e.async&&!e.onLoad&&!e.onError&&e.src&&"string"===typeof e.src)return!0}return!1}(t,n,U.current)?26:"html"===t||"head"===t||"body"===t?27:5;else t:switch(t){case C:return(t=Fi(31,n,e,r)).elementType=C,t.lanes=a,t;case m:return zi(n.children,r,a,e);case v:o=8,r|=24;break;case y:return(t=Fi(12,n,e,2|r)).elementType=y,t.lanes=a,t;case k:return(t=Fi(13,n,e,r)).elementType=k,t.lanes=a,t;case S:return(t=Fi(19,n,e,r)).elementType=S,t.lanes=a,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case b:case x:o=10;break t;case w:o=9;break t;case _:o=11;break t;case A:o=14;break t;case E:o=16,i=null;break t}o=29,n=Error(s(130,null===t?"null":typeof t,"")),i=null}return(e=Fi(o,n,e,r)).elementType=t,e.type=i,e.lanes=a,e}function zi(t,e,n,i){return(t=Fi(7,t,i,e)).lanes=n,t}function Ui(t,e,n){return(t=Fi(6,t,null,e)).lanes=n,t}function Hi(t,e,n){return(e=Fi(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Vi=[],Gi=0,qi=null,Xi=0,Yi=[],Ki=0,Qi=null,$i=1,Ji="";function Zi(t,e){Vi[Gi++]=Xi,Vi[Gi++]=qi,qi=t,Xi=e}function tr(t,e,n){Yi[Ki++]=$i,Yi[Ki++]=Ji,Yi[Ki++]=Qi,Qi=t;var i=$i;t=Ji;var r=32-ft(i)-1;i&=~(1<<r),n+=1;var a=32-ft(e)+r;if(30<a){var s=r-r%5;a=(i&(1<<s)-1).toString(32),i>>=s,r-=s,$i=1<<32-ft(e)+r|n<<r|i,Ji=a+t}else $i=1<<a|n<<r|i,Ji=t}function er(t){null!==t.return&&(Zi(t,1),tr(t,1,0))}function nr(t){for(;t===qi;)qi=Vi[--Gi],Vi[Gi]=null,Xi=Vi[--Gi],Vi[Gi]=null;for(;t===Qi;)Qi=Yi[--Ki],Yi[Ki]=null,Ji=Yi[--Ki],Yi[Ki]=null,$i=Yi[--Ki],Yi[Ki]=null}var ir=null,rr=null,ar=!1,sr=null,or=!1,lr=Error(s(519));function cr(t){throw gr(Si(Error(s(418,"")),t)),lr}function ur(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[Dt]=t,e[Nt]=i,n){case"dialog":Ou("cancel",e),Ou("close",e);break;case"iframe":case"object":case"embed":Ou("load",e);break;case"video":case"audio":for(n=0;n<Lu.length;n++)Ou(Lu[n],e);break;case"source":Ou("error",e);break;case"img":case"image":case"link":Ou("error",e),Ou("load",e);break;case"details":Ou("toggle",e);break;case"input":Ou("invalid",e),ve(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),he(e);break;case"select":Ou("invalid",e);break;case"textarea":Ou("invalid",e),xe(e,i.value,i.defaultValue,i.children),he(e)}"string"!==typeof(n=i.children)&&"number"!==typeof n&&"bigint"!==typeof n||e.textContent===""+n||!0===i.suppressHydrationWarning||Qu(e.textContent,n)?(null!=i.popover&&(Ou("beforetoggle",e),Ou("toggle",e)),null!=i.onScroll&&Ou("scroll",e),null!=i.onScrollEnd&&Ou("scrollend",e),null!=i.onClick&&(e.onclick=$u),e=!0):e=!1,e||cr(t)}function hr(t){for(ir=t.return;ir;)switch(ir.tag){case 5:case 13:return void(or=!1);case 27:case 3:return void(or=!0);default:ir=ir.return}}function dr(t){if(t!==ir)return!1;if(!ar)return hr(t),ar=!0,!1;var e,n=t.tag;if((e=3!==n&&27!==n)&&((e=5===n)&&(e=!("form"!==(e=t.type)&&"button"!==e)||sh(t.type,t.memoizedProps)),e=!e),e&&rr&&cr(t),hr(t),13===n){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(8===t.nodeType)if("/$"===(e=t.data)){if(0===n){rr=vh(t.nextSibling);break t}n--}else"$"!==e&&"$!"!==e&&"$?"!==e||n++;t=t.nextSibling}rr=null}}else 27===n?(n=rr,fh(t.type)?(t=yh,yh=null,rr=t):rr=n):rr=ir?vh(t.stateNode.nextSibling):null;return!0}function fr(){rr=ir=null,ar=!1}function pr(){var t=sr;return null!==t&&(null===bc?bc=t:bc.push.apply(bc,t),sr=null),t}function gr(t){null===sr?sr=[t]:sr.push(t)}var mr=j(null),vr=null,yr=null;function br(t,e,n){z(mr,e._currentValue),e._currentValue=n}function wr(t){t._currentValue=mr.current,W(mr)}function xr(t,e,n){for(;null!==t;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==i&&(i.childLanes|=e)):null!==i&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function _r(t,e,n,i){var r=t.child;for(null!==r&&(r.return=t);null!==r;){var a=r.dependencies;if(null!==a){var o=r.child;a=a.firstContext;t:for(;null!==a;){var l=a;a=r;for(var c=0;c<e.length;c++)if(l.context===e[c]){a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),xr(a.return,n,t),i||(o=null);break t}a=l.next}}else if(18===r.tag){if(null===(o=r.return))throw Error(s(341));o.lanes|=n,null!==(a=o.alternate)&&(a.lanes|=n),xr(o,n,t),o=null}else o=r.child;if(null!==o)o.return=r;else for(o=r;null!==o;){if(o===t){o=null;break}if(null!==(r=o.sibling)){r.return=o.return,o=r;break}o=o.return}r=o}}function kr(t,e,n,i){t=null;for(var r=e,a=!1;null!==r;){if(!a)if(0!==(524288&r.flags))a=!0;else if(0!==(262144&r.flags))break;if(10===r.tag){var o=r.alternate;if(null===o)throw Error(s(387));if(null!==(o=o.memoizedProps)){var l=r.type;Kn(r.pendingProps.value,o.value)||(null!==t?t.push(l):t=[l])}}else if(r===G.current){if(null===(o=r.alternate))throw Error(s(387));o.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(null!==t?t.push(Yh):t=[Yh])}r=r.return}null!==t&&_r(e,t,n,i),e.flags|=262144}function Sr(t){for(t=t.firstContext;null!==t;){if(!Kn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ar(t){vr=t,yr=null,null!==(t=t.dependencies)&&(t.firstContext=null)}function Er(t){return Mr(vr,t)}function Cr(t,e){return null===vr&&Ar(t),Mr(t,e)}function Mr(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},null===yr){if(null===t)throw Error(s(308));yr=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else yr=yr.next=e;return n}var Tr="undefined"!==typeof AbortController?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(e,n){t.push(n)}};this.abort=function(){e.aborted=!0,t.forEach((function(t){return t()}))}},Pr=i.unstable_scheduleCallback,Rr=i.unstable_NormalPriority,Dr={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nr(){return{controller:new Tr,data:new Map,refCount:0}}function Lr(t){t.refCount--,0===t.refCount&&Pr(Rr,(function(){t.controller.abort()}))}var Ir=null,Fr=0,Or=0,Br=null;function jr(){if(0===--Fr&&null!==Ir){null!==Br&&(Br.status="fulfilled");var t=Ir;Ir=null,Or=0,Br=null;for(var e=0;e<t.length;e++)(0,t[e])()}}var Wr=L.S;L.S=function(t,e){"object"===typeof e&&null!==e&&"function"===typeof e.then&&function(t,e){if(null===Ir){var n=Ir=[];Fr=0,Or=Tu(),Br={status:"pending",value:void 0,then:function(t){n.push(t)}}}Fr++,e.then(jr,jr)}(0,e),null!==Wr&&Wr(t,e)};var zr=j(null);function Ur(){var t=zr.current;return null!==t?t:ic.pooledCache}function Hr(t,e){z(zr,null===e?zr.current:e.pool)}function Vr(){var t=Ur();return null===t?null:{parent:Dr._currentValue,pool:t}}var Gr=Error(s(460)),qr=Error(s(474)),Xr=Error(s(542)),Yr={then:function(){}};function Kr(t){return"fulfilled"===(t=t.status)||"rejected"===t}function Qr(){}function $r(t,e,n){switch(void 0===(n=t[n])?t.push(e):n!==e&&(e.then(Qr,Qr),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw ta(t=e.reason),t;default:if("string"===typeof e.status)e.then(Qr,Qr);else{if(null!==(t=ic)&&100<t.shellSuspendCounter)throw Error(s(482));(t=e).status="pending",t.then((function(t){if("pending"===e.status){var n=e;n.status="fulfilled",n.value=t}}),(function(t){if("pending"===e.status){var n=e;n.status="rejected",n.reason=t}}))}switch(e.status){case"fulfilled":return e.value;case"rejected":throw ta(t=e.reason),t}throw Jr=e,Gr}}var Jr=null;function Zr(){if(null===Jr)throw Error(s(459));var t=Jr;return Jr=null,t}function ta(t){if(t===Gr||t===Xr)throw Error(s(483))}var ea=!1;function na(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ia(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ra(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function aa(t,e,n){var i=t.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&nc)){var r=i.pending;return null===r?e.next=e:(e.next=r.next,r.next=e),i.pending=e,e=Ni(t),Di(t,null,n),e}return Ti(t,i,e,n),Ni(t)}function sa(t,e,n){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194048&n))){var i=e.lanes;n|=i&=t.pendingLanes,e.lanes=n,Ct(t,n)}}function oa(t,e){var n=t.updateQueue,i=t.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?r=a=s:a=a.next=s,n=n.next}while(null!==n);null===a?r=a=e:a=a.next=e}else r=a=e;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:i.shared,callbacks:i.callbacks},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var la=!1;function ca(){if(la){if(null!==Br)throw Br}}function ua(t,e,n,i){la=!1;var r=t.updateQueue;ea=!1;var a=r.firstBaseUpdate,s=r.lastBaseUpdate,o=r.shared.pending;if(null!==o){r.shared.pending=null;var l=o,c=l.next;l.next=null,null===s?a=c:s.next=c,s=l;var u=t.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==a){var h=r.baseState;for(s=0,u=c=l=null,o=a;;){var f=-536870913&o.lane,p=f!==o.lane;if(p?(ac&f)===f:(i&f)===f){0!==f&&f===Or&&(la=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});t:{var g=t,m=o;f=e;var v=n;switch(m.tag){case 1:if("function"===typeof(g=m.payload)){h=g.call(v,h,f);break t}h=g;break t;case 3:g.flags=-65537&g.flags|128;case 0:if(null===(f="function"===typeof(g=m.payload)?g.call(v,h,f):g)||void 0===f)break t;h=d({},h,f);break t;case 2:ea=!0}}null!==(f=o.callback)&&(t.flags|=64,p&&(t.flags|=8192),null===(p=r.callbacks)?r.callbacks=[f]:p.push(f))}else p={lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=p,l=h):u=u.next=p,s|=f;if(null===(o=o.next)){if(null===(o=r.shared.pending))break;o=(p=o).next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}null===u&&(l=h),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null===a&&(r.shared.lanes=0),fc|=s,t.lanes=s,t.memoizedState=h}}function ha(t,e){if("function"!==typeof t)throw Error(s(191,t));t.call(e)}function da(t,e){var n=t.callbacks;if(null!==n)for(t.callbacks=null,t=0;t<n.length;t++)ha(n[t],e)}var fa=j(null),pa=j(0);function ga(t,e){z(pa,t=hc),z(fa,e),hc=t|e.baseLanes}function ma(){z(pa,hc),z(fa,fa.current)}function va(){hc=pa.current,W(fa),W(pa)}var ya=0,ba=null,wa=null,xa=null,_a=!1,ka=!1,Sa=!1,Aa=0,Ea=0,Ca=null,Ma=0;function Ta(){throw Error(s(321))}function Pa(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Kn(t[n],e[n]))return!1;return!0}function Ra(t,e,n,i,r,a){return ya=a,ba=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,L.H=null===t||null===t.memoizedState?Gs:qs,Sa=!1,a=n(i,r),Sa=!1,ka&&(a=Na(e,n,i,r)),Da(t),a}function Da(t){L.H=Vs;var e=null!==wa&&null!==wa.next;if(ya=0,xa=wa=ba=null,_a=!1,Ea=0,Ca=null,e)throw Error(s(300));null===t||Co||null!==(t=t.dependencies)&&Sr(t)&&(Co=!0)}function Na(t,e,n,i){ba=t;var r=0;do{if(ka&&(Ca=null),Ea=0,ka=!1,25<=r)throw Error(s(301));if(r+=1,xa=wa=null,null!=t.updateQueue){var a=t.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}L.H=Xs,a=e(n,i)}while(ka);return a}function La(){var t=L.H,e=t.useState()[0];return e="function"===typeof e.then?Wa(e):e,t=t.useState()[0],(null!==wa?wa.memoizedState:null)!==t&&(ba.flags|=1024),e}function Ia(){var t=0!==Aa;return Aa=0,t}function Fa(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Oa(t){if(_a){for(t=t.memoizedState;null!==t;){var e=t.queue;null!==e&&(e.pending=null),t=t.next}_a=!1}ya=0,xa=wa=ba=null,ka=!1,Ea=Aa=0,Ca=null}function Ba(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===xa?ba.memoizedState=xa=t:xa=xa.next=t,xa}function ja(){if(null===wa){var t=ba.alternate;t=null!==t?t.memoizedState:null}else t=wa.next;var e=null===xa?ba.memoizedState:xa.next;if(null!==e)xa=e,wa=t;else{if(null===t){if(null===ba.alternate)throw Error(s(467));throw Error(s(310))}t={memoizedState:(wa=t).memoizedState,baseState:wa.baseState,baseQueue:wa.baseQueue,queue:wa.queue,next:null},null===xa?ba.memoizedState=xa=t:xa=xa.next=t}return xa}function Wa(t){var e=Ea;return Ea+=1,null===Ca&&(Ca=[]),t=$r(Ca,t,e),e=ba,null===(null===xa?e.memoizedState:xa.next)&&(e=e.alternate,L.H=null===e||null===e.memoizedState?Gs:qs),t}function za(t){if(null!==t&&"object"===typeof t){if("function"===typeof t.then)return Wa(t);if(t.$$typeof===x)return Er(t)}throw Error(s(438,String(t)))}function Ua(t){var e=null,n=ba.updateQueue;if(null!==n&&(e=n.memoCache),null==e){var i=ba.alternate;null!==i&&(null!==(i=i.updateQueue)&&(null!=(i=i.memoCache)&&(e={data:i.data.map((function(t){return t.slice()})),index:0})))}if(null==e&&(e={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},ba.updateQueue=n),n.memoCache=e,void 0===(n=e.data[e.index]))for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=M;return e.index++,n}function Ha(t,e){return"function"===typeof e?e(t):e}function Va(t){return Ga(ja(),wa,t)}function Ga(t,e,n){var i=t.queue;if(null===i)throw Error(s(311));i.lastRenderedReducer=n;var r=t.baseQueue,a=i.pending;if(null!==a){if(null!==r){var o=r.next;r.next=a.next,a.next=o}e.baseQueue=r=a,i.pending=null}if(a=t.baseState,null===r)t.memoizedState=a;else{var l=o=null,c=null,u=e=r.next,h=!1;do{var d=-536870913&u.lane;if(d!==u.lane?(ac&d)===d:(ya&d)===d){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===Or&&(h=!0);else{if((ya&f)===f){u=u.next,f===Or&&(h=!0);continue}d={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=d,o=a):c=c.next=d,ba.lanes|=f,fc|=f}d=u.action,Sa&&n(a,d),a=u.hasEagerState?u.eagerState:n(a,d)}else f={lane:d,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,o=a):c=c.next=f,ba.lanes|=d,fc|=d;u=u.next}while(null!==u&&u!==e);if(null===c?o=a:c.next=l,!Kn(a,t.memoizedState)&&(Co=!0,h&&null!==(n=Br)))throw n;t.memoizedState=a,t.baseState=o,t.baseQueue=c,i.lastRenderedState=a}return null===r&&(i.lanes=0),[t.memoizedState,i.dispatch]}function qa(t){var e=ja(),n=e.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,a=e.memoizedState;if(null!==r){n.pending=null;var o=r=r.next;do{a=t(a,o.action),o=o.next}while(o!==r);Kn(a,e.memoizedState)||(Co=!0),e.memoizedState=a,null===e.baseQueue&&(e.baseState=a),n.lastRenderedState=a}return[a,i]}function Xa(t,e,n){var i=ba,r=ja(),a=ar;if(a){if(void 0===n)throw Error(s(407));n=n()}else n=e();var o=!Kn((wa||r).memoizedState,n);if(o&&(r.memoizedState=n,Co=!0),r=r.queue,ms(2048,8,Qa.bind(null,i,r,t),[t]),r.getSnapshot!==e||o||null!==xa&&1&xa.memoizedState.tag){if(i.flags|=2048,fs(9,{destroy:void 0,resource:void 0},Ka.bind(null,i,r,n,e),null),null===ic)throw Error(s(349));a||0!==(124&ya)||Ya(i,e,n)}return n}function Ya(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},null===(e=ba.updateQueue)?(e={lastEffect:null,events:null,stores:null,memoCache:null},ba.updateQueue=e,e.stores=[t]):null===(n=e.stores)?e.stores=[t]:n.push(t)}function Ka(t,e,n,i){e.value=n,e.getSnapshot=i,$a(e)&&Ja(t)}function Qa(t,e,n){return n((function(){$a(e)&&Ja(t)}))}function $a(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Kn(t,n)}catch(i){return!0}}function Ja(t){var e=Ri(t,2);null!==e&&Fc(e,t,2)}function Za(t){var e=Ba();if("function"===typeof t){var n=t;if(t=n(),Sa){dt(!0);try{n()}finally{dt(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:t},e}function ts(t,e,n,i){return t.baseState=n,Ga(t,wa,"function"===typeof i?i:Ha)}function es(t,e,n,i,r){if(zs(t))throw Error(s(485));if(null!==(t=e.action)){var a={payload:r,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(t){a.listeners.push(t)}};null!==L.T?n(!0):a.isTransition=!1,i(a),null===(n=e.pending)?(a.next=e.pending=a,ns(e,a)):(a.next=n.next,e.pending=n.next=a)}}function ns(t,e){var n=e.action,i=e.payload,r=t.state;if(e.isTransition){var a=L.T,s={};L.T=s;try{var o=n(r,i),l=L.S;null!==l&&l(s,o),is(t,e,o)}catch(c){as(t,e,c)}finally{L.T=a}}else try{is(t,e,a=n(r,i))}catch(u){as(t,e,u)}}function is(t,e,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then((function(n){rs(t,e,n)}),(function(n){return as(t,e,n)})):rs(t,e,n)}function rs(t,e,n){e.status="fulfilled",e.value=n,ss(e),t.state=n,null!==(e=t.pending)&&((n=e.next)===e?t.pending=null:(n=n.next,e.next=n,ns(t,n)))}function as(t,e,n){var i=t.pending;if(t.pending=null,null!==i){i=i.next;do{e.status="rejected",e.reason=n,ss(e),e=e.next}while(e!==i)}t.action=null}function ss(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function os(t,e){return e}function ls(t,e){if(ar){var n=ic.formState;if(null!==n){t:{var i=ba;if(ar){if(rr){e:{for(var r=rr,a=or;8!==r.nodeType;){if(!a){r=null;break e}if(null===(r=vh(r.nextSibling))){r=null;break e}}r="F!"===(a=r.data)||"F"===a?r:null}if(r){rr=vh(r.nextSibling),i="F!"===r.data;break t}}cr(i)}i=!1}i&&(e=n[0])}}return(n=Ba()).memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:e},n.queue=i,n=Bs.bind(null,ba,i),i.dispatch=n,i=Za(!1),a=Ws.bind(null,ba,!1,i.queue),r={state:e,dispatch:null,action:t,pending:null},(i=Ba()).queue=r,n=es.bind(null,ba,r,a,n),r.dispatch=n,i.memoizedState=t,[e,n,!1]}function cs(t){return us(ja(),wa,t)}function us(t,e,n){if(e=Ga(t,e,os)[0],t=Va(Ha)[0],"object"===typeof e&&null!==e&&"function"===typeof e.then)try{var i=Wa(e)}catch(s){if(s===Gr)throw Xr;throw s}else i=e;var r=(e=ja()).queue,a=r.dispatch;return n!==e.memoizedState&&(ba.flags|=2048,fs(9,{destroy:void 0,resource:void 0},hs.bind(null,r,n),null)),[i,a,t]}function hs(t,e){t.action=e}function ds(t){var e=ja(),n=wa;if(null!==n)return us(e,n,t);ja(),e=e.memoizedState;var i=(n=ja()).queue.dispatch;return n.memoizedState=t,[e,i,!1]}function fs(t,e,n,i){return t={tag:t,create:n,deps:i,inst:e,next:null},null===(e=ba.updateQueue)&&(e={lastEffect:null,events:null,stores:null,memoCache:null},ba.updateQueue=e),null===(n=e.lastEffect)?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function ps(){return ja().memoizedState}function gs(t,e,n,i){var r=Ba();i=void 0===i?null:i,ba.flags|=t,r.memoizedState=fs(1|e,{destroy:void 0,resource:void 0},n,i)}function ms(t,e,n,i){var r=ja();i=void 0===i?null:i;var a=r.memoizedState.inst;null!==wa&&null!==i&&Pa(i,wa.memoizedState.deps)?r.memoizedState=fs(e,a,n,i):(ba.flags|=t,r.memoizedState=fs(1|e,a,n,i))}function vs(t,e){gs(8390656,8,t,e)}function ys(t,e){ms(2048,8,t,e)}function bs(t,e){return ms(4,2,t,e)}function ws(t,e){return ms(4,4,t,e)}function xs(t,e){if("function"===typeof e){t=t();var n=e(t);return function(){"function"===typeof n?n():e(null)}}if(null!==e&&void 0!==e)return t=t(),e.current=t,function(){e.current=null}}function _s(t,e,n){n=null!==n&&void 0!==n?n.concat([t]):null,ms(4,4,xs.bind(null,e,t),n)}function ks(){}function Ss(t,e){var n=ja();e=void 0===e?null:e;var i=n.memoizedState;return null!==e&&Pa(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function As(t,e){var n=ja();e=void 0===e?null:e;var i=n.memoizedState;if(null!==e&&Pa(e,i[1]))return i[0];if(i=t(),Sa){dt(!0);try{t()}finally{dt(!1)}}return n.memoizedState=[i,e],i}function Es(t,e,n){return void 0===n||0!==(1073741824&ya)?t.memoizedState=e:(t.memoizedState=n,t=Ic(),ba.lanes|=t,fc|=t,n)}function Cs(t,e,n,i){return Kn(n,e)?n:null!==fa.current?(t=Es(t,n,i),Kn(t,e)||(Co=!0),t):0===(42&ya)?(Co=!0,t.memoizedState=n):(t=Ic(),ba.lanes|=t,fc|=t,e)}function Ms(t,e,n,i,r){var a=I.p;I.p=0!==a&&8>a?a:8;var s=L.T,o={};L.T=o,Ws(t,!1,e,n);try{var l=r(),c=L.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)js(t,e,function(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(t){n.push(t)}};return t.then((function(){i.status="fulfilled",i.value=e;for(var t=0;t<n.length;t++)(0,n[t])(e)}),(function(t){for(i.status="rejected",i.reason=t,t=0;t<n.length;t++)(0,n[t])(void 0)})),i}(l,i),Lc());else js(t,e,i,Lc())}catch(u){js(t,e,{then:function(){},status:"rejected",reason:u},Lc())}finally{I.p=a,L.T=s}}function Ts(){}function Ps(t,e,n,i){if(5!==t.tag)throw Error(s(476));var r=Rs(t).queue;Ms(t,r,e,F,null===n?Ts:function(){return Ds(t),n(i)})}function Rs(t){var e=t.memoizedState;if(null!==e)return e;var n={};return(e={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:F},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:n},next:null},t.memoizedState=e,null!==(t=t.alternate)&&(t.memoizedState=e),e}function Ds(t){js(t,Rs(t).next.queue,{},Lc())}function Ns(){return Er(Yh)}function Ls(){return ja().memoizedState}function Is(){return ja().memoizedState}function Fs(t){for(var e=t.return;null!==e;){switch(e.tag){case 24:case 3:var n=Lc(),i=aa(e,t=ra(n),n);return null!==i&&(Fc(i,e,n),sa(i,e,n)),e={cache:Nr()},void(t.payload=e)}e=e.return}}function Os(t,e,n){var i=Lc();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},zs(t)?Us(e,n):null!==(n=Pi(t,e,n,i))&&(Fc(n,t,i),Hs(n,e,i))}function Bs(t,e,n){js(t,e,n,Lc())}function js(t,e,n,i){var r={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(zs(t))Us(e,r);else{var a=t.alternate;if(0===t.lanes&&(null===a||0===a.lanes)&&null!==(a=e.lastRenderedReducer))try{var s=e.lastRenderedState,o=a(s,n);if(r.hasEagerState=!0,r.eagerState=o,Kn(o,s))return Ti(t,e,r,0),null===ic&&Mi(),!1}catch(l){}if(null!==(n=Pi(t,e,r,i)))return Fc(n,t,i),Hs(n,e,i),!0}return!1}function Ws(t,e,n,i){if(i={lane:2,revertLane:Tu(),action:i,hasEagerState:!1,eagerState:null,next:null},zs(t)){if(e)throw Error(s(479))}else null!==(e=Pi(t,n,i,2))&&Fc(e,t,2)}function zs(t){var e=t.alternate;return t===ba||null!==e&&e===ba}function Us(t,e){ka=_a=!0;var n=t.pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Hs(t,e,n){if(0!==(4194048&n)){var i=e.lanes;n|=i&=t.pendingLanes,e.lanes=n,Ct(t,n)}}var Vs={readContext:Er,use:za,useCallback:Ta,useContext:Ta,useEffect:Ta,useImperativeHandle:Ta,useLayoutEffect:Ta,useInsertionEffect:Ta,useMemo:Ta,useReducer:Ta,useRef:Ta,useState:Ta,useDebugValue:Ta,useDeferredValue:Ta,useTransition:Ta,useSyncExternalStore:Ta,useId:Ta,useHostTransitionStatus:Ta,useFormState:Ta,useActionState:Ta,useOptimistic:Ta,useMemoCache:Ta,useCacheRefresh:Ta},Gs={readContext:Er,use:za,useCallback:function(t,e){return Ba().memoizedState=[t,void 0===e?null:e],t},useContext:Er,useEffect:vs,useImperativeHandle:function(t,e,n){n=null!==n&&void 0!==n?n.concat([t]):null,gs(4194308,4,xs.bind(null,e,t),n)},useLayoutEffect:function(t,e){return gs(4194308,4,t,e)},useInsertionEffect:function(t,e){gs(4,2,t,e)},useMemo:function(t,e){var n=Ba();e=void 0===e?null:e;var i=t();if(Sa){dt(!0);try{t()}finally{dt(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=Ba();if(void 0!==n){var r=n(e);if(Sa){dt(!0);try{n(e)}finally{dt(!1)}}}else r=e;return i.memoizedState=i.baseState=r,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},i.queue=t,t=t.dispatch=Os.bind(null,ba,t),[i.memoizedState,t]},useRef:function(t){return t={current:t},Ba().memoizedState=t},useState:function(t){var e=(t=Za(t)).queue,n=Bs.bind(null,ba,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:ks,useDeferredValue:function(t,e){return Es(Ba(),t,e)},useTransition:function(){var t=Za(!1);return t=Ms.bind(null,ba,t.queue,!0,!1),Ba().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=ba,r=Ba();if(ar){if(void 0===n)throw Error(s(407));n=n()}else{if(n=e(),null===ic)throw Error(s(349));0!==(124&ac)||Ya(i,e,n)}r.memoizedState=n;var a={value:n,getSnapshot:e};return r.queue=a,vs(Qa.bind(null,i,a,t),[t]),i.flags|=2048,fs(9,{destroy:void 0,resource:void 0},Ka.bind(null,i,a,n,e),null),n},useId:function(){var t=Ba(),e=ic.identifierPrefix;if(ar){var n=Ji;e="\xab"+e+"R"+(n=($i&~(1<<32-ft($i)-1)).toString(32)+n),0<(n=Aa++)&&(e+="H"+n.toString(32)),e+="\xbb"}else e="\xab"+e+"r"+(n=Ma++).toString(32)+"\xbb";return t.memoizedState=e},useHostTransitionStatus:Ns,useFormState:ls,useActionState:ls,useOptimistic:function(t){var e=Ba();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=Ws.bind(null,ba,!0,n),n.dispatch=e,[t,e]},useMemoCache:Ua,useCacheRefresh:function(){return Ba().memoizedState=Fs.bind(null,ba)}},qs={readContext:Er,use:za,useCallback:Ss,useContext:Er,useEffect:ys,useImperativeHandle:_s,useInsertionEffect:bs,useLayoutEffect:ws,useMemo:As,useReducer:Va,useRef:ps,useState:function(){return Va(Ha)},useDebugValue:ks,useDeferredValue:function(t,e){return Cs(ja(),wa.memoizedState,t,e)},useTransition:function(){var t=Va(Ha)[0],e=ja().memoizedState;return["boolean"===typeof t?t:Wa(t),e]},useSyncExternalStore:Xa,useId:Ls,useHostTransitionStatus:Ns,useFormState:cs,useActionState:cs,useOptimistic:function(t,e){return ts(ja(),0,t,e)},useMemoCache:Ua,useCacheRefresh:Is},Xs={readContext:Er,use:za,useCallback:Ss,useContext:Er,useEffect:ys,useImperativeHandle:_s,useInsertionEffect:bs,useLayoutEffect:ws,useMemo:As,useReducer:qa,useRef:ps,useState:function(){return qa(Ha)},useDebugValue:ks,useDeferredValue:function(t,e){var n=ja();return null===wa?Es(n,t,e):Cs(n,wa.memoizedState,t,e)},useTransition:function(){var t=qa(Ha)[0],e=ja().memoizedState;return["boolean"===typeof t?t:Wa(t),e]},useSyncExternalStore:Xa,useId:Ls,useHostTransitionStatus:Ns,useFormState:ds,useActionState:ds,useOptimistic:function(t,e){var n=ja();return null!==wa?ts(n,0,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Ua,useCacheRefresh:Is},Ys=null,Ks=0;function Qs(t){var e=Ks;return Ks+=1,null===Ys&&(Ys=[]),$r(Ys,t,e)}function $s(t,e){e=e.props.ref,t.ref=void 0!==e?e:null}function Js(t,e){if(e.$$typeof===f)throw Error(s(525));throw t=Object.prototype.toString.call(e),Error(s(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Zs(t){return(0,t._init)(t._payload)}function to(t){function e(e,n){if(t){var i=e.deletions;null===i?(e.deletions=[n],e.flags|=16):i.push(n)}}function n(n,i){if(!t)return null;for(;null!==i;)e(n,i),i=i.sibling;return null}function i(t){for(var e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(t,e){return(t=Bi(t,e)).index=0,t.sibling=null,t}function a(e,n,i){return e.index=i,t?null!==(i=e.alternate)?(i=i.index)<n?(e.flags|=67108866,n):i:(e.flags|=67108866,n):(e.flags|=1048576,n)}function o(e){return t&&null===e.alternate&&(e.flags|=67108866),e}function l(t,e,n,i){return null===e||6!==e.tag?((e=Ui(n,t.mode,i)).return=t,e):((e=r(e,n)).return=t,e)}function c(t,e,n,i){var a=n.type;return a===m?h(t,e,n.props.children,i,n.key):null!==e&&(e.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===E&&Zs(a)===e.type)?($s(e=r(e,n.props),n),e.return=t,e):($s(e=Wi(n.type,n.key,n.props,null,t.mode,i),n),e.return=t,e)}function u(t,e,n,i){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Hi(n,t.mode,i)).return=t,e):((e=r(e,n.children||[])).return=t,e)}function h(t,e,n,i,a){return null===e||7!==e.tag?((e=zi(n,t.mode,i,a)).return=t,e):((e=r(e,n)).return=t,e)}function d(t,e,n){if("string"===typeof e&&""!==e||"number"===typeof e||"bigint"===typeof e)return(e=Ui(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case p:return $s(n=Wi(e.type,e.key,e.props,null,t.mode,n),e),n.return=t,n;case g:return(e=Hi(e,t.mode,n)).return=t,e;case E:return d(t,e=(0,e._init)(e._payload),n)}if(N(e)||P(e))return(e=zi(e,t.mode,n,null)).return=t,e;if("function"===typeof e.then)return d(t,Qs(e),n);if(e.$$typeof===x)return d(t,Cr(t,e),n);Js(t,e)}return null}function f(t,e,n,i){var r=null!==e?e.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==r?null:l(t,e,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===r?c(t,e,n,i):null;case g:return n.key===r?u(t,e,n,i):null;case E:return f(t,e,n=(r=n._init)(n._payload),i)}if(N(n)||P(n))return null!==r?null:h(t,e,n,i,null);if("function"===typeof n.then)return f(t,e,Qs(n),i);if(n.$$typeof===x)return f(t,e,Cr(t,n),i);Js(t,n)}return null}function v(t,e,n,i,r){if("string"===typeof i&&""!==i||"number"===typeof i||"bigint"===typeof i)return l(e,t=t.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case p:return c(e,t=t.get(null===i.key?n:i.key)||null,i,r);case g:return u(e,t=t.get(null===i.key?n:i.key)||null,i,r);case E:return v(t,e,n,i=(0,i._init)(i._payload),r)}if(N(i)||P(i))return h(e,t=t.get(n)||null,i,r,null);if("function"===typeof i.then)return v(t,e,n,Qs(i),r);if(i.$$typeof===x)return v(t,e,n,Cr(e,i),r);Js(e,i)}return null}function y(l,c,u,h){if("object"===typeof u&&null!==u&&u.type===m&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case p:t:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===m){if(7===c.tag){n(l,c.sibling),(h=r(c,u.props.children)).return=l,l=h;break t}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===E&&Zs(b)===c.type){n(l,c.sibling),$s(h=r(c,u.props),u),h.return=l,l=h;break t}n(l,c);break}e(l,c),c=c.sibling}u.type===m?((h=zi(u.props.children,l.mode,h,u.key)).return=l,l=h):($s(h=Wi(u.type,u.key,u.props,null,l.mode,h),u),h.return=l,l=h)}return o(l);case g:t:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(h=r(c,u.children||[])).return=l,l=h;break t}n(l,c);break}e(l,c),c=c.sibling}(h=Hi(u,l.mode,h)).return=l,l=h}return o(l);case E:return y(l,c,u=(b=u._init)(u._payload),h)}if(N(u))return function(r,s,o,l){for(var c=null,u=null,h=s,p=s=0,g=null;null!==h&&p<o.length;p++){h.index>p?(g=h,h=null):g=h.sibling;var m=f(r,h,o[p],l);if(null===m){null===h&&(h=g);break}t&&h&&null===m.alternate&&e(r,h),s=a(m,s,p),null===u?c=m:u.sibling=m,u=m,h=g}if(p===o.length)return n(r,h),ar&&Zi(r,p),c;if(null===h){for(;p<o.length;p++)null!==(h=d(r,o[p],l))&&(s=a(h,s,p),null===u?c=h:u.sibling=h,u=h);return ar&&Zi(r,p),c}for(h=i(h);p<o.length;p++)null!==(g=v(h,r,p,o[p],l))&&(t&&null!==g.alternate&&h.delete(null===g.key?p:g.key),s=a(g,s,p),null===u?c=g:u.sibling=g,u=g);return t&&h.forEach((function(t){return e(r,t)})),ar&&Zi(r,p),c}(l,c,u,h);if(P(u)){if("function"!==typeof(b=P(u)))throw Error(s(150));return function(r,o,l,c){if(null==l)throw Error(s(151));for(var u=null,h=null,p=o,g=o=0,m=null,y=l.next();null!==p&&!y.done;g++,y=l.next()){p.index>g?(m=p,p=null):m=p.sibling;var b=f(r,p,y.value,c);if(null===b){null===p&&(p=m);break}t&&p&&null===b.alternate&&e(r,p),o=a(b,o,g),null===h?u=b:h.sibling=b,h=b,p=m}if(y.done)return n(r,p),ar&&Zi(r,g),u;if(null===p){for(;!y.done;g++,y=l.next())null!==(y=d(r,y.value,c))&&(o=a(y,o,g),null===h?u=y:h.sibling=y,h=y);return ar&&Zi(r,g),u}for(p=i(p);!y.done;g++,y=l.next())null!==(y=v(p,r,g,y.value,c))&&(t&&null!==y.alternate&&p.delete(null===y.key?g:y.key),o=a(y,o,g),null===h?u=y:h.sibling=y,h=y);return t&&p.forEach((function(t){return e(r,t)})),ar&&Zi(r,g),u}(l,c,u=b.call(u),h)}if("function"===typeof u.then)return y(l,c,Qs(u),h);if(u.$$typeof===x)return y(l,c,Cr(l,u),h);Js(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(h=r(c,u)).return=l,l=h):(n(l,c),(h=Ui(u,l.mode,h)).return=l,l=h),o(l)):n(l,c)}return function(t,e,n,i){try{Ks=0;var r=y(t,e,n,i);return Ys=null,r}catch(s){if(s===Gr||s===Xr)throw s;var a=Fi(29,s,null,t.mode);return a.lanes=i,a.return=t,a}}}var eo=to(!0),no=to(!1),io=j(null),ro=null;function ao(t){var e=t.alternate;z(co,1&co.current),z(io,t),null===ro&&(null===e||null!==fa.current||null!==e.memoizedState)&&(ro=t)}function so(t){if(22===t.tag){if(z(co,co.current),z(io,t),null===ro){var e=t.alternate;null!==e&&null!==e.memoizedState&&(ro=t)}}else oo()}function oo(){z(co,co.current),z(io,io.current)}function lo(t){W(io),ro===t&&(ro=null),W(co)}var co=j(0);function uo(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||mh(n)))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function ho(t,e,n,i){n=null===(n=n(i,e=t.memoizedState))||void 0===n?e:d({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var fo={enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Lc(),r=ra(i);r.payload=e,void 0!==n&&null!==n&&(r.callback=n),null!==(e=aa(t,r,i))&&(Fc(e,t,i),sa(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Lc(),r=ra(i);r.tag=1,r.payload=e,void 0!==n&&null!==n&&(r.callback=n),null!==(e=aa(t,r,i))&&(Fc(e,t,i),sa(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Lc(),i=ra(n);i.tag=2,void 0!==e&&null!==e&&(i.callback=e),null!==(e=aa(t,i,n))&&(Fc(e,t,n),sa(e,t,n))}};function po(t,e,n,i,r,a,s){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(i,a,s):!e.prototype||!e.prototype.isPureReactComponent||(!Qn(n,i)||!Qn(r,a))}function go(t,e,n,i){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,i),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&fo.enqueueReplaceState(e,e.state,null)}function mo(t,e){var n=e;if("ref"in e)for(var i in n={},e)"ref"!==i&&(n[i]=e[i]);if(t=t.defaultProps)for(var r in n===e&&(n=d({},n)),t)void 0===n[r]&&(n[r]=t[r]);return n}var vo="function"===typeof reportError?reportError:function(t){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof t&&null!==t&&"string"===typeof t.message?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",t);console.error(t)};function yo(t){vo(t)}function bo(t){console.error(t)}function wo(t){vo(t)}function xo(t,e){try{(0,t.onUncaughtError)(e.value,{componentStack:e.stack})}catch(n){setTimeout((function(){throw n}))}}function _o(t,e,n){try{(0,t.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===e.tag?e.stateNode:null})}catch(i){setTimeout((function(){throw i}))}}function ko(t,e,n){return(n=ra(n)).tag=3,n.payload={element:null},n.callback=function(){xo(t,e)},n}function So(t){return(t=ra(t)).tag=3,t}function Ao(t,e,n,i){var r=n.type.getDerivedStateFromError;if("function"===typeof r){var a=i.value;t.payload=function(){return r(a)},t.callback=function(){_o(e,n,i)}}var s=n.stateNode;null!==s&&"function"===typeof s.componentDidCatch&&(t.callback=function(){_o(e,n,i),"function"!==typeof r&&(null===Sc?Sc=new Set([this]):Sc.add(this));var t=i.stack;this.componentDidCatch(i.value,{componentStack:null!==t?t:""})})}var Eo=Error(s(461)),Co=!1;function Mo(t,e,n,i){e.child=null===t?no(e,null,n,i):eo(e,t.child,n,i)}function To(t,e,n,i,r){n=n.render;var a=e.ref;if("ref"in i){var s={};for(var o in i)"ref"!==o&&(s[o]=i[o])}else s=i;return Ar(e),i=Ra(t,e,n,s,a,r),o=Ia(),null===t||Co?(ar&&o&&er(e),e.flags|=1,Mo(t,e,i,r),e.child):(Fa(t,e,r),Ko(t,e,r))}function Po(t,e,n,i,r){if(null===t){var a=n.type;return"function"!==typeof a||Oi(a)||void 0!==a.defaultProps||null!==n.compare?((t=Wi(n.type,null,i,e,e.mode,r)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=a,Ro(t,e,a,i,r))}if(a=t.child,!Qo(t,r)){var s=a.memoizedProps;if((n=null!==(n=n.compare)?n:Qn)(s,i)&&t.ref===e.ref)return Ko(t,e,r)}return e.flags|=1,(t=Bi(a,i)).ref=e.ref,t.return=e,e.child=t}function Ro(t,e,n,i,r){if(null!==t){var a=t.memoizedProps;if(Qn(a,i)&&t.ref===e.ref){if(Co=!1,e.pendingProps=i=a,!Qo(t,r))return e.lanes=t.lanes,Ko(t,e,r);0!==(131072&t.flags)&&(Co=!0)}}return Io(t,e,n,i,r)}function Do(t,e,n){var i=e.pendingProps,r=i.children,a=null!==t?t.memoizedState:null;if("hidden"===i.mode){if(0!==(128&e.flags)){if(i=null!==a?a.baseLanes|n:n,null!==t){for(r=e.child=t.child,a=0;null!==r;)a=a|r.lanes|r.childLanes,r=r.sibling;e.childLanes=a&~i}else e.childLanes=0,e.child=null;return No(t,e,i,n)}if(0===(536870912&n))return e.lanes=e.childLanes=536870912,No(t,e,null!==a?a.baseLanes|n:n,n);e.memoizedState={baseLanes:0,cachePool:null},null!==t&&Hr(0,null!==a?a.cachePool:null),null!==a?ga(e,a):ma(),so(e)}else null!==a?(Hr(0,a.cachePool),ga(e,a),oo(),e.memoizedState=null):(null!==t&&Hr(0,null),ma(),oo());return Mo(t,e,r,n),e.child}function No(t,e,n,i){var r=Ur();return r=null===r?null:{parent:Dr._currentValue,pool:r},e.memoizedState={baseLanes:n,cachePool:r},null!==t&&Hr(0,null),ma(),so(e),null!==t&&kr(t,e,i,!0),null}function Lo(t,e){var n=e.ref;if(null===n)null!==t&&null!==t.ref&&(e.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(s(284));null!==t&&t.ref===n||(e.flags|=4194816)}}function Io(t,e,n,i,r){return Ar(e),n=Ra(t,e,n,i,void 0,r),i=Ia(),null===t||Co?(ar&&i&&er(e),e.flags|=1,Mo(t,e,n,r),e.child):(Fa(t,e,r),Ko(t,e,r))}function Fo(t,e,n,i,r,a){return Ar(e),e.updateQueue=null,n=Na(e,i,n,r),Da(t),i=Ia(),null===t||Co?(ar&&i&&er(e),e.flags|=1,Mo(t,e,n,a),e.child):(Fa(t,e,a),Ko(t,e,a))}function Oo(t,e,n,i,r){if(Ar(e),null===e.stateNode){var a=Li,s=n.contextType;"object"===typeof s&&null!==s&&(a=Er(s)),a=new n(i,a),e.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=fo,e.stateNode=a,a._reactInternals=e,(a=e.stateNode).props=i,a.state=e.memoizedState,a.refs={},na(e),s=n.contextType,a.context="object"===typeof s&&null!==s?Er(s):Li,a.state=e.memoizedState,"function"===typeof(s=n.getDerivedStateFromProps)&&(ho(e,n,s,i),a.state=e.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(s=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),s!==a.state&&fo.enqueueReplaceState(a,a.state,null),ua(e,i,a,r),ca(),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308),i=!0}else if(null===t){a=e.stateNode;var o=e.memoizedProps,l=mo(n,o);a.props=l;var c=a.context,u=n.contextType;s=Li,"object"===typeof u&&null!==u&&(s=Er(u));var h=n.getDerivedStateFromProps;u="function"===typeof h||"function"===typeof a.getSnapshotBeforeUpdate,o=e.pendingProps!==o,u||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o||c!==s)&&go(e,a,i,s),ea=!1;var d=e.memoizedState;a.state=d,ua(e,i,a,r),ca(),c=e.memoizedState,o||d!==c||ea?("function"===typeof h&&(ho(e,n,h,i),c=e.memoizedState),(l=ea||po(e,n,l,i,d,c,s))?(u||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.flags|=4194308)):("function"===typeof a.componentDidMount&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=c),a.props=i,a.state=c,a.context=s,i=l):("function"===typeof a.componentDidMount&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,ia(t,e),u=mo(n,s=e.memoizedProps),a.props=u,h=e.pendingProps,d=a.context,c=n.contextType,l=Li,"object"===typeof c&&null!==c&&(l=Er(c)),(c="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==h||d!==l)&&go(e,a,i,l),ea=!1,d=e.memoizedState,a.state=d,ua(e,i,a,r),ca();var f=e.memoizedState;s!==h||d!==f||ea||null!==t&&null!==t.dependencies&&Sr(t.dependencies)?("function"===typeof o&&(ho(e,n,o,i),f=e.memoizedState),(u=ea||po(e,n,u,i,d,f,l)||null!==t&&null!==t.dependencies&&Sr(t.dependencies))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(i,f,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(i,f,l)),"function"===typeof a.componentDidUpdate&&(e.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=f),a.props=i,a.state=f,a.context=l,i=u):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),i=!1)}return a=i,Lo(t,e),i=0!==(128&e.flags),a||i?(a=e.stateNode,n=i&&"function"!==typeof n.getDerivedStateFromError?null:a.render(),e.flags|=1,null!==t&&i?(e.child=eo(e,t.child,null,r),e.child=eo(e,null,n,r)):Mo(t,e,n,r),e.memoizedState=a.state,t=e.child):t=Ko(t,e,r),t}function Bo(t,e,n,i){return fr(),e.flags|=256,Mo(t,e,n,i),e.child}var jo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wo(t){return{baseLanes:t,cachePool:Vr()}}function zo(t,e,n){return t=null!==t?t.childLanes&~n:0,e&&(t|=mc),t}function Uo(t,e,n){var i,r=e.pendingProps,a=!1,o=0!==(128&e.flags);if((i=o)||(i=(null===t||null!==t.memoizedState)&&0!==(2&co.current)),i&&(a=!0,e.flags&=-129),i=0!==(32&e.flags),e.flags&=-33,null===t){if(ar){if(a?ao(e):oo(),ar){var l,c=rr;if(l=c){t:{for(l=c,c=or;8!==l.nodeType;){if(!c){c=null;break t}if(null===(l=vh(l.nextSibling))){c=null;break t}}c=l}null!==c?(e.memoizedState={dehydrated:c,treeContext:null!==Qi?{id:$i,overflow:Ji}:null,retryLane:536870912,hydrationErrors:null},(l=Fi(18,null,null,0)).stateNode=c,l.return=e,e.child=l,ir=e,rr=null,l=!0):l=!1}l||cr(e)}if(null!==(c=e.memoizedState)&&null!==(c=c.dehydrated))return mh(c)?e.lanes=32:e.lanes=536870912,null;lo(e)}return c=r.children,r=r.fallback,a?(oo(),c=Vo({mode:"hidden",children:c},a=e.mode),r=zi(r,a,n,null),c.return=e,r.return=e,c.sibling=r,e.child=c,(a=e.child).memoizedState=Wo(n),a.childLanes=zo(t,i,n),e.memoizedState=jo,r):(ao(e),Ho(e,c))}if(null!==(l=t.memoizedState)&&null!==(c=l.dehydrated)){if(o)256&e.flags?(ao(e),e.flags&=-257,e=Go(t,e,n)):null!==e.memoizedState?(oo(),e.child=t.child,e.flags|=128,e=null):(oo(),a=r.fallback,c=e.mode,r=Vo({mode:"visible",children:r.children},c),(a=zi(a,c,n,null)).flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,eo(e,t.child,null,n),(r=e.child).memoizedState=Wo(n),r.childLanes=zo(t,i,n),e.memoizedState=jo,e=a);else if(ao(e),mh(c)){if(i=c.nextSibling&&c.nextSibling.dataset)var u=i.dgst;i=u,(r=Error(s(419))).stack="",r.digest=i,gr({value:r,source:null,stack:null}),e=Go(t,e,n)}else if(Co||kr(t,e,n,!1),i=0!==(n&t.childLanes),Co||i){if(null!==(i=ic)&&(0!==(r=0!==((r=0!==(42&(r=n&-n))?1:Mt(r))&(i.suspendedLanes|n))?0:r)&&r!==l.retryLane))throw l.retryLane=r,Ri(t,r),Fc(i,t,r),Eo;"$?"===c.data||Xc(),e=Go(t,e,n)}else"$?"===c.data?(e.flags|=192,e.child=t.child,e=null):(t=l.treeContext,rr=vh(c.nextSibling),ir=e,ar=!0,sr=null,or=!1,null!==t&&(Yi[Ki++]=$i,Yi[Ki++]=Ji,Yi[Ki++]=Qi,$i=t.id,Ji=t.overflow,Qi=e),(e=Ho(e,r.children)).flags|=4096);return e}return a?(oo(),a=r.fallback,c=e.mode,u=(l=t.child).sibling,(r=Bi(l,{mode:"hidden",children:r.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?a=Bi(u,a):(a=zi(a,c,n,null)).flags|=2,a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,null===(c=t.child.memoizedState)?c=Wo(n):(null!==(l=c.cachePool)?(u=Dr._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Vr(),c={baseLanes:c.baseLanes|n,cachePool:l}),a.memoizedState=c,a.childLanes=zo(t,i,n),e.memoizedState=jo,r):(ao(e),t=(n=t.child).sibling,(n=Bi(n,{mode:"visible",children:r.children})).return=e,n.sibling=null,null!==t&&(null===(i=e.deletions)?(e.deletions=[t],e.flags|=16):i.push(t)),e.child=n,e.memoizedState=null,n)}function Ho(t,e){return(e=Vo({mode:"visible",children:e},t.mode)).return=t,t.child=e}function Vo(t,e){return(t=Fi(22,t,null,e)).lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Go(t,e,n){return eo(e,t.child,null,n),(t=Ho(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function qo(t,e,n){t.lanes|=e;var i=t.alternate;null!==i&&(i.lanes|=e),xr(t.return,e,n)}function Xo(t,e,n,i,r){var a=t.memoizedState;null===a?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=r)}function Yo(t,e,n){var i=e.pendingProps,r=i.revealOrder,a=i.tail;if(Mo(t,e,i.children,n),0!==(2&(i=co.current)))i=1&i|2,e.flags|=128;else{if(null!==t&&0!==(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&qo(t,n,e);else if(19===t.tag)qo(t,n,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}switch(z(co,i),r){case"forwards":for(n=e.child,r=null;null!==n;)null!==(t=n.alternate)&&null===uo(t)&&(r=n),n=n.sibling;null===(n=r)?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Xo(e,!1,r,n,a);break;case"backwards":for(n=null,r=e.child,e.child=null;null!==r;){if(null!==(t=r.alternate)&&null===uo(t)){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Xo(e,!0,n,null,a);break;case"together":Xo(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ko(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),fc|=e.lanes,0===(n&e.childLanes)){if(null===t)return null;if(kr(t,e,n,!1),0===(n&e.childLanes))return null}if(null!==t&&e.child!==t.child)throw Error(s(153));if(null!==e.child){for(n=Bi(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Bi(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function Qo(t,e){return 0!==(t.lanes&e)||!(null===(t=t.dependencies)||!Sr(t))}function $o(t,e,n){if(null!==t)if(t.memoizedProps!==e.pendingProps)Co=!0;else{if(!Qo(t,n)&&0===(128&e.flags))return Co=!1,function(t,e,n){switch(e.tag){case 3:q(e,e.stateNode.containerInfo),br(0,Dr,t.memoizedState.cache),fr();break;case 27:case 5:Y(e);break;case 4:q(e,e.stateNode.containerInfo);break;case 10:br(0,e.type,e.memoizedProps.value);break;case 13:var i=e.memoizedState;if(null!==i)return null!==i.dehydrated?(ao(e),e.flags|=128,null):0!==(n&e.child.childLanes)?Uo(t,e,n):(ao(e),null!==(t=Ko(t,e,n))?t.sibling:null);ao(e);break;case 19:var r=0!==(128&t.flags);if((i=0!==(n&e.childLanes))||(kr(t,e,n,!1),i=0!==(n&e.childLanes)),r){if(i)return Yo(t,e,n);e.flags|=128}if(null!==(r=e.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),z(co,co.current),i)break;return null;case 22:case 23:return e.lanes=0,Do(t,e,n);case 24:br(0,Dr,t.memoizedState.cache)}return Ko(t,e,n)}(t,e,n);Co=0!==(131072&t.flags)}else Co=!1,ar&&0!==(1048576&e.flags)&&tr(e,Xi,e.index);switch(e.lanes=0,e.tag){case 16:t:{t=e.pendingProps;var i=e.elementType,r=i._init;if(i=r(i._payload),e.type=i,"function"!==typeof i){if(void 0!==i&&null!==i){if((r=i.$$typeof)===_){e.tag=11,e=To(null,e,i,t,n);break t}if(r===A){e.tag=14,e=Po(null,e,i,t,n);break t}}throw e=D(i)||i,Error(s(306,e,""))}Oi(i)?(t=mo(i,t),e.tag=1,e=Oo(null,e,i,t,n)):(e.tag=0,e=Io(null,e,i,t,n))}return e;case 0:return Io(t,e,e.type,e.pendingProps,n);case 1:return Oo(t,e,i=e.type,r=mo(i,e.pendingProps),n);case 3:t:{if(q(e,e.stateNode.containerInfo),null===t)throw Error(s(387));i=e.pendingProps;var a=e.memoizedState;r=a.element,ia(t,e),ua(e,i,null,n);var o=e.memoizedState;if(i=o.cache,br(0,Dr,i),i!==a.cache&&_r(e,[Dr],n,!0),ca(),i=o.element,a.isDehydrated){if(a={element:i,isDehydrated:!1,cache:o.cache},e.updateQueue.baseState=a,e.memoizedState=a,256&e.flags){e=Bo(t,e,i,n);break t}if(i!==r){gr(r=Si(Error(s(424)),e)),e=Bo(t,e,i,n);break t}if(9===(t=e.stateNode.containerInfo).nodeType)t=t.body;else t="HTML"===t.nodeName?t.ownerDocument.body:t;for(rr=vh(t.firstChild),ir=e,ar=!0,sr=null,or=!0,n=no(e,null,i,n),e.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fr(),i===r){e=Ko(t,e,n);break t}Mo(t,e,i,n)}e=e.child}return e;case 26:return Lo(t,e),null===t?(n=Mh(e.type,null,e.pendingProps,null))?e.memoizedState=n:ar||(n=e.type,t=e.pendingProps,(i=ih(V.current).createElement(n))[Dt]=e,i[Nt]=t,th(i,n,t),Gt(i),e.stateNode=i):e.memoizedState=Mh(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Y(e),null===t&&ar&&(i=e.stateNode=wh(e.type,e.pendingProps,V.current),ir=e,or=!0,r=rr,fh(e.type)?(yh=r,rr=vh(i.firstChild)):rr=r),Mo(t,e,e.pendingProps.children,n),Lo(t,e),null===t&&(e.flags|=4194304),e.child;case 5:return null===t&&ar&&((r=i=rr)&&(i=function(t,e,n,i){for(;1===t.nodeType;){var r=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&("INPUT"!==t.nodeName||"hidden"!==t.type))break}else if(i){if(!t[jt])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if("stylesheet"===(a=t.getAttribute("rel"))&&t.hasAttribute("data-precedence"))break;if(a!==r.rel||t.getAttribute("href")!==(null==r.href||""===r.href?null:r.href)||t.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin)||t.getAttribute("title")!==(null==r.title?null:r.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(((a=t.getAttribute("src"))!==(null==r.src?null:r.src)||t.getAttribute("type")!==(null==r.type?null:r.type)||t.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin))&&a&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else{if("input"!==e||"hidden"!==t.type)return t;var a=null==r.name?null:""+r.name;if("hidden"===r.type&&t.getAttribute("name")===a)return t}if(null===(t=vh(t.nextSibling)))break}return null}(i,e.type,e.pendingProps,or),null!==i?(e.stateNode=i,ir=e,rr=vh(i.firstChild),or=!1,r=!0):r=!1),r||cr(e)),Y(e),r=e.type,a=e.pendingProps,o=null!==t?t.memoizedProps:null,i=a.children,sh(r,a)?i=null:null!==o&&sh(r,o)&&(e.flags|=32),null!==e.memoizedState&&(r=Ra(t,e,La,null,null,n),Yh._currentValue=r),Lo(t,e),Mo(t,e,i,n),e.child;case 6:return null===t&&ar&&((t=n=rr)&&(null!==(n=function(t,e,n){if(""===e)return null;for(;3!==t.nodeType;){if((1!==t.nodeType||"INPUT"!==t.nodeName||"hidden"!==t.type)&&!n)return null;if(null===(t=vh(t.nextSibling)))return null}return t}(n,e.pendingProps,or))?(e.stateNode=n,ir=e,rr=null,t=!0):t=!1),t||cr(e)),null;case 13:return Uo(t,e,n);case 4:return q(e,e.stateNode.containerInfo),i=e.pendingProps,null===t?e.child=eo(e,null,i,n):Mo(t,e,i,n),e.child;case 11:return To(t,e,e.type,e.pendingProps,n);case 7:return Mo(t,e,e.pendingProps,n),e.child;case 8:case 12:return Mo(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,br(0,e.type,i.value),Mo(t,e,i.children,n),e.child;case 9:return r=e.type._context,i=e.pendingProps.children,Ar(e),i=i(r=Er(r)),e.flags|=1,Mo(t,e,i,n),e.child;case 14:return Po(t,e,e.type,e.pendingProps,n);case 15:return Ro(t,e,e.type,e.pendingProps,n);case 19:return Yo(t,e,n);case 31:return i=e.pendingProps,n=e.mode,i={mode:i.mode,children:i.children},null===t?((n=Vo(i,n)).ref=e.ref,e.child=n,n.return=e,e=n):((n=Bi(t.child,i)).ref=e.ref,e.child=n,n.return=e,e=n),e;case 22:return Do(t,e,n);case 24:return Ar(e),i=Er(Dr),null===t?(null===(r=Ur())&&(r=ic,a=Nr(),r.pooledCache=a,a.refCount++,null!==a&&(r.pooledCacheLanes|=n),r=a),e.memoizedState={parent:i,cache:r},na(e),br(0,Dr,r)):(0!==(t.lanes&n)&&(ia(t,e),ua(e,null,null,n),ca()),r=t.memoizedState,a=e.memoizedState,r.parent!==i?(r={parent:i,cache:i},e.memoizedState=r,0===e.lanes&&(e.memoizedState=e.updateQueue.baseState=r),br(0,Dr,i)):(i=a.cache,br(0,Dr,i),i!==r.cache&&_r(e,[Dr],n,!0))),Mo(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(s(156,e.tag))}function Jo(t){t.flags|=4}function Zo(t,e){if("stylesheet"!==e.type||0!==(4&e.state.loading))t.flags&=-16777217;else if(t.flags|=16777216,!zh(e)){if(null!==(e=io.current)&&((4194048&ac)===ac?null!==ro:(62914560&ac)!==ac&&0===(536870912&ac)||e!==ro))throw Jr=Yr,qr;t.flags|=8192}}function tl(t,e){null!==e&&(t.flags|=4),16384&t.flags&&(e=22!==t.tag?kt():536870912,t.lanes|=e,vc|=e)}function el(t,e){if(!ar)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?e||null===t.tail?t.tail=null:t.tail.sibling=null:i.sibling=null}}function nl(t){var e=null!==t.alternate&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;null!==r;)n|=r.lanes|r.childLanes,i|=65011712&r.subtreeFlags,i|=65011712&r.flags,r.return=t,r=r.sibling;else for(r=t.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function il(t,e,n){var i=e.pendingProps;switch(nr(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(e),null;case 3:return n=e.stateNode,i=null,null!==t&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),wr(Dr),X(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==t&&null!==t.child||(dr(e)?Jo(e):null===t||t.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,pr())),nl(e),null;case 26:return n=e.memoizedState,null===t?(Jo(e),null!==n?(nl(e),Zo(e,n)):(nl(e),e.flags&=-16777217)):n?n!==t.memoizedState?(Jo(e),nl(e),Zo(e,n)):(nl(e),e.flags&=-16777217):(t.memoizedProps!==i&&Jo(e),nl(e),e.flags&=-16777217),null;case 27:K(e),n=V.current;var r=e.type;if(null!==t&&null!=e.stateNode)t.memoizedProps!==i&&Jo(e);else{if(!i){if(null===e.stateNode)throw Error(s(166));return nl(e),null}t=U.current,dr(e)?ur(e):(t=wh(r,i,n),e.stateNode=t,Jo(e))}return nl(e),null;case 5:if(K(e),n=e.type,null!==t&&null!=e.stateNode)t.memoizedProps!==i&&Jo(e);else{if(!i){if(null===e.stateNode)throw Error(s(166));return nl(e),null}if(t=U.current,dr(e))ur(e);else{switch(r=ih(V.current),t){case 1:t=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(t=r.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t="string"===typeof i.is?r.createElement("select",{is:i.is}):r.createElement("select"),i.multiple?t.multiple=!0:i.size&&(t.size=i.size);break;default:t="string"===typeof i.is?r.createElement(n,{is:i.is}):r.createElement(n)}}t[Dt]=e,t[Nt]=i;t:for(r=e.child;null!==r;){if(5===r.tag||6===r.tag)t.appendChild(r.stateNode);else if(4!==r.tag&&27!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)break t;for(;null===r.sibling;){if(null===r.return||r.return===e)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}e.stateNode=t;t:switch(th(t,n,i),n){case"button":case"input":case"select":case"textarea":t=!!i.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Jo(e)}}return nl(e),e.flags&=-16777217,null;case 6:if(t&&null!=e.stateNode)t.memoizedProps!==i&&Jo(e);else{if("string"!==typeof i&&null===e.stateNode)throw Error(s(166));if(t=V.current,dr(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,null!==(r=ir))switch(r.tag){case 27:case 5:i=r.memoizedProps}t[Dt]=e,(t=!!(t.nodeValue===n||null!==i&&!0===i.suppressHydrationWarning||Qu(t.nodeValue,n)))||cr(e)}else(t=ih(t).createTextNode(i))[Dt]=e,e.stateNode=t}return nl(e),null;case 13:if(i=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(r=dr(e),null!==i&&null!==i.dehydrated){if(null===t){if(!r)throw Error(s(318));if(!(r=null!==(r=e.memoizedState)?r.dehydrated:null))throw Error(s(317));r[Dt]=e}else fr(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;nl(e),r=!1}else r=pr(),null!==t&&null!==t.memoizedState&&(t.memoizedState.hydrationErrors=r),r=!0;if(!r)return 256&e.flags?(lo(e),e):(lo(e),null)}if(lo(e),0!==(128&e.flags))return e.lanes=n,e;if(n=null!==i,t=null!==t&&null!==t.memoizedState,n){r=null,null!==(i=e.child).alternate&&null!==i.alternate.memoizedState&&null!==i.alternate.memoizedState.cachePool&&(r=i.alternate.memoizedState.cachePool.pool);var a=null;null!==i.memoizedState&&null!==i.memoizedState.cachePool&&(a=i.memoizedState.cachePool.pool),a!==r&&(i.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),tl(e,e.updateQueue),nl(e),null;case 4:return X(),null===t&&Wu(e.stateNode.containerInfo),nl(e),null;case 10:return wr(e.type),nl(e),null;case 19:if(W(co),null===(r=e.memoizedState))return nl(e),null;if(i=0!==(128&e.flags),null===(a=r.rendering))if(i)el(r,!1);else{if(0!==dc||null!==t&&0!==(128&t.flags))for(t=e.child;null!==t;){if(null!==(a=uo(t))){for(e.flags|=128,el(r,!1),t=a.updateQueue,e.updateQueue=t,tl(e,t),e.subtreeFlags=0,t=n,n=e.child;null!==n;)ji(n,t),n=n.sibling;return z(co,1&co.current|2),e.child}t=t.sibling}null!==r.tail&&et()>_c&&(e.flags|=128,i=!0,el(r,!1),e.lanes=4194304)}else{if(!i)if(null!==(t=uo(a))){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,tl(e,t),el(r,!0),null===r.tail&&"hidden"===r.tailMode&&!a.alternate&&!ar)return nl(e),null}else 2*et()-r.renderingStartTime>_c&&536870912!==n&&(e.flags|=128,i=!0,el(r,!1),e.lanes=4194304);r.isBackwards?(a.sibling=e.child,e.child=a):(null!==(t=r.last)?t.sibling=a:e.child=a,r.last=a)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=et(),e.sibling=null,t=co.current,z(co,i?1&t|2:1&t),e):(nl(e),null);case 22:case 23:return lo(e),va(),i=null!==e.memoizedState,null!==t?null!==t.memoizedState!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?0!==(536870912&n)&&0===(128&e.flags)&&(nl(e),6&e.subtreeFlags&&(e.flags|=8192)):nl(e),null!==(n=e.updateQueue)&&tl(e,n.retryQueue),n=null,null!==t&&null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(n=t.memoizedState.cachePool.pool),i=null,null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),null!==t&&W(zr),null;case 24:return n=null,null!==t&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),wr(Dr),nl(e),null;case 25:case 30:return null}throw Error(s(156,e.tag))}function rl(t,e){switch(nr(e),e.tag){case 1:return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return wr(Dr),X(),0!==(65536&(t=e.flags))&&0===(128&t)?(e.flags=-65537&t|128,e):null;case 26:case 27:case 5:return K(e),null;case 13:if(lo(e),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(s(340));fr()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return W(co),null;case 4:return X(),null;case 10:return wr(e.type),null;case 22:case 23:return lo(e),va(),null!==t&&W(zr),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 24:return wr(Dr),null;default:return null}}function al(t,e){switch(nr(e),e.tag){case 3:wr(Dr),X();break;case 26:case 27:case 5:K(e);break;case 4:X();break;case 13:lo(e);break;case 19:W(co);break;case 10:wr(e.type);break;case 22:case 23:lo(e),va(),null!==t&&W(zr);break;case 24:wr(Dr)}}function sl(t,e){try{var n=e.updateQueue,i=null!==n?n.lastEffect:null;if(null!==i){var r=i.next;n=r;do{if((n.tag&t)===t){i=void 0;var a=n.create,s=n.inst;i=a(),s.destroy=i}n=n.next}while(n!==r)}}catch(o){uu(e,e.return,o)}}function ol(t,e,n){try{var i=e.updateQueue,r=null!==i?i.lastEffect:null;if(null!==r){var a=r.next;i=a;do{if((i.tag&t)===t){var s=i.inst,o=s.destroy;if(void 0!==o){s.destroy=void 0,r=e;var l=n,c=o;try{c()}catch(u){uu(r,l,u)}}}i=i.next}while(i!==a)}}catch(u){uu(e,e.return,u)}}function ll(t){var e=t.updateQueue;if(null!==e){var n=t.stateNode;try{da(e,n)}catch(i){uu(t,t.return,i)}}}function cl(t,e,n){n.props=mo(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){uu(t,e,i)}}function ul(t,e){try{var n=t.ref;if(null!==n){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;default:i=t.stateNode}"function"===typeof n?t.refCleanup=n(i):n.current=i}}catch(r){uu(t,e,r)}}function hl(t,e){var n=t.ref,i=t.refCleanup;if(null!==n)if("function"===typeof i)try{i()}catch(r){uu(t,e,r)}finally{t.refCleanup=null,null!=(t=t.alternate)&&(t.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(a){uu(t,e,a)}else n.current=null}function dl(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break t;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){uu(t,t.return,r)}}function fl(t,e,n){try{var i=t.stateNode;!function(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,a=null,o=null,l=null,c=null,u=null,h=null;for(p in n){var d=n[p];if(n.hasOwnProperty(p)&&null!=d)switch(p){case"checked":case"value":break;case"defaultValue":c=d;default:i.hasOwnProperty(p)||Ju(t,e,p,null,i,d)}}for(var f in i){var p=i[f];if(d=n[f],i.hasOwnProperty(f)&&(null!=p||null!=d))switch(f){case"type":a=p;break;case"name":r=p;break;case"checked":u=p;break;case"defaultChecked":h=p;break;case"value":o=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(s(137,e));break;default:p!==d&&Ju(t,e,f,p,i,d)}}return void me(t,o,l,c,u,h,a,r);case"select":for(a in p=o=l=f=null,n)if(c=n[a],n.hasOwnProperty(a)&&null!=c)switch(a){case"value":break;case"multiple":p=c;default:i.hasOwnProperty(a)||Ju(t,e,a,null,i,c)}for(r in i)if(a=i[r],c=n[r],i.hasOwnProperty(r)&&(null!=a||null!=c))switch(r){case"value":f=a;break;case"defaultValue":l=a;break;case"multiple":o=a;default:a!==c&&Ju(t,e,r,a,i,c)}return e=l,n=o,i=p,void(null!=f?be(t,!!n,f,!1):!!i!==!!n&&(null!=e?be(t,!!n,e,!0):be(t,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(r=n[l],n.hasOwnProperty(l)&&null!=r&&!i.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Ju(t,e,l,null,i,r)}for(o in i)if(r=i[o],a=n[o],i.hasOwnProperty(o)&&(null!=r||null!=a))switch(o){case"value":f=r;break;case"defaultValue":p=r;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=r)throw Error(s(91));break;default:r!==a&&Ju(t,e,o,r,i,a)}return void we(t,f,p);case"option":for(var g in n)if(f=n[g],n.hasOwnProperty(g)&&null!=f&&!i.hasOwnProperty(g))if("selected"===g)t.selected=!1;else Ju(t,e,g,null,i,f);for(c in i)if(f=i[c],p=n[c],i.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)t.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else Ju(t,e,c,f,i,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var m in n)f=n[m],n.hasOwnProperty(m)&&null!=f&&!i.hasOwnProperty(m)&&Ju(t,e,m,null,i,f);for(u in i)if(f=i[u],p=n[u],i.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(s(137,e));break;default:Ju(t,e,u,f,i,p)}return;default:if(Ee(e)){for(var v in n)f=n[v],n.hasOwnProperty(v)&&void 0!==f&&!i.hasOwnProperty(v)&&Zu(t,e,v,void 0,i,f);for(h in i)f=i[h],p=n[h],!i.hasOwnProperty(h)||f===p||void 0===f&&void 0===p||Zu(t,e,h,f,i,p);return}}for(var y in n)f=n[y],n.hasOwnProperty(y)&&null!=f&&!i.hasOwnProperty(y)&&Ju(t,e,y,null,i,f);for(d in i)f=i[d],p=n[d],!i.hasOwnProperty(d)||f===p||null==f&&null==p||Ju(t,e,d,f,i,p)}(i,t.type,n,e),i[Nt]=e}catch(r){uu(t,t.return,r)}}function pl(t){return 5===t.tag||3===t.tag||26===t.tag||27===t.tag&&fh(t.type)||4===t.tag}function gl(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||pl(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(27===t.tag&&fh(t.type))continue t;if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function ml(t,e,n){var i=t.tag;if(5===i||6===i)t=t.stateNode,e?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(t,e):((e=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=$u));else if(4!==i&&(27===i&&fh(t.type)&&(n=t.stateNode,e=null),null!==(t=t.child)))for(ml(t,e,n),t=t.sibling;null!==t;)ml(t,e,n),t=t.sibling}function vl(t,e,n){var i=t.tag;if(5===i||6===i)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==i&&(27===i&&fh(t.type)&&(n=t.stateNode),null!==(t=t.child)))for(vl(t,e,n),t=t.sibling;null!==t;)vl(t,e,n),t=t.sibling}function yl(t){var e=t.stateNode,n=t.memoizedProps;try{for(var i=t.type,r=e.attributes;r.length;)e.removeAttributeNode(r[0]);th(e,i,n),e[Dt]=t,e[Nt]=n}catch(a){uu(t,t.return,a)}}var bl=!1,wl=!1,xl=!1,_l="function"===typeof WeakSet?WeakSet:Set,kl=null;function Sl(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Ol(t,n),4&i&&sl(5,n);break;case 1:if(Ol(t,n),4&i)if(t=n.stateNode,null===e)try{t.componentDidMount()}catch(s){uu(n,n.return,s)}else{var r=mo(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(r,e,t.__reactInternalSnapshotBeforeUpdate)}catch(o){uu(n,n.return,o)}}64&i&&ll(n),512&i&&ul(n,n.return);break;case 3:if(Ol(t,n),64&i&&null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:e=n.child.stateNode}try{da(t,e)}catch(s){uu(n,n.return,s)}}break;case 27:null===e&&4&i&&yl(n);case 26:case 5:Ol(t,n),null===e&&4&i&&dl(n),512&i&&ul(n,n.return);break;case 12:Ol(t,n);break;case 13:Ol(t,n),4&i&&Pl(t,n),64&i&&(null!==(t=n.memoizedState)&&(null!==(t=t.dehydrated)&&function(t,e){var n=t.ownerDocument;if("$?"!==t.data||"complete"===n.readyState)e();else{var i=function(){e(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}(t,n=pu.bind(null,n))));break;case 22:if(!(i=null!==n.memoizedState||bl)){e=null!==e&&null!==e.memoizedState||wl,r=bl;var a=wl;bl=i,(wl=e)&&!a?jl(t,n,0!==(8772&n.subtreeFlags)):Ol(t,n),bl=r,wl=a}break;case 30:break;default:Ol(t,n)}}function Al(t){var e=t.alternate;null!==e&&(t.alternate=null,Al(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&Wt(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var El=null,Cl=!1;function Ml(t,e,n){for(n=n.child;null!==n;)Tl(t,e,n),n=n.sibling}function Tl(t,e,n){if(ht&&"function"===typeof ht.onCommitFiberUnmount)try{ht.onCommitFiberUnmount(ut,n)}catch(a){}switch(n.tag){case 26:wl||hl(n,e),Ml(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:wl||hl(n,e);var i=El,r=Cl;fh(n.type)&&(El=n.stateNode,Cl=!1),Ml(t,e,n),xh(n.stateNode),El=i,Cl=r;break;case 5:wl||hl(n,e);case 6:if(i=El,r=Cl,El=null,Ml(t,e,n),Cl=r,null!==(El=i))if(Cl)try{(9===El.nodeType?El.body:"HTML"===El.nodeName?El.ownerDocument.body:El).removeChild(n.stateNode)}catch(s){uu(n,e,s)}else try{El.removeChild(n.stateNode)}catch(s){uu(n,e,s)}break;case 18:null!==El&&(Cl?(ph(9===(t=El).nodeType?t.body:"HTML"===t.nodeName?t.ownerDocument.body:t,n.stateNode),Cd(t)):ph(El,n.stateNode));break;case 4:i=El,r=Cl,El=n.stateNode.containerInfo,Cl=!0,Ml(t,e,n),El=i,Cl=r;break;case 0:case 11:case 14:case 15:wl||ol(2,n,e),wl||ol(4,n,e),Ml(t,e,n);break;case 1:wl||(hl(n,e),"function"===typeof(i=n.stateNode).componentWillUnmount&&cl(n,e,i)),Ml(t,e,n);break;case 21:Ml(t,e,n);break;case 22:wl=(i=wl)||null!==n.memoizedState,Ml(t,e,n),wl=i;break;default:Ml(t,e,n)}}function Pl(t,e){if(null===e.memoizedState&&(null!==(t=e.alternate)&&(null!==(t=t.memoizedState)&&null!==(t=t.dehydrated))))try{Cd(t)}catch(n){uu(e,e.return,n)}}function Rl(t,e){var n=function(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return null===e&&(e=t.stateNode=new _l),e;case 22:return null===(e=(t=t.stateNode)._retryCache)&&(e=t._retryCache=new _l),e;default:throw Error(s(435,t.tag))}}(t);e.forEach((function(e){var i=gu.bind(null,t,e);n.has(e)||(n.add(e),e.then(i,i))}))}function Dl(t,e){var n=e.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i],a=t,o=e,l=o;t:for(;null!==l;){switch(l.tag){case 27:if(fh(l.type)){El=l.stateNode,Cl=!1;break t}break;case 5:El=l.stateNode,Cl=!1;break t;case 3:case 4:El=l.stateNode.containerInfo,Cl=!0;break t}l=l.return}if(null===El)throw Error(s(160));Tl(a,o,r),El=null,Cl=!1,null!==(a=r.alternate)&&(a.return=null),r.return=null}if(13878&e.subtreeFlags)for(e=e.child;null!==e;)Ll(e,t),e=e.sibling}var Nl=null;function Ll(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Dl(e,t),Il(t),4&i&&(ol(3,t,t.return),sl(3,t),ol(5,t,t.return));break;case 1:Dl(e,t),Il(t),512&i&&(wl||null===n||hl(n,n.return)),64&i&&bl&&(null!==(t=t.updateQueue)&&(null!==(i=t.callbacks)&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=null===n?i:n.concat(i))));break;case 26:var r=Nl;if(Dl(e,t),Il(t),512&i&&(wl||null===n||hl(n,n.return)),4&i){var a=null!==n?n.memoizedState:null;if(i=t.memoizedState,null===n)if(null===i)if(null===t.stateNode){t:{i=t.type,n=t.memoizedProps,r=r.ownerDocument||r;e:switch(i){case"title":(!(a=r.getElementsByTagName("title")[0])||a[jt]||a[Dt]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=r.createElement(i),r.head.insertBefore(a,r.querySelector("head > title"))),th(a,i,n),a[Dt]=t,Gt(a),i=a;break t;case"link":var o=jh("link","href",r).get(i+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((a=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&a.getAttribute("rel")===(null==n.rel?null:n.rel)&&a.getAttribute("title")===(null==n.title?null:n.title)&&a.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break e}th(a=r.createElement(i),i,n),r.head.appendChild(a);break;case"meta":if(o=jh("meta","content",r).get(i+(n.content||"")))for(l=0;l<o.length;l++)if((a=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&a.getAttribute("name")===(null==n.name?null:n.name)&&a.getAttribute("property")===(null==n.property?null:n.property)&&a.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&a.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break e}th(a=r.createElement(i),i,n),r.head.appendChild(a);break;default:throw Error(s(468,i))}a[Dt]=t,Gt(a),i=a}t.stateNode=i}else Wh(r,t.type,t.stateNode);else t.stateNode=Lh(r,i,t.memoizedProps);else a!==i?(null===a?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):a.count--,null===i?Wh(r,t.type,t.stateNode):Lh(r,i,t.memoizedProps)):null===i&&null!==t.stateNode&&fl(t,t.memoizedProps,n.memoizedProps)}break;case 27:Dl(e,t),Il(t),512&i&&(wl||null===n||hl(n,n.return)),null!==n&&4&i&&fl(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Dl(e,t),Il(t),512&i&&(wl||null===n||hl(n,n.return)),32&t.flags){r=t.stateNode;try{_e(r,"")}catch(p){uu(t,t.return,p)}}4&i&&null!=t.stateNode&&fl(t,r=t.memoizedProps,null!==n?n.memoizedProps:r),1024&i&&(xl=!0);break;case 6:if(Dl(e,t),Il(t),4&i){if(null===t.stateNode)throw Error(s(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(p){uu(t,t.return,p)}}break;case 3:if(Bh=null,r=Nl,Nl=Sh(e.containerInfo),Dl(e,t),Nl=r,Il(t),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Cd(e.containerInfo)}catch(p){uu(t,t.return,p)}xl&&(xl=!1,Fl(t));break;case 4:i=Nl,Nl=Sh(t.stateNode.containerInfo),Dl(e,t),Il(t),Nl=i;break;case 12:default:Dl(e,t),Il(t);break;case 13:Dl(e,t),Il(t),8192&t.child.flags&&null!==t.memoizedState!==(null!==n&&null!==n.memoizedState)&&(xc=et()),4&i&&(null!==(i=t.updateQueue)&&(t.updateQueue=null,Rl(t,i)));break;case 22:r=null!==t.memoizedState;var c=null!==n&&null!==n.memoizedState,u=bl,h=wl;if(bl=u||r,wl=h||c,Dl(e,t),wl=h,bl=u,Il(t),8192&i)t:for(e=t.stateNode,e._visibility=r?-2&e._visibility:1|e._visibility,r&&(null===n||c||bl||wl||Bl(t)),n=null,e=t;;){if(5===e.tag||26===e.tag){if(null===n){c=n=e;try{if(a=c.stateNode,r)"function"===typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var d=c.memoizedProps.style,f=void 0!==d&&null!==d&&d.hasOwnProperty("display")?d.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(p){uu(c,c.return,p)}}}else if(6===e.tag){if(null===n){c=e;try{c.stateNode.nodeValue=r?"":c.memoizedProps}catch(p){uu(c,c.return,p)}}}else if((22!==e.tag&&23!==e.tag||null===e.memoizedState||e===t)&&null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;null===e.sibling;){if(null===e.return||e.return===t)break t;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}4&i&&(null!==(i=t.updateQueue)&&(null!==(n=i.retryQueue)&&(i.retryQueue=null,Rl(t,n))));break;case 19:Dl(e,t),Il(t),4&i&&(null!==(i=t.updateQueue)&&(t.updateQueue=null,Rl(t,i)));case 30:case 21:}}function Il(t){var e=t.flags;if(2&e){try{for(var n,i=t.return;null!==i;){if(pl(i)){n=i;break}i=i.return}if(null==n)throw Error(s(160));switch(n.tag){case 27:var r=n.stateNode;vl(t,gl(t),r);break;case 5:var a=n.stateNode;32&n.flags&&(_e(a,""),n.flags&=-33),vl(t,gl(t),a);break;case 3:case 4:var o=n.stateNode.containerInfo;ml(t,gl(t),o);break;default:throw Error(s(161))}}catch(l){uu(t,t.return,l)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function Fl(t){if(1024&t.subtreeFlags)for(t=t.child;null!==t;){var e=t;Fl(e),5===e.tag&&1024&e.flags&&e.stateNode.reset(),t=t.sibling}}function Ol(t,e){if(8772&e.subtreeFlags)for(e=e.child;null!==e;)Sl(t,e.alternate,e),e=e.sibling}function Bl(t){for(t=t.child;null!==t;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:ol(4,e,e.return),Bl(e);break;case 1:hl(e,e.return);var n=e.stateNode;"function"===typeof n.componentWillUnmount&&cl(e,e.return,n),Bl(e);break;case 27:xh(e.stateNode);case 26:case 5:hl(e,e.return),Bl(e);break;case 22:null===e.memoizedState&&Bl(e);break;default:Bl(e)}t=t.sibling}}function jl(t,e,n){for(n=n&&0!==(8772&e.subtreeFlags),e=e.child;null!==e;){var i=e.alternate,r=t,a=e,s=a.flags;switch(a.tag){case 0:case 11:case 15:jl(r,a,n),sl(4,a);break;case 1:if(jl(r,a,n),"function"===typeof(r=(i=a).stateNode).componentDidMount)try{r.componentDidMount()}catch(c){uu(i,i.return,c)}if(null!==(r=(i=a).updateQueue)){var o=i.stateNode;try{var l=r.shared.hiddenCallbacks;if(null!==l)for(r.shared.hiddenCallbacks=null,r=0;r<l.length;r++)ha(l[r],o)}catch(c){uu(i,i.return,c)}}n&&64&s&&ll(a),ul(a,a.return);break;case 27:yl(a);case 26:case 5:jl(r,a,n),n&&null===i&&4&s&&dl(a),ul(a,a.return);break;case 12:jl(r,a,n);break;case 13:jl(r,a,n),n&&4&s&&Pl(r,a);break;case 22:null===a.memoizedState&&jl(r,a,n),ul(a,a.return);break;case 30:break;default:jl(r,a,n)}e=e.sibling}}function Wl(t,e){var n=null;null!==t&&null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(n=t.memoizedState.cachePool.pool),t=null,null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(t=e.memoizedState.cachePool.pool),t!==n&&(null!=t&&t.refCount++,null!=n&&Lr(n))}function zl(t,e){t=null,null!==e.alternate&&(t=e.alternate.memoizedState.cache),(e=e.memoizedState.cache)!==t&&(e.refCount++,null!=t&&Lr(t))}function Ul(t,e,n,i){if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Hl(t,e,n,i),e=e.sibling}function Hl(t,e,n,i){var r=e.flags;switch(e.tag){case 0:case 11:case 15:Ul(t,e,n,i),2048&r&&sl(9,e);break;case 1:case 13:default:Ul(t,e,n,i);break;case 3:Ul(t,e,n,i),2048&r&&(t=null,null!==e.alternate&&(t=e.alternate.memoizedState.cache),(e=e.memoizedState.cache)!==t&&(e.refCount++,null!=t&&Lr(t)));break;case 12:if(2048&r){Ul(t,e,n,i),t=e.stateNode;try{var a=e.memoizedProps,s=a.id,o=a.onPostCommit;"function"===typeof o&&o(s,null===e.alternate?"mount":"update",t.passiveEffectDuration,-0)}catch(l){uu(e,e.return,l)}}else Ul(t,e,n,i);break;case 23:break;case 22:a=e.stateNode,s=e.alternate,null!==e.memoizedState?2&a._visibility?Ul(t,e,n,i):Gl(t,e):2&a._visibility?Ul(t,e,n,i):(a._visibility|=2,Vl(t,e,n,i,0!==(10256&e.subtreeFlags))),2048&r&&Wl(s,e);break;case 24:Ul(t,e,n,i),2048&r&&zl(e.alternate,e)}}function Vl(t,e,n,i,r){for(r=r&&0!==(10256&e.subtreeFlags),e=e.child;null!==e;){var a=t,s=e,o=n,l=i,c=s.flags;switch(s.tag){case 0:case 11:case 15:Vl(a,s,o,l,r),sl(8,s);break;case 23:break;case 22:var u=s.stateNode;null!==s.memoizedState?2&u._visibility?Vl(a,s,o,l,r):Gl(a,s):(u._visibility|=2,Vl(a,s,o,l,r)),r&&2048&c&&Wl(s.alternate,s);break;case 24:Vl(a,s,o,l,r),r&&2048&c&&zl(s.alternate,s);break;default:Vl(a,s,o,l,r)}e=e.sibling}}function Gl(t,e){if(10256&e.subtreeFlags)for(e=e.child;null!==e;){var n=t,i=e,r=i.flags;switch(i.tag){case 22:Gl(n,i),2048&r&&Wl(i.alternate,i);break;case 24:Gl(n,i),2048&r&&zl(i.alternate,i);break;default:Gl(n,i)}e=e.sibling}}var ql=8192;function Xl(t){if(t.subtreeFlags&ql)for(t=t.child;null!==t;)Yl(t),t=t.sibling}function Yl(t){switch(t.tag){case 26:Xl(t),t.flags&ql&&null!==t.memoizedState&&function(t,e,n){if(null===Uh)throw Error(s(475));var i=Uh;if("stylesheet"===e.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&e.state.loading)){if(null===e.instance){var r=Th(n.href),a=t.querySelector(Ph(r));if(a)return null!==(t=a._p)&&"object"===typeof t&&"function"===typeof t.then&&(i.count++,i=Vh.bind(i),t.then(i,i)),e.state.loading|=4,e.instance=a,void Gt(a);a=t.ownerDocument||t,n=Rh(n),(r=_h.get(r))&&Fh(n,r),Gt(a=a.createElement("link"));var o=a;o._p=new Promise((function(t,e){o.onload=t,o.onerror=e})),th(a,"link",n),e.instance=a}null===i.stylesheets&&(i.stylesheets=new Map),i.stylesheets.set(e,t),(t=e.state.preload)&&0===(3&e.state.loading)&&(i.count++,e=Vh.bind(i),t.addEventListener("load",e),t.addEventListener("error",e))}}(Nl,t.memoizedState,t.memoizedProps);break;case 5:default:Xl(t);break;case 3:case 4:var e=Nl;Nl=Sh(t.stateNode.containerInfo),Xl(t),Nl=e;break;case 22:null===t.memoizedState&&(null!==(e=t.alternate)&&null!==e.memoizedState?(e=ql,ql=16777216,Xl(t),ql=e):Xl(t))}}function Kl(t){var e=t.alternate;if(null!==e&&null!==(t=e.child)){e.child=null;do{e=t.sibling,t.sibling=null,t=e}while(null!==t)}}function Ql(t){var e=t.deletions;if(0!==(16&t.flags)){if(null!==e)for(var n=0;n<e.length;n++){var i=e[n];kl=i,Zl(i,t)}Kl(t)}if(10256&t.subtreeFlags)for(t=t.child;null!==t;)$l(t),t=t.sibling}function $l(t){switch(t.tag){case 0:case 11:case 15:Ql(t),2048&t.flags&&ol(9,t,t.return);break;case 3:case 12:default:Ql(t);break;case 22:var e=t.stateNode;null!==t.memoizedState&&2&e._visibility&&(null===t.return||13!==t.return.tag)?(e._visibility&=-3,Jl(t)):Ql(t)}}function Jl(t){var e=t.deletions;if(0!==(16&t.flags)){if(null!==e)for(var n=0;n<e.length;n++){var i=e[n];kl=i,Zl(i,t)}Kl(t)}for(t=t.child;null!==t;){switch((e=t).tag){case 0:case 11:case 15:ol(8,e,e.return),Jl(e);break;case 22:2&(n=e.stateNode)._visibility&&(n._visibility&=-3,Jl(e));break;default:Jl(e)}t=t.sibling}}function Zl(t,e){for(;null!==kl;){var n=kl;switch(n.tag){case 0:case 11:case 15:ol(8,n,e);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var i=n.memoizedState.cachePool.pool;null!=i&&i.refCount++}break;case 24:Lr(n.memoizedState.cache)}if(null!==(i=n.child))i.return=n,kl=i;else t:for(n=t;null!==kl;){var r=(i=kl).sibling,a=i.return;if(Al(i),i===n){kl=null;break t}if(null!==r){r.return=a,kl=r;break t}kl=a}}}var tc={getCacheForType:function(t){var e=Er(Dr),n=e.data.get(t);return void 0===n&&(n=t(),e.data.set(t,n)),n}},ec="function"===typeof WeakMap?WeakMap:Map,nc=0,ic=null,rc=null,ac=0,sc=0,oc=null,lc=!1,cc=!1,uc=!1,hc=0,dc=0,fc=0,pc=0,gc=0,mc=0,vc=0,yc=null,bc=null,wc=!1,xc=0,_c=1/0,kc=null,Sc=null,Ac=0,Ec=null,Cc=null,Mc=0,Tc=0,Pc=null,Rc=null,Dc=0,Nc=null;function Lc(){if(0!==(2&nc)&&0!==ac)return ac&-ac;if(null!==L.T){return 0!==Or?Or:Tu()}return Pt()}function Ic(){0===mc&&(mc=0===(536870912&ac)||ar?_t():536870912);var t=io.current;return null!==t&&(t.flags|=32),mc}function Fc(t,e,n){(t!==ic||2!==sc&&9!==sc)&&null===t.cancelPendingCommit||(Hc(t,0),Wc(t,ac,mc,!1)),At(t,n),0!==(2&nc)&&t===ic||(t===ic&&(0===(2&nc)&&(pc|=n),4===dc&&Wc(t,ac,mc,!1)),_u(t))}function Oc(t,e,n){if(0!==(6&nc))throw Error(s(327));for(var i=!n&&0===(124&e)&&0===(e&t.expiredLanes)||wt(t,e),r=i?function(t,e){var n=nc;nc|=2;var i=Gc(),r=qc();ic!==t||ac!==e?(kc=null,_c=et()+500,Hc(t,e)):cc=wt(t,e);t:for(;;)try{if(0!==sc&&null!==rc){e=rc;var a=oc;e:switch(sc){case 1:sc=0,oc=null,Zc(t,e,a,1);break;case 2:case 9:if(Kr(a)){sc=0,oc=null,Jc(e);break}e=function(){2!==sc&&9!==sc||ic!==t||(sc=7),_u(t)},a.then(e,e);break t;case 3:sc=7;break t;case 4:sc=5;break t;case 7:Kr(a)?(sc=0,oc=null,Jc(e)):(sc=0,oc=null,Zc(t,e,a,7));break;case 5:var o=null;switch(rc.tag){case 26:o=rc.memoizedState;case 5:case 27:var l=rc;if(!o||zh(o)){sc=0,oc=null;var c=l.sibling;if(null!==c)rc=c;else{var u=l.return;null!==u?(rc=u,tu(u)):rc=null}break e}}sc=0,oc=null,Zc(t,e,a,5);break;case 6:sc=0,oc=null,Zc(t,e,a,6);break;case 8:Uc(),dc=6;break t;default:throw Error(s(462))}}Qc();break}catch(h){Vc(t,h)}return yr=vr=null,L.H=i,L.A=r,nc=n,null!==rc?0:(ic=null,ac=0,Mi(),dc)}(t,e):Yc(t,e,!0),a=i;;){if(0===r){cc&&!i&&Wc(t,e,0,!1);break}if(n=t.current.alternate,!a||jc(n)){if(2===r){if(a=e,t.errorRecoveryDisabledLanes&a)var o=0;else o=0!==(o=-536870913&t.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){e=o;t:{var l=t;r=yc;var c=l.current.memoizedState.isDehydrated;if(c&&(Hc(l,o).flags|=256),2!==(o=Yc(l,o,!1))){if(uc&&!c){l.errorRecoveryDisabledLanes|=a,pc|=a,r=4;break t}a=bc,bc=r,null!==a&&(null===bc?bc=a:bc.push.apply(bc,a))}r=o}if(a=!1,2!==r)continue}}if(1===r){Hc(t,0),Wc(t,e,0,!0);break}t:{switch(i=t,a=r){case 0:case 1:throw Error(s(345));case 4:if((4194048&e)!==e)break;case 6:Wc(i,e,mc,!lc);break t;case 2:bc=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&e)===e&&10<(r=xc+300-et())){if(Wc(i,e,mc,!lc),0!==bt(i,0,!0))break t;i.timeoutHandle=lh(Bc.bind(null,i,n,bc,kc,wc,e,mc,pc,vc,lc,a,2,-0,0),r)}else Bc(i,n,bc,kc,wc,e,mc,pc,vc,lc,a,0,-0,0)}break}r=Yc(t,e,!1),a=!1}_u(t)}function Bc(t,e,n,i,r,a,o,l,c,u,h,d,f,p){if(t.timeoutHandle=-1,(8192&(d=e.subtreeFlags)||16785408===(16785408&d))&&(Uh={stylesheets:null,count:0,unsuspend:Hh},Yl(e),null!==(d=function(){if(null===Uh)throw Error(s(475));var t=Uh;return t.stylesheets&&0===t.count&&qh(t,t.stylesheets),0<t.count?function(e){var n=setTimeout((function(){if(t.stylesheets&&qh(t,t.stylesheets),t.unsuspend){var e=t.unsuspend;t.unsuspend=null,e()}}),6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}())))return t.cancelPendingCommit=d(nu.bind(null,t,e,a,n,i,r,o,l,c,h,1,f,p)),void Wc(t,a,o,!u);nu(t,e,a,n,i,r,o,l,c)}function jc(t){for(var e=t;;){var n=e.tag;if((0===n||11===n||15===n)&&16384&e.flags&&(null!==(n=e.updateQueue)&&null!==(n=n.stores)))for(var i=0;i<n.length;i++){var r=n[i],a=r.getSnapshot;r=r.value;try{if(!Kn(a(),r))return!1}catch(s){return!1}}if(n=e.child,16384&e.subtreeFlags&&null!==n)n.return=e,e=n;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Wc(t,e,n,i){e&=~gc,e&=~pc,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var r=e;0<r;){var a=31-ft(r),s=1<<a;i[a]=-1,r&=~s}0!==n&&Et(t,n,e)}function zc(){return 0!==(6&nc)||(ku(0,!1),!1)}function Uc(){if(null!==rc){if(0===sc)var t=rc.return;else yr=vr=null,Oa(t=rc),Ys=null,Ks=0,t=rc;for(;null!==t;)al(t.alternate,t),t=t.return;rc=null}}function Hc(t,e){var n=t.timeoutHandle;-1!==n&&(t.timeoutHandle=-1,ch(n)),null!==(n=t.cancelPendingCommit)&&(t.cancelPendingCommit=null,n()),Uc(),ic=t,rc=n=Bi(t.current,null),ac=e,sc=0,oc=null,lc=!1,cc=wt(t,e),uc=!1,vc=mc=gc=pc=fc=dc=0,bc=yc=null,wc=!1,0!==(8&e)&&(e|=32&e);var i=t.entangledLanes;if(0!==i)for(t=t.entanglements,i&=e;0<i;){var r=31-ft(i),a=1<<r;e|=t[r],i&=~a}return hc=e,Mi(),n}function Vc(t,e){ba=null,L.H=Vs,e===Gr||e===Xr?(e=Zr(),sc=3):e===qr?(e=Zr(),sc=4):sc=e===Eo?8:null!==e&&"object"===typeof e&&"function"===typeof e.then?6:1,oc=e,null===rc&&(dc=1,xo(t,Si(e,t.current)))}function Gc(){var t=L.H;return L.H=Vs,null===t?Vs:t}function qc(){var t=L.A;return L.A=tc,t}function Xc(){dc=4,lc||(4194048&ac)!==ac&&null!==io.current||(cc=!0),0===(134217727&fc)&&0===(134217727&pc)||null===ic||Wc(ic,ac,mc,!1)}function Yc(t,e,n){var i=nc;nc|=2;var r=Gc(),a=qc();ic===t&&ac===e||(kc=null,Hc(t,e)),e=!1;var s=dc;t:for(;;)try{if(0!==sc&&null!==rc){var o=rc,l=oc;switch(sc){case 8:Uc(),s=6;break t;case 3:case 2:case 9:case 6:null===io.current&&(e=!0);var c=sc;if(sc=0,oc=null,Zc(t,o,l,c),n&&cc){s=0;break t}break;default:c=sc,sc=0,oc=null,Zc(t,o,l,c)}}Kc(),s=dc;break}catch(u){Vc(t,u)}return e&&t.shellSuspendCounter++,yr=vr=null,nc=i,L.H=r,L.A=a,null===rc&&(ic=null,ac=0,Mi()),s}function Kc(){for(;null!==rc;)$c(rc)}function Qc(){for(;null!==rc&&!Z();)$c(rc)}function $c(t){var e=$o(t.alternate,t,hc);t.memoizedProps=t.pendingProps,null===e?tu(t):rc=e}function Jc(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Fo(n,e,e.pendingProps,e.type,void 0,ac);break;case 11:e=Fo(n,e,e.pendingProps,e.type.render,e.ref,ac);break;case 5:Oa(e);default:al(n,e),e=$o(n,e=rc=ji(e,hc),hc)}t.memoizedProps=t.pendingProps,null===e?tu(t):rc=e}function Zc(t,e,n,i){yr=vr=null,Oa(e),Ys=null,Ks=0;var r=e.return;try{if(function(t,e,n,i,r){if(n.flags|=32768,null!==i&&"object"===typeof i&&"function"===typeof i.then){if(null!==(e=n.alternate)&&kr(e,n,r,!0),null!==(n=io.current)){switch(n.tag){case 13:return null===ro?Xc():null===n.alternate&&0===dc&&(dc=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===Yr?n.flags|=16384:(null===(e=n.updateQueue)?n.updateQueue=new Set([i]):e.add(i),hu(t,i,r)),!1;case 22:return n.flags|=65536,i===Yr?n.flags|=16384:(null===(e=n.updateQueue)?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):null===(n=e.retryQueue)?e.retryQueue=new Set([i]):n.add(i),hu(t,i,r)),!1}throw Error(s(435,n.tag))}return hu(t,i,r),Xc(),!1}if(ar)return null!==(e=io.current)?(0===(65536&e.flags)&&(e.flags|=256),e.flags|=65536,e.lanes=r,i!==lr&&gr(Si(t=Error(s(422),{cause:i}),n))):(i!==lr&&gr(Si(e=Error(s(423),{cause:i}),n)),(t=t.current.alternate).flags|=65536,r&=-r,t.lanes|=r,i=Si(i,n),oa(t,r=ko(t.stateNode,i,r)),4!==dc&&(dc=2)),!1;var a=Error(s(520),{cause:i});if(a=Si(a,n),null===yc?yc=[a]:yc.push(a),4!==dc&&(dc=2),null===e)return!0;i=Si(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=r&-r,n.lanes|=t,oa(n,t=ko(n.stateNode,i,t)),!1;case 1:if(e=n.type,a=n.stateNode,0===(128&n.flags)&&("function"===typeof e.getDerivedStateFromError||null!==a&&"function"===typeof a.componentDidCatch&&(null===Sc||!Sc.has(a))))return n.flags|=65536,r&=-r,n.lanes|=r,Ao(r=So(r),t,n,i),oa(n,r),!1}n=n.return}while(null!==n);return!1}(t,r,e,n,ac))return dc=1,xo(t,Si(n,t.current)),void(rc=null)}catch(a){if(null!==r)throw rc=r,a;return dc=1,xo(t,Si(n,t.current)),void(rc=null)}32768&e.flags?(ar||1===i?t=!0:cc||0!==(536870912&ac)?t=!1:(lc=t=!0,(2===i||9===i||3===i||6===i)&&(null!==(i=io.current)&&13===i.tag&&(i.flags|=16384))),eu(e,t)):tu(e)}function tu(t){var e=t;do{if(0!==(32768&e.flags))return void eu(e,lc);t=e.return;var n=il(e.alternate,e,hc);if(null!==n)return void(rc=n);if(null!==(e=e.sibling))return void(rc=e);rc=e=t}while(null!==e);0===dc&&(dc=5)}function eu(t,e){do{var n=rl(t.alternate,t);if(null!==n)return n.flags&=32767,void(rc=n);if(null!==(n=t.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&null!==(t=t.sibling))return void(rc=t);rc=t=n}while(null!==t);dc=6,rc=null}function nu(t,e,n,i,r,a,o,l,c){t.cancelPendingCommit=null;do{ou()}while(0!==Ac);if(0!==(6&nc))throw Error(s(327));if(null!==e){if(e===t.current)throw Error(s(177));if(a=e.lanes|e.childLanes,function(t,e,n,i,r,a){var s=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var o=t.entanglements,l=t.expirationTimes,c=t.hiddenUpdates;for(n=s&~n;0<n;){var u=31-ft(n),h=1<<u;o[u]=0,l[u]=-1;var d=c[u];if(null!==d)for(c[u]=null,u=0;u<d.length;u++){var f=d[u];null!==f&&(f.lane&=-536870913)}n&=~h}0!==i&&Et(t,i,0),0!==a&&0===r&&0!==t.tag&&(t.suspendedLanes|=a&~(s&~e))}(t,n,a|=Ci,o,l,c),t===ic&&(rc=ic=null,ac=0),Cc=e,Ec=t,Mc=n,Tc=a,Pc=r,Rc=i,0!==(10256&e.subtreeFlags)||0!==(10256&e.flags)?(t.callbackNode=null,t.callbackPriority=0,$(at,(function(){return lu(),null}))):(t.callbackNode=null,t.callbackPriority=0),i=0!==(13878&e.flags),0!==(13878&e.subtreeFlags)||i){i=L.T,L.T=null,r=I.p,I.p=2,o=nc,nc|=4;try{!function(t,e){if(t=t.containerInfo,eh=nd,ei(t=ti(t))){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{var i=(n=(n=t.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch(m){n=null;break t}var o=0,l=-1,c=-1,u=0,h=0,d=t,f=null;e:for(;;){for(var p;d!==n||0!==r&&3!==d.nodeType||(l=o+r),d!==a||0!==i&&3!==d.nodeType||(c=o+i),3===d.nodeType&&(o+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===t)break e;if(f===n&&++u===r&&(l=o),f===a&&++h===i&&(c=o),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nh={focusedElem:t,selectionRange:n},nd=!1,kl=e;null!==kl;)if(t=(e=kl).child,0!==(1024&e.subtreeFlags)&&null!==t)t.return=e,kl=t;else for(;null!==kl;){switch(a=(e=kl).alternate,t=e.flags,e.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&t)&&null!==a){t=void 0,n=e,r=a.memoizedProps,a=a.memoizedState,i=n.stateNode;try{var g=mo(n.type,r,(n.elementType,n.type));t=i.getSnapshotBeforeUpdate(g,a),i.__reactInternalSnapshotBeforeUpdate=t}catch(v){uu(n,n.return,v)}}break;case 3:if(0!==(1024&t))if(9===(n=(t=e.stateNode.containerInfo).nodeType))gh(t);else if(1===n)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":gh(t);break;default:t.textContent=""}break;default:if(0!==(1024&t))throw Error(s(163))}if(null!==(t=e.sibling)){t.return=e.return,kl=t;break}kl=e.return}}(t,e)}finally{nc=o,I.p=r,L.T=i}}Ac=1,iu(),ru(),au()}}function iu(){if(1===Ac){Ac=0;var t=Ec,e=Cc,n=0!==(13878&e.flags);if(0!==(13878&e.subtreeFlags)||n){n=L.T,L.T=null;var i=I.p;I.p=2;var r=nc;nc|=4;try{Ll(e,t);var a=nh,s=ti(t.containerInfo),o=a.focusedElem,l=a.selectionRange;if(s!==o&&o&&o.ownerDocument&&Zn(o.ownerDocument.documentElement,o)){if(null!==l&&ei(o)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var h=o.ownerDocument||document,d=h&&h.defaultView||window;if(d.getSelection){var f=d.getSelection(),p=o.textContent.length,g=Math.min(l.start,p),m=void 0===l.end?g:Math.min(l.end,p);!f.extend&&g>m&&(s=m,m=g,g=s);var v=Jn(o,g),y=Jn(o,m);if(v&&y&&(1!==f.rangeCount||f.anchorNode!==v.node||f.anchorOffset!==v.offset||f.focusNode!==y.node||f.focusOffset!==y.offset)){var b=h.createRange();b.setStart(v.node,v.offset),f.removeAllRanges(),g>m?(f.addRange(b),f.extend(y.node,y.offset)):(b.setEnd(y.node,y.offset),f.addRange(b))}}}}for(h=[],f=o;f=f.parentNode;)1===f.nodeType&&h.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<h.length;o++){var w=h[o];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}nd=!!eh,nh=eh=null}finally{nc=r,I.p=i,L.T=n}}t.current=e,Ac=2}}function ru(){if(2===Ac){Ac=0;var t=Ec,e=Cc,n=0!==(8772&e.flags);if(0!==(8772&e.subtreeFlags)||n){n=L.T,L.T=null;var i=I.p;I.p=2;var r=nc;nc|=4;try{Sl(t,e.alternate,e)}finally{nc=r,I.p=i,L.T=n}}Ac=3}}function au(){if(4===Ac||3===Ac){Ac=0,tt();var t=Ec,e=Cc,n=Mc,i=Rc;0!==(10256&e.subtreeFlags)||0!==(10256&e.flags)?Ac=5:(Ac=0,Cc=Ec=null,su(t,t.pendingLanes));var r=t.pendingLanes;if(0===r&&(Sc=null),Tt(n),e=e.stateNode,ht&&"function"===typeof ht.onCommitFiberRoot)try{ht.onCommitFiberRoot(ut,e,void 0,128===(128&e.current.flags))}catch(l){}if(null!==i){e=L.T,r=I.p,I.p=2,L.T=null;try{for(var a=t.onRecoverableError,s=0;s<i.length;s++){var o=i[s];a(o.value,{componentStack:o.stack})}}finally{L.T=e,I.p=r}}0!==(3&Mc)&&ou(),_u(t),r=t.pendingLanes,0!==(4194090&n)&&0!==(42&r)?t===Nc?Dc++:(Dc=0,Nc=t):Dc=0,ku(0,!1)}}function su(t,e){0===(t.pooledCacheLanes&=e)&&(null!=(e=t.pooledCache)&&(t.pooledCache=null,Lr(e)))}function ou(t){return iu(),ru(),au(),lu()}function lu(){if(5!==Ac)return!1;var t=Ec,e=Tc;Tc=0;var n=Tt(Mc),i=L.T,r=I.p;try{I.p=32>n?32:n,L.T=null,n=Pc,Pc=null;var a=Ec,o=Mc;if(Ac=0,Cc=Ec=null,Mc=0,0!==(6&nc))throw Error(s(331));var l=nc;if(nc|=4,$l(a.current),Hl(a,a.current,o,n),nc=l,ku(0,!1),ht&&"function"===typeof ht.onPostCommitFiberRoot)try{ht.onPostCommitFiberRoot(ut,a)}catch(c){}return!0}finally{I.p=r,L.T=i,su(t,e)}}function cu(t,e,n){e=Si(n,e),null!==(t=aa(t,e=ko(t.stateNode,e,2),2))&&(At(t,2),_u(t))}function uu(t,e,n){if(3===t.tag)cu(t,t,n);else for(;null!==e;){if(3===e.tag){cu(e,t,n);break}if(1===e.tag){var i=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Sc||!Sc.has(i))){t=Si(n,t),null!==(i=aa(e,n=So(2),2))&&(Ao(n,i,e,t),At(i,2),_u(i));break}}e=e.return}}function hu(t,e,n){var i=t.pingCache;if(null===i){i=t.pingCache=new ec;var r=new Set;i.set(e,r)}else void 0===(r=i.get(e))&&(r=new Set,i.set(e,r));r.has(n)||(uc=!0,r.add(n),t=du.bind(null,t,e,n),e.then(t,t))}function du(t,e,n){var i=t.pingCache;null!==i&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,ic===t&&(ac&n)===n&&(4===dc||3===dc&&(62914560&ac)===ac&&300>et()-xc?0===(2&nc)&&Hc(t,0):gc|=n,vc===ac&&(vc=0)),_u(t)}function fu(t,e){0===e&&(e=kt()),null!==(t=Ri(t,e))&&(At(t,e),_u(t))}function pu(t){var e=t.memoizedState,n=0;null!==e&&(n=e.retryLane),fu(t,n)}function gu(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(s(314))}null!==i&&i.delete(e),fu(t,n)}var mu=null,vu=null,yu=!1,bu=!1,wu=!1,xu=0;function _u(t){t!==vu&&null===t.next&&(null===vu?mu=vu=t:vu=vu.next=t),bu=!0,yu||(yu=!0,hh((function(){0!==(6&nc)?$(it,Su):Au()})))}function ku(t,e){if(!wu&&bu){wu=!0;do{for(var n=!1,i=mu;null!==i;){if(!e)if(0!==t){var r=i.pendingLanes;if(0===r)var a=0;else{var s=i.suspendedLanes,o=i.pingedLanes;a=(1<<31-ft(42|t)+1)-1,a=201326741&(a&=r&~(s&~o))?201326741&a|1:a?2|a:0}0!==a&&(n=!0,Mu(i,a))}else a=ac,0===(3&(a=bt(i,i===ic?a:0,null!==i.cancelPendingCommit||-1!==i.timeoutHandle)))||wt(i,a)||(n=!0,Mu(i,a));i=i.next}}while(n);wu=!1}}function Su(){Au()}function Au(){bu=yu=!1;var t=0;0!==xu&&(function(){var t=window.event;if(t&&"popstate"===t.type)return t!==oh&&(oh=t,!0);return oh=null,!1}()&&(t=xu),xu=0);for(var e=et(),n=null,i=mu;null!==i;){var r=i.next,a=Eu(i,e);0===a?(i.next=null,null===n?mu=r:n.next=r,null===r&&(vu=n)):(n=i,(0!==t||0!==(3&a))&&(bu=!0)),i=r}ku(t,!1)}function Eu(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,a=-62914561&t.pendingLanes;0<a;){var s=31-ft(a),o=1<<s,l=r[s];-1===l?0!==(o&n)&&0===(o&i)||(r[s]=xt(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}if(n=ac,n=bt(t,t===(e=ic)?n:0,null!==t.cancelPendingCommit||-1!==t.timeoutHandle),i=t.callbackNode,0===n||t===e&&(2===sc||9===sc)||null!==t.cancelPendingCommit)return null!==i&&null!==i&&J(i),t.callbackNode=null,t.callbackPriority=0;if(0===(3&n)||wt(t,n)){if((e=n&-n)===t.callbackPriority)return e;switch(null!==i&&J(i),Tt(n)){case 2:case 8:n=rt;break;case 32:default:n=at;break;case 268435456:n=ot}return i=Cu.bind(null,t),n=$(n,i),t.callbackPriority=e,t.callbackNode=n,e}return null!==i&&null!==i&&J(i),t.callbackPriority=2,t.callbackNode=null,2}function Cu(t,e){if(0!==Ac&&5!==Ac)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(ou()&&t.callbackNode!==n)return null;var i=ac;return 0===(i=bt(t,t===ic?i:0,null!==t.cancelPendingCommit||-1!==t.timeoutHandle))?null:(Oc(t,i,e),Eu(t,et()),null!=t.callbackNode&&t.callbackNode===n?Cu.bind(null,t):null)}function Mu(t,e){if(ou())return null;Oc(t,e,!0)}function Tu(){return 0===xu&&(xu=_t()),xu}function Pu(t){return null==t||"symbol"===typeof t||"boolean"===typeof t?null:"function"===typeof t?t:Te(""+t)}function Ru(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}for(var Du=0;Du<xi.length;Du++){var Nu=xi[Du];_i(Nu.toLowerCase(),"on"+(Nu[0].toUpperCase()+Nu.slice(1)))}_i(fi,"onAnimationEnd"),_i(pi,"onAnimationIteration"),_i(gi,"onAnimationStart"),_i("dblclick","onDoubleClick"),_i("focusin","onFocus"),_i("focusout","onBlur"),_i(mi,"onTransitionRun"),_i(vi,"onTransitionStart"),_i(yi,"onTransitionCancel"),_i(bi,"onTransitionEnd"),Kt("onMouseEnter",["mouseout","mouseover"]),Kt("onMouseLeave",["mouseout","mouseover"]),Kt("onPointerEnter",["pointerout","pointerover"]),Kt("onPointerLeave",["pointerout","pointerover"]),Yt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Iu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Lu));function Fu(t,e){e=0!==(4&e);for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;t:{var a=void 0;if(e)for(var s=i.length-1;0<=s;s--){var o=i[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&r.isPropagationStopped())break t;a=o,r.currentTarget=c;try{a(r)}catch(u){vo(u)}r.currentTarget=null,a=l}else for(s=0;s<i.length;s++){if(l=(o=i[s]).instance,c=o.currentTarget,o=o.listener,l!==a&&r.isPropagationStopped())break t;a=o,r.currentTarget=c;try{a(r)}catch(u){vo(u)}r.currentTarget=null,a=l}}}}function Ou(t,e){var n=e[It];void 0===n&&(n=e[It]=new Set);var i=t+"__bubble";n.has(i)||(zu(e,t,2,!1),n.add(i))}function Bu(t,e,n){var i=0;e&&(i|=4),zu(n,t,i,e)}var ju="_reactListening"+Math.random().toString(36).slice(2);function Wu(t){if(!t[ju]){t[ju]=!0,qt.forEach((function(e){"selectionchange"!==e&&(Iu.has(e)||Bu(e,!1,t),Bu(e,!0,t))}));var e=9===t.nodeType?t:t.ownerDocument;null===e||e[ju]||(e[ju]=!0,Bu("selectionchange",!1,e))}}function zu(t,e,n,i){switch(cd(e)){case 2:var r=id;break;case 8:r=rd;break;default:r=ad}n=r.bind(null,e,n,t),r=void 0,!je||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(r=!0),i?void 0!==r?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):void 0!==r?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Uu(t,e,n,i,r){var a=i;if(0===(1&e)&&0===(2&e)&&null!==i)t:for(;;){if(null===i)return;var s=i.tag;if(3===s||4===s){var o=i.stateNode.containerInfo;if(o===r)break;if(4===s)for(s=i.return;null!==s;){var c=s.tag;if((3===c||4===c)&&s.stateNode.containerInfo===r)return;s=s.return}for(;null!==o;){if(null===(s=zt(o)))return;if(5===(c=s.tag)||6===c||26===c||27===c){i=a=s;continue t}o=o.parentNode}}i=i.return}Fe((function(){var i=a,r=Re(n),s=[];t:{var o=wi.get(t);if(void 0!==o){var c=Ze,u=t;switch(t){case"keypress":if(0===Ge(n))break t;case"keydown":case"keyup":c=gn;break;case"focusin":u="focus",c=sn;break;case"focusout":u="blur",c=sn;break;case"beforeblur":case"afterblur":c=sn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=an;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=vn;break;case fi:case pi:case gi:c=on;break;case bi:c=yn;break;case"scroll":case"scrollend":c=en;break;case"wheel":c=bn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=mn;break;case"toggle":case"beforetoggle":c=wn}var h=0!==(4&e),d=!h&&("scroll"===t||"scrollend"===t),f=h?null!==o?o+"Capture":null:o;h=[];for(var p,g=i;null!==g;){var m=g;if(p=m.stateNode,5!==(m=m.tag)&&26!==m&&27!==m||null===p||null===f||null!=(m=Oe(g,f))&&h.push(Hu(g,m,p)),d)break;g=g.return}0<h.length&&(o=new c(o,u,null,n,r),s.push({event:o,listeners:h}))}}if(0===(7&e)){if(c="mouseout"===t||"pointerout"===t,(!(o="mouseover"===t||"pointerover"===t)||n===Pe||!(u=n.relatedTarget||n.fromElement)||!zt(u)&&!u[Lt])&&(c||o)&&(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=i,null!==(u=(u=n.relatedTarget||n.toElement)?zt(u):null)&&(d=l(u),h=u.tag,u!==d||5!==h&&27!==h&&6!==h)&&(u=null)):(c=null,u=i),c!==u)){if(h=rn,m="onMouseLeave",f="onMouseEnter",g="mouse","pointerout"!==t&&"pointerover"!==t||(h=mn,m="onPointerLeave",f="onPointerEnter",g="pointer"),d=null==c?o:Ht(c),p=null==u?o:Ht(u),(o=new h(m,g+"leave",c,n,r)).target=d,o.relatedTarget=p,m=null,zt(r)===i&&((h=new h(f,g+"enter",u,n,r)).target=p,h.relatedTarget=d,m=h),d=m,c&&u)t:{for(f=u,g=0,p=h=c;p;p=Gu(p))g++;for(p=0,m=f;m;m=Gu(m))p++;for(;0<g-p;)h=Gu(h),g--;for(;0<p-g;)f=Gu(f),p--;for(;g--;){if(h===f||null!==f&&h===f.alternate)break t;h=Gu(h),f=Gu(f)}h=null}else h=null;null!==c&&qu(s,o,c,h,!1),null!==u&&null!==d&&qu(s,d,u,h,!0)}if("select"===(c=(o=i?Ht(i):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var v=Bn;else if(Dn(o))if(jn)v=Yn;else{v=qn;var y=Gn}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?i&&Ee(i.elementType)&&(v=Bn):v=Xn;switch(v&&(v=v(t,i))?Nn(s,v,n,r):(y&&y(t,o,i),"focusout"===t&&i&&"number"===o.type&&null!=i.memoizedProps.value&&ye(o,"number",o.value)),y=i?Ht(i):window,t){case"focusin":(Dn(y)||"true"===y.contentEditable)&&(ii=y,ri=i,ai=null);break;case"focusout":ai=ri=ii=null;break;case"mousedown":si=!0;break;case"contextmenu":case"mouseup":case"dragend":si=!1,oi(s,n,r);break;case"selectionchange":if(ni)break;case"keydown":case"keyup":oi(s,n,r)}var b;if(_n)t:{switch(t){case"compositionstart":var w="onCompositionStart";break t;case"compositionend":w="onCompositionEnd";break t;case"compositionupdate":w="onCompositionUpdate";break t}w=void 0}else Pn?Mn(t,n)&&(w="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(w="onCompositionStart");w&&(An&&"ko"!==n.locale&&(Pn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Pn&&(b=Ve()):(Ue="value"in(ze=r)?ze.value:ze.textContent,Pn=!0)),0<(y=Vu(i,w)).length&&(w=new cn(w,t,null,n,r),s.push({event:w,listeners:y}),b?w.data=b:null!==(b=Tn(n))&&(w.data=b))),(b=Sn?function(t,e){switch(t){case"compositionend":return Tn(e);case"keypress":return 32!==e.which?null:(Cn=!0,En);case"textInput":return(t=e.data)===En&&Cn?null:t;default:return null}}(t,n):function(t,e){if(Pn)return"compositionend"===t||!_n&&Mn(t,e)?(t=Ve(),He=Ue=ze=null,Pn=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return An&&"ko"!==e.locale?null:e.data}}(t,n))&&(0<(w=Vu(i,"onBeforeInput")).length&&(y=new cn("onBeforeInput","beforeinput",null,n,r),s.push({event:y,listeners:w}),y.data=b)),function(t,e,n,i,r){if("submit"===e&&n&&n.stateNode===r){var a=Pu((r[Nt]||null).action),s=i.submitter;s&&null!==(e=(e=s[Nt]||null)?Pu(e.formAction):s.getAttribute("formAction"))&&(a=e,s=null);var o=new Ze("action","action",null,i,r);t.push({event:o,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(0!==xu){var t=s?Ru(r,s):new FormData(r);Ps(n,{pending:!0,data:t,method:r.method,action:a},null,t)}}else"function"===typeof a&&(o.preventDefault(),t=s?Ru(r,s):new FormData(r),Ps(n,{pending:!0,data:t,method:r.method,action:a},a,t))},currentTarget:r}]})}}(s,t,i,n,r)}Fu(s,e)}))}function Hu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Vu(t,e){for(var n=e+"Capture",i=[];null!==t;){var r=t,a=r.stateNode;if(5!==(r=r.tag)&&26!==r&&27!==r||null===a||(null!=(r=Oe(t,n))&&i.unshift(Hu(t,r,a)),null!=(r=Oe(t,e))&&i.push(Hu(t,r,a))),3===t.tag)return i;t=t.return}return[]}function Gu(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag&&27!==t.tag);return t||null}function qu(t,e,n,i,r){for(var a=e._reactName,s=[];null!==n&&n!==i;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===i)break;5!==o&&26!==o&&27!==o||null===c||(l=c,r?null!=(c=Oe(n,a))&&s.unshift(Hu(n,c,l)):r||null!=(c=Oe(n,a))&&s.push(Hu(n,c,l))),n=n.return}0!==s.length&&t.push({event:e,listeners:s})}var Xu=/\r\n?/g,Yu=/\u0000|\uFFFD/g;function Ku(t){return("string"===typeof t?t:""+t).replace(Xu,"\n").replace(Yu,"")}function Qu(t,e){return e=Ku(e),Ku(t)===e}function $u(){}function Ju(t,e,n,i,r,a){switch(n){case"children":"string"===typeof i?"body"===e||"textarea"===e&&""===i||_e(t,i):("number"===typeof i||"bigint"===typeof i)&&"body"!==e&&_e(t,""+i);break;case"className":ne(t,"class",i);break;case"tabIndex":ne(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":ne(t,n,i);break;case"style":Ae(t,i,a);break;case"data":if("object"!==e){ne(t,"data",i);break}case"src":case"href":if(""===i&&("a"!==e||"href"!==n)){t.removeAttribute(n);break}if(null==i||"function"===typeof i||"symbol"===typeof i||"boolean"===typeof i){t.removeAttribute(n);break}i=Te(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if("function"===typeof i){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof a&&("formAction"===n?("input"!==e&&Ju(t,e,"name",r.name,r,null),Ju(t,e,"formEncType",r.formEncType,r,null),Ju(t,e,"formMethod",r.formMethod,r,null),Ju(t,e,"formTarget",r.formTarget,r,null)):(Ju(t,e,"encType",r.encType,r,null),Ju(t,e,"method",r.method,r,null),Ju(t,e,"target",r.target,r,null))),null==i||"symbol"===typeof i||"boolean"===typeof i){t.removeAttribute(n);break}i=Te(""+i),t.setAttribute(n,i);break;case"onClick":null!=i&&(t.onclick=$u);break;case"onScroll":null!=i&&Ou("scroll",t);break;case"onScrollEnd":null!=i&&Ou("scrollend",t);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!==typeof i||!("__html"in i))throw Error(s(61));if(null!=(n=i.__html)){if(null!=r.children)throw Error(s(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&"function"!==typeof i&&"symbol"!==typeof i;break;case"muted":t.muted=i&&"function"!==typeof i&&"symbol"!==typeof i;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==i||"function"===typeof i||"boolean"===typeof i||"symbol"===typeof i){t.removeAttribute("xlink:href");break}n=Te(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=i&&"function"!==typeof i&&"symbol"!==typeof i?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&"function"!==typeof i&&"symbol"!==typeof i?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":!0===i?t.setAttribute(n,""):!1!==i&&null!=i&&"function"!==typeof i&&"symbol"!==typeof i?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":null==i||"function"===typeof i||"symbol"===typeof i||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":Ou("beforetoggle",t),Ou("toggle",t),ee(t,"popover",i);break;case"xlinkActuate":ie(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":ie(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":ie(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":ie(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":ie(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":ie(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":ie(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":ie(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":ie(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":ee(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&ee(t,n=Ce.get(n)||n,i)}}function Zu(t,e,n,i,r,a){switch(n){case"style":Ae(t,i,a);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!==typeof i||!("__html"in i))throw Error(s(61));if(null!=(n=i.__html)){if(null!=r.children)throw Error(s(60));t.innerHTML=n}}break;case"children":"string"===typeof i?_e(t,i):("number"===typeof i||"bigint"===typeof i)&&_e(t,""+i);break;case"onScroll":null!=i&&Ou("scroll",t);break;case"onScrollEnd":null!=i&&Ou("scrollend",t);break;case"onClick":null!=i&&(t.onclick=$u);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Xt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(r=n.endsWith("Capture"),e=n.slice(2,r?n.length-7:void 0),"function"===typeof(a=null!=(a=t[Nt]||null)?a[n]:null)&&t.removeEventListener(e,a,r),"function"!==typeof i)?n in t?t[n]=i:!0===i?t.setAttribute(n,""):ee(t,n,i):("function"!==typeof a&&null!==a&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,r)))}}function th(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ou("error",t),Ou("load",t);var i,r=!1,a=!1;for(i in n)if(n.hasOwnProperty(i)){var o=n[i];if(null!=o)switch(i){case"src":r=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,e));default:Ju(t,e,i,o,n,null)}}return a&&Ju(t,e,"srcSet",n.srcSet,n,null),void(r&&Ju(t,e,"src",n.src,n,null));case"input":Ou("invalid",t);var l=i=o=a=null,c=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var h=n[r];if(null!=h)switch(r){case"name":a=h;break;case"type":o=h;break;case"checked":c=h;break;case"defaultChecked":u=h;break;case"value":i=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(s(137,e));break;default:Ju(t,e,r,h,n,null)}}return ve(t,i,l,c,u,o,a,!1),void he(t);case"select":for(a in Ou("invalid",t),r=o=i=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":i=l;break;case"defaultValue":o=l;break;case"multiple":r=l;default:Ju(t,e,a,l,n,null)}return e=i,n=o,t.multiple=!!r,void(null!=e?be(t,!!r,e,!1):null!=n&&be(t,!!r,n,!0));case"textarea":for(o in Ou("invalid",t),i=a=r=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":r=l;break;case"defaultValue":a=l;break;case"children":i=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:Ju(t,e,o,l,n,null)}return xe(t,r,a,i),void he(t);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(r=n[c]))if("selected"===c)t.selected=r&&"function"!==typeof r&&"symbol"!==typeof r;else Ju(t,e,c,r,n,null);return;case"dialog":Ou("beforetoggle",t),Ou("toggle",t),Ou("cancel",t),Ou("close",t);break;case"iframe":case"object":Ou("load",t);break;case"video":case"audio":for(r=0;r<Lu.length;r++)Ou(Lu[r],t);break;case"image":Ou("error",t),Ou("load",t);break;case"details":Ou("toggle",t);break;case"embed":case"source":case"link":Ou("error",t),Ou("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(r=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,e));default:Ju(t,e,u,r,n,null)}return;default:if(Ee(e)){for(h in n)n.hasOwnProperty(h)&&(void 0!==(r=n[h])&&Zu(t,e,h,r,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(r=n[l])&&Ju(t,e,l,r,n,null))}var eh=null,nh=null;function ih(t){return 9===t.nodeType?t:t.ownerDocument}function rh(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ah(t,e){if(0===t)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return 1===t&&"foreignObject"===e?0:t}function sh(t,e){return"textarea"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"bigint"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var oh=null;var lh="function"===typeof setTimeout?setTimeout:void 0,ch="function"===typeof clearTimeout?clearTimeout:void 0,uh="function"===typeof Promise?Promise:void 0,hh="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof uh?function(t){return uh.resolve(null).then(t).catch(dh)}:lh;function dh(t){setTimeout((function(){throw t}))}function fh(t){return"head"===t}function ph(t,e){var n=e,i=0,r=0;do{var a=n.nextSibling;if(t.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0<i&&8>i){n=i;var s=t.ownerDocument;if(1&n&&xh(s.documentElement),2&n&&xh(s.body),4&n)for(xh(n=s.head),s=n.firstChild;s;){var o=s.nextSibling,l=s.nodeName;s[jt]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=o}}if(0===r)return t.removeChild(a),void Cd(e);r--}else"$"===n||"$?"===n||"$!"===n?r++:i=n.charCodeAt(0)-48;else i=0;n=a}while(n);Cd(e)}function gh(t){var e=t.firstChild;for(e&&10===e.nodeType&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":gh(n),Wt(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}t.removeChild(n)}}function mh(t){return"$!"===t.data||"$?"===t.data&&"complete"===t.ownerDocument.readyState}function vh(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e||"F!"===e||"F"===e)break;if("/$"===e)return null}}return t}var yh=null;function bh(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}function wh(t,e,n){switch(e=ih(n),t){case"html":if(!(t=e.documentElement))throw Error(s(452));return t;case"head":if(!(t=e.head))throw Error(s(453));return t;case"body":if(!(t=e.body))throw Error(s(454));return t;default:throw Error(s(451))}}function xh(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Wt(t)}var _h=new Map,kh=new Set;function Sh(t){return"function"===typeof t.getRootNode?t.getRootNode():9===t.nodeType?t:t.ownerDocument}var Ah=I.d;I.d={f:function(){var t=Ah.f(),e=zc();return t||e},r:function(t){var e=Ut(t);null!==e&&5===e.tag&&"form"===e.type?Ds(e):Ah.r(t)},D:function(t){Ah.D(t),Ch("dns-prefetch",t,null)},C:function(t,e){Ah.C(t,e),Ch("preconnect",t,e)},L:function(t,e,n){Ah.L(t,e,n);var i=Eh;if(i&&t&&e){var r='link[rel="preload"][as="'+ge(e)+'"]';"image"===e&&n&&n.imageSrcSet?(r+='[imagesrcset="'+ge(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(r+='[imagesizes="'+ge(n.imageSizes)+'"]')):r+='[href="'+ge(t)+'"]';var a=r;switch(e){case"style":a=Th(t);break;case"script":a=Dh(t)}_h.has(a)||(t=d({rel:"preload",href:"image"===e&&n&&n.imageSrcSet?void 0:t,as:e},n),_h.set(a,t),null!==i.querySelector(r)||"style"===e&&i.querySelector(Ph(a))||"script"===e&&i.querySelector(Nh(a))||(th(e=i.createElement("link"),"link",t),Gt(e),i.head.appendChild(e)))}},m:function(t,e){Ah.m(t,e);var n=Eh;if(n&&t){var i=e&&"string"===typeof e.as?e.as:"script",r='link[rel="modulepreload"][as="'+ge(i)+'"][href="'+ge(t)+'"]',a=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Dh(t)}if(!_h.has(a)&&(t=d({rel:"modulepreload",href:t},e),_h.set(a,t),null===n.querySelector(r))){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Nh(a)))return}th(i=n.createElement("link"),"link",t),Gt(i),n.head.appendChild(i)}}},X:function(t,e){Ah.X(t,e);var n=Eh;if(n&&t){var i=Vt(n).hoistableScripts,r=Dh(t),a=i.get(r);a||((a=n.querySelector(Nh(r)))||(t=d({src:t,async:!0},e),(e=_h.get(r))&&Oh(t,e),Gt(a=n.createElement("script")),th(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(r,a))}},S:function(t,e,n){Ah.S(t,e,n);var i=Eh;if(i&&t){var r=Vt(i).hoistableStyles,a=Th(t);e=e||"default";var s=r.get(a);if(!s){var o={loading:0,preload:null};if(s=i.querySelector(Ph(a)))o.loading=5;else{t=d({rel:"stylesheet",href:t,"data-precedence":e},n),(n=_h.get(a))&&Fh(t,n);var l=s=i.createElement("link");Gt(l),th(l,"link",t),l._p=new Promise((function(t,e){l.onload=t,l.onerror=e})),l.addEventListener("load",(function(){o.loading|=1})),l.addEventListener("error",(function(){o.loading|=2})),o.loading|=4,Ih(s,e,i)}s={type:"stylesheet",instance:s,count:1,state:o},r.set(a,s)}}},M:function(t,e){Ah.M(t,e);var n=Eh;if(n&&t){var i=Vt(n).hoistableScripts,r=Dh(t),a=i.get(r);a||((a=n.querySelector(Nh(r)))||(t=d({src:t,async:!0,type:"module"},e),(e=_h.get(r))&&Oh(t,e),Gt(a=n.createElement("script")),th(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(r,a))}}};var Eh="undefined"===typeof document?null:document;function Ch(t,e,n){var i=Eh;if(i&&"string"===typeof e&&e){var r=ge(e);r='link[rel="'+t+'"][href="'+r+'"]',"string"===typeof n&&(r+='[crossorigin="'+n+'"]'),kh.has(r)||(kh.add(r),t={rel:t,crossOrigin:n,href:e},null===i.querySelector(r)&&(th(e=i.createElement("link"),"link",t),Gt(e),i.head.appendChild(e)))}}function Mh(t,e,n,i){var r,a,o,l,c=(c=V.current)?Sh(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(e=Th(n.href),(i=(n=Vt(c).hoistableStyles).get(e))||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){t=Th(n.href);var u=Vt(c).hoistableStyles,h=u.get(t);if(h||(c=c.ownerDocument||c,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(t,h),(u=c.querySelector(Ph(t)))&&!u._p&&(h.instance=u,h.state.loading=5),_h.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},_h.set(t,n),u||(r=c,a=t,o=n,l=h.state,r.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=r.createElement("link"),l.preload=a,a.addEventListener("load",(function(){return l.loading|=1})),a.addEventListener("error",(function(){return l.loading|=2})),th(a,"link",o),Gt(a),r.head.appendChild(a))))),e&&null===i)throw Error(s(528,""));return h}if(e&&null!==i)throw Error(s(529,""));return null;case"script":return e=n.async,"string"===typeof(n=n.src)&&e&&"function"!==typeof e&&"symbol"!==typeof e?(e=Dh(n),(i=(n=Vt(c).hoistableScripts).get(e))||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Th(t){return'href="'+ge(t)+'"'}function Ph(t){return'link[rel="stylesheet"]['+t+"]"}function Rh(t){return d({},t,{"data-precedence":t.precedence,precedence:null})}function Dh(t){return'[src="'+ge(t)+'"]'}function Nh(t){return"script[async]"+t}function Lh(t,e,n){if(e.count++,null===e.instance)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+ge(n.href)+'"]');if(i)return e.instance=i,Gt(i),i;var r=d({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Gt(i=(t.ownerDocument||t).createElement("style")),th(i,"style",r),Ih(i,n.precedence,t),e.instance=i;case"stylesheet":r=Th(n.href);var a=t.querySelector(Ph(r));if(a)return e.state.loading|=4,e.instance=a,Gt(a),a;i=Rh(n),(r=_h.get(r))&&Fh(i,r),Gt(a=(t.ownerDocument||t).createElement("link"));var o=a;return o._p=new Promise((function(t,e){o.onload=t,o.onerror=e})),th(a,"link",i),e.state.loading|=4,Ih(a,n.precedence,t),e.instance=a;case"script":return a=Dh(n.src),(r=t.querySelector(Nh(a)))?(e.instance=r,Gt(r),r):(i=n,(r=_h.get(a))&&Oh(i=d({},n),r),Gt(r=(t=t.ownerDocument||t).createElement("script")),th(r,"link",i),t.head.appendChild(r),e.instance=r);case"void":return null;default:throw Error(s(443,e.type))}else"stylesheet"===e.type&&0===(4&e.state.loading)&&(i=e.instance,e.state.loading|=4,Ih(i,n.precedence,t));return e.instance}function Ih(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,a=r,s=0;s<i.length;s++){var o=i[s];if(o.dataset.precedence===e)a=o;else if(a!==r)break}a?a.parentNode.insertBefore(t,a.nextSibling):(e=9===n.nodeType?n.head:n).insertBefore(t,e.firstChild)}function Fh(t,e){null==t.crossOrigin&&(t.crossOrigin=e.crossOrigin),null==t.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),null==t.title&&(t.title=e.title)}function Oh(t,e){null==t.crossOrigin&&(t.crossOrigin=e.crossOrigin),null==t.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),null==t.integrity&&(t.integrity=e.integrity)}var Bh=null;function jh(t,e,n){if(null===Bh){var i=new Map,r=Bh=new Map;r.set(n,i)}else(i=(r=Bh).get(n))||(i=new Map,r.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),r=0;r<n.length;r++){var a=n[r];if(!(a[jt]||a[Dt]||"link"===t&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var s=a.getAttribute(e)||"";s=t+s;var o=i.get(s);o?o.push(a):i.set(s,[a])}}return i}function Wh(t,e,n){(t=t.ownerDocument||t).head.insertBefore(n,"title"===e?t.querySelector("head > title"):null)}function zh(t){return"stylesheet"!==t.type||0!==(3&t.state.loading)}var Uh=null;function Hh(){}function Vh(){if(this.count--,0===this.count)if(this.stylesheets)qh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}var Gh=null;function qh(t,e){t.stylesheets=null,null!==t.unsuspend&&(t.count++,Gh=new Map,e.forEach(Xh,t),Gh=null,Vh.call(t))}function Xh(t,e){if(!(4&e.state.loading)){var n=Gh.get(t);if(n)var i=n.get(null);else{n=new Map,Gh.set(t,n);for(var r=t.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<r.length;a++){var s=r[a];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),i=s)}i&&n.set(null,i)}s=(r=e.instance).getAttribute("data-precedence"),(a=n.get(s)||i)===i&&n.set(null,r),n.set(s,r),this.count++,i=Vh.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),a?a.parentNode.insertBefore(r,a.nextSibling):(t=9===t.nodeType?t.head:t).insertBefore(r,t.firstChild),e.state.loading|=4}}var Yh={$$typeof:x,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function Kh(t,e,n,i,r,a,s,o){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=St(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=St(0),this.hiddenUpdates=St(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Qh(t,e,n,i,r,a,s,o,l,c,u,h){return t=new Kh(t,e,n,s,o,l,c,h),e=1,!0===a&&(e|=24),a=Fi(3,null,null,e),t.current=a,a.stateNode=t,(e=Nr()).refCount++,t.pooledCache=e,e.refCount++,a.memoizedState={element:i,isDehydrated:n,cache:e},na(a),t}function $h(t){return t?t=Li:Li}function Jh(t,e,n,i,r,a){r=$h(r),null===i.context?i.context=r:i.pendingContext=r,(i=ra(e)).payload={element:n},null!==(a=void 0===a?null:a)&&(i.callback=a),null!==(n=aa(t,i,e))&&(Fc(n,0,e),sa(n,t,e))}function Zh(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function td(t,e){Zh(t,e),(t=t.alternate)&&Zh(t,e)}function ed(t){if(13===t.tag){var e=Ri(t,67108864);null!==e&&Fc(e,0,67108864),td(t,67108864)}}var nd=!0;function id(t,e,n,i){var r=L.T;L.T=null;var a=I.p;try{I.p=2,ad(t,e,n,i)}finally{I.p=a,L.T=r}}function rd(t,e,n,i){var r=L.T;L.T=null;var a=I.p;try{I.p=8,ad(t,e,n,i)}finally{I.p=a,L.T=r}}function ad(t,e,n,i){if(nd){var r=sd(i);if(null===r)Uu(t,e,i,od,n),yd(t,i);else if(function(t,e,n,i,r){switch(e){case"focusin":return hd=bd(hd,t,e,n,i,r),!0;case"dragenter":return dd=bd(dd,t,e,n,i,r),!0;case"mouseover":return fd=bd(fd,t,e,n,i,r),!0;case"pointerover":var a=r.pointerId;return pd.set(a,bd(pd.get(a)||null,t,e,n,i,r)),!0;case"gotpointercapture":return a=r.pointerId,gd.set(a,bd(gd.get(a)||null,t,e,n,i,r)),!0}return!1}(r,t,e,n,i))i.stopPropagation();else if(yd(t,i),4&e&&-1<vd.indexOf(t)){for(;null!==r;){var a=Ut(r);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var s=yt(a.pendingLanes);if(0!==s){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var l=1<<31-ft(s);o.entanglements[1]|=l,s&=~l}_u(a),0===(6&nc)&&(_c=et()+500,ku(0,!1))}}break;case 13:null!==(o=Ri(a,2))&&Fc(o,0,2),zc(),td(a,2)}if(null===(a=sd(i))&&Uu(t,e,i,od,n),a===r)break;r=a}null!==r&&i.stopPropagation()}else Uu(t,e,i,null,n)}}function sd(t){return ld(t=Re(t))}var od=null;function ld(t){if(od=null,null!==(t=zt(t))){var e=l(t);if(null===e)t=null;else{var n=e.tag;if(13===n){if(null!==(t=c(e)))return t;t=null}else if(3===n){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return od=t,null}function cd(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nt()){case it:return 2;case rt:return 8;case at:case st:return 32;case ot:return 268435456;default:return 32}default:return 32}}var ud=!1,hd=null,dd=null,fd=null,pd=new Map,gd=new Map,md=[],vd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yd(t,e){switch(t){case"focusin":case"focusout":hd=null;break;case"dragenter":case"dragleave":dd=null;break;case"mouseover":case"mouseout":fd=null;break;case"pointerover":case"pointerout":pd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":gd.delete(e.pointerId)}}function bd(t,e,n,i,r,a){return null===t||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[r]},null!==e&&(null!==(e=Ut(e))&&ed(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,null!==r&&-1===e.indexOf(r)&&e.push(r),t)}function wd(t){var e=zt(t.target);if(null!==e){var n=l(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=c(n)))return t.blockedOn=e,void function(t,e){var n=I.p;try{return I.p=t,e()}finally{I.p=n}}(t.priority,(function(){if(13===n.tag){var t=Lc();t=Mt(t);var e=Ri(n,t);null!==e&&Fc(e,0,t),td(n,t)}}))}else if(3===e&&n.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function xd(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=sd(t.nativeEvent);if(null!==n)return null!==(e=Ut(n))&&ed(e),t.blockedOn=n,!1;var i=new(n=t.nativeEvent).constructor(n.type,n);Pe=i,n.target.dispatchEvent(i),Pe=null,e.shift()}return!0}function _d(t,e,n){xd(t)&&n.delete(e)}function kd(){ud=!1,null!==hd&&xd(hd)&&(hd=null),null!==dd&&xd(dd)&&(dd=null),null!==fd&&xd(fd)&&(fd=null),pd.forEach(_d),gd.forEach(_d)}function Sd(t,e){t.blockedOn===e&&(t.blockedOn=null,ud||(ud=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,kd)))}var Ad=null;function Ed(t){Ad!==t&&(Ad=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,(function(){Ad===t&&(Ad=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],r=t[e+2];if("function"!==typeof i){if(null===ld(i||n))continue;break}var a=Ut(n);null!==a&&(t.splice(e,3),e-=3,Ps(a,{pending:!0,data:r,method:n.method,action:i},i,r))}})))}function Cd(t){function e(e){return Sd(e,t)}null!==hd&&Sd(hd,t),null!==dd&&Sd(dd,t),null!==fd&&Sd(fd,t),pd.forEach(e),gd.forEach(e);for(var n=0;n<md.length;n++){var i=md[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<md.length&&null===(n=md[0]).blockedOn;)wd(n),null===n.blockedOn&&md.shift();if(null!=(n=(t.ownerDocument||t).$$reactFormReplay))for(i=0;i<n.length;i+=3){var r=n[i],a=n[i+1],s=r[Nt]||null;if("function"===typeof a)s||Ed(n);else if(s){var o=null;if(a&&a.hasAttribute("formAction")){if(r=a,s=a[Nt]||null)o=s.formAction;else if(null!==ld(r))continue}else o=s.action;"function"===typeof o?n[i+1]=o:(n.splice(i,3),i-=3),Ed(n)}}}function Md(t){this._internalRoot=t}function Td(t){this._internalRoot=t}Td.prototype.render=Md.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(s(409));Jh(e.current,Lc(),t,e,null,null)},Td.prototype.unmount=Md.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;Jh(t.current,2,null,t,null,null),zc(),e[Lt]=null}},Td.prototype.unstable_scheduleHydration=function(t){if(t){var e=Pt();t={blockedOn:null,target:t,priority:e};for(var n=0;n<md.length&&0!==e&&e<md[n].priority;n++);md.splice(n,0,t),0===n&&wd(t)}};var Pd=r.version;if("19.1.0"!==Pd)throw Error(s(527,Pd,"19.1.0"));I.findDOMNode=function(t){var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(s(188));throw t=Object.keys(t).join(","),Error(s(268,t))}return t=function(t){var e=t.alternate;if(!e){if(null===(e=l(t)))throw Error(s(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(null===r)break;var a=r.alternate;if(null===a){if(null!==(i=r.return)){n=i;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return u(r),t;if(a===i)return u(r),e;a=a.sibling}throw Error(s(188))}if(n.return!==i.return)n=r,i=a;else{for(var o=!1,c=r.child;c;){if(c===n){o=!0,n=r,i=a;break}if(c===i){o=!0,i=r,n=a;break}c=c.sibling}if(!o){for(c=a.child;c;){if(c===n){o=!0,n=a,i=r;break}if(c===i){o=!0,i=a,n=r;break}c=c.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==i)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?t:e}(e),t=null===(t=null!==t?h(t):null)?null:t.stateNode};var Rd={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.1.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Dd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dd.isDisabled&&Dd.supportsFiber)try{ut=Dd.inject(Rd),ht=Dd}catch(Ld){}}e.createRoot=function(t,e){if(!o(t))throw Error(s(299));var n=!1,i="",r=yo,a=bo,l=wo;return null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(n=!0),void 0!==e.identifierPrefix&&(i=e.identifierPrefix),void 0!==e.onUncaughtError&&(r=e.onUncaughtError),void 0!==e.onCaughtError&&(a=e.onCaughtError),void 0!==e.onRecoverableError&&(l=e.onRecoverableError),void 0!==e.unstable_transitionCallbacks&&e.unstable_transitionCallbacks),e=Qh(t,1,!1,null,0,n,i,r,a,l,0,null),t[Lt]=e.current,Wu(t),new Md(e)},e.hydrateRoot=function(t,e,n){if(!o(t))throw Error(s(299));var i=!1,r="",a=yo,l=bo,c=wo,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(r=n.identifierPrefix),void 0!==n.onUncaughtError&&(a=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(e=Qh(t,1,!0,e,0,i,r,a,l,c,0,u)).context=$h(null),n=e.current,(r=ra(i=Mt(i=Lc()))).callback=null,aa(n,r,i),n=i,e.current.lanes=n,At(e,n),_u(e),t[Lt]=e.current,Wu(t),new Td(e)},e.version="19.1.0"},43:(t,e,n)=>{t.exports=n(288)},288:(t,e)=>{var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(t,e,n){this.props=t,this.context=e,this.refs=m,this.updater=n||p}function y(){}function b(t,e,n){this.props=t,this.context=e,this.refs=m,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},v.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,g(w,v.prototype),w.isPureReactComponent=!0;var x=Array.isArray,_={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function S(t,e,i,r,a,s){return i=s.ref,{$$typeof:n,type:t,key:e,ref:void 0!==i?i:null,props:s}}function A(t){return"object"===typeof t&&null!==t&&t.$$typeof===n}var E=/\/+/g;function C(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function M(){}function T(t,e,r,a,s){var o=typeof t;"undefined"!==o&&"boolean"!==o||(t=null);var l,c,u=!1;if(null===t)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case n:case i:u=!0;break;case d:return T((u=t._init)(t._payload),e,r,a,s)}}if(u)return s=s(t),u=""===a?"."+C(t,0):a,x(s)?(r="",null!=u&&(r=u.replace(E,"$&/")+"/"),T(s,e,r,"",(function(t){return t}))):null!=s&&(A(s)&&(l=s,c=r+(null==s.key||t&&t.key===s.key?"":(""+s.key).replace(E,"$&/")+"/")+u,s=S(l.type,c,void 0,0,0,l.props)),e.push(s)),1;u=0;var h,p=""===a?".":a+":";if(x(t))for(var g=0;g<t.length;g++)u+=T(a=t[g],e,r,o=p+C(a,g),s);else if("function"===typeof(g=null===(h=t)||"object"!==typeof h?null:"function"===typeof(h=f&&h[f]||h["@@iterator"])?h:null))for(t=g.call(t),g=0;!(a=t.next()).done;)u+=T(a=a.value,e,r,o=p+C(a,g++),s);else if("object"===o){if("function"===typeof t.then)return T(function(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch("string"===typeof t.status?t.then(M,M):(t.status="pending",t.then((function(e){"pending"===t.status&&(t.status="fulfilled",t.value=e)}),(function(e){"pending"===t.status&&(t.status="rejected",t.reason=e)}))),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}(t),e,r,a,s);throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return u}function P(t,e,n){if(null==t)return t;var i=[],r=0;return T(t,i,"","",(function(t){return e.call(n,t,r++)})),i}function R(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var D="function"===typeof reportError?reportError:function(t){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof t&&null!==t&&"string"===typeof t.message?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",t);console.error(t)};function N(){}e.Children={map:P,forEach:function(t,e,n){P(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return P(t,(function(){e++})),e},toArray:function(t){return P(t,(function(t){return t}))||[]},only:function(t){if(!A(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=v,e.Fragment=r,e.Profiler=s,e.PureComponent=b,e.StrictMode=a,e.Suspense=u,e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,e.__COMPILER_RUNTIME={__proto__:null,c:function(t){return _.H.useMemoCache(t)}},e.cache=function(t){return function(){return t.apply(null,arguments)}},e.cloneElement=function(t,e,n){if(null===t||void 0===t)throw Error("The argument must be a React element, but you passed "+t+".");var i=g({},t.props),r=t.key;if(null!=e)for(a in void 0!==e.ref&&void 0,void 0!==e.key&&(r=""+e.key),e)!k.call(e,a)||"key"===a||"__self"===a||"__source"===a||"ref"===a&&void 0===e.ref||(i[a]=e[a]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var s=Array(a),o=0;o<a;o++)s[o]=arguments[o+2];i.children=s}return S(t.type,r,void 0,0,0,i)},e.createContext=function(t){return(t={$$typeof:l,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider=t,t.Consumer={$$typeof:o,_context:t},t},e.createElement=function(t,e,n){var i,r={},a=null;if(null!=e)for(i in void 0!==e.key&&(a=""+e.key),e)k.call(e,i)&&"key"!==i&&"__self"!==i&&"__source"!==i&&(r[i]=e[i]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];r.children=o}if(t&&t.defaultProps)for(i in s=t.defaultProps)void 0===r[i]&&(r[i]=s[i]);return S(t,a,void 0,0,0,r)},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:c,render:t}},e.isValidElement=A,e.lazy=function(t){return{$$typeof:d,_payload:{_status:-1,_result:t},_init:R}},e.memo=function(t,e){return{$$typeof:h,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=_.T,n={};_.T=n;try{var i=t(),r=_.S;null!==r&&r(n,i),"object"===typeof i&&null!==i&&"function"===typeof i.then&&i.then(N,D)}catch(a){D(a)}finally{_.T=e}},e.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},e.use=function(t){return _.H.use(t)},e.useActionState=function(t,e,n){return _.H.useActionState(t,e,n)},e.useCallback=function(t,e){return _.H.useCallback(t,e)},e.useContext=function(t){return _.H.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t,e){return _.H.useDeferredValue(t,e)},e.useEffect=function(t,e,n){var i=_.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(t,e)},e.useId=function(){return _.H.useId()},e.useImperativeHandle=function(t,e,n){return _.H.useImperativeHandle(t,e,n)},e.useInsertionEffect=function(t,e){return _.H.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return _.H.useLayoutEffect(t,e)},e.useMemo=function(t,e){return _.H.useMemo(t,e)},e.useOptimistic=function(t,e){return _.H.useOptimistic(t,e)},e.useReducer=function(t,e,n){return _.H.useReducer(t,e,n)},e.useRef=function(t){return _.H.useRef(t)},e.useState=function(t){return _.H.useState(t)},e.useSyncExternalStore=function(t,e,n){return _.H.useSyncExternalStore(t,e,n)},e.useTransition=function(){return _.H.useTransition()},e.version="19.1.0"},358:(t,e)=>{const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,i=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function l(t,e,n){do{const n=t.charCodeAt(e);if(32!==n&&9!==n)return e}while(++e<n);return n}function c(t,e,n){for(;e>n;){const n=t.charCodeAt(--e);if(32!==n&&9!==n)return e+1}return n}function u(t){if(-1===t.indexOf("%"))return t;try{return decodeURIComponent(t)}catch(e){return t}}},391:(t,e,n)=>{!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(4)},440:t=>{var e=function(){};t.exports=e},579:(t,e,n)=>{t.exports=n(799)},672:(t,e,n)=>{var i=n(43);function r(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(r(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(t,e){return"font"===t?"":"string"===typeof e?"use-credentials"===e?e:"":void 0}e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,e.createPortal=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)throw Error(r(299));return function(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==i?null:""+i,children:t,containerInfo:e,implementation:n}}(t,e,null,n)},e.flushSync=function(t){var e=l.T,n=s.p;try{if(l.T=null,s.p=2,t)return t()}finally{l.T=e,s.p=n,s.d.f()}},e.preconnect=function(t,e){"string"===typeof t&&(e?e="string"===typeof(e=e.crossOrigin)?"use-credentials"===e?e:"":void 0:e=null,s.d.C(t,e))},e.prefetchDNS=function(t){"string"===typeof t&&s.d.D(t)},e.preinit=function(t,e){if("string"===typeof t&&e&&"string"===typeof e.as){var n=e.as,i=c(n,e.crossOrigin),r="string"===typeof e.integrity?e.integrity:void 0,a="string"===typeof e.fetchPriority?e.fetchPriority:void 0;"style"===n?s.d.S(t,"string"===typeof e.precedence?e.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:a}):"script"===n&&s.d.X(t,{crossOrigin:i,integrity:r,fetchPriority:a,nonce:"string"===typeof e.nonce?e.nonce:void 0})}},e.preinitModule=function(t,e){if("string"===typeof t)if("object"===typeof e&&null!==e){if(null==e.as||"script"===e.as){var n=c(e.as,e.crossOrigin);s.d.M(t,{crossOrigin:n,integrity:"string"===typeof e.integrity?e.integrity:void 0,nonce:"string"===typeof e.nonce?e.nonce:void 0})}}else null==e&&s.d.M(t)},e.preload=function(t,e){if("string"===typeof t&&"object"===typeof e&&null!==e&&"string"===typeof e.as){var n=e.as,i=c(n,e.crossOrigin);s.d.L(t,n,{crossOrigin:i,integrity:"string"===typeof e.integrity?e.integrity:void 0,nonce:"string"===typeof e.nonce?e.nonce:void 0,type:"string"===typeof e.type?e.type:void 0,fetchPriority:"string"===typeof e.fetchPriority?e.fetchPriority:void 0,referrerPolicy:"string"===typeof e.referrerPolicy?e.referrerPolicy:void 0,imageSrcSet:"string"===typeof e.imageSrcSet?e.imageSrcSet:void 0,imageSizes:"string"===typeof e.imageSizes?e.imageSizes:void 0,media:"string"===typeof e.media?e.media:void 0})}},e.preloadModule=function(t,e){if("string"===typeof t)if(e){var n=c(e.as,e.crossOrigin);s.d.m(t,{as:"string"===typeof e.as&&"script"!==e.as?e.as:void 0,crossOrigin:n,integrity:"string"===typeof e.integrity?e.integrity:void 0})}else s.d.m(t)},e.requestFormReset=function(t){s.d.r(t)},e.unstable_batchedUpdates=function(t,e){return t(e)},e.useFormState=function(t,e,n){return l.H.useFormState(t,e,n)},e.useFormStatus=function(){return l.H.useHostTransitionStatus()},e.version="19.1.0"},799:(t,e)=>{var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function r(t,e,i){var r=null;if(void 0!==i&&(r=""+i),void 0!==e.key&&(r=""+e.key),"key"in e)for(var a in i={},e)"key"!==a&&(i[a]=e[a]);else i=e;return e=i.ref,{$$typeof:n,type:t,key:r,ref:void 0!==e?e:null,props:i}}e.Fragment=i,e.jsx=r,e.jsxs=r},853:(t,e,n)=>{t.exports=n(896)},896:(t,e)=>{function n(t,e){var n=t.length;t.push(e);t:for(;0<n;){var i=n-1>>>1,r=t[i];if(!(0<a(r,e)))break t;t[i]=e,t[n]=r,n=i}}function i(t){return 0===t.length?null:t[0]}function r(t){if(0===t.length)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;t:for(var i=0,r=t.length,s=r>>>1;i<s;){var o=2*(i+1)-1,l=t[o],c=o+1,u=t[c];if(0>a(l,n))c<r&&0>a(u,l)?(t[i]=u,t[c]=n,i=c):(t[i]=l,t[o]=n,i=o);else{if(!(c<r&&0>a(u,n)))break t;t[i]=u,t[c]=n,i=c}}}return e}function a(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}if(e.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,g=!1,m=!1,v=!1,y="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function x(t){for(var e=i(u);null!==e;){if(null===e.callback)r(u);else{if(!(e.startTime<=t))break;r(u),e.sortIndex=e.expirationTime,n(c,e)}e=i(u)}}function _(t){if(m=!1,x(t),!g)if(null!==i(c))g=!0,S||(S=!0,k());else{var e=i(u);null!==e&&D(_,e.startTime-t)}}var k,S=!1,A=-1,E=5,C=-1;function M(){return!!v||!(e.unstable_now()-C<E)}function T(){if(v=!1,S){var t=e.unstable_now();C=t;var n=!0;try{t:{g=!1,m&&(m=!1,b(A),A=-1),p=!0;var a=f;try{e:{for(x(t),d=i(c);null!==d&&!(d.expirationTime>t&&M());){var s=d.callback;if("function"===typeof s){d.callback=null,f=d.priorityLevel;var o=s(d.expirationTime<=t);if(t=e.unstable_now(),"function"===typeof o){d.callback=o,x(t),n=!0;break e}d===i(c)&&r(c),x(t)}else r(c);d=i(c)}if(null!==d)n=!0;else{var l=i(u);null!==l&&D(_,l.startTime-t),n=!1}}break t}finally{d=null,f=a,p=!1}n=void 0}}finally{n?k():S=!1}}}if("function"===typeof w)k=function(){w(T)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,R=P.port2;P.port1.onmessage=T,k=function(){R.postMessage(null)}}else k=function(){y(T,0)};function D(t,n){A=y((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_next=function(t){switch(f){case 1:case 2:case 3:var e=3;break;default:e=f}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_requestPaint=function(){v=!0},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_scheduleCallback=function(t,r,a){var s=e.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,t){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return t={id:h++,callback:r,priorityLevel:t,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>s?(t.sortIndex=a,n(u,t),null===i(c)&&t===i(u)&&(m?(b(A),A=-1):m=!0,D(_,a-s))):(t.sortIndex=o,n(c,t),g||p||(g=!0,S||(S=!0,k()))),t},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(t){var e=f;return function(){var n=f;f=e;try{return t.apply(this,arguments)}finally{f=n}}}},950:(t,e,n)=>{!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(672)}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var a=e[i]={exports:{}};return t[i](a,a.exports,n),a.exports}n.m=t,n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.f={},n.e=t=>Promise.all(Object.keys(n.f).reduce(((e,i)=>(n.f[i](t,e),e)),[])),n.u=t=>"static/js/"+t+".adc34edb.chunk.js",n.miniCssF=t=>{},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={},e="site:";n.l=(i,r,a,s)=>{if(t[i])t[i].push(r);else{var o,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var h=c[u];if(h.getAttribute("src")==i||h.getAttribute("data-webpack")==e+a){o=h;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",e+a),o.src=i),t[i]=[r];var d=(e,n)=>{o.onerror=o.onload=null,clearTimeout(f);var r=t[i];if(delete t[i],o.parentNode&&o.parentNode.removeChild(o),r&&r.forEach((t=>t(n))),e)return e(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=d.bind(null,o.onerror),o.onload=d.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.p="/hyder/",(()=>{var t={792:0};n.f.j=(e,i)=>{var r=n.o(t,e)?t[e]:void 0;if(0!==r)if(r)i.push(r[2]);else{var a=new Promise(((n,i)=>r=t[e]=[n,i]));i.push(r[2]=a);var s=n.p+n.u(e),o=new Error;n.l(s,(i=>{if(n.o(t,e)&&(0!==(r=t[e])&&(t[e]=void 0),r)){var a=i&&("load"===i.type?"missing":i.type),s=i&&i.target&&i.target.src;o.message="Loading chunk "+e+" failed.\n("+a+": "+s+")",o.name="ChunkLoadError",o.type=a,o.request=s,r[1](o)}}),"chunk-"+e,e)}};var e=(e,i)=>{var r,a,s=i[0],o=i[1],l=i[2],c=0;if(s.some((e=>0!==t[e]))){for(r in o)n.o(o,r)&&(n.m[r]=o[r]);if(l)l(n)}for(e&&e(i);c<s.length;c++)a=s[c],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0},i=self.webpackChunksite=self.webpackChunksite||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))})();var i={};n.r(i),n.d(i,{dU:()=>Fw,ng:()=>vo,EA:()=>rm,Tm:()=>Fv,D6:()=>gv,YE:()=>Mv,rE:()=>gy});var r=n(43),a=n(391);function s(t,e){if(null==t)return{};var n,i,r=function(t,e){if(null==t)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(-1!==e.indexOf(i))continue;n[i]=t[i]}return n}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],-1===e.indexOf(n)&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function l(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=o(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}function c(t,e,n){return(e=l(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}n(358);const d=["sri"],f=["page"],p=["page","matches"],g=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],m=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],v=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var y="popstate";function b(){return E((function(t,e){let{pathname:n="/",search:i="",hash:r=""}=A(t.location.hash.substring(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),k("",{pathname:n,search:i,hash:r},e.state&&e.state.usr||null,e.state&&e.state.key||"default")}),(function(t,e){let n=t.document.querySelector("base"),i="";if(n&&n.getAttribute("href")){let e=t.location.href,n=e.indexOf("#");i=-1===n?e:e.slice(0,n)}return i+"#"+("string"===typeof e?e:S(e))}),(function(t,e){x("/"===t.pathname.charAt(0),"relative pathnames are not supported in hash history.push(".concat(JSON.stringify(e),")"))}),arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function w(t,e){if(!1===t||null===t||"undefined"===typeof t)throw new Error(e)}function x(t,e){if(!t){"undefined"!==typeof console&&console.warn(e);try{throw new Error(e)}catch(n){}}}function _(t,e){return{usr:t.state,key:t.key,idx:e}}function k(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0;return h(h({pathname:"string"===typeof t?t:t.pathname,search:"",hash:""},"string"===typeof e?A(e):e),{},{state:n,key:e&&e.key||i||Math.random().toString(36).substring(2,10)})}function S(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&"?"!==n&&(e+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(e+="#"===i.charAt(0)?i:"#"+i),e}function A(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function E(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:r=document.defaultView,v5Compat:a=!1}=i,s=r.history,o="POP",l=null,c=u();function u(){return(s.state||{idx:null}).idx}function d(){o="POP";let t=u(),e=null==t?null:t-c;c=t,l&&l({action:o,location:p.location,delta:e})}function f(t){return C(t)}null==c&&(c=0,s.replaceState(h(h({},s.state),{},{idx:c}),""));let p={get action(){return o},get location(){return t(r,s)},listen(t){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(y,d),l=t,()=>{r.removeEventListener(y,d),l=null}},createHref:t=>e(r,t),createURL:f,encodeLocation(t){let e=f(t);return{pathname:e.pathname,search:e.search,hash:e.hash}},push:function(t,e){o="PUSH";let i=k(p.location,t,e);n&&n(i,t),c=u()+1;let h=_(i,c),d=p.createHref(i);try{s.pushState(h,"",d)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;r.location.assign(d)}a&&l&&l({action:o,location:p.location,delta:1})},replace:function(t,e){o="REPLACE";let i=k(p.location,t,e);n&&n(i,t),c=u();let r=_(i,c),h=p.createHref(i);s.replaceState(r,"",h),a&&l&&l({action:o,location:p.location,delta:0})},go:t=>s.go(t)};return p}function C(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),w(n,"No window.location.(origin|href) available to create URL");let i="string"===typeof t?t:S(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}new WeakMap;function M(t,e){return T(t,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function T(t,e,n,i){let r=V(("string"===typeof e?A(e):e).pathname||"/",n);if(null==r)return null;let a=P(t);!function(t){t.sort(((t,e)=>t.score!==e.score?e.score-t.score:function(t,e){let n=t.length===e.length&&t.slice(0,-1).every(((t,n)=>t===e[n]));return n?t[t.length-1]-e[e.length-1]:0}(t.routesMeta.map((t=>t.childrenIndex)),e.routesMeta.map((t=>t.childrenIndex)))))}(a);let s=null;for(let o=0;null==s&&o<a.length;++o){let t=H(r);s=W(a[o],t,i)}return s}function P(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=(t,r,a)=>{let s={relativePath:void 0===a?t.path||"":a,caseSensitive:!0===t.caseSensitive,childrenIndex:r,route:t};s.relativePath.startsWith("/")&&(w(s.relativePath.startsWith(i),'Absolute route path "'.concat(s.relativePath,'" nested under path "').concat(i,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),s.relativePath=s.relativePath.slice(i.length));let o=K([i,s.relativePath]),l=n.concat(s);t.children&&t.children.length>0&&(w(!0!==t.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(o,'".')),P(t.children,e,l,o)),(null!=t.path||t.index)&&e.push({path:o,score:j(o,t.index),routesMeta:l})};return t.forEach(((t,e)=>{var n;if(""!==t.path&&null!==(n=t.path)&&void 0!==n&&n.includes("?"))for(let i of R(t.path))r(t,e,i);else r(t,e)})),e}function R(t){let e=t.split("/");if(0===e.length)return[];let[n,...i]=e,r=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===i.length)return r?[a,""]:[a];let s=R(i.join("/")),o=[];return o.push(...s.map((t=>""===t?a:[a,t].join("/")))),r&&o.push(...s),o.map((e=>t.startsWith("/")&&""===e?"/":e))}var D=/^:[\w-]+$/,N=3,L=2,I=1,F=10,O=-2,B=t=>"*"===t;function j(t,e){let n=t.split("/"),i=n.length;return n.some(B)&&(i+=O),e&&(i+=L),n.filter((t=>!B(t))).reduce(((t,e)=>t+(D.test(e)?N:""===e?I:F)),i)}function W(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:i}=t,r={},a="/",s=[];for(let o=0;o<i.length;++o){let t=i[o],l=o===i.length-1,c="/"===a?e:e.slice(a.length)||"/",u=z({path:t.relativePath,caseSensitive:t.caseSensitive,end:l},c),h=t.route;if(!u&&l&&n&&!i[i.length-1].route.index&&(u=z({path:t.relativePath,caseSensitive:t.caseSensitive,end:!1},c)),!u)return null;Object.assign(r,u.params),s.push({params:r,pathname:K([a,u.pathname]),pathnameBase:Q(K([a,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(a=K([a,u.pathnameBase]))}return s}function z(t,e){"string"===typeof t&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=U(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let a=r[0],s=a.replace(/(.)\/+$/,"$1"),o=r.slice(1),l=i.reduce(((t,e,n)=>{let{paramName:i,isOptional:r}=e;if("*"===i){let t=o[n]||"";s=a.slice(0,a.length-t.length).replace(/(.)\/+$/,"$1")}const l=o[n];return t[i]=r&&!l?void 0:(l||"").replace(/%2F/g,"/"),t}),{});return{params:l,pathname:a,pathnameBase:s,pattern:t}}function U(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];x("*"===t||!t.endsWith("*")||t.endsWith("/*"),'Route path "'.concat(t,'" will be treated as if it were "').concat(t.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(t.replace(/\*$/,"/*"),'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((t,e,n)=>(i.push({paramName:e,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));return t.endsWith("*")?(i.push({paramName:"*"}),r+="*"===t||"/*"===t?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==t&&"/"!==t&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function H(t){try{return t.split("/").map((t=>decodeURIComponent(t).replace(/\//g,"%2F"))).join("/")}catch(e){return x(!1,'The URL path "'.concat(t,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(e,").")),t}}function V(t,e){if("/"===e)return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&"/"!==i?null:t.slice(n)||"/"}function G(t,e,n,i){return"Cannot include a '".concat(t,"' character in a manually specified `to.").concat(e,"` field [").concat(JSON.stringify(i),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function q(t){return t.filter(((t,e)=>0===e||t.route.path&&t.route.path.length>0))}function X(t){let e=q(t);return e.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase))}function Y(t,e,n){let i,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof t?i=A(t):(i=h({},t),w(!i.pathname||!i.pathname.includes("?"),G("?","pathname","search",i)),w(!i.pathname||!i.pathname.includes("#"),G("#","pathname","hash",i)),w(!i.search||!i.search.includes("#"),G("#","search","hash",i)));let a,s=""===t||""===i.pathname,o=s?"/":i.pathname;if(null==o)a=n;else{let t=e.length-1;if(!r&&o.startsWith("..")){let e=o.split("/");for(;".."===e[0];)e.shift(),t-=1;i.pathname=e.join("/")}a=t>=0?e[t]:"/"}let l=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:i="",hash:r=""}="string"===typeof t?A(t):t,a=n?n.startsWith("/")?n:function(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach((t=>{".."===t?n.length>1&&n.pop():"."!==t&&n.push(t)})),n.length>1?n.join("/"):"/"}(n,e):e;return{pathname:a,search:$(i),hash:J(r)}}(i,a),c=o&&"/"!==o&&o.endsWith("/"),u=(s||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}var K=t=>t.join("/").replace(/\/\/+/g,"/"),Q=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$=t=>t&&"?"!==t?t.startsWith("?")?t:"?"+t:"",J=t=>t&&"#"!==t?t.startsWith("#")?t:"#"+t:"";function Z(t){return null!=t&&"number"===typeof t.status&&"string"===typeof t.statusText&&"boolean"===typeof t.internal&&"data"in t}var tt=["POST","PUT","PATCH","DELETE"],et=(new Set(tt),["GET",...tt]);new Set(et),Symbol("ResetLoaderData");var nt=r.createContext(null);nt.displayName="DataRouter";var it=r.createContext(null);it.displayName="DataRouterState";var rt=r.createContext({isTransitioning:!1});rt.displayName="ViewTransition";var at=r.createContext(new Map);at.displayName="Fetchers";var st=r.createContext(null);st.displayName="Await";var ot=r.createContext(null);ot.displayName="Navigation";var lt=r.createContext(null);lt.displayName="Location";var ct=r.createContext({outlet:null,matches:[],isDataRoute:!1});ct.displayName="Route";var ut=r.createContext(null);ut.displayName="RouteError";function ht(){return null!=r.useContext(lt)}function dt(){return w(ht(),"useLocation() may be used only in the context of a <Router> component."),r.useContext(lt).location}var ft="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pt(t){r.useContext(ot).static||r.useLayoutEffect(t)}function gt(){let{isDataRoute:t}=r.useContext(ct);return t?function(){let{router:t}=St("useNavigate"),e=Et("useNavigate"),n=r.useRef(!1);pt((()=>{n.current=!0}));let i=r.useCallback((async function(i){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};x(n.current,ft),n.current&&("number"===typeof i?t.navigate(i):await t.navigate(i,h({fromRouteId:e},r)))}),[t,e]);return i}():function(){w(ht(),"useNavigate() may be used only in the context of a <Router> component.");let t=r.useContext(nt),{basename:e,navigator:n}=r.useContext(ot),{matches:i}=r.useContext(ct),{pathname:a}=dt(),s=JSON.stringify(X(i)),o=r.useRef(!1);pt((()=>{o.current=!0}));let l=r.useCallback((function(i){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(x(o.current,ft),!o.current)return;if("number"===typeof i)return void n.go(i);let l=Y(i,JSON.parse(s),a,"path"===r.relative);null==t&&"/"!==e&&(l.pathname="/"===l.pathname?e:K([e,l.pathname])),(r.replace?n.replace:n.push)(l,r.state,r)}),[e,n,s,a,t]);return l}()}r.createContext(null);function mt(t){let{relative:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=r.useContext(ct),{pathname:i}=dt(),a=JSON.stringify(X(n));return r.useMemo((()=>Y(t,JSON.parse(a),i,"path"===e)),[t,a,i,e])}function vt(t,e,n,i){w(ht(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:s}=r.useContext(ot),{matches:o}=r.useContext(ct),l=o[o.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",f=l&&l.route;{let t=f&&f.path||"";Tt(u,!f||t.endsWith("*")||t.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(u,'" (under <Route path="').concat(t,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(t,'"> to <Route path="').concat("/"===t?"*":"".concat(t,"/*"),'">.'))}let p,g=dt();if(e){var m;let t="string"===typeof e?A(e):e;w("/"===d||(null===(m=t.pathname)||void 0===m?void 0:m.startsWith(d)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(d,'" but pathname "').concat(t.pathname,'" was given in the `location` prop.')),p=t}else p=g;let v=p.pathname||"/",y=v;if("/"!==d){let t=d.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(t.length).join("/")}let b=!s&&n&&n.matches&&n.matches.length>0?n.matches:M(t,{pathname:y});x(f||null!=b,'No routes matched location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" ')),x(null==b||void 0!==b[b.length-1].route.element||void 0!==b[b.length-1].route.Component||void 0!==b[b.length-1].route.lazy,'Matched leaf route at location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let _=_t(b&&b.map((t=>Object.assign({},t,{params:Object.assign({},c,t.params),pathname:K([d,a.encodeLocation?a.encodeLocation(t.pathname).pathname:t.pathname]),pathnameBase:"/"===t.pathnameBase?d:K([d,a.encodeLocation?a.encodeLocation(t.pathnameBase).pathname:t.pathnameBase])}))),o,n,i);return e&&_?r.createElement(lt.Provider,{value:{location:h({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:"POP"}},_):_}function yt(){let t=Ct(),e=Z(t)?"".concat(t.status," ").concat(t.statusText):t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=r.createElement(r.Fragment,null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",r.createElement("code",{style:s},"ErrorBoundary")," or"," ",r.createElement("code",{style:s},"errorElement")," prop on your route.")),r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},e),n?r.createElement("pre",{style:a},n):null,o)}var bt=r.createElement(yt,null),wt=class extends r.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||"idle"!==e.revalidation&&"idle"===t.revalidation?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:void 0!==t.error?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return void 0!==this.state.error?r.createElement(ct.Provider,{value:this.props.routeContext},r.createElement(ut.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xt(t){let{routeContext:e,match:n,children:i}=t,a=r.useContext(nt);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(ct.Provider,{value:e},i)}function _t(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==t){if(!n)return null;if(n.errors)t=n.matches;else{if(0!==e.length||n.initialized||!(n.matches.length>0))return null;t=n.matches}}let i=t,a=null===n||void 0===n?void 0:n.errors;if(null!=a){let t=i.findIndex((t=>t.route.id&&void 0!==(null===a||void 0===a?void 0:a[t.route.id])));w(t>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(a).join(","))),i=i.slice(0,Math.min(i.length,t+1))}let s=!1,o=-1;if(n)for(let r=0;r<i.length;r++){let t=i[r];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(o=r),t.route.id){let{loaderData:e,errors:r}=n,a=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!r||void 0===r[t.route.id]);if(t.route.lazy||a){s=!0,i=o>=0?i.slice(0,o+1):[i[0]];break}}}return i.reduceRight(((t,l,c)=>{let u,h=!1,d=null,f=null;n&&(u=a&&l.route.id?a[l.route.id]:void 0,d=l.route.errorElement||bt,s&&(o<0&&0===c?(Tt("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,f=null):o===c&&(h=!0,f=l.route.hydrateFallbackElement||null)));let p=e.concat(i.slice(0,c+1)),g=()=>{let e;return e=u?d:h?f:l.route.Component?r.createElement(l.route.Component,null):l.route.element?l.route.element:t,r.createElement(xt,{match:l,routeContext:{outlet:t,matches:p,isDataRoute:null!=n},children:e})};return n&&(l.route.ErrorBoundary||l.route.errorElement||0===c)?r.createElement(wt,{location:n.location,revalidation:n.revalidation,component:d,error:u,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()}),null)}function kt(t){return"".concat(t," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function St(t){let e=r.useContext(nt);return w(e,kt(t)),e}function At(t){let e=r.useContext(it);return w(e,kt(t)),e}function Et(t){let e=function(t){let e=r.useContext(ct);return w(e,kt(t)),e}(t),n=e.matches[e.matches.length-1];return w(n.route.id,"".concat(t,' can only be used on routes that contain a unique "id"')),n.route.id}function Ct(){var t;let e=r.useContext(ut),n=At("useRouteError"),i=Et("useRouteError");return void 0!==e?e:null===(t=n.errors)||void 0===t?void 0:t[i]}var Mt={};function Tt(t,e,n){e||Mt[t]||(Mt[t]=!0,x(!1,n))}r.memo((function(t){let{routes:e,future:n,state:i}=t;return vt(e,void 0,i,n)}));function Pt(t){w(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Rt(t){let{basename:e="/",children:n=null,location:i,navigationType:a="POP",navigator:s,static:o=!1}=t;w(!ht(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),c=r.useMemo((()=>({basename:l,navigator:s,static:o,future:{}})),[l,s,o]);"string"===typeof i&&(i=A(i));let{pathname:u="/",search:h="",hash:d="",state:f=null,key:p="default"}=i,g=r.useMemo((()=>{let t=V(u,l);return null==t?null:{location:{pathname:t,search:h,hash:d,state:f,key:p},navigationType:a}}),[l,u,h,d,f,p,a]);return x(null!=g,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(u).concat(h).concat(d,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==g?null:r.createElement(ot.Provider,{value:c},r.createElement(lt.Provider,{children:n,value:g}))}function Dt(t){let{children:e,location:n}=t;return vt(Nt(e),n)}r.Component;function Nt(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return r.Children.forEach(t,((t,i)=>{if(!r.isValidElement(t))return;let a=[...e,i];if(t.type===r.Fragment)return void n.push.apply(n,Nt(t.props.children,a));w(t.type===Pt,"[".concat("string"===typeof t.type?t.type:t.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),w(!t.props.index||!t.props.children,"An index route cannot have child routes.");let s={id:t.props.id||a.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,hydrateFallbackElement:t.props.hydrateFallbackElement,HydrateFallback:t.props.HydrateFallback,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:!0===t.props.hasErrorBoundary||null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(s.children=Nt(t.props.children,a)),n.push(s)})),n}var Lt="get",It="application/x-www-form-urlencoded";function Ft(t){return null!=t&&"string"===typeof t.tagName}var Ot=null;var Bt=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function jt(t){return null==t||Bt.has(t)?t:(x(!1,'"'.concat(t,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(It,'"')),null)}function Wt(t,e){let n,i,r,a,s;if(function(t){return Ft(t)&&"form"===t.tagName.toLowerCase()}(t)){let s=t.getAttribute("action");i=s?V(s,e):null,n=t.getAttribute("method")||Lt,r=jt(t.getAttribute("enctype"))||It,a=new FormData(t)}else if(function(t){return Ft(t)&&"button"===t.tagName.toLowerCase()}(t)||function(t){return Ft(t)&&"input"===t.tagName.toLowerCase()}(t)&&("submit"===t.type||"image"===t.type)){let s=t.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=t.getAttribute("formaction")||s.getAttribute("action");if(i=o?V(o,e):null,n=t.getAttribute("formmethod")||s.getAttribute("method")||Lt,r=jt(t.getAttribute("formenctype"))||jt(s.getAttribute("enctype"))||It,a=new FormData(s,t),!function(){if(null===Ot)try{new FormData(document.createElement("form"),0),Ot=!1}catch(t){Ot=!0}return Ot}()){let{name:e,type:n,value:i}=t;if("image"===n){let t=e?"".concat(e,"."):"";a.append("".concat(t,"x"),"0"),a.append("".concat(t,"y"),"0")}else e&&a.append(e,i)}}else{if(Ft(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Lt,i=null,r=It,s=t}return a&&"text/plain"===r&&(s=a,a=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:a,body:s}}function zt(t,e){if(!1===t||null===t||"undefined"===typeof t)throw new Error(e)}async function Ut(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error("Error loading route module `".concat(t.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function Ht(t){return null!=t&&"string"===typeof t.page}function Vt(t){return null!=t&&(null==t.href?"preload"===t.rel&&"string"===typeof t.imageSrcSet&&"string"===typeof t.imageSizes:"string"===typeof t.rel&&"string"===typeof t.href)}function Gt(t,e,n,i,r,a){let s=(t,e)=>!n[e]||t.route.id!==n[e].route.id,o=(t,e)=>{var i;return n[e].pathname!==t.pathname||(null===(i=n[e].route.path)||void 0===i?void 0:i.endsWith("*"))&&n[e].params["*"]!==t.params["*"]};return"assets"===a?e.filter(((t,e)=>s(t,e)||o(t,e))):"data"===a?e.filter(((e,a)=>{let l=i.routes[e.route.id];if(!l||!l.hasLoader)return!1;if(s(e,a)||o(e,a))return!0;if(e.route.shouldRevalidate){var c;let i=e.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(t,window.origin),nextParams:e.params,defaultShouldRevalidate:!0});if("boolean"===typeof i)return i}return!0})):[]}function qt(t,e){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i=t.map((t=>{let i=e.routes[t.route.id];if(!i)return[];let r=[i.module];return i.clientActionModule&&(r=r.concat(i.clientActionModule)),i.clientLoaderModule&&(r=r.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(r=r.concat(i.hydrateFallbackModule)),i.imports&&(r=r.concat(i.imports)),r})).flat(1),[...new Set(i)];var i}function Xt(t,e){let n=new Set,i=new Set(e);return t.reduce(((t,r)=>{if(e&&!Ht(r)&&"script"===r.as&&r.href&&i.has(r.href))return t;let a=JSON.stringify(function(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}(r));return n.has(a)||(n.add(a),t.push({key:a,link:r})),t}),[])}function Yt(t){return{__html:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;Symbol("SingleFetchRedirect");var Kt=new Set([100,101,204,205]);function Qt(t,e){let n="string"===typeof t?new URL(t,"undefined"===typeof window?"server://singlefetch/":window.location.origin):t;return"/"===n.pathname?n.pathname="_root.data":e&&"/"===V(n.pathname,e)?n.pathname="".concat(e.replace(/\/$/,""),"/_root.data"):n.pathname="".concat(n.pathname.replace(/\/$/,""),".data"),n}r.Component;function $t(t){let{error:e,isOutsideRemixApp:n}=t;console.error(e);let i,a=r.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(Z(e))return r.createElement(Jt,{title:"Unhandled Thrown Response!"},r.createElement("h1",{style:{fontSize:"24px"}},e.status," ",e.statusText),a);if(e instanceof Error)i=e;else{let t=null==e?"Unknown Error":"object"===typeof e&&"toString"in e?e.toString():JSON.stringify(e);i=new Error(t)}return r.createElement(Jt,{title:"Application Error!",isOutsideRemixApp:n},r.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),r.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},i.stack),a)}function Jt(t){var e;let{title:n,renderScripts:i,isOutsideRemixApp:a,children:s}=t,{routeModules:o}=ie();return null!==(e=o.root)&&void 0!==e&&e.Layout&&!a?s:r.createElement("html",{lang:"en"},r.createElement("head",null,r.createElement("meta",{charSet:"utf-8"}),r.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),r.createElement("title",null,n)),r.createElement("body",null,r.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},s,i?r.createElement(ue,null):null)))}function Zt(t,e){return"lazy"===t.mode&&!0===e}function te(){let t=r.useContext(nt);return zt(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function ee(){let t=r.useContext(it);return zt(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var ne=r.createContext(void 0);function ie(){let t=r.useContext(ne);return zt(t,"You must render this element inside a <HydratedRouter> element"),t}function re(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function ae(t,e,n){if(n&&!ce)return[t[0]];if(e){let n=t.findIndex((t=>void 0!==e[t.route.id]));return t.slice(0,n+1)}return t}function se(t){let{page:e}=t,n=s(t,f),{router:i}=te(),a=r.useMemo((()=>M(i.routes,e,i.basename)),[i.routes,e,i.basename]);return a?r.createElement(le,h({page:e,matches:a},n)):null}function oe(t){let{manifest:e,routeModules:n}=ie(),[i,a]=r.useState([]);return r.useEffect((()=>{let i=!1;return async function(t,e,n){return Xt((await Promise.all(t.map((async t=>{let i=e.routes[t.route.id];if(i){let t=await Ut(i,n);return t.links?t.links():[]}return[]})))).flat(1).filter(Vt).filter((t=>"stylesheet"===t.rel||"preload"===t.rel)).map((t=>"stylesheet"===t.rel?h(h({},t),{},{rel:"prefetch",as:"style"}):h(h({},t),{},{rel:"prefetch"}))))}(t,e,n).then((t=>{i||a(t)})),()=>{i=!0}}),[t,e,n]),i}function le(t){let{page:e,matches:n}=t,i=s(t,p),a=dt(),{manifest:o,routeModules:l}=ie(),{basename:c}=te(),{loaderData:u,matches:d}=ee(),f=r.useMemo((()=>Gt(e,n,d,o,a,"data")),[e,n,d,o,a]),g=r.useMemo((()=>Gt(e,n,d,o,a,"assets")),[e,n,d,o,a]),m=r.useMemo((()=>{if(e===a.pathname+a.search+a.hash)return[];let t=new Set,i=!1;if(n.forEach((e=>{var n;let r=o.routes[e.route.id];r&&r.hasLoader&&(!f.some((t=>t.route.id===e.route.id))&&e.route.id in u&&null!==(n=l[e.route.id])&&void 0!==n&&n.shouldRevalidate||r.hasClientLoader?i=!0:t.add(e.route.id))})),0===t.size)return[];let r=Qt(e,c);return i&&t.size>0&&r.searchParams.set("_routes",n.filter((e=>t.has(e.route.id))).map((t=>t.route.id)).join(",")),[r.pathname+r.search]}),[c,u,a,o,f,n,e,l]),v=r.useMemo((()=>qt(g,o)),[g,o]),y=oe(g);return r.createElement(r.Fragment,null,m.map((t=>r.createElement("link",h({key:t,rel:"prefetch",as:"fetch",href:t},i)))),v.map((t=>r.createElement("link",h({key:t,rel:"modulepreload",href:t},i)))),y.map((t=>{let{key:e,link:n}=t;return r.createElement("link",h({key:e},n))})))}ne.displayName="FrameworkContext";var ce=!1;function ue(t){let{manifest:e,serverHandoffString:n,isSpaMode:i,renderMeta:a,routeDiscovery:o,ssr:l}=ie(),{router:c,static:u,staticContext:f}=te(),{matches:p}=ee(),g=Zt(o,l);a&&(a.didRenderScripts=!0);let m=ae(p,null,i);r.useEffect((()=>{ce=!0}),[]);let v=r.useMemo((()=>{var i;let a=f?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",o=u?"".concat(null!==(i=e.hmr)&&void 0!==i&&i.runtime?"import ".concat(JSON.stringify(e.hmr.runtime),";"):"").concat(g?"":"import ".concat(JSON.stringify(e.url)),";\n").concat(m.map(((t,n)=>{let i="route".concat(n),r=e.routes[t.route.id];zt(r,"Route ".concat(t.route.id," not found in manifest"));let{clientActionModule:a,clientLoaderModule:s,clientMiddlewareModule:o,hydrateFallbackModule:l,module:c}=r,u=[...a?[{module:a,varName:"".concat(i,"_clientAction")}]:[],...s?[{module:s,varName:"".concat(i,"_clientLoader")}]:[],...o?[{module:o,varName:"".concat(i,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(i,"_HydrateFallback")}]:[],{module:c,varName:"".concat(i,"_main")}];return 1===u.length?"import * as ".concat(i," from ").concat(JSON.stringify(c),";"):[u.map((t=>"import * as ".concat(t.varName,' from "').concat(t.module,'";'))).join("\n"),"const ".concat(i," = {").concat(u.map((t=>"...".concat(t.varName))).join(","),"};")].join("\n")})).join("\n"),"\n  ").concat(g?"window.__reactRouterManifest = ".concat(JSON.stringify(function(t,e){let{sri:n}=t,i=s(t,d),r=new Set(e.state.matches.map((t=>t.route.id))),a=e.state.location.pathname.split("/").filter(Boolean),o=["/"];for(a.pop();a.length>0;)o.push("/".concat(a.join("/"))),a.pop();o.forEach((t=>{let n=M(e.routes,t,e.basename);n&&n.forEach((t=>r.add(t.route.id)))}));let l=[...r].reduce(((t,e)=>Object.assign(t,{[e]:i.routes[e]})),{});return h(h({},i),{},{routes:l,sri:!!n||void 0})}(e,c),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(m.map(((t,e)=>"".concat(JSON.stringify(t.route.id),":route").concat(e))).join(","),"};\n\nimport(").concat(JSON.stringify(e.entry.module),");"):" ";return r.createElement(r.Fragment,null,r.createElement("script",h(h({},t),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:Yt(a),type:void 0})),r.createElement("script",h(h({},t),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:Yt(o),type:"module",async:!0})))}),[]),y=ce?[]:function(t){return[...new Set(t)]}(e.entry.imports.concat(qt(m,e,{includeHydrateFallback:!0}))),b="object"===typeof e.sri?e.sri:{};return ce?null:r.createElement(r.Fragment,null,"object"===typeof e.sri?r.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:b})}}):null,g?null:r.createElement("link",{rel:"modulepreload",href:e.url,crossOrigin:t.crossOrigin,integrity:b[e.url],suppressHydrationWarning:!0}),r.createElement("link",{rel:"modulepreload",href:e.entry.module,crossOrigin:t.crossOrigin,integrity:b[e.entry.module],suppressHydrationWarning:!0}),y.map((e=>r.createElement("link",{key:e,rel:"modulepreload",href:e,crossOrigin:t.crossOrigin,integrity:b[e],suppressHydrationWarning:!0}))),v)}function he(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return t=>{e.forEach((e=>{"function"===typeof e?e(t):null!=e&&(e.current=t)}))}}var de="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{de&&(window.__reactRouterVersion="7.6.0")}catch(hE){}function fe(t){let{basename:e,children:n,window:i}=t,a=r.useRef();null==a.current&&(a.current=b({window:i,v5Compat:!0}));let s=a.current,[o,l]=r.useState({action:s.action,location:s.location}),c=r.useCallback((t=>{r.startTransition((()=>l(t)))}),[l]);return r.useLayoutEffect((()=>s.listen(c)),[s,c]),r.createElement(Rt,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s})}var pe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ge=r.forwardRef((function(t,e){let n,{onClick:i,discover:a="render",prefetch:o="none",relative:l,reloadDocument:c,replace:u,state:d,target:f,to:p,preventScrollReset:m,viewTransition:v}=t,y=s(t,g),{basename:b}=r.useContext(ot),_="string"===typeof p&&pe.test(p),k=!1;if("string"===typeof p&&_&&(n=p,de))try{let t=new URL(window.location.href),e=p.startsWith("//")?new URL(t.protocol+p):new URL(p),n=V(e.pathname,b);e.origin===t.origin&&null!=n?p=n+e.search+e.hash:k=!0}catch(hE){x(!1,'<Link to="'.concat(p,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let A=function(t){let{relative:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};w(ht(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=r.useContext(ot),{hash:a,pathname:s,search:o}=mt(t,{relative:e}),l=s;return"/"!==n&&(l="/"===s?n:K([n,s])),i.createHref({pathname:l,search:o,hash:a})}(p,{relative:l}),[E,C,M]=function(t,e){let n=r.useContext(ne),[i,a]=r.useState(!1),[s,o]=r.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:h,onTouchStart:d}=e,f=r.useRef(null);r.useEffect((()=>{if("render"===t&&o(!0),"viewport"===t){let t=new IntersectionObserver((t=>{t.forEach((t=>{o(t.isIntersecting)}))}),{threshold:.5});return f.current&&t.observe(f.current),()=>{t.disconnect()}}}),[t]),r.useEffect((()=>{if(i){let t=setTimeout((()=>{o(!0)}),100);return()=>{clearTimeout(t)}}}),[i]);let p=()=>{a(!0)},g=()=>{a(!1),o(!1)};return n?"intent"!==t?[s,f,{}]:[s,f,{onFocus:re(l,p),onBlur:re(c,g),onMouseEnter:re(u,p),onMouseLeave:re(h,g),onTouchStart:re(d,p)}]:[!1,f,{}]}(o,y),T=function(t){let{target:e,replace:n,state:i,preventScrollReset:a,relative:s,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=gt(),c=dt(),u=mt(t,{relative:s});return r.useCallback((r=>{if(function(t,e){return 0===t.button&&(!e||"_self"===e)&&!function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t)}(r,e)){r.preventDefault();let e=void 0!==n?n:S(c)===S(u);l(t,{replace:e,state:i,preventScrollReset:a,relative:s,viewTransition:o})}}),[c,l,u,n,i,e,t,a,s,o])}(p,{replace:u,state:d,target:f,preventScrollReset:m,relative:l,viewTransition:v});let P=r.createElement("a",h(h(h({},y),M),{},{href:n||A,onClick:k||c?i:function(t){i&&i(t),t.defaultPrevented||T(t)},ref:he(e,C),target:f,"data-discover":_||"render"!==a?void 0:"true"}));return E&&!_?r.createElement(r.Fragment,null,P,r.createElement(se,{page:A})):P}));ge.displayName="Link";var me=r.forwardRef((function(t,e){let{"aria-current":n="page",caseSensitive:i=!1,className:a="",end:o=!1,style:l,to:c,viewTransition:u,children:d}=t,f=s(t,m),p=mt(c,{relative:f.relative}),g=dt(),v=r.useContext(it),{navigator:y,basename:b}=r.useContext(ot),x=null!=v&&function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.useContext(rt);w(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=be("useViewTransitionState"),a=mt(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=V(n.currentLocation.pathname,i)||n.currentLocation.pathname,o=V(n.nextLocation.pathname,i)||n.nextLocation.pathname;return null!=z(a.pathname,o)||null!=z(a.pathname,s)}(p)&&!0===u,_=y.encodeLocation?y.encodeLocation(p).pathname:p.pathname,k=g.pathname,S=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;i||(k=k.toLowerCase(),S=S?S.toLowerCase():null,_=_.toLowerCase()),S&&b&&(S=V(S,b)||S);const A="/"!==_&&_.endsWith("/")?_.length-1:_.length;let E,C=k===_||!o&&k.startsWith(_)&&"/"===k.charAt(A),M=null!=S&&(S===_||!o&&S.startsWith(_)&&"/"===S.charAt(_.length)),T={isActive:C,isPending:M,isTransitioning:x},P=C?n:void 0;E="function"===typeof a?a(T):[a,C?"active":null,M?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let R="function"===typeof l?l(T):l;return r.createElement(ge,h(h({},f),{},{"aria-current":P,className:E,ref:e,style:R,to:c,viewTransition:u}),"function"===typeof d?d(T):d)}));me.displayName="NavLink";var ve=r.forwardRef(((t,e)=>{let{discover:n="render",fetcherKey:i,navigate:a,reloadDocument:o,replace:l,state:c,method:u=Lt,action:d,onSubmit:f,relative:p,preventScrollReset:g,viewTransition:m}=t,y=s(t,v),b=_e(),x=function(t){let{relative:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=r.useContext(ot),i=r.useContext(ct);w(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),s=h({},mt(t||".",{relative:e})),o=dt();if(null==t){s.search=o.search;let t=new URLSearchParams(s.search),e=t.getAll("index");if(e.some((t=>""===t))){t.delete("index"),e.filter((t=>t)).forEach((e=>t.append("index",e)));let n=t.toString();s.search=n?"?".concat(n):""}}t&&"."!==t||!a.route.index||(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(s.pathname="/"===s.pathname?n:K([n,s.pathname]));return S(s)}(d,{relative:p}),_="get"===u.toLowerCase()?"get":"post",k="string"===typeof d&&pe.test(d);return r.createElement("form",h(h({ref:e,method:_,action:x,onSubmit:o?f:t=>{if(f&&f(t),t.defaultPrevented)return;t.preventDefault();let e=t.nativeEvent.submitter,n=(null===e||void 0===e?void 0:e.getAttribute("formmethod"))||u;b(e||t.currentTarget,{fetcherKey:i,method:n,navigate:a,replace:l,state:c,relative:p,preventScrollReset:g,viewTransition:m})}},y),{},{"data-discover":k||"render"!==n?void 0:"true"}))}));function ye(t){return"".concat(t," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function be(t){let e=r.useContext(nt);return w(e,ye(t)),e}ve.displayName="Form";var we=0,xe=()=>"__".concat(String(++we),"__");function _e(){let{router:t}=be("useSubmit"),{basename:e}=r.useContext(ot),n=Et("useRouteId");return r.useCallback((async function(i){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:a,method:s,encType:o,formData:l,body:c}=Wt(i,e);if(!1===r.navigate){let e=r.fetcherKey||xe();await t.fetch(e,n,r.action||a,{preventScrollReset:r.preventScrollReset,formData:l,body:c,formMethod:r.method||s,formEncType:r.encType||o,flushSync:r.flushSync})}else await t.navigate(r.action||a,{preventScrollReset:r.preventScrollReset,formData:l,body:c,formMethod:r.method||s,formEncType:r.encType||o,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})}),[t,e,n])}var ke=n(579);const Se=()=>(0,ke.jsxs)("svg",{viewBox:"0 0 24 24","aria-hidden":"true",children:[(0,ke.jsx)("path",{d:"M3 21V3"}),(0,ke.jsx)("path",{d:"M3 21h18"}),(0,ke.jsx)("path",{d:"M6 15l4-5 3 3 5-7"}),(0,ke.jsx)("circle",{cx:"6",cy:"15",r:"1.4"}),(0,ke.jsx)("circle",{cx:"10",cy:"10",r:"1.4"}),(0,ke.jsx)("circle",{cx:"13",cy:"13",r:"1.4"}),(0,ke.jsx)("circle",{cx:"18",cy:"6",r:"1.4"})]}),Ae=()=>(0,ke.jsxs)("svg",{viewBox:"0 0 24 24","aria-hidden":"true",children:[(0,ke.jsx)("path",{d:"M12 4l8 4-8 4-8-4 8-4z"}),(0,ke.jsx)("path",{d:"M4 12l8 4 8-4"}),(0,ke.jsx)("path",{d:"M4 16l8 4 8-4"})]}),Ee=()=>(0,ke.jsxs)("svg",{viewBox:"0 0 24 24","aria-hidden":"true",children:[(0,ke.jsx)("circle",{cx:"12",cy:"8",r:"4"}),(0,ke.jsx)("path",{d:"M4 20c0-4 4-6 8-6s8 2 8 6"})]}),Ce=()=>(0,ke.jsxs)("svg",{viewBox:"0 0 24 24","aria-hidden":"true",children:[(0,ke.jsx)("path",{d:"M7 3h7l5 5v13a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"}),(0,ke.jsx)("path",{d:"M14 3v5h5"}),(0,ke.jsx)("path",{d:"M9 13h6M9 17h6"})]});function Me(){const t=(0,r.useRef)(null),e=(0,r.useRef)(null),n=(0,r.useRef)(null),i=(0,r.useRef)(null),a=(0,r.useRef)(null);return(0,r.useEffect)((()=>{(t=>{if(!i.current)return;const e=document.createDocumentFragment();for(let n=0;n<t;n++){const t=document.createElement("span");t.className="particle",t.style.left=100*Math.random()+"%",t.style.top=100*Math.random()+"%";const n=1+2*Math.random();t.style.width="".concat(n,"px"),t.style.height="".concat(n,"px"),t.style.animationDuration="".concat(18+10*Math.random(),"s"),t.style.animationDelay="".concat(5*Math.random(),"s"),t.style.opacity=String(.25+.5*Math.random()),e.appendChild(t)}i.current.innerHTML="",i.current.appendChild(e)})(60),(t=>{if(!a.current)return;const e=document.createDocumentFragment(),n=[340,260,200,140];for(let i=0;i<t;i++){const t=document.createElement("span");t.className="floating-element";const i=60+80*Math.random();t.style.width="".concat(i,"px"),t.style.height="".concat(i,"px"),t.style.left=100*Math.random()+"%",t.style.top=100*Math.random()+"%",t.style.setProperty("--h",String(n[Math.random()*n.length|0])),t.style.animationDelay="".concat(8*Math.random(),"s"),t.style.animationDuration="".concat(22+14*Math.random(),"s"),e.appendChild(t)}a.current.innerHTML="",a.current.appendChild(e)})(8);const r=t.current,s=e.current,o=n.current;if(!r||!s||!o)return;let l=0,c=-9999,u=-9999,h=-9999,d=-9999,f=!1,p=!1;const g=()=>{h+=.2*(c-h),d+=.2*(u-d);const t=f?.85:1,e=f?1.6:1;if(r.style.transform="translate3d(".concat(h-12,"px, ").concat(d-12,"px, 0) scale(").concat(t,")"),s.style.transform="translate3d(".concat(c-4,"px, ").concat(u-4,"px, 0) scale(").concat(e,")"),o.style.transform="translate3d(".concat(c-80,"px, ").concat(u-80,"px, 0)"),Math.abs(h-c)<.1&&Math.abs(d-u)<.1)return p=!1,void(l=0);l=requestAnimationFrame(g)},m=()=>{p||(p=!0,l=requestAnimationFrame(g))},v=t=>{c=t.clientX,u=t.clientY,m()},y=()=>{f=!0,m()},b=()=>{f=!1,m()},w=()=>{c=u=h=d=-9999,r.style.transform="translate3d(-9999px,-9999px,0)",s.style.transform="translate3d(-9999px,-9999px,0)",o.style.transform="translate3d(-9999px,-9999px,0)",l&&cancelAnimationFrame(l),l=0,p=!1},x=()=>{document.hidden&&w()};return window.addEventListener("pointermove",v,{passive:!0}),window.addEventListener("pointerdown",y,{passive:!0}),window.addEventListener("pointerup",b,{passive:!0}),window.addEventListener("pointercancel",w,{passive:!0}),window.addEventListener("mouseleave",w,{passive:!0}),document.addEventListener("visibilitychange",x),()=>{l&&cancelAnimationFrame(l),window.removeEventListener("pointermove",v),window.removeEventListener("pointerdown",y),window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",w),window.removeEventListener("mouseleave",w),document.removeEventListener("visibilitychange",x),i.current&&(i.current.innerHTML=""),a.current&&(a.current.innerHTML="")}}),[]),(0,ke.jsxs)("div",{className:"landing",children:[(0,ke.jsx)("div",{className:"cursor",ref:t,"aria-hidden":"true"}),(0,ke.jsx)("div",{className:"cursor-dot",ref:e,"aria-hidden":"true"}),(0,ke.jsx)("div",{className:"mouse-glow",ref:n,"aria-hidden":"true"}),(0,ke.jsx)("div",{className:"magic-circle","aria-hidden":"true"}),(0,ke.jsx)("div",{className:"magic-circle alt","aria-hidden":"true"}),(0,ke.jsx)("div",{className:"magic-circle slow","aria-hidden":"true"}),(0,ke.jsx)("div",{className:"floating-elements",ref:a,"aria-hidden":"true"}),(0,ke.jsx)("div",{className:"particles",ref:i,"aria-hidden":"true"}),(0,ke.jsxs)("div",{className:"wrap",children:[(0,ke.jsxs)("header",{className:"hero",children:[(0,ke.jsx)("h1",{className:"title",children:"Hyder Mohyuddin"}),(0,ke.jsx)("p",{className:"subtitle",children:"AI & Software \u2022 Systems \u2022 Interfaces"}),(0,ke.jsxs)("p",{className:"mission",children:["I build dependable AI tools and interfaces. At UChicago with ",(0,ke.jsx)("strong",{children:"Professor Jason Salavon"}),", I absorbed responsibilities previously held across three ",(0,ke.jsx)("strong",{children:"CS M.S. teammates"})," and got comfortable being handed unknowns\u2014researching, shipping, and owning production systems. Recent work: real-time tensor devtools for ",(0,ke.jsx)("strong",{children:"Stable Diffusion/ComfyUI"})," (custom memory routing, layer-targeted transforms, node instrumentation) and a production ",(0,ke.jsx)("strong",{children:"SPIM research UI"})," (controls + analysis). Also experienced with ",(0,ke.jsx)("strong",{children:"GPT models"})," and ",(0,ke.jsx)("strong",{children:"modern web development"})," (React/JS, D3, Flask). I built this site to showcase my skills and how I work\u2014see my ",(0,ke.jsx)("strong",{children:"resume"})," for the full stack."]})]}),(0,ke.jsxs)("section",{className:"grid","aria-label":"Site sections",children:[(0,ke.jsxs)(ge,{to:"/skills",className:"card card-1 portal","aria-label":"Go to Skills",children:[(0,ke.jsx)("span",{className:"portal-glow portal-1","aria-hidden":"true"}),(0,ke.jsxs)("div",{className:"card-head",children:[(0,ke.jsx)("span",{className:"icon",children:(0,ke.jsx)(Se,{})}),(0,ke.jsx)("h2",{children:"Skills"})]}),(0,ke.jsx)("p",{className:"card-copy",children:"A visual and interactive map of my skills"}),(0,ke.jsx)("div",{className:"peek",children:(0,ke.jsx)("img",{src:"/hyder/previews/skills.jpg",alt:"Preview of Skills page",loading:"lazy"})})]}),(0,ke.jsxs)(ge,{to:"/projects",className:"card card-2 portal","aria-label":"Go to Projects",children:[(0,ke.jsx)("span",{className:"portal-glow portal-2","aria-hidden":"true"}),(0,ke.jsxs)("div",{className:"card-head",children:[(0,ke.jsx)("span",{className:"icon",children:(0,ke.jsx)(Ae,{})}),(0,ke.jsx)("h2",{children:"Projects"})]}),(0,ke.jsx)("p",{className:"card-copy",children:"See my write-ups on past projects"}),(0,ke.jsx)("div",{className:"peek",children:(0,ke.jsx)("img",{src:"/hyder/previews/projects.jpg",alt:"Preview of Projects page",loading:"lazy"})})]}),(0,ke.jsxs)(ge,{to:"/about",className:"card card-3 portal","aria-label":"Go to About",children:[(0,ke.jsx)("span",{className:"portal-glow portal-3","aria-hidden":"true"}),(0,ke.jsxs)("div",{className:"card-head",children:[(0,ke.jsx)("span",{className:"icon",children:(0,ke.jsx)(Ee,{})}),(0,ke.jsx)("h2",{children:"About"})]}),(0,ke.jsx)("p",{className:"card-copy",children:"Background, approach, and what I'm exploring"}),(0,ke.jsx)("div",{className:"peek",children:(0,ke.jsx)("img",{src:"/hyder/previews/about.jpg",alt:"Preview of About page",loading:"lazy"})})]}),(0,ke.jsxs)(ge,{to:"/resume",className:"card card-4 portal","aria-label":"Go to R\xe9sum\xe9",children:[(0,ke.jsx)("span",{className:"portal-glow portal-4","aria-hidden":"true"}),(0,ke.jsxs)("div",{className:"card-head",children:[(0,ke.jsx)("span",{className:"icon",children:(0,ke.jsx)(Ce,{})}),(0,ke.jsx)("h2",{children:"Resume"})]}),(0,ke.jsx)("p",{className:"card-copy",children:"Experience, education, and highlights"}),(0,ke.jsx)("div",{className:"peek",children:(0,ke.jsx)("img",{src:"/hyder/previews/resume.jpg",alt:"Preview of Resume page",loading:"lazy"})})]})]})]})]})}function Te(){}function Pe(t){return null==t?Te:function(){return this.querySelector(t)}}function Re(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function De(){return[]}function Ne(t){return null==t?De:function(){return this.querySelectorAll(t)}}function Le(t){return function(){return this.matches(t)}}function Ie(t){return function(e){return e.matches(t)}}var Fe=Array.prototype.find;function Oe(){return this.firstElementChild}var Be=Array.prototype.filter;function je(){return Array.from(this.children)}function We(t){return new Array(t.length)}function ze(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function Ue(t,e,n,i,r,a){for(var s,o=0,l=e.length,c=a.length;o<c;++o)(s=e[o])?(s.__data__=a[o],i[o]=s):n[o]=new ze(t,a[o]);for(;o<l;++o)(s=e[o])&&(r[o]=s)}function He(t,e,n,i,r,a,s){var o,l,c,u=new Map,h=e.length,d=a.length,f=new Array(h);for(o=0;o<h;++o)(l=e[o])&&(f[o]=c=s.call(l,l.__data__,o,e)+"",u.has(c)?r[o]=l:u.set(c,l));for(o=0;o<d;++o)c=s.call(t,a[o],o,a)+"",(l=u.get(c))?(i[o]=l,l.__data__=a[o],u.delete(c)):n[o]=new ze(t,a[o]);for(o=0;o<h;++o)(l=e[o])&&u.get(f[o])===l&&(r[o]=l)}function Ve(t){return t.__data__}function Ge(t){return"object"===typeof t&&"length"in t?t:Array.from(t)}function qe(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}ze.prototype={constructor:ze,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Xe="http://www.w3.org/1999/xhtml";const Ye={svg:"http://www.w3.org/2000/svg",xhtml:Xe,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ke(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Ye.hasOwnProperty(e)?{space:Ye[e],local:t}:t}function Qe(t){return function(){this.removeAttribute(t)}}function $e(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Je(t,e){return function(){this.setAttribute(t,e)}}function Ze(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function tn(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function en(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function nn(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function rn(t){return function(){this.style.removeProperty(t)}}function an(t,e,n){return function(){this.style.setProperty(t,e,n)}}function sn(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function on(t,e){return t.style.getPropertyValue(e)||nn(t).getComputedStyle(t,null).getPropertyValue(e)}function ln(t){return function(){delete this[t]}}function cn(t,e){return function(){this[t]=e}}function un(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function hn(t){return t.trim().split(/^|\s+/)}function dn(t){return t.classList||new fn(t)}function fn(t){this._node=t,this._names=hn(t.getAttribute("class")||"")}function pn(t,e){for(var n=dn(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function gn(t,e){for(var n=dn(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function mn(t){return function(){pn(this,t)}}function vn(t){return function(){gn(this,t)}}function yn(t,e){return function(){(e.apply(this,arguments)?pn:gn)(this,t)}}function bn(){this.textContent=""}function wn(t){return function(){this.textContent=t}}function xn(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function _n(){this.innerHTML=""}function kn(t){return function(){this.innerHTML=t}}function Sn(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function An(){this.nextSibling&&this.parentNode.appendChild(this)}function En(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Cn(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Xe&&e.documentElement.namespaceURI===Xe?e.createElement(t):e.createElementNS(n,t)}}function Mn(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Tn(t){var e=Ke(t);return(e.local?Mn:Cn)(e)}function Pn(){return null}function Rn(){var t=this.parentNode;t&&t.removeChild(this)}function Dn(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Nn(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ln(t){return function(){var e=this.__on;if(e){for(var n,i=0,r=-1,a=e.length;i<a;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++r]=n:this.removeEventListener(n.type,n.listener,n.options);++r?e.length=r:delete this.__on}}}function In(t,e,n){return function(){var i,r=this.__on,a=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(r)for(var s=0,o=r.length;s<o;++s)if((i=r[s]).type===t.type&&i.name===t.name)return this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),void(i.value=e);this.addEventListener(t.type,a,n),i={type:t.type,name:t.name,value:e,listener:a,options:n},r?r.push(i):this.__on=[i]}}function Fn(t,e,n){var i=nn(t),r=i.CustomEvent;"function"===typeof r?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function On(t,e){return function(){return Fn(this,t,e)}}function Bn(t,e){return function(){return Fn(this,t,e.apply(this,arguments))}}fn.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var jn=[null];function Wn(t,e){this._groups=t,this._parents=e}function zn(){return new Wn([[document.documentElement]],jn)}Wn.prototype=zn.prototype={constructor:Wn,select:function(t){"function"!==typeof t&&(t=Pe(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var a,s,o=e[r],l=o.length,c=i[r]=new Array(l),u=0;u<l;++u)(a=o[u])&&(s=t.call(a,a.__data__,u,o))&&("__data__"in a&&(s.__data__=a.__data__),c[u]=s);return new Wn(i,this._parents)},selectAll:function(t){t="function"===typeof t?function(t){return function(){return Re(t.apply(this,arguments))}}(t):Ne(t);for(var e=this._groups,n=e.length,i=[],r=[],a=0;a<n;++a)for(var s,o=e[a],l=o.length,c=0;c<l;++c)(s=o[c])&&(i.push(t.call(s,s.__data__,c,o)),r.push(s));return new Wn(i,r)},selectChild:function(t){return this.select(null==t?Oe:function(t){return function(){return Fe.call(this.children,t)}}("function"===typeof t?t:Ie(t)))},selectChildren:function(t){return this.selectAll(null==t?je:function(t){return function(){return Be.call(this.children,t)}}("function"===typeof t?t:Ie(t)))},filter:function(t){"function"!==typeof t&&(t=Le(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var a,s=e[r],o=s.length,l=i[r]=[],c=0;c<o;++c)(a=s[c])&&t.call(a,a.__data__,c,s)&&l.push(a);return new Wn(i,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,Ve);var n=e?He:Ue,i=this._parents,r=this._groups;"function"!==typeof t&&(t=function(t){return function(){return t}}(t));for(var a=r.length,s=new Array(a),o=new Array(a),l=new Array(a),c=0;c<a;++c){var u=i[c],h=r[c],d=h.length,f=Ge(t.call(u,u&&u.__data__,c,i)),p=f.length,g=o[c]=new Array(p),m=s[c]=new Array(p);n(u,h,g,m,l[c]=new Array(d),f,e);for(var v,y,b=0,w=0;b<p;++b)if(v=g[b]){for(b>=w&&(w=b+1);!(y=m[w])&&++w<p;);v._next=y||null}}return(s=new Wn(s,i))._enter=o,s._exit=l,s},enter:function(){return new Wn(this._enter||this._groups.map(We),this._parents)},exit:function(){return new Wn(this._exit||this._groups.map(We),this._parents)},join:function(t,e,n){var i=this.enter(),r=this,a=this.exit();return"function"===typeof t?(i=t(i))&&(i=i.selection()):i=i.append(t+""),null!=e&&(r=e(r))&&(r=r.selection()),null==n?a.remove():n(a),i&&r?i.merge(r).order():r},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,r=n.length,a=i.length,s=Math.min(r,a),o=new Array(r),l=0;l<s;++l)for(var c,u=n[l],h=i[l],d=u.length,f=o[l]=new Array(d),p=0;p<d;++p)(c=u[p]||h[p])&&(f[p]=c);for(;l<r;++l)o[l]=n[l];return new Wn(o,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],a=r.length-1,s=r[a];--a>=0;)(i=r[a])&&(s&&4^i.compareDocumentPosition(s)&&s.parentNode.insertBefore(i,s),s=i);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=qe);for(var n=this._groups,i=n.length,r=new Array(i),a=0;a<i;++a){for(var s,o=n[a],l=o.length,c=r[a]=new Array(l),u=0;u<l;++u)(s=o[u])&&(c[u]=s);c.sort(e)}return new Wn(r,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,a=i.length;r<a;++r){var s=i[r];if(s)return s}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r,a=e[n],s=0,o=a.length;s<o;++s)(r=a[s])&&t.call(r,r.__data__,s,a);return this},attr:function(t,e){var n=Ke(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?$e:Qe:"function"===typeof e?n.local?en:tn:n.local?Ze:Je)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?rn:"function"===typeof e?sn:an)(t,e,null==n?"":n)):on(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?ln:"function"===typeof e?un:cn)(t,e)):this.node()[t]},classed:function(t,e){var n=hn(t+"");if(arguments.length<2){for(var i=dn(this.node()),r=-1,a=n.length;++r<a;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"===typeof e?yn:e?mn:vn)(n,e))},text:function(t){return arguments.length?this.each(null==t?bn:("function"===typeof t?xn:wn)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?_n:("function"===typeof t?Sn:kn)(t)):this.node().innerHTML},raise:function(){return this.each(An)},lower:function(){return this.each(En)},append:function(t){var e="function"===typeof t?t:Tn(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"===typeof t?t:Tn(t),i=null==e?Pn:"function"===typeof e?e:Pe(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(Rn)},clone:function(t){return this.select(t?Nn:Dn)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var i,r,a=function(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}(t+""),s=a.length;if(!(arguments.length<2)){for(o=e?In:Ln,i=0;i<s;++i)this.each(o(a[i],e,n));return this}var o=this.node().__on;if(o)for(var l,c=0,u=o.length;c<u;++c)for(i=0,l=o[c];i<s;++i)if((r=a[i]).type===l.type&&r.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"===typeof e?Bn:On)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i,r=t[e],a=0,s=r.length;a<s;++a)(i=r[a])&&(yield i)}};const Un=zn;var Hn={value:()=>{}};function Vn(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i||/[\s.]/.test(t))throw new Error("illegal type: "+t);i[t]=[]}return new Gn(i)}function Gn(t){this._=t}function qn(t,e){for(var n,i=0,r=t.length;i<r;++i)if((n=t[i]).name===e)return n.value}function Xn(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=Hn,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}Gn.prototype=Vn.prototype={constructor:Gn,on:function(t,e){var n,i,r=this._,a=(i=r,(t+"").trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!i.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))),s=-1,o=a.length;if(!(arguments.length<2)){if(null!=e&&"function"!==typeof e)throw new Error("invalid callback: "+e);for(;++s<o;)if(n=(t=a[s]).type)r[n]=Xn(r[n],t.name,e);else if(null==e)for(n in r)r[n]=Xn(r[n],t.name,null);return this}for(;++s<o;)if((n=(t=a[s]).type)&&(n=qn(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Gn(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),a=0;a<n;++a)r[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=0,n=(i=this._[t]).length;a<n;++a)i[a].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,a=i.length;r<a;++r)i[r].value.apply(e,n)}};const Yn=Vn;var Kn,Qn,$n=0,Jn=0,Zn=0,ti=0,ei=0,ni=0,ii="object"===typeof performance&&performance.now?performance:Date,ri="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ai(){return ei||(ri(si),ei=ii.now()+ni)}function si(){ei=0}function oi(){this._call=this._time=this._next=null}function li(t,e,n){var i=new oi;return i.restart(t,e,n),i}function ci(){ei=(ti=ii.now())+ni,$n=Jn=0;try{!function(){ai(),++$n;for(var t,e=Kn;e;)(t=ei-e._time)>=0&&e._call.call(void 0,t),e=e._next;--$n}()}finally{$n=0,function(){var t,e,n=Kn,i=1/0;for(;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Kn=e);Qn=t,hi(i)}(),ei=0}}function ui(){var t=ii.now(),e=t-ti;e>1e3&&(ni-=e,ti=t)}function hi(t){$n||(Jn&&(Jn=clearTimeout(Jn)),t-ei>24?(t<1/0&&(Jn=setTimeout(ci,t-ii.now()-ni)),Zn&&(Zn=clearInterval(Zn))):(Zn||(ti=ii.now(),Zn=setInterval(ui,1e3)),$n=1,ri(ci)))}function di(t,e,n){var i=new oi;return e=null==e?0:+e,i.restart((n=>{i.stop(),t(n+e)}),e,n),i}oi.prototype=li.prototype={constructor:oi,restart:function(t,e,n){if("function"!==typeof t)throw new TypeError("callback is not a function");n=(null==n?ai():+n)+(null==e?0:+e),this._next||Qn===this||(Qn?Qn._next=this:Kn=this,Qn=this),this._call=t,this._time=n,hi()},stop:function(){this._call&&(this._call=null,this._time=1/0,hi())}};var fi=Yn("start","end","cancel","interrupt"),pi=[];function gi(t,e,n,i,r,a){var s=t.__transition;if(s){if(n in s)return}else t.__transition={};!function(t,e,n){var i,r=t.__transition;function a(t){n.state=1,n.timer.restart(s,n.delay,n.time),n.delay<=t&&s(t-n.delay)}function s(a){var c,u,h,d;if(1!==n.state)return l();for(c in r)if((d=r[c]).name===n.name){if(3===d.state)return di(s);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[c]):+c<e&&(d.state=6,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[c])}if(di((function(){3===n.state&&(n.state=4,n.timer.restart(o,n.delay,n.time),o(a))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,i=new Array(h=n.tween.length),c=0,u=-1;c<h;++c)(d=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++u]=d);i.length=u+1}}function o(e){for(var r=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(l),n.state=5,1),a=-1,s=i.length;++a<s;)i[a].call(t,r);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){for(var i in n.state=6,n.timer.stop(),delete r[e],r)return;delete t.__transition}r[e]=n,n.timer=li(a,0,n.time)}(t,n,{name:e,index:i,group:r,on:fi,tween:pi,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})}function mi(t,e){var n=yi(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function vi(t,e){var n=yi(t,e);if(n.state>3)throw new Error("too late; already running");return n}function yi(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function bi(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var wi,xi=180/Math.PI,_i={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ki(t,e,n,i,r,a){var s,o,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*n+e*i)&&(n-=t*l,i-=e*l),(o=Math.sqrt(n*n+i*i))&&(n/=o,i/=o,l/=o),t*i<e*n&&(t=-t,e=-e,l=-l,s=-s),{translateX:r,translateY:a,rotate:Math.atan2(e,t)*xi,skewX:Math.atan(l)*xi,scaleX:s,scaleY:o}}function Si(t,e,n,i){function r(t){return t.length?t.pop()+" ":""}return function(a,s){var o=[],l=[];return a=t(a),s=t(s),function(t,i,r,a,s,o){if(t!==r||i!==a){var l=s.push("translate(",null,e,null,n);o.push({i:l-4,x:bi(t,r)},{i:l-2,x:bi(i,a)})}else(r||a)&&s.push("translate("+r+e+a+n)}(a.translateX,a.translateY,s.translateX,s.translateY,o,l),function(t,e,n,a){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),a.push({i:n.push(r(n)+"rotate(",null,i)-2,x:bi(t,e)})):e&&n.push(r(n)+"rotate("+e+i)}(a.rotate,s.rotate,o,l),function(t,e,n,a){t!==e?a.push({i:n.push(r(n)+"skewX(",null,i)-2,x:bi(t,e)}):e&&n.push(r(n)+"skewX("+e+i)}(a.skewX,s.skewX,o,l),function(t,e,n,i,a,s){if(t!==n||e!==i){var o=a.push(r(a)+"scale(",null,",",null,")");s.push({i:o-4,x:bi(t,n)},{i:o-2,x:bi(e,i)})}else 1===n&&1===i||a.push(r(a)+"scale("+n+","+i+")")}(a.scaleX,a.scaleY,s.scaleX,s.scaleY,o,l),a=s=null,function(t){for(var e,n=-1,i=l.length;++n<i;)o[(e=l[n]).i]=e.x(t);return o.join("")}}}var Ai=Si((function(t){const e=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?_i:ki(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),Ei=Si((function(t){return null==t?_i:(wi||(wi=document.createElementNS("http://www.w3.org/2000/svg","g")),wi.setAttribute("transform",t),(t=wi.transform.baseVal.consolidate())?ki((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):_i)}),", ",")",")");function Ci(t,e){var n,i;return function(){var r=vi(this,t),a=r.tween;if(a!==n)for(var s=0,o=(i=n=a).length;s<o;++s)if(i[s].name===e){(i=i.slice()).splice(s,1);break}r.tween=i}}function Mi(t,e,n){var i,r;if("function"!==typeof n)throw new Error;return function(){var a=vi(this,t),s=a.tween;if(s!==i){r=(i=s).slice();for(var o={name:e,value:n},l=0,c=r.length;l<c;++l)if(r[l].name===e){r[l]=o;break}l===c&&r.push(o)}a.tween=r}}function Ti(t,e,n){var i=t._id;return t.each((function(){var t=vi(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return yi(t,i).value[e]}}function Pi(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Ri(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Di(){}var Ni=.7,Li=1/Ni,Ii="\\s*([+-]?\\d+)\\s*",Fi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Oi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Bi=/^#([0-9a-f]{3,8})$/,ji=new RegExp("^rgb\\(".concat(Ii,",").concat(Ii,",").concat(Ii,"\\)$")),Wi=new RegExp("^rgb\\(".concat(Oi,",").concat(Oi,",").concat(Oi,"\\)$")),zi=new RegExp("^rgba\\(".concat(Ii,",").concat(Ii,",").concat(Ii,",").concat(Fi,"\\)$")),Ui=new RegExp("^rgba\\(".concat(Oi,",").concat(Oi,",").concat(Oi,",").concat(Fi,"\\)$")),Hi=new RegExp("^hsl\\(".concat(Fi,",").concat(Oi,",").concat(Oi,"\\)$")),Vi=new RegExp("^hsla\\(".concat(Fi,",").concat(Oi,",").concat(Oi,",").concat(Fi,"\\)$")),Gi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function qi(){return this.rgb().formatHex()}function Xi(){return this.rgb().formatRgb()}function Yi(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Bi.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Ki(e):3===n?new Ji(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Qi(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Qi(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=ji.exec(t))?new Ji(e[1],e[2],e[3],1):(e=Wi.exec(t))?new Ji(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=zi.exec(t))?Qi(e[1],e[2],e[3],e[4]):(e=Ui.exec(t))?Qi(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Hi.exec(t))?rr(e[1],e[2]/100,e[3]/100,1):(e=Vi.exec(t))?rr(e[1],e[2]/100,e[3]/100,e[4]):Gi.hasOwnProperty(t)?Ki(Gi[t]):"transparent"===t?new Ji(NaN,NaN,NaN,0):null}function Ki(t){return new Ji(t>>16&255,t>>8&255,255&t,1)}function Qi(t,e,n,i){return i<=0&&(t=e=n=NaN),new Ji(t,e,n,i)}function $i(t,e,n,i){return 1===arguments.length?((r=t)instanceof Di||(r=Yi(r)),r?new Ji((r=r.rgb()).r,r.g,r.b,r.opacity):new Ji):new Ji(t,e,n,null==i?1:i);var r}function Ji(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function Zi(){return"#".concat(ir(this.r)).concat(ir(this.g)).concat(ir(this.b))}function tr(){const t=er(this.opacity);return"".concat(1===t?"rgb(":"rgba(").concat(nr(this.r),", ").concat(nr(this.g),", ").concat(nr(this.b)).concat(1===t?")":", ".concat(t,")"))}function er(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function nr(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ir(t){return((t=nr(t))<16?"0":"")+t.toString(16)}function rr(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new sr(t,e,n,i)}function ar(t){if(t instanceof sr)return new sr(t.h,t.s,t.l,t.opacity);if(t instanceof Di||(t=Yi(t)),!t)return new sr;if(t instanceof sr)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),a=Math.max(e,n,i),s=NaN,o=a-r,l=(a+r)/2;return o?(s=e===a?(n-i)/o+6*(n<i):n===a?(i-e)/o+2:(e-n)/o+4,o/=l<.5?a+r:2-a-r,s*=60):o=l>0&&l<1?0:s,new sr(s,o,l,t.opacity)}function sr(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function or(t){return(t=(t||0)%360)<0?t+360:t}function lr(t){return Math.max(0,Math.min(1,t||0))}function cr(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function ur(t,e,n,i,r){var a=t*t,s=a*t;return((1-3*t+3*a-s)*e+(4-6*a+3*s)*n+(1+3*t+3*a-3*s)*i+s*r)/6}Pi(Di,Yi,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:qi,formatHex:qi,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return ar(this).formatHsl()},formatRgb:Xi,toString:Xi}),Pi(Ji,$i,Ri(Di,{brighter(t){return t=null==t?Li:Math.pow(Li,t),new Ji(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?Ni:Math.pow(Ni,t),new Ji(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ji(nr(this.r),nr(this.g),nr(this.b),er(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Zi,formatHex:Zi,formatHex8:function(){return"#".concat(ir(this.r)).concat(ir(this.g)).concat(ir(this.b)).concat(ir(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:tr,toString:tr})),Pi(sr,(function(t,e,n,i){return 1===arguments.length?ar(t):new sr(t,e,n,null==i?1:i)}),Ri(Di,{brighter(t){return t=null==t?Li:Math.pow(Li,t),new sr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?Ni:Math.pow(Ni,t),new sr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new Ji(cr(t>=240?t-240:t+120,r,i),cr(t,r,i),cr(t<120?t+240:t-120,r,i),this.opacity)},clamp(){return new sr(or(this.h),lr(this.s),lr(this.l),er(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=er(this.opacity);return"".concat(1===t?"hsl(":"hsla(").concat(or(this.h),", ").concat(100*lr(this.s),"%, ").concat(100*lr(this.l),"%").concat(1===t?")":", ".concat(t,")"))}}));const hr=t=>()=>t;function dr(t,e){return function(n){return t+n*e}}function fr(t){return 1===(t=+t)?pr:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}(e,n,t):hr(isNaN(e)?n:e)}}function pr(t,e){var n=e-t;return n?dr(t,n):hr(isNaN(t)?e:t)}const gr=function t(e){var n=fr(e);function i(t,e){var i=n((t=$i(t)).r,(e=$i(e)).r),r=n(t.g,e.g),a=n(t.b,e.b),s=pr(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=r(e),t.b=a(e),t.opacity=s(e),t+""}}return i.gamma=t,i}(1);function mr(t){return function(e){var n,i,r=e.length,a=new Array(r),s=new Array(r),o=new Array(r);for(n=0;n<r;++n)i=$i(e[n]),a[n]=i.r||0,s[n]=i.g||0,o[n]=i.b||0;return a=t(a),s=t(s),o=t(o),i.opacity=1,function(t){return i.r=a(t),i.g=s(t),i.b=o(t),i+""}}}mr((function(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),r=t[i],a=t[i+1],s=i>0?t[i-1]:2*r-a,o=i<e-1?t[i+2]:2*a-r;return ur((n-i/e)*e,s,r,a,o)}})),mr((function(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e),r=t[(i+e-1)%e],a=t[i%e],s=t[(i+1)%e],o=t[(i+2)%e];return ur((n-i/e)*e,r,a,s,o)}}));var vr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yr=new RegExp(vr.source,"g");function br(t,e){var n,i,r,a=vr.lastIndex=yr.lastIndex=0,s=-1,o=[],l=[];for(t+="",e+="";(n=vr.exec(t))&&(i=yr.exec(e));)(r=i.index)>a&&(r=e.slice(a,r),o[s]?o[s]+=r:o[++s]=r),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:bi(n,i)})),a=yr.lastIndex;return a<e.length&&(r=e.slice(a),o[s]?o[s]+=r:o[++s]=r),o.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,i=0;i<e;++i)o[(n=l[i]).i]=n.x(t);return o.join("")})}function wr(t,e){var n;return("number"===typeof e?bi:e instanceof Yi?gr:(n=Yi(e))?(e=n,gr):br)(t,e)}function xr(t){return function(){this.removeAttribute(t)}}function _r(t){return function(){this.removeAttributeNS(t.space,t.local)}}function kr(t,e,n){var i,r,a=n+"";return function(){var s=this.getAttribute(t);return s===a?null:s===i?r:r=e(i=s,n)}}function Sr(t,e,n){var i,r,a=n+"";return function(){var s=this.getAttributeNS(t.space,t.local);return s===a?null:s===i?r:r=e(i=s,n)}}function Ar(t,e,n){var i,r,a;return function(){var s,o,l=n(this);if(null!=l)return(s=this.getAttribute(t))===(o=l+"")?null:s===i&&o===r?a:(r=o,a=e(i=s,l));this.removeAttribute(t)}}function Er(t,e,n){var i,r,a;return function(){var s,o,l=n(this);if(null!=l)return(s=this.getAttributeNS(t.space,t.local))===(o=l+"")?null:s===i&&o===r?a:(r=o,a=e(i=s,l));this.removeAttributeNS(t.space,t.local)}}function Cr(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}(t,r)),n}return r._value=e,r}function Mr(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&function(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}(t,r)),n}return r._value=e,r}function Tr(t,e){return function(){mi(this,t).delay=+e.apply(this,arguments)}}function Pr(t,e){return e=+e,function(){mi(this,t).delay=e}}function Rr(t,e){return function(){vi(this,t).duration=+e.apply(this,arguments)}}function Dr(t,e){return e=+e,function(){vi(this,t).duration=e}}var Nr=Un.prototype.constructor;function Lr(t){return function(){this.style.removeProperty(t)}}var Ir=0;function Fr(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function Or(){return++Ir}var Br=Un.prototype;Fr.prototype=function(t){return Un().transition(t)}.prototype={constructor:Fr,select:function(t){var e=this._name,n=this._id;"function"!==typeof t&&(t=Pe(t));for(var i=this._groups,r=i.length,a=new Array(r),s=0;s<r;++s)for(var o,l,c=i[s],u=c.length,h=a[s]=new Array(u),d=0;d<u;++d)(o=c[d])&&(l=t.call(o,o.__data__,d,c))&&("__data__"in o&&(l.__data__=o.__data__),h[d]=l,gi(h[d],e,n,d,h,yi(o,n)));return new Fr(a,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!==typeof t&&(t=Ne(t));for(var i=this._groups,r=i.length,a=[],s=[],o=0;o<r;++o)for(var l,c=i[o],u=c.length,h=0;h<u;++h)if(l=c[h]){for(var d,f=t.call(l,l.__data__,h,c),p=yi(l,n),g=0,m=f.length;g<m;++g)(d=f[g])&&gi(d,e,n,g,f,p);a.push(f),s.push(l)}return new Fr(a,s,e,n)},selectChild:Br.selectChild,selectChildren:Br.selectChildren,filter:function(t){"function"!==typeof t&&(t=Le(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var a,s=e[r],o=s.length,l=i[r]=[],c=0;c<o;++c)(a=s[c])&&t.call(a,a.__data__,c,s)&&l.push(a);return new Fr(i,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=n.length,a=Math.min(i,r),s=new Array(i),o=0;o<a;++o)for(var l,c=e[o],u=n[o],h=c.length,d=s[o]=new Array(h),f=0;f<h;++f)(l=c[f]||u[f])&&(d[f]=l);for(;o<i;++o)s[o]=e[o];return new Fr(s,this._parents,this._name,this._id)},selection:function(){return new Nr(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Or(),i=this._groups,r=i.length,a=0;a<r;++a)for(var s,o=i[a],l=o.length,c=0;c<l;++c)if(s=o[c]){var u=yi(s,e);gi(s,t,n,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Fr(i,this._parents,t,n)},call:Br.call,nodes:Br.nodes,node:Br.node,size:Br.size,empty:Br.empty,each:Br.each,on:function(t,e){var n=this._id;return arguments.length<2?yi(this.node(),n).on.on(t):this.each(function(t,e,n){var i,r,a=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?mi:vi;return function(){var s=a(this,t),o=s.on;o!==i&&(r=(i=o).copy()).on(e,n),s.on=r}}(n,t,e))},attr:function(t,e){var n=Ke(t),i="transform"===n?Ei:wr;return this.attrTween(t,"function"===typeof e?(n.local?Er:Ar)(n,i,Ti(this,"attr."+t,e)):null==e?(n.local?_r:xr)(n):(n.local?Sr:kr)(n,i,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!==typeof e)throw new Error;var i=Ke(t);return this.tween(n,(i.local?Cr:Mr)(i,e))},style:function(t,e,n){var i="transform"===(t+="")?Ai:wr;return null==e?this.styleTween(t,function(t,e){var n,i,r;return function(){var a=on(this,t),s=(this.style.removeProperty(t),on(this,t));return a===s?null:a===n&&s===i?r:r=e(n=a,i=s)}}(t,i)).on("end.style."+t,Lr(t)):"function"===typeof e?this.styleTween(t,function(t,e,n){var i,r,a;return function(){var s=on(this,t),o=n(this),l=o+"";return null==o&&(this.style.removeProperty(t),l=o=on(this,t)),s===l?null:s===i&&l===r?a:(r=l,a=e(i=s,o))}}(t,i,Ti(this,"style."+t,e))).each(function(t,e){var n,i,r,a,s="style."+e,o="end."+s;return function(){var l=vi(this,t),c=l.on,u=null==l.value[s]?a||(a=Lr(e)):void 0;c===n&&r===u||(i=(n=c).copy()).on(o,r=u),l.on=i}}(this._id,t)):this.styleTween(t,function(t,e,n){var i,r,a=n+"";return function(){var s=on(this,t);return s===a?null:s===i?r:r=e(i=s,n)}}(t,i,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!==typeof e)throw new Error;return this.tween(i,function(t,e,n){var i,r;function a(){var a=e.apply(this,arguments);return a!==r&&(i=(r=a)&&function(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}(t,a,n)),i}return a._value=e,a}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"===typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Ti(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!==typeof t)throw new Error;return this.tween(e,function(t){var e,n;function i(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&function(t){return function(e){this.textContent=t.call(this,e)}}(i)),e}return i._value=t,i}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i,r=yi(this.node(),n).tween,a=0,s=r.length;a<s;++a)if((i=r[a]).name===t)return i.value;return null}return this.each((null==e?Ci:Mi)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"===typeof t?Tr:Pr)(e,t)):yi(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"===typeof t?Rr:Dr)(e,t)):yi(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!==typeof e)throw new Error;return function(){vi(this,t).ease=e}}(e,t)):yi(this.node(),e).ease},easeVarying:function(t){if("function"!==typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!==typeof n)throw new Error;vi(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,i=n._id,r=n.size();return new Promise((function(a,s){var o={value:s},l={value:function(){0===--r&&a()}};n.each((function(){var n=vi(this,i),r=n.on;r!==t&&((e=(t=r).copy())._.cancel.push(o),e._.interrupt.push(o),e._.end.push(l)),n.on=e})),0===r&&a()}))},[Symbol.iterator]:Br[Symbol.iterator]};var jr={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Wr(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error("transition ".concat(e," not found"));return n}Un.prototype.interrupt=function(t){return this.each((function(){!function(t,e){var n,i,r,a=t.__transition,s=!0;if(a){for(r in e=null==e?null:e+"",a)(n=a[r]).name===e?(i=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(i?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete a[r]):s=!1;s&&delete t.__transition}}(this,t)}))},Un.prototype.transition=function(t){var e,n;t instanceof Fr?(e=t._id,t=t._name):(e=Or(),(n=jr).time=ai(),t=null==t?null:t+"");for(var i=this._groups,r=i.length,a=0;a<r;++a)for(var s,o=i[a],l=o.length,c=0;c<l;++c)(s=o[c])&&gi(s,t,e,c,o,n||Wr(s,e));return new Fr(i,this._parents,t,e)};const{abs:zr,max:Ur,min:Hr}=Math;function Vr(t){return[+t[0],+t[1]]}function Gr(t){return[Vr(t[0]),Vr(t[1])]}["w","e"].map(qr),["n","s"].map(qr),["n","w","e","s","nw","ne","sw","se"].map(qr);function qr(t){return{type:t}}function Xr(t){return"string"===typeof t?new Wn([[document.querySelector(t)]],[document.documentElement]):new Wn([[t]],jn)}function Yr(t,e){if(t=function(t){let e;for(;e=t.sourceEvent;)t=e;return t}(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,[(i=i.matrixTransform(e.getScreenCTM().inverse())).x,i.y]}if(e.getBoundingClientRect){var r=e.getBoundingClientRect();return[t.clientX-r.left-e.clientLeft,t.clientY-r.top-e.clientTop]}}return[t.pageX,t.pageY]}const Kr={passive:!1},Qr={capture:!0,passive:!1};function $r(t){t.stopImmediatePropagation()}function Jr(t){t.preventDefault(),t.stopImmediatePropagation()}const Zr=t=>()=>t;function ta(t,e){let{sourceEvent:n,subject:i,target:r,identifier:a,active:s,x:o,y:l,dx:c,dy:u,dispatch:h}=e;Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:i,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:h}})}function ea(t){return!t.ctrlKey&&!t.button}function na(){return this.parentNode}function ia(t,e){return null==e?{x:t.x,y:t.y}:e}function ra(){return navigator.maxTouchPoints||"ontouchstart"in this}function aa(){var t,e,n,i,r=ea,a=na,s=ia,o=ra,l={},c=Yn("start","drag","end"),u=0,h=0;function d(t){t.on("mousedown.drag",f).filter(o).on("touchstart.drag",m).on("touchmove.drag",v,Kr).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(s,o){if(!i&&r.call(this,s,o)){var l=b(this,a.call(this,s,o),s,o,"mouse");l&&(Xr(s.view).on("mousemove.drag",p,Qr).on("mouseup.drag",g,Qr),function(t){var e=t.document.documentElement,n=Xr(t).on("dragstart.drag",Jr,Qr);"onselectstart"in e?n.on("selectstart.drag",Jr,Qr):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}(s.view),$r(s),n=!1,t=s.clientX,e=s.clientY,l("start",s))}}function p(i){if(Jr(i),!n){var r=i.clientX-t,a=i.clientY-e;n=r*r+a*a>h}l.mouse("drag",i)}function g(t){Xr(t.view).on("mousemove.drag mouseup.drag",null),function(t,e){var n=t.document.documentElement,i=Xr(t).on("dragstart.drag",null);e&&(i.on("click.drag",Jr,Qr),setTimeout((function(){i.on("click.drag",null)}),0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}(t.view,n),Jr(t),l.mouse("end",t)}function m(t,e){if(r.call(this,t,e)){var n,i,s=t.changedTouches,o=a.call(this,t,e),l=s.length;for(n=0;n<l;++n)(i=b(this,o,t,e,s[n].identifier,s[n]))&&($r(t),i("start",t,s[n]))}}function v(t){var e,n,i=t.changedTouches,r=i.length;for(e=0;e<r;++e)(n=l[i[e].identifier])&&(Jr(t),n("drag",t,i[e]))}function y(t){var e,n,r=t.changedTouches,a=r.length;for(i&&clearTimeout(i),i=setTimeout((function(){i=null}),500),e=0;e<a;++e)(n=l[r[e].identifier])&&($r(t),n("end",t,r[e]))}function b(t,e,n,i,r,a){var o,h,f,p=c.copy(),g=Yr(a||n,e);if(null!=(f=s.call(t,new ta("beforestart",{sourceEvent:n,target:d,identifier:r,active:u,x:g[0],y:g[1],dx:0,dy:0,dispatch:p}),i)))return o=f.x-g[0]||0,h=f.y-g[1]||0,function n(a,s,c){var m,v=g;switch(a){case"start":l[r]=n,m=u++;break;case"end":delete l[r],--u;case"drag":g=Yr(c||s,e),m=u}p.call(a,t,new ta(a,{sourceEvent:s,subject:f,target:d,identifier:r,active:m,x:g[0]+o,y:g[1]+h,dx:g[0]-v[0],dy:g[1]-v[1],dispatch:p}),i)}}return d.filter=function(t){return arguments.length?(r="function"===typeof t?t:Zr(!!t),d):r},d.container=function(t){return arguments.length?(a="function"===typeof t?t:Zr(t),d):a},d.subject=function(t){return arguments.length?(s="function"===typeof t?t:Zr(t),d):s},d.touchable=function(t){return arguments.length?(o="function"===typeof t?t:Zr(!!t),d):o},d.on=function(){var t=c.on.apply(c,arguments);return t===c?d:t},d.clickDistance=function(t){return arguments.length?(h=(t=+t)*t,d):Math.sqrt(h)},d}function sa(t,e){var n,i=1;function r(){var r,a,s=n.length,o=0,l=0;for(r=0;r<s;++r)o+=(a=n[r]).x,l+=a.y;for(o=(o/s-t)*i,l=(l/s-e)*i,r=0;r<s;++r)(a=n[r]).x-=o,a.y-=l}return null==t&&(t=0),null==e&&(e=0),r.initialize=function(t){n=t},r.x=function(e){return arguments.length?(t=+e,r):t},r.y=function(t){return arguments.length?(e=+t,r):e},r.strength=function(t){return arguments.length?(i=+t,r):i},r}function oa(t,e,n,i){if(isNaN(e)||isNaN(n))return t;var r,a,s,o,l,c,u,h,d,f=t._root,p={data:i},g=t._x0,m=t._y0,v=t._x1,y=t._y1;if(!f)return t._root=p,t;for(;f.length;)if((c=e>=(a=(g+v)/2))?g=a:v=a,(u=n>=(s=(m+y)/2))?m=s:y=s,r=f,!(f=f[h=u<<1|c]))return r[h]=p,t;if(o=+t._x.call(null,f.data),l=+t._y.call(null,f.data),e===o&&n===l)return p.next=f,r?r[h]=p:t._root=p,t;do{r=r?r[h]=new Array(4):t._root=new Array(4),(c=e>=(a=(g+v)/2))?g=a:v=a,(u=n>=(s=(m+y)/2))?m=s:y=s}while((h=u<<1|c)===(d=(l>=s)<<1|o>=a));return r[d]=f,r[h]=p,t}function la(t,e,n,i,r){this.node=t,this.x0=e,this.y0=n,this.x1=i,this.y1=r}function ca(t){return t[0]}function ua(t){return t[1]}function ha(t,e,n){var i=new da(null==e?ca:e,null==n?ua:n,NaN,NaN,NaN,NaN);return null==t?i:i.addAll(t)}function da(t,e,n,i,r,a){this._x=t,this._y=e,this._x0=n,this._y0=i,this._x1=r,this._y1=a,this._root=void 0}function fa(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}ta.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var pa=ha.prototype=da.prototype;function ga(t){return function(){return t}}function ma(t){return 1e-6*(t()-.5)}function va(t){return t.x+t.vx}function ya(t){return t.y+t.vy}function ba(t){return t.index}function wa(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}pa.copy=function(){var t,e,n=new da(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return n;if(!i.length)return n._root=fa(i),n;for(t=[{source:i,target:n._root=new Array(4)}];i=t.pop();)for(var r=0;r<4;++r)(e=i.source[r])&&(e.length?t.push({source:e,target:i.target[r]=new Array(4)}):i.target[r]=fa(e));return n},pa.add=function(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return oa(this.cover(e,n),e,n,t)},pa.addAll=function(t){var e,n,i,r,a=t.length,s=new Array(a),o=new Array(a),l=1/0,c=1/0,u=-1/0,h=-1/0;for(n=0;n<a;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(r=+this._y.call(null,e))||(s[n]=i,o[n]=r,i<l&&(l=i),i>u&&(u=i),r<c&&(c=r),r>h&&(h=r));if(l>u||c>h)return this;for(this.cover(l,c).cover(u,h),n=0;n<a;++n)oa(this,s[n],o[n],t[n]);return this},pa.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,i=this._y0,r=this._x1,a=this._y1;if(isNaN(n))r=(n=Math.floor(t))+1,a=(i=Math.floor(e))+1;else{for(var s,o,l=r-n||1,c=this._root;n>t||t>=r||i>e||e>=a;)switch(o=(e<i)<<1|t<n,(s=new Array(4))[o]=c,c=s,l*=2,o){case 0:r=n+l,a=i+l;break;case 1:n=r-l,a=i+l;break;case 2:r=n+l,i=a-l;break;case 3:n=r-l,i=a-l}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=i,this._x1=r,this._y1=a,this},pa.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},pa.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},pa.find=function(t,e,n){var i,r,a,s,o,l,c,u=this._x0,h=this._y0,d=this._x1,f=this._y1,p=[],g=this._root;for(g&&p.push(new la(g,u,h,d,f)),null==n?n=1/0:(u=t-n,h=e-n,d=t+n,f=e+n,n*=n);l=p.pop();)if(!(!(g=l.node)||(r=l.x0)>d||(a=l.y0)>f||(s=l.x1)<u||(o=l.y1)<h))if(g.length){var m=(r+s)/2,v=(a+o)/2;p.push(new la(g[3],m,v,s,o),new la(g[2],r,v,m,o),new la(g[1],m,a,s,v),new la(g[0],r,a,m,v)),(c=(e>=v)<<1|t>=m)&&(l=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=l)}else{var y=t-+this._x.call(null,g.data),b=e-+this._y.call(null,g.data),w=y*y+b*b;if(w<n){var x=Math.sqrt(n=w);u=t-x,h=e-x,d=t+x,f=e+x,i=g.data}}return i},pa.remove=function(t){if(isNaN(a=+this._x.call(null,t))||isNaN(s=+this._y.call(null,t)))return this;var e,n,i,r,a,s,o,l,c,u,h,d,f=this._root,p=this._x0,g=this._y0,m=this._x1,v=this._y1;if(!f)return this;if(f.length)for(;;){if((c=a>=(o=(p+m)/2))?p=o:m=o,(u=s>=(l=(g+v)/2))?g=l:v=l,e=f,!(f=f[h=u<<1|c]))return this;if(!f.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,d=h)}for(;f.data!==t;)if(i=f,!(f=f.next))return this;return(r=f.next)&&delete f.next,i?(r?i.next=r:delete i.next,this):e?(r?e[h]=r:delete e[h],(f=e[0]||e[1]||e[2]||e[3])&&f===(e[3]||e[2]||e[1]||e[0])&&!f.length&&(n?n[d]=f:this._root=f),this):(this._root=r,this)},pa.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},pa.root=function(){return this._root},pa.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},pa.visit=function(t){var e,n,i,r,a,s,o=[],l=this._root;for(l&&o.push(new la(l,this._x0,this._y0,this._x1,this._y1));e=o.pop();)if(!t(l=e.node,i=e.x0,r=e.y0,a=e.x1,s=e.y1)&&l.length){var c=(i+a)/2,u=(r+s)/2;(n=l[3])&&o.push(new la(n,c,u,a,s)),(n=l[2])&&o.push(new la(n,i,u,c,s)),(n=l[1])&&o.push(new la(n,c,r,a,u)),(n=l[0])&&o.push(new la(n,i,r,c,u))}return this},pa.visitAfter=function(t){var e,n=[],i=[];for(this._root&&n.push(new la(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var r=e.node;if(r.length){var a,s=e.x0,o=e.y0,l=e.x1,c=e.y1,u=(s+l)/2,h=(o+c)/2;(a=r[0])&&n.push(new la(a,s,o,u,h)),(a=r[1])&&n.push(new la(a,u,o,l,h)),(a=r[2])&&n.push(new la(a,s,h,u,c)),(a=r[3])&&n.push(new la(a,u,h,l,c))}i.push(e)}for(;e=i.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},pa.x=function(t){return arguments.length?(this._x=t,this):this._x},pa.y=function(t){return arguments.length?(this._y=t,this):this._y};const xa=4294967296;function _a(t){return t.x}function ka(t){return t.y}var Sa=Math.PI*(3-Math.sqrt(5));function Aa(t){var e,n=1,i=.001,r=1-Math.pow(i,1/300),a=0,s=.6,o=new Map,l=li(h),c=Yn("tick","end"),u=function(){let t=1;return()=>(t=(1664525*t+1013904223)%xa)/xa}();function h(){d(),c.call("tick",e),n<i&&(l.stop(),c.call("end",e))}function d(i){var l,c,u=t.length;void 0===i&&(i=1);for(var h=0;h<i;++h)for(n+=(a-n)*r,o.forEach((function(t){t(n)})),l=0;l<u;++l)null==(c=t[l]).fx?c.x+=c.vx*=s:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=s:(c.y=c.fy,c.vy=0);return e}function f(){for(var e,n=0,i=t.length;n<i;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var r=10*Math.sqrt(.5+n),a=n*Sa;e.x=r*Math.cos(a),e.y=r*Math.sin(a)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function p(e){return e.initialize&&e.initialize(t,u),e}return null==t&&(t=[]),f(),e={tick:d,restart:function(){return l.restart(h),e},stop:function(){return l.stop(),e},nodes:function(n){return arguments.length?(t=n,f(),o.forEach(p),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(i=+t,e):i},alphaDecay:function(t){return arguments.length?(r=+t,e):+r},alphaTarget:function(t){return arguments.length?(a=+t,e):a},velocityDecay:function(t){return arguments.length?(s=1-t,e):1-s},randomSource:function(t){return arguments.length?(u=t,o.forEach(p),e):u},force:function(t,n){return arguments.length>1?(null==n?o.delete(t):o.set(t,p(n)),e):o.get(t)},find:function(e,n,i){var r,a,s,o,l,c=0,u=t.length;for(null==i?i=1/0:i*=i,c=0;c<u;++c)(s=(r=e-(o=t[c]).x)*r+(a=n-o.y)*a)<i&&(l=o,i=s);return l},on:function(t,n){return arguments.length>1?(c.on(t,n),e):c.on(t)}}}const Ea=Math.sqrt(50),Ca=Math.sqrt(10),Ma=Math.sqrt(2);function Ta(t,e,n){const i=(e-t)/Math.max(0,n),r=Math.floor(Math.log10(i)),a=i/Math.pow(10,r),s=a>=Ea?10:a>=Ca?5:a>=Ma?2:1;let o,l,c;return r<0?(c=Math.pow(10,-r)/s,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,r)*s,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=n&&n<2?Ta(t,e,2*n):[o,l,c]}function Pa(t,e,n){return Ta(t=+t,e=+e,n=+n)[2]}var Ra,Da=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Na(t){if(!(e=Da.exec(t)))throw new Error("invalid format: "+t);var e;return new La({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function La(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Ia(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function Fa(t){return(t=Ia(Math.abs(t)))?t[1]:NaN}function Oa(t,e){var n=Ia(t,e);if(!n)return t+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}Na.prototype=La.prototype,La.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Ba={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Oa(100*t,e),r:Oa,s:function(t,e){var n=Ia(t,e);if(!n)return t+"";var i=n[0],r=n[1],a=r-(Ra=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,s=i.length;return a===s?i:a>s?i+new Array(a-s+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+Ia(t,Math.max(0,e+a-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function ja(t){return t}var Wa,za,Ua,Ha=Array.prototype.map,Va=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Ga(t){var e,n,i=void 0===t.grouping||void 0===t.thousands?ja:(e=Ha.call(t.grouping,Number),n=t.thousands+"",function(t,i){for(var r=t.length,a=[],s=0,o=e[0],l=0;r>0&&o>0&&(l+o+1>i&&(o=Math.max(1,i-l)),a.push(t.substring(r-=o,r+o)),!((l+=o+1)>i));)o=e[s=(s+1)%e.length];return a.reverse().join(n)}),r=void 0===t.currency?"":t.currency[0]+"",a=void 0===t.currency?"":t.currency[1]+"",s=void 0===t.decimal?".":t.decimal+"",o=void 0===t.numerals?ja:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(Ha.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"\u2212":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=Na(t)).fill,n=t.align,h=t.sign,d=t.symbol,f=t.zero,p=t.width,g=t.comma,m=t.precision,v=t.trim,y=t.type;"n"===y?(g=!0,y="g"):Ba[y]||(void 0===m&&(m=12),v=!0,y="g"),(f||"0"===e&&"="===n)&&(f=!0,e="0",n="=");var b="$"===d?r:"#"===d&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",w="$"===d?a:/[%p]/.test(y)?l:"",x=Ba[y],_=/[defgprs%]/.test(y);function k(t){var r,a,l,d=b,k=w;if("c"===y)k=x(t)+k,t="";else{var S=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:x(Math.abs(t),m),v&&(t=function(t){t:for(var e,n=t.length,i=1,r=-1;i<n;++i)switch(t[i]){case".":r=e=i;break;case"0":0===r&&(r=i),e=i;break;default:if(!+t[i])break t;r>0&&(r=0)}return r>0?t.slice(0,r)+t.slice(e+1):t}(t)),S&&0===+t&&"+"!==h&&(S=!1),d=(S?"("===h?h:c:"-"===h||"("===h?"":h)+d,k=("s"===y?Va[8+Ra/3]:"")+k+(S&&"("===h?")":""),_)for(r=-1,a=t.length;++r<a;)if(48>(l=t.charCodeAt(r))||l>57){k=(46===l?s+t.slice(r+1):t.slice(r))+k,t=t.slice(0,r);break}}g&&!f&&(t=i(t,1/0));var A=d.length+t.length+k.length,E=A<p?new Array(p-A+1).join(e):"";switch(g&&f&&(t=i(E+t,E.length?p-k.length:1/0),E=""),n){case"<":t=d+t+k+E;break;case"=":t=d+E+t+k;break;case"^":t=E.slice(0,A=E.length>>1)+d+t+k+E.slice(A);break;default:t=E+d+t+k}return o(t)}return m=void 0===m?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),k.toString=function(){return t+""},k}return{format:h,formatPrefix:function(t,e){var n=h(((t=Na(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(Fa(e)/3))),r=Math.pow(10,-i),a=Va[8+i/3];return function(t){return n(r*t)+a}}}}function qa(t,e,n,i){var r,a=function(t,e,n){n=+n;const i=(e=+e)<(t=+t),r=i?Pa(e,t,n):Pa(t,e,n);return(i?-1:1)*(r<0?1/-r:r)}(t,e,n);switch((i=Na(null==i?",f":i)).type){case"s":var s=Math.max(Math.abs(t),Math.abs(e));return null!=i.precision||isNaN(r=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Fa(e)/3)))-Fa(Math.abs(t)))}(a,s))||(i.precision=r),Ua(i,s);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(r=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Fa(e)-Fa(t))+1}(a,Math.max(Math.abs(t),Math.abs(e))))||(i.precision=r-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(r=function(t){return Math.max(0,-Fa(Math.abs(t)))}(a))||(i.precision=r-2*("%"===i.type))}return za(i)}function Xa(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){if(!((n=+n)>0))return[];if((t=+t)===(e=+e))return[t];const i=e<t,[r,a,s]=i?Ta(e,t,n):Ta(t,e,n);if(!(a>=r))return[];const o=a-r+1,l=new Array(o);if(i)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(r+c)/-s;else for(let c=0;c<o;++c)l[c]=(r+c)*s;return l}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var i=e();return qa(i[0],i[i.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var i,r,a=e(),s=0,o=a.length-1,l=a[s],c=a[o],u=10;for(c<l&&(r=l,l=c,c=r,r=s,s=o,o=r);u-- >0;){if((r=Pa(l,c,n))===i)return a[s]=l,a[o]=c,e(a);if(r>0)l=Math.floor(l/r)*r,c=Math.ceil(c/r)*r;else{if(!(r<0))break;l=Math.ceil(l*r)/r,c=Math.floor(c*r)/r}i=r}return t},t}function Ya(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ka(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Qa(t){let e,n,i;function r(t,i){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length;if(r<a){if(0!==e(i,i))return a;do{const e=r+a>>>1;n(t[e],i)<0?r=e+1:a=e}while(r<a)}return r}return 2!==t.length?(e=Ya,n=(e,n)=>Ya(t(e),n),i=(e,n)=>t(e)-n):(e=t===Ya||t===Ka?t:$a,n=t,i=t),{left:r,center:function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const a=r(t,e,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length)-1);return a>n&&i(t[a-1],e)>-i(t[a],e)?a-1:a},right:function(t,i){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length;if(r<a){if(0!==e(i,i))return a;do{const e=r+a>>>1;n(t[e],i)<=0?r=e+1:a=e}while(r<a)}return r}}}function $a(){return 0}Wa=Ga({thousands:",",grouping:[3],currency:["$",""]}),za=Wa.format,Ua=Wa.formatPrefix;const Ja=Qa(Ya),Za=Ja.right,ts=(Ja.left,Qa((function(t){return null===t?NaN:+t})).center,Za);function es(t,e){var n,i=e?e.length:0,r=t?Math.min(i,t.length):0,a=new Array(r),s=new Array(i);for(n=0;n<r;++n)a[n]=as(t[n],e[n]);for(;n<i;++n)s[n]=e[n];return function(t){for(n=0;n<r;++n)s[n]=a[n](t);return s}}function ns(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}}function is(t,e){var n,i={},r={};for(n in null!==t&&"object"===typeof t||(t={}),null!==e&&"object"===typeof e||(e={}),e)n in t?i[n]=as(t[n],e[n]):r[n]=e[n];return function(t){for(n in i)r[n]=i[n](t);return r}}function rs(t,e){e||(e=[]);var n,i=t?Math.min(e.length,t.length):0,r=e.slice();return function(a){for(n=0;n<i;++n)r[n]=t[n]*(1-a)+e[n]*a;return r}}function as(t,e){var n,i=typeof e;return null==e||"boolean"===i?hr(e):("number"===i?bi:"string"===i?(n=Yi(e))?(e=n,gr):br:e instanceof Yi?gr:e instanceof Date?ns:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?rs:Array.isArray(e)?es:"function"!==typeof e.valueOf&&"function"!==typeof e.toString||isNaN(e)?is:bi)(t,e)}function ss(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function os(t){return+t}var ls=[0,1];function cs(t){return t}function us(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function hs(t,e,n){var i=t[0],r=t[1],a=e[0],s=e[1];return r<i?(i=us(r,i),a=n(s,a)):(i=us(i,r),a=n(a,s)),function(t){return a(i(t))}}function ds(t,e,n){var i=Math.min(t.length,e.length)-1,r=new Array(i),a=new Array(i),s=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<i;)r[s]=us(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(e){var n=ts(t,e,1,i)-1;return a[n](r[n](e))}}function fs(){var t,e,n,i,r,a,s=ls,o=ls,l=as,c=cs;function u(){var t=Math.min(s.length,o.length);return c!==cs&&(c=function(t,e){var n;return t>e&&(n=t,t=e,e=n),function(n){return Math.max(t,Math.min(e,n))}}(s[0],s[t-1])),i=t>2?ds:hs,r=a=null,h}function h(e){return null==e||isNaN(e=+e)?n:(r||(r=i(s.map(t),o,l)))(t(c(e)))}return h.invert=function(n){return c(e((a||(a=i(o,s.map(t),bi)))(n)))},h.domain=function(t){return arguments.length?(s=Array.from(t,os),u()):s.slice()},h.range=function(t){return arguments.length?(o=Array.from(t),u()):o.slice()},h.rangeRound=function(t){return o=Array.from(t),l=ss,u()},h.clamp=function(t){return arguments.length?(c=!!t||cs,u()):c!==cs},h.interpolate=function(t){return arguments.length?(l=t,u()):l},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,i){return t=n,e=i,u()}}function ps(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function gs(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function ms(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function vs(t){return t<0?-t*t:t*t}function ys(t){var e=t(cs,cs),n=1;return e.exponent=function(e){return arguments.length?1===(n=+e)?t(cs,cs):.5===n?t(ms,vs):t(gs(n),gs(1/n)):n},Xa(e)}function bs(){var t=ys(fs());return t.copy=function(){return(e=t,n=bs(),n.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())).exponent(t.exponent());var e,n},ps.apply(t,arguments),t}function ws(t){return"string"===typeof t?new Wn([document.querySelectorAll(t)],[document.documentElement]):new Wn([Re(t)],jn)}function xs(t,e,n){this.k=t,this.x=e,this.y=n}xs.prototype={constructor:xs,scale:function(t){return 1===t?this:new xs(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new xs(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new xs(1,0,0);function _s(){const t=(0,r.useRef)(null),e=(0,r.useRef)(null),[n,i]=(0,r.useState)({skillNodes:[]}),[a,s]=(0,r.useState)(0),o=(0,r.useRef)(null),l=(0,r.useRef)(null),c=(0,r.useRef)(null),u=(0,r.useRef)(new Set),d=(0,r.useRef)({}),[f,p]=(0,r.useState)(new Set),[g,m]=(0,r.useState)(0),[v,y]=(0,r.useState)("category"),b=(0,r.useRef)(null),w=(0,r.useRef)(null),x=(0,r.useRef)(null),_=bs().exponent(2.2).domain([1,10]).range([8,40]),[k,S]=(0,r.useState)(!1),A="skills.hintAck",[E,C]=(0,r.useState)((()=>document.cookie.split("; ").some((t=>t.startsWith("".concat(A,"=1")))))),M=!E&&0===u.current.size;function T(t){let e=0;for(let a=0;a<t.length;a++)e=t.charCodeAt(a)+((e<<5)-e);const n=Math.abs(e)%360,i=50+Math.abs(e)%20,r=65+Math.abs(e)%10;return"hsl(".concat(n,", ").concat(i,"%, ").concat(r,"%)")}function P(t,e){return t?t.startsWith("hsl(")?t.replace(/^hsl\(/,"hsla(").replace(/\)$/,", ".concat(e,")")):t:"rgba(255,255,255,".concat(e,")")}return(0,r.useEffect)((()=>{var t;const e=window.matchMedia("(max-width: 500px)"),n=()=>S(e.matches);return n(),null===(t=e.addEventListener)||void 0===t||t.call(e,"change",n),()=>{var t;return null===(t=e.removeEventListener)||void 0===t?void 0:t.call(e,"change",n)}}),[]),(0,r.useEffect)((()=>{fetch("".concat("/hyder","/skillsData.json")).then((t=>t.json())).then((t=>{const e=t.skillNodes.map((t=>h(h({},t),{},{ringColor:T(t.id)})));i(h(h({},t),{},{skillNodes:e}))})).catch((t=>console.error("Failed to load skillsData.json:",t)))}),[]),(0,r.useEffect)((()=>{const n=()=>{if(!t.current||!e.current)return;const n=t.current.clientWidth,i=t.current.clientHeight;e.current.force("center",sa(n/2,i/2)).alpha(.5).restart()};return window.addEventListener("resize",n),n(),()=>window.removeEventListener("resize",n)}),[]),(0,r.useEffect)((()=>{let i=null,r=!1;if(!n.skillNodes.length)return;const a=Xr(t.current);a.selectAll("*").remove();const l=b.current;if(l){const e=l.getContext("2d");l.width=t.current.clientWidth,l.height=t.current.clientHeight,e.clearRect(0,0,l.width,l.height)}w.current||(w.current=document.createElement("canvas")),x.current||(x.current=document.createElement("canvas"));const f=t.current.clientWidth,p=t.current.clientHeight,g=n.skillNodes.map((t=>h(h({},t),{},{x:t.x||f/2+50*Math.random()-25,y:t.y||p/2+50*Math.random()-25,fx:null,fy:null,ringColor:T(t.id)}))),y=[];if("proficiency"===v){const t={};g.forEach((e=>{t[e.proficiency]||(t[e.proficiency]=[]),t[e.proficiency].push(e.id)})),Object.values(t).forEach((t=>{for(let e=0;e<t.length;e++)for(let n=e+1;n<t.length;n++)y.push({source:t[e],target:t[n]})}))}else if("category"===v){const t={};g.forEach((e=>{t[e.category]||(t[e.category]=[]),t[e.category].push(e.id)})),Object.values(t).forEach((t=>{for(let e=0;e<t.length;e++)for(let n=e+1;n<t.length;n++)y.push({source:t[e],target:t[n]})}))}e.current=Aa(g).alphaMin(.001).alphaDecay(.01).velocityDecay(.2).force("link",function(t){var e,n,i,r,a,s,o=ba,l=function(t){return 1/Math.min(r[t.source.index],r[t.target.index])},c=ga(30),u=1;function h(i){for(var r=0,o=t.length;r<u;++r)for(var l,c,h,d,f,p,g,m=0;m<o;++m)c=(l=t[m]).source,d=(h=l.target).x+h.vx-c.x-c.vx||ma(s),f=h.y+h.vy-c.y-c.vy||ma(s),d*=p=((p=Math.sqrt(d*d+f*f))-n[m])/p*i*e[m],f*=p,h.vx-=d*(g=a[m]),h.vy-=f*g,c.vx+=d*(g=1-g),c.vy+=f*g}function d(){if(i){var s,l,c=i.length,u=t.length,h=new Map(i.map(((t,e)=>[o(t,e,i),t])));for(s=0,r=new Array(c);s<u;++s)(l=t[s]).index=s,"object"!==typeof l.source&&(l.source=wa(h,l.source)),"object"!==typeof l.target&&(l.target=wa(h,l.target)),r[l.source.index]=(r[l.source.index]||0)+1,r[l.target.index]=(r[l.target.index]||0)+1;for(s=0,a=new Array(u);s<u;++s)l=t[s],a[s]=r[l.source.index]/(r[l.source.index]+r[l.target.index]);e=new Array(u),f(),n=new Array(u),p()}}function f(){if(i)for(var n=0,r=t.length;n<r;++n)e[n]=+l(t[n],n,t)}function p(){if(i)for(var e=0,r=t.length;e<r;++e)n[e]=+c(t[e],e,t)}return null==t&&(t=[]),h.initialize=function(t,e){i=t,s=e,d()},h.links=function(e){return arguments.length?(t=e,d(),h):t},h.id=function(t){return arguments.length?(o=t,h):o},h.iterations=function(t){return arguments.length?(u=+t,h):u},h.strength=function(t){return arguments.length?(l="function"===typeof t?t:ga(+t),f(),h):l},h.distance=function(t){return arguments.length?(c="function"===typeof t?t:ga(+t),p(),h):c},h}(y).id((t=>t.id)).distance(130).strength(.1)).force("charge",function(){var t,e,n,i,r,a=ga(-30),s=1,o=1/0,l=.81;function c(n){var r,a=t.length,s=ha(t,_a,ka).visitAfter(h);for(i=n,r=0;r<a;++r)e=t[r],s.visit(d)}function u(){if(t){var e,n,i=t.length;for(r=new Array(i),e=0;e<i;++e)n=t[e],r[n.index]=+a(n,e,t)}}function h(t){var e,n,i,a,s,o=0,l=0;if(t.length){for(i=a=s=0;s<4;++s)(e=t[s])&&(n=Math.abs(e.value))&&(o+=e.value,l+=n,i+=n*e.x,a+=n*e.y);t.x=i/l,t.y=a/l}else{(e=t).x=e.data.x,e.y=e.data.y;do{o+=r[e.data.index]}while(e=e.next)}t.value=o}function d(t,a,c,u){if(!t.value)return!0;var h=t.x-e.x,d=t.y-e.y,f=u-a,p=h*h+d*d;if(f*f/l<p)return p<o&&(0===h&&(p+=(h=ma(n))*h),0===d&&(p+=(d=ma(n))*d),p<s&&(p=Math.sqrt(s*p)),e.vx+=h*t.value*i/p,e.vy+=d*t.value*i/p),!0;if(!(t.length||p>=o)){(t.data!==e||t.next)&&(0===h&&(p+=(h=ma(n))*h),0===d&&(p+=(d=ma(n))*d),p<s&&(p=Math.sqrt(s*p)));do{t.data!==e&&(f=r[t.data.index]*i/p,e.vx+=h*f,e.vy+=d*f)}while(t=t.next)}}return c.initialize=function(e,i){t=e,n=i,u()},c.strength=function(t){return arguments.length?(a="function"===typeof t?t:ga(+t),u(),c):a},c.distanceMin=function(t){return arguments.length?(s=t*t,c):Math.sqrt(s)},c.distanceMax=function(t){return arguments.length?(o=t*t,c):Math.sqrt(o)},c.theta=function(t){return arguments.length?(l=t*t,c):Math.sqrt(l)},c}().strength(-20)).force("center",sa(f/2,p/2)).force("collide",function(t){var e,n,i,r=1,a=1;function s(){for(var t,s,l,c,u,h,d,f=e.length,p=0;p<a;++p)for(s=ha(e,va,ya).visitAfter(o),t=0;t<f;++t)l=e[t],h=n[l.index],d=h*h,c=l.x+l.vx,u=l.y+l.vy,s.visit(g);function g(t,e,n,a,s){var o=t.data,f=t.r,p=h+f;if(!o)return e>c+p||a<c-p||n>u+p||s<u-p;if(o.index>l.index){var g=c-o.x-o.vx,m=u-o.y-o.vy,v=g*g+m*m;v<p*p&&(0===g&&(v+=(g=ma(i))*g),0===m&&(v+=(m=ma(i))*m),v=(p-(v=Math.sqrt(v)))/v*r,l.vx+=(g*=v)*(p=(f*=f)/(d+f)),l.vy+=(m*=v)*p,o.vx-=g*(p=1-p),o.vy-=m*p)}}}function o(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function l(){if(e){var i,r,a=e.length;for(n=new Array(a),i=0;i<a;++i)r=e[i],n[r.index]=+t(r,i,e)}}return"function"!==typeof t&&(t=ga(null==t?1:+t)),s.initialize=function(t,n){e=t,i=n,l()},s.iterations=function(t){return arguments.length?(a=+t,s):a},s.strength=function(t){return arguments.length?(r=+t,s):r},s.radius=function(e){return arguments.length?(t="function"===typeof e?e:ga(+e),l(),s):t},s}().radius((t=>_(t.proficiency||1)+6)).strength(.5)),e.current.alphaTarget(.005).restart();const k=a.append("g"),S=k.append("g").attr("stroke","#555").attr("stroke-opacity",.4).selectAll("line").data(y).join("line"),A=k.append("g").selectAll("g").data(g).join("g").style("cursor","pointer").each((function(t){t.gElement=Xr(this)})).on("click",(function(t,e){if(r)return;const i=u.current;i.has(e.id)?i.delete(e.id):i.add(e.id),m((t=>t+1)),ws("circle").attr("stroke",(t=>i.has(t.id)?t.ringColor:"#000")),ws("text").style("display","block"),o.current&&(i.has(e.id)?(o.current.innerHTML="<strong style='font-size: 14px;'>".concat(e.id,"</strong><br/>").concat(e.description||"No details available."),o.current.style.display="block"):o.current.style.display="none"),Object.entries(d.current).forEach((t=>{let[e,r]=t;const a=n.skillNodes.find((t=>t.id===e));a&&r&&(r.style.setProperty("--ring",a.ringColor),r.style.setProperty("--ring-tint","".concat(a.ringColor,"33")),r.dataset.selected=i.has(e)?"true":"false",r.style.removeProperty("background"),r.style.removeProperty("border-left"))}))})).on("mouseover",(function(){Xr(this).select("circle").transition().duration(200).attr("fill","#88f")})).on("mouseout",(function(t,e){Xr(this).select("circle").transition().duration(200).attr("fill",(t=>t.id===c.current?"#f0f0f0":"#666"))})).call(aa().on("start",((t,n)=>{i=[t.sourceEvent.clientX,t.sourceEvent.clientY],r=!1,t.active||e.current.alphaTarget(.03).restart(),n.fx=n.x,n.fy=n.y})).on("drag",((e,n)=>{const[a,s]=i,o=e.sourceEvent.clientX-a,l=e.sourceEvent.clientY-s;Math.sqrt(o*o+l*l)>4&&(r=!0);const c=t.current;if(!c)return;const u=c.clientWidth,h=c.clientHeight;n.fx=Math.max(40,Math.min(u-40,e.x)),n.fy=Math.max(40,Math.min(h-40,e.y))})).on("end",((t,n)=>{t.active||e.current.alphaTarget(0),n.fx=null,n.fy=null})));A.append("circle").attr("r",(t=>_(t.proficiency||1))).attr("fill","#666").attr("stroke","#000").attr("stroke-width",2),ws("circle").attr("stroke",(t=>u.current.has(t.id)?t.ringColor:"#000")),Object.entries(d.current).forEach((t=>{let[e,i]=t;const r=n.skillNodes.find((t=>t.id===e));r&&i&&(i.style.background=u.current.has(e)?"".concat(r.ringColor,"33"):"#222",i.style.borderLeft=u.current.has(e)?"5px solid ".concat(r.ringColor):"1px solid #444")})),A.append("text").text((t=>t.id)).attr("font-size","11px").attr("text-anchor","middle").attr("dy",4).style("fill","#eee").style("font-family","monospace").style("pointer-events","none").style("user-select","none");let E=0;li((e=>{var n,i,r,a;if(e-E<15)return;E=e;const o=performance.now(),l=null!==(n=null===(i=t.current)||void 0===i?void 0:i.clientWidth)&&void 0!==n?n:800,c=null!==(r=null===(a=t.current)||void 0===a?void 0:a.clientHeight)&&void 0!==r?r:600;A.attr("transform",(t=>(t.x=Math.max(40,Math.min(l-40,t.x)),t.y=Math.max(40,Math.min(c-40,t.y)),"translate(".concat(t.x,", ").concat(t.y,")")))),S.attr("x1",(t=>t.source.x)).attr("y1",(t=>t.source.y)).attr("x2",(t=>t.target.x)).attr("y2",(t=>t.target.y));const h=b.current;if(h&&t.current){const n=h.getContext("2d"),i=h.width=t.current.clientWidth,r=h.height=t.current.clientHeight,a=w.current,s=x.current;a.width===i&&a.height===r||(a.width=i,a.height=r),s.width===i&&s.height===r||(s.width=i,s.height=r);const o=a.getContext("2d"),l=s.getContext("2d");n.clearRect(0,0,i,r),o.clearRect(0,0,i,r),l.clearRect(0,0,i,r);const c=13;o.lineWidth=1,o.strokeStyle="#0a0a0a";const d=g.map((t=>{const e=_(t.proficiency||1);return{x:t.x,y:t.y,r2:(50+2*e)**2,strength:8+.8*e}})),f=(t,n)=>{let i=0,r=0;for(const e of d){const a=t-e.x,s=n-e.y,o=a*a+s*s;if(o<e.r2){const t=Math.sqrt(o)||.001,n=(1-t/Math.sqrt(e.r2))**2;i+=a/t*n*e.strength,r+=s/t*n*e.strength}}const a=.001*e;return i+=.8*Math.sin(.005*(t+60*a)),r+=.8*Math.cos(.005*(n-40*a)),[t+i,n+r]};for(let t=0;t<=r;t+=c){o.beginPath();for(let e=0;e<=i;e+=c){const[n,i]=f(e,t);o.lineTo(n,i)}o.stroke()}for(let t=0;t<=i;t+=c){o.beginPath();for(let e=0;e<=r;e+=c){const[n,i]=f(t,e);o.lineTo(n,i)}o.stroke()}n.drawImage(a,0,0);const p=u.current;if(p.size>0){const t=1+.025*Math.sin(.0015*e);p.forEach((e=>{const o=g.find((t=>t.id===e));if(!o)return;const c=(100+4*_(o.proficiency||1))*t;l.clearRect(0,0,i,r);const u=l.createRadialGradient(o.x,o.y,0,o.x,o.y,c);u.addColorStop(0,P(o.ringColor,.35)),u.addColorStop(.45,P(o.ringColor,.15)),u.addColorStop(1,P(o.ringColor,0)),l.fillStyle=u,l.beginPath(),l.arc(o.x,o.y,c,0,2*Math.PI),l.fill(),l.globalCompositeOperation="destination-in",l.drawImage(a,0,0),l.globalCompositeOperation="source-over",n.globalCompositeOperation="screen",n.drawImage(s,0,0),n.globalCompositeOperation="source-over"}))}}const d=performance.now();s(Math.round(d-o))}))}),[n,v]),(0,ke.jsxs)("div",{ref:l,className:"skills-container",children:[(0,ke.jsx)("div",{className:"list-container",children:[...n.skillNodes].sort(((t,e)=>t.id.localeCompare(e.id))).map((t=>{const e=u.current.has(t.id);return(0,ke.jsx)("div",{className:"sidebar-node",ref:e=>{e&&(d.current[t.id]=e)},"data-selected":e?"true":"false",style:{"--ring":t.ringColor,"--ring-tint":"".concat(t.ringColor,"33")},onClick:()=>{const e=u.current;e.has(t.id)?e.delete(t.id):e.add(t.id),m((t=>t+1)),ws("circle").attr("stroke",(t=>e.has(t.id)?t.ringColor:"#000")),ws("text").style("display","block"),o.current&&(e.has(t.id)?(o.current.innerHTML="<strong style='font-size: 14px;'>".concat(t.id,"</strong><br/>").concat(t.description||"No details available."),o.current.style.display="block"):o.current.style.display="none"),Object.entries(d.current).forEach((t=>{let[i,r]=t;const a=n.skillNodes.find((t=>t.id===i));a&&r&&(r.style.setProperty("--ring",a.ringColor),r.style.setProperty("--ring-tint","".concat(a.ringColor,"33")),r.dataset.selected=e.has(i)?"true":"false")}))},children:t.id},t.id)}))}),(0,ke.jsx)("div",{className:"node-graph",children:(0,ke.jsxs)("div",{style:{position:"relative",width:"100%",height:"100%"},children:[(0,ke.jsx)("canvas",{ref:b,className:"ripple-canvas"}),(0,ke.jsx)("svg",{ref:t,style:{width:"100%",height:"100%",overflow:"visible",outline:"solid 1px white"}}),(0,ke.jsxs)("div",{className:"speed-indicator",children:["\u23f1: ",a,"ms"]}),(0,ke.jsxs)("select",{className:"link-mode-selector",value:v,onChange:t=>y(t.target.value),children:[(0,ke.jsx)("option",{value:"proficiency",children:"Group by Proficiency"}),(0,ke.jsx)("option",{value:"category",children:"Group by Category"})]}),(0,ke.jsx)("div",{className:"deselect-button",title:"Deselect all",onClick:()=>{u.current.clear(),p(new Set),ws("circle").attr("stroke","#000"),Object.entries(d.current).forEach((t=>{let[e,n]=t;n.style.background="#222",n.style.borderLeft="1px solid #444"}))},children:"\u27f3"})]})}),(0,ke.jsxs)("div",{className:"tooltip-container",style:{position:"relative"},children:[M&&(0,ke.jsx)("div",{className:"hint-overlay",role:"status","aria-live":"polite",children:(0,ke.jsxs)("div",{className:"hint-card",onClick:t=>t.stopPropagation(),children:[(0,ke.jsx)("div",{className:"hint-title"}),(0,ke.jsx)("div",{className:"hint-text",children:k?(0,ke.jsxs)(ke.Fragment,{children:["Tap a ",(0,ke.jsx)("strong",{children:"skill in the list"})," to add a card. Tap a ",(0,ke.jsx)("strong",{children:"card"})," to expand it and see how I learned that skill."]}):(0,ke.jsxs)(ke.Fragment,{children:["Click a ",(0,ke.jsx)("span",{className:"hint-node-circle","aria-label":"graph node example",children:(0,ke.jsx)("span",{children:"node"})})," to add a card. Click a ",(0,ke.jsx)("strong",{children:"card"})," to expand it and see how I learned that skill."]})}),(0,ke.jsx)("button",{type:"button",className:"hint-dismiss","aria-label":"Dismiss tip",onClick:()=>{C(!0),document.cookie="".concat(A,"=1; max-age=86400; path=/; SameSite=Lax")},children:"Got it"})]})}),[...Array.from(u.current).reverse()].map((t=>{const e=n.skillNodes.find((e=>e.id===t));if(!e)return null;const i=f.has(t);return(0,ke.jsxs)("div",{className:"node-list-item",onClick:()=>{const e=new Set(f);i?e.delete(t):e.add(t),p(e)},style:{boxShadow:"0 0 6px ".concat(e.ringColor),border:"2px solid ".concat(e.ringColor)},children:[(0,ke.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,ke.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[(0,ke.jsx)("strong",{style:{fontSize:"13px"},children:e.id}),(0,ke.jsx)("span",{style:{fontSize:"13px",color:"#777"},children:i?"\u25be":"\u25b8"})]}),(0,ke.jsx)("button",{type:"button","aria-label":"Close ".concat(e.id),title:"Close",style:{background:"transparent",border:"1px solid #444",color:"#aaa",fontWeight:700,fontSize:14,lineHeight:1,width:24,height:24,borderRadius:6,cursor:"pointer",display:"grid",placeItems:"center",transition:"transform .15s ease, box-shadow .15s ease, color .15s ease, border-color .15s ease"},onMouseEnter:t=>{t.currentTarget.style.color="#fff",t.currentTarget.style.borderColor=e.ringColor,t.currentTarget.style.boxShadow="0 0 8px ".concat(e.ringColor),t.currentTarget.style.transform="scale(1.1) rotate(5deg)"},onMouseLeave:t=>{t.currentTarget.style.color="#aaa",t.currentTarget.style.borderColor="#444",t.currentTarget.style.boxShadow="none",t.currentTarget.style.transform="none"},onClick:e=>{e.stopPropagation(),u.current.delete(t),p((e=>{const n=new Set(e);return n.delete(t),n})),ws("circle").attr("stroke",(t=>u.current.has(t.id)?t.ringColor:"#000")),Object.entries(d.current).forEach((t=>{let[e,i]=t;const r=n.skillNodes.find((t=>t.id===e));r&&i&&(i.style.background=u.current.has(e)?"".concat(r.ringColor,"33"):"#222",i.style.borderLeft=u.current.has(e)?"5px solid ".concat(r.ringColor):"1px solid #444")}))},onKeyDown:t=>{"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),t.currentTarget.click())},children:"\xd7"})]}),(0,ke.jsx)("div",{style:{margin:"6px 0",fontSize:"11px"},children:e.description||"No details available."}),(0,ke.jsxs)("div",{style:{margin:"8px 0"},children:[(0,ke.jsxs)("div",{style:{fontSize:"12px",color:"#333",marginBottom:"2px"},children:["Proficiency: ",(0,ke.jsxs)("strong",{children:[e.proficiency,"/10"]})]}),(0,ke.jsx)("div",{style:{display:"flex",gap:"2px"},children:Array.from({length:10},((t,n)=>(0,ke.jsx)("div",{style:{width:"8px",height:"16px",borderRadius:"2px",background:n<e.proficiency?e.ringColor:"#ddd",boxShadow:n<e.proficiency?"0 0 4px ".concat(e.ringColor):"none",transition:"background 0.3s ease"}},n)))})]}),e.learnedFrom&&(0,ke.jsxs)("div",{style:{marginTop:"10px",color:"#333",fontSize:"10px"},children:[(0,ke.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"6px",color:"#666"},children:(0,ke.jsx)("span",{children:i?"Learned from:":"\ud83d\udc41 Click to view details"})}),i&&(0,ke.jsx)("div",{style:{marginTop:"6px",lineHeight:"1.4",color:"#222",fontSize:"11px"},children:e.learnedFrom})]})]},t)}))]})]})}xs.prototype;const ks=Array.from({length:5},((t,e)=>"/hyder/projects/SPIM_".concat(e+1,".jpg"))),Ss=Array.from({length:4},((t,e)=>"/hyder/projects/JARJAR_".concat(e+1,".jpg"))),As=Array.from({length:5},((t,e)=>"/hyder/projects/SPEC_".concat(e+1,".jpg"))),Es=Array.from({length:4},((t,e)=>"/hyder/projects/COOK_".concat(e+1,".jpg"))),Cs=[{title:"SPIM (Salavon\u2019s Pathology Inducing Machine)",color:"#00ff88",images:ks,description:["An experimental platform that lets users manipulate the internal layers of diffusion models to generate off-manifold, dreamlike imagery.","I built the full-stack system: secure Python backend, custom memory management, tensor manipulation pipelines, and a React-based interface.","Also implemented filtering tools for statistical novelty, interpolation modules, and Voronoi-based ultra-high-res generation techniques."],links:[{label:"Visit Site",href:"https://latentculture.com/spim/"}]},{title:"Environmental Data Globe (Booth School of Business)",color:"#00d1ff",image:"/hyder/projects/GLOBE_1.jpg",description:["Built an interactive globe for visualizing over 200GB of environmental data using JavaScript and Three.js.","Developed dynamic cluster filtering, palette switching, and automated SQL data preprocessing in Python to support visual clarity and performance."]},{title:"AI Research & Model Tools",color:"#ffaa00",image:"/images/ai-tools-placeholder.png",description:["Created tooling for structured experimentation with diffusion models: formula generators, pixel-level perturbations, and statistical logging systems.","These tools were used to explore model interpretability, generative tuning, and output consistency."]},{title:"ComfyUI Character Pipeline \u2014 Consistent Kids\u2019 Book Art",color:"#b48bff",image:"/images/comfyui-kidsbook.jpg",description:["A reproducible ComfyUI workflow to keep a main character consistent across a whole picture book: poses, outfits, angles, scenes.","Techniques: identity conditioning (IP-Adapter / LoRA) blending, ControlNet pose, prompt/seed scheduling, palette locks, and layout templates.","Exports print-ready spreads (bleed & safe margins) and auto-generates a \u201ccharacter bible\u201d sheet from the same graph."]},{title:"Educational Tech & Curriculum",color:"#ff8888",image:"/images/teaching-placeholder.png",description:["Taught programming through nonprofits (Code Platoon, Code Your Dreams) and private tutoring.","Built MIT App Inventor examples, interactive modules, and developed beginner-friendly teaching content for both students and veterans."]},{title:"IT Support & Deployment Automation",color:"#bbbbbb",image:"/images/it-placeholder.png",description:["Provided in-person IT support and automated OS/application setup for 100+ machines at the University of Chicago.","This early experience taught me about system maintenance, scripting, and hands-on problem-solving."]},{title:"Jar Jar Quote Bot (Twitter/X)",color:"#ff6b9d",images:Ss,description:["Daily pipeline that scrapes a random historical quote, translates it into Jar Jar Binks (Gungan) speech, and posts the result.","To bypass character limits, the text is rendered onto an AI-generated background image before posting.","Includes basic scheduling, retries/rate-limit handling, and content moderation checks."],links:[{label:"View on X",href:"https://x.com/JarJarbinksays"}]},{title:"Aerospace Part Finder (Async Scraper + Local LLM)",color:"#c3ff7f",images:As,description:["Personal convenience tool to search suppliers for exact aerospace part numbers and officially documented equivalents.","Stack: async DuckDuckGo fallback, trafilatura (static) + Playwright (JS) scraping, concurrency, deduping, and a local llama.cpp model for structured JSON review.","Streams progress and tallies results; resilient to blocks with multiple fetch strategies and timeouts."],links:[{label:"Visit Site",href:"https://hmohyud.github.io/azizproj/"},{label:"GitHub",href:"https://github.com/hmohyud/azizproj"}]},{title:"The Echoes of the Colorful Shadows",color:"#4b7f96ff",images:Array.from({length:6},((t,e)=>"/hyder/projects/COMIC_".concat(e+1,".jpg"))),description:["A timeboxed comic made near the start of AI image generation for a college project: a burned-out artist stumbles into four linked realms\u2014Colorful Shadows, Whispers, Mirrored Realities, Fragmented Time\u2014guided by spirits, books, and sound to rekindle his spark and steady a world in decay.","Built fast with early AI tools: outline \u2192 beat-by-beat prompt runs \u2192 tight curation (~2k gens \u2192 244 workable \u2192 130 used) \u2192 light cleanups/upscales \u2192 lettering & print layout (~28 hours end-to-end)."],links:[{label:"pdf",href:"https://hmohyud.github.io/hyder/projects/Echoes_of_the_Colorful_Shadows_5x7.pdf"}],qrData:"/hyder/projects/QR_COMIC.png"},{title:"Client Sites & Revamps",color:"#fe5757ff",image:"/images/sites-placeholder.jpg",description:["Edited and refreshed sites for several people: accessibility passes, responsive layouts, perf budgets, and SEO fixes.","Typical stack: React/Vite/Next or lightweight static builds (Eleventy). Integrated forms, CMS where needed, and CI deploys."]},{title:"Mot\u0101m \u2014 Poetry Collection",color:"#ffd166",image:"/hyder/projects/MOTAM_1.jpg",description:["A simple, quiet website to present my grandmother\u2019s poetry collection across the years.","Typography-focused, accessible, and easy to maintain."],links:[{label:"Visit Site",href:"https://hmohyud.github.io/motam/"}]},{title:"AutoLens \u2014 Visual Vehicle ID (Expo)",color:"#6bff9d",image:"/images/autolens-preview.jpg",description:["Mobile app that identifies cars from a photo (or live camera) and breaks down model trims, years, and key specs.","Built with Expo + React Native; on-device pre/post-processing, server-side model inference, and a clean results UI.","Preview it on your phone with Expo."],links:[{label:"Open preview (Expo Go installed)",href:"https://expo.dev/preview/update?message=Initial+commit%0A%0AGenerated+by+create-expo-app+3.4.2.&updateRuntimeVersion=1.0.0&createdAt=2025-06-30T12%3A23%3A53.766Z&slug=exp&projectId=bf485ddb-a27e-47b0-b8ba-444f4dbde301&group=ee75b629-263a-4bc1-aa43-7aa4a5313843"}],qrData:"https://expo.dev/preview/update?message=Initial+commit%0A%0AGenerated+by+create-expo-app+3.4.2.&updateRuntimeVersion=1.0.0&createdAt=2025-06-30T12%3A23%3A53.766Z&slug=exp&projectId=bf485ddb-a27e-47b0-b8ba-444f4dbde301&group=ee75b629-263a-4bc1-aa43-7aa4a5313843"},{title:"Pocket Sous Chef",color:"#b3fff2ff",images:Es,description:["iOS recipe assistant that turns pantry photos or typed ingredients into step-by-step recipes.","Built with SwiftUI + SwiftData; OpenAI proxy for text + vision; saved recipes with nutrition.","Privacy-minded: no account; recipes saved on device."],links:[{label:"App Store",href:"https://apps.apple.com/us/app/pocket-sous-chef/id6751048251"},{label:"Support",href:"https://hmohyud.github.io/pocketsouschef-support/"}]}],Ms=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:520;return"https://api.qrserver.com/v1/create-qr-code/?size=".concat(e,"x").concat(e,"&data=").concat(encodeURIComponent(t))};function Ts(t){let{images:e=[],width:n=280,height:i=180,borderColor:a="#4af",altBase:s="project image",intervalMs:o=5e3,onClick:l,fit:c="height"}=t;const u=function(t){const[e,n]=(0,r.useState)((()=>t.map((()=>!1))));return(0,r.useEffect)((()=>{let e=!0;return n(t.map((()=>!1))),t.forEach(((t,i)=>{if(!t)return;const r=new Image,a=()=>e&&n((t=>{if(t[i])return t;const e=[...t];return e[i]=!0,e}));r.onload=a,r.onerror=()=>{},r.decoding="async",r.src=t,r.complete&&r.naturalWidth>0&&Promise.resolve().then(a)})),()=>{e=!1}}),[t]),e}(e),h=(0,r.useMemo)((()=>e.map(((t,e)=>u[e]?e:-1)).filter((t=>t>=0))),[e,u]),[d,f]=(0,r.useState)(0),p=(0,r.useRef)(null);(0,r.useEffect)((()=>{d>=h.length&&f(0)}),[h.length,d]);const g=()=>f((t=>(t+1)%Math.max(h.length,1)));(0,r.useEffect)((()=>(p.current&&(clearInterval(p.current),p.current=null),h.length>1&&(p.current=setInterval(g,o)),()=>{p.current&&clearInterval(p.current)})),[o,h.length]);const m="cover"===c?"cover":"contain"===c?"contain":"width"===c?"100% auto":"auto 100%",v=h.length?h[d]:-1,y=h.length>0;return(0,ke.jsxs)("div",{role:"img","aria-label":"".concat(s," \u2014 slideshow"),onMouseEnter:()=>{p.current&&clearInterval(p.current)},onMouseLeave:()=>{!p.current&&h.length>1&&(p.current=setInterval(g,o))},onClick:()=>{y&&(null===l||void 0===l||l(d))},style:{position:"relative",width:n,height:i,flex:"0 0 ".concat(n,"px"),cursor:y?"pointer":"default",overflow:"hidden",backgroundColor:"#1a1a1a",borderRadius:8,border:"1px solid ".concat(a),boxShadow:"0 0 10px rgba(255,255,255,0.04)"},children:[e.map(((t,e)=>u[e]?(0,ke.jsx)("div",{"aria-hidden":v!==e,style:{position:"absolute",inset:0,backgroundImage:"url(".concat(t,")"),backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:m,transition:"opacity 600ms ease",opacity:v===e?1:0}},t+e):null)),!y&&(0,ke.jsx)("div",{"aria-hidden":"true",style:{position:"absolute",inset:0,background:"#1a1a1a"}})]})}function Ps(){const[t,e]=(0,r.useState)(null),[n,i]=(0,r.useState)(null);(0,r.useEffect)((()=>{const e=Boolean(t||n),i=document.body.style.overflow;return e&&(document.body.style.overflow="hidden"),()=>{document.body.style.overflow=i}}),[t,n]),(0,r.useEffect)((()=>{const r=r=>{"Escape"===r.key&&(n?i(null):t&&e(null)),n&&("ArrowRight"===r.key&&i((t=>h(h({},t),{},{index:(t.index+1)%t.images.length}))),"ArrowLeft"===r.key&&i((t=>h(h({},t),{},{index:(t.index-1+t.images.length)%t.images.length}))))};return window.addEventListener("keydown",r),()=>window.removeEventListener("keydown",r)}),[t,n]);const a=(t,e)=>({position:"absolute",[e]:16,top:"50%",transform:"translateY(-50%)",width:44,height:44,padding:0,display:"grid",placeItems:"center",borderRadius:"9999px",border:"1px solid ".concat(t),background:"rgba(0,0,0,0.45)",color:t,cursor:"pointer",userSelect:"none",lineHeight:1,fontSize:22});return(0,ke.jsxs)("div",{style:{padding:"0 2rem",maxWidth:"1000px",margin:"0 auto",fontFamily:"monospace",color:"#eaeaea",lineHeight:1.6},children:[(0,ke.jsx)("h1",{style:{fontSize:"2rem",marginBottom:"2rem",borderBottom:"1px solid #444",paddingBottom:"0.5rem"},children:"Projects"}),Cs.map(((n,r)=>{var a,s;const o=n.images||(n.image?[n.image]:[]);return(0,ke.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",marginBottom:"3rem",gap:"1.5rem",alignItems:"flex-start"},children:[(0,ke.jsx)(Ts,{images:o,borderColor:n.color,altBase:"".concat(n.title," preview"),fit:"height",onClick:t=>{if(!o.length)return;const e=Math.min(t,(o.length||1)-1);i({title:n.title,color:n.color,images:o,index:e})}}),(0,ke.jsxs)("div",{style:{flex:"1 1 500px"},children:[(0,ke.jsx)("h2",{style:{color:n.color,margin:"0 0 0.5rem 0",fontSize:"1.3rem"},children:n.title}),null===(a=n.description)||void 0===a?void 0:a.map(((t,e)=>(0,ke.jsx)("p",{style:{margin:"0 0 0.75rem 0"},children:t},e))),null!==(s=n.links)&&void 0!==s&&s.length?(0,ke.jsxs)("div",{style:{display:"flex",gap:"10px",marginTop:"0.5rem",flexWrap:"wrap"},children:[n.links.map(((t,e)=>(0,ke.jsx)("a",{href:t.href,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",padding:"6px 10px",borderRadius:"999px",border:"1px solid ".concat(n.color),color:n.color,textDecoration:"none",fontSize:"0.9rem",transition:"all .2s ease"},onMouseEnter:t=>{t.currentTarget.style.backgroundColor="".concat(n.color,"22")},onMouseLeave:t=>{t.currentTarget.style.backgroundColor="transparent"},children:t.label},e))),n.qrData?(0,ke.jsx)("button",{type:"button",onClick:()=>e({title:n.title,data:n.qrData,color:n.color}),style:{padding:"6px 12px",borderRadius:"999px",border:"1px solid ".concat(n.color),background:"transparent",color:n.color,fontSize:"0.9rem",cursor:"pointer"},onMouseEnter:t=>{t.currentTarget.style.backgroundColor="".concat(n.color,"22")},onMouseLeave:t=>{t.currentTarget.style.backgroundColor="transparent"},"aria-haspopup":"dialog","aria-expanded":!!t,children:"string"===typeof n.qrData&&n.qrData.toLowerCase().includes("expo.dev")?"Show QR (scan in Expo Go)":"Show QR"}):null]}):null]})]},r)})),(0,ke.jsx)("p",{style:{fontStyle:"italic",marginTop:"2rem"},children:"More projects \u2014 including visual experiments, creative tools, and exploratory AI work \u2014 coming soon."}),t&&(0,ke.jsxs)("div",{role:"dialog","aria-modal":"true","aria-label":"QR code overlay",onClick:()=>{n?i(null):t&&e(null)},style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.72)",backdropFilter:"blur(4px)",zIndex:9999,display:"grid",placeItems:"center",padding:24},children:[(()=>{const n=String(t.data||"").toLowerCase().includes("expo.dev"),i=n?(0,ke.jsxs)(ke.Fragment,{children:["Tip: Install ",(0,ke.jsx)("b",{children:"Expo Go"})," on iOS/Android, then scan this QR to open the preview."]}):(0,ke.jsx)(ke.Fragment,{children:"Tip: Open your phone\u2019s camera (or any QR app) and scan to open the page."}),r=n?"QR code for Expo preview":"QR code for site link",a=n?"Open preview in browser":"Open site in new tab",s=n?t.data:"https://hmohyud.github.io/hyder/projects/Echoes_of_the_Colorful_Shadows_5x7.pdf";return(0,ke.jsxs)("div",{style:{width:"min(92vw, 720px)",borderRadius:16,border:"1px solid ".concat(t.color||"#4af"),background:"#0b0f14",boxShadow:"0 20px 60px rgba(0,0,0,0.6)",padding:20,display:"grid",gap:14,animation:"zoomIn .15s ease"},children:[(0,ke.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:12},children:[(0,ke.jsxs)("h3",{style:{margin:0,color:"#eaeaea",fontSize:18},children:["Scan to open: ",(0,ke.jsx)("span",{style:{color:t.color},children:t.title})]}),(0,ke.jsx)("button",{type:"button",onClick:()=>e(null),style:{border:"1px solid #2a2f3a",background:"transparent",color:"#bfc6d6",borderRadius:8,padding:"6px 10px",cursor:"pointer"},onMouseEnter:t=>{t.currentTarget.style.background="#151a21"},onMouseLeave:t=>{t.currentTarget.style.background="transparent"},children:"Close (Esc)"})]}),(0,ke.jsx)("p",{style:{margin:0,color:"#bfc6d6",fontSize:14},children:i}),(0,ke.jsx)("div",{style:{display:"grid",placeItems:"center",padding:"8px 0 2px"},children:(0,ke.jsx)("img",{src:n?Ms(t.data,720):t.data,alt:r,style:{width:"min(80vw, 70vh)",height:"auto",maxWidth:560,borderRadius:12,border:"1px solid #2a2f3a",background:"#313944ff",padding:12}})}),(0,ke.jsxs)("div",{style:{display:"flex",gap:10,flexWrap:"wrap",justifyContent:"flex-end"},children:[(0,ke.jsx)("a",{href:n?t.data:"https://hmohyud.github.io/hyder/projects/Echoes_of_the_Colorful_Shadows_5x7.pdf",target:"_blank",rel:"noreferrer",style:{padding:"8px 12px",borderRadius:10,border:"1px solid ".concat(t.color),color:t.color,textDecoration:"none",background:"transparent"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="".concat(t.color,"22")},onMouseLeave:t=>{t.currentTarget.style.backgroundColor="transparent"},children:a}),(0,ke.jsx)("button",{type:"button",onClick:async()=>{try{await navigator.clipboard.writeText(s)}catch(t){prompt("Copy this URL:",s)}},style:{padding:"8px 12px",borderRadius:10,border:"1px solid #2a2f3a",background:"transparent",color:"#eaeaea",cursor:"pointer"},onMouseEnter:t=>{t.currentTarget.style.background="#151a21"},onMouseLeave:t=>{t.currentTarget.style.background="transparent"},children:"Copy link"})]})]})})(),(0,ke.jsx)("style",{children:"\n      @keyframes zoomIn { from { transform: scale(0.98); opacity: 0; } to { transform: scale(1); opacity: 1; } }\n    "})]}),n&&(0,ke.jsxs)("div",{role:"dialog","aria-modal":"true","aria-label":"".concat(n.title," image viewer"),onClick:()=>{n?i(null):t&&e(null)},style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.85)",zIndex:1e4,display:"grid",gridTemplateRows:"auto 1fr auto",padding:16},children:[(0,ke.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:12},children:[(0,ke.jsx)("h3",{style:{margin:0,color:"#eaeaea",fontSize:18},children:n.title}),(0,ke.jsx)("button",{type:"button",onClick:()=>i(null),style:{border:"1px solid #2a2f3a",background:"transparent",color:"#bfc6d6",borderRadius:8,padding:"6px 10px",cursor:"pointer"},onMouseEnter:t=>{t.currentTarget.style.background="#151a21"},onMouseLeave:t=>{t.currentTarget.style.background="transparent"},children:"Close (Esc)"})]}),(0,ke.jsxs)("div",{style:{position:"relative",display:"grid",placeItems:"center",overflow:"hidden"},children:[(0,ke.jsx)("img",{src:n.images[n.index],alt:"".concat(n.title," ").concat(n.index+1),onClick:t=>t.stopPropagation(),style:{maxWidth:"min(92vw, 1400px)",maxHeight:"min(80vh, 90vh)",width:"auto",height:"auto",objectFit:"contain",border:"1px solid ".concat(n.color),boxShadow:"0 20px 60px rgba(0,0,0,0.6)"},onError:()=>{i((t=>{const e=t.images.length||1;return h(h({},t),{},{index:(t.index+1)%e})}))}}),n.images.length>1&&(0,ke.jsxs)(ke.Fragment,{children:[(0,ke.jsx)("button",{"aria-label":"Previous image",onClick:t=>{t.stopPropagation(),i((t=>h(h({},t),{},{index:(t.index-1+t.images.length)%t.images.length})))},style:a(n.color,"left"),children:"\u2039"}),(0,ke.jsx)("button",{"aria-label":"Next image",onClick:t=>{t.stopPropagation(),i((t=>h(h({},t),{},{index:(t.index+1)%t.images.length})))},style:a(n.color,"right"),children:"\u203a"})]})]}),(0,ke.jsx)("div",{style:{textAlign:"center",color:"#bfc6d6",fontSize:14},children:n.images.length>1?"".concat(n.index+1," / ").concat(n.images.length):""})]})]})}function Rs(){return(0,ke.jsxs)("div",{style:{height:"100vh",padding:"0 2rem",boxSizing:"border-box",maxWidth:"900px",margin:"0 auto",fontFamily:"monospace",color:"#eaeaea",lineHeight:1.6},children:[(0,ke.jsx)("h1",{style:{fontSize:"2.5rem",marginBottom:"1.5rem",borderBottom:"1px solid #444",paddingBottom:"0.5rem"},children:"About Me"}),(0,ke.jsxs)("section",{style:{marginBottom:"2rem"},children:[(0,ke.jsx)("h2",{style:{fontSize:"1.6rem",color:"#00d1ff"},children:"Early Context"}),(0,ke.jsx)("p",{children:"I was born in Boston, moved to Salt Lake City as a baby, and spent my earliest years surrounded by mountains and dry air. At age six, my family relocated again\u2014and while most of my year was spent in the U.S., I grew up spending every summer in India, visiting extended family."}),(0,ke.jsx)("p",{children:"That rhythm\u2014switching continents, routines, and mental frames every few months\u2014taught me early on that there's never just one way to think or live. It gave me a taste for the unfamiliar, the layered, and the nonlinear. Those instincts show up everywhere in my work."})]}),(0,ke.jsxs)("section",{style:{marginBottom:"2rem"},children:[(0,ke.jsx)("h2",{style:{fontSize:"1.6rem",color:"#00ff88"},children:"Outside the Terminal"}),(0,ke.jsx)("p",{children:"I played a lot of sports growing up\u2014soccer, squash, track and field, sailing, and baseball. I wasn't a standout on most teams, but I enjoyed being active and staying in shape. Squash was the one sport I really focused on, and I was one of the stronger players on the team."}),(0,ke.jsx)("p",{children:"I was probably more studious than anything else. I liked school, I liked learning, and I spent a lot of time reading or tinkering with things. These days, that balance has just shifted toward programming, chess puzzles, and the occasional deep dive into a video game with friends."})]}),(0,ke.jsxs)("section",{style:{marginBottom:"2rem"},children:[(0,ke.jsx)("h2",{style:{fontSize:"1.6rem",color:"#ff8888"},children:"Education, Interrupted"}),(0,ke.jsx)("p",{children:"I studied Computer Science and Visual Arts at the University of Chicago. My academic path wasn't entirely linear\u2014like a lot of people, I took a break during COVID. But stepping away was clarifying. It gave me time to reflect on what I actually wanted to build, and what kind of developer I wanted to become."}),(0,ke.jsx)("p",{children:"That break turned out to be formative. I didn't stop learning\u2014I just stopped waiting for permission to apply what I'd already learned. I built tools, experimented with AI models, helped others debug, and spent time thinking about the craft of programming beyond assignments and deadlines."})]}),(0,ke.jsxs)("section",{style:{marginBottom:"2rem"},children:[(0,ke.jsx)("h2",{style:{fontSize:"1.6rem",color:"#b48bff"},children:"Teaching and Tech"}),(0,ke.jsx)("p",{children:"I've taught programming to high school students, mentored veterans transitioning into tech, and tutored thousands of hours across math, science, and writing. These experiences shaped how I think about clarity, empathy, and the responsibility we carry when we build software for other people."}),(0,ke.jsx)("p",{children:"I don't just want code to run\u2014I want it to make sense. To feel like it belongs. That's true whether I'm designing a function, a UI, or a learning environment. Good tools invite understanding. Great tools invite play."})]}),(0,ke.jsxs)("section",{style:{marginBottom:"2rem"},children:[(0,ke.jsx)("h2",{style:{fontSize:"1.6rem",color:"#ffaa00"},children:"Why I Build"}),(0,ke.jsx)("p",{children:"What excites me most is software that stretches the boundaries of how we see or think. Tools that surprise you with their elegance\u2014or their weirdness. I'm especially interested in work that blends expressive potential with technical challenge: where the medium is flexible and the results are unpredictable."}),(0,ke.jsx)("p",{children:"I love the full arc\u2014from backend logic and infrastructure to polished UI and interaction design. My favorite work doesn't just execute\u2014it provokes. And if I can build something that teaches me along the way, even better."})]}),(0,ke.jsxs)("section",{style:{marginBottom:"4rem"},children:[(0,ke.jsx)("h2",{style:{fontSize:"1.6rem",color:"#ffffff"},children:"In Short"}),(0,ke.jsx)("p",{children:"I'm not trying to do everything. I'm trying to do a few strange, sharp, and well-constructed things really well. I care deeply about the details, about unexpected edges, and about software that earns your attention\u2014not just demands it."}),(0,ke.jsx)("p",{children:"If you've made it this far, thanks for reading. I hope something here resonated."})]}),(0,ke.jsx)("div",{style:{height:"30px"}})]})}function Ds(t,e,n){e||(e=[]);var i=e.length++;return Object.defineProperty({},"_",{set:function(r){e[i]=r,t.apply(n,e)}})}function Ns(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ls(t,e){Ns(t,e),e.add(t)}function Is(t,e,n){Ns(t,e),e.set(t,n)}function Fs(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function Os(t,e,n){return n(Fs(t,e))}function Bs(t,e){return t.get(Fs(t,e))}function js(t,e,n){return t.set(Fs(t,e),n),n}function Ws(t){function e(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var e=t.done;return Promise.resolve(t.value).then((function(t){return{value:t,done:e}}))}return Ws=function(t){this.s=t,this.n=t.next},Ws.prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(t){var n=this.s.return;return void 0===n?Promise.resolve({value:t,done:!0}):e(n.apply(this.s,arguments))},throw:function(t){var n=this.s.return;return void 0===n?Promise.reject(t):e(n.apply(this.s,arguments))}},new Ws(t)}var zs,Us,Hs,Vs,Gs,qs,Xs,Ys,Ks,Qs,$s,Js,Zs,to,eo,no,io,ro;const ao="object"===typeof process&&process+""==="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&"browser"!==process.type),so=[.001,0,0,.001,0,0],oo=1.35,lo=1,co=2,uo=4,ho=16,fo=32,po=64,go=128,mo=256,vo={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},yo="pdfjs_internal_editor_",bo={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},wo={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},xo=0,_o=1,ko=2,So=3,Ao=3,Eo=4,Co={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Mo={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},To=1,Po=2,Ro=3,Do=4,No=5,Lo={ERRORS:0,WARNINGS:1,INFOS:5},Io={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Fo=0,Oo=1,Bo=2,jo=3;let Wo=Lo.WARNINGS;function zo(t){Number.isInteger(t)&&(Wo=t)}function Uo(){return Wo}function Ho(t){Wo>=Lo.INFOS&&console.info("Info: ".concat(t))}function Vo(t){Wo>=Lo.WARNINGS&&console.warn("Warning: ".concat(t))}function Go(t){throw new Error(t)}function qo(t,e){t||Go(e)}function Xo(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!t)return null;if(n&&"string"===typeof t){if(n.addDefaultProtocol&&t.startsWith("www.")){const e=t.match(/\./g);(null===e||void 0===e?void 0:e.length)>=2&&(t="http://".concat(t))}if(n.tryConvertEncoding)try{t=decodeURIComponent(escape(t))}catch(r){}}const i=e?URL.parse(t,e):URL.parse(t);return function(t){switch(null===t||void 0===t?void 0:t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(i)?i:null}function Yo(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=URL.parse(t);return i?(i.hash=e,i.href):n&&Xo(t,"http://example.com")?t.split("#",1)[0]+"".concat(e?"#".concat(e):""):""}function Ko(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object.defineProperty(t,e,{value:n,enumerable:!i,configurable:!0,writable:!1}),n}const Qo=function(){function t(t,e){this.message=t,this.name=e}return t.prototype=new Error,t.constructor=t,t}();class $o extends Qo{constructor(t,e){super(t,"PasswordException"),this.code=e}}class Jo extends Qo{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class Zo extends Qo{constructor(t){super(t,"InvalidPDFException")}}class tl extends Qo{constructor(t,e,n){super(t,"ResponseException"),this.status=e,this.missing=n}}class el extends Qo{constructor(t){super(t,"FormatError")}}class nl extends Qo{constructor(t){super(t,"AbortException")}}function il(t){"object"===typeof t&&void 0!==(null===t||void 0===t?void 0:t.length)||Go("Invalid argument for bytesToString");const e=t.length,n=8192;if(e<n)return String.fromCharCode.apply(null,t);const i=[];for(let r=0;r<e;r+=n){const a=Math.min(r+n,e),s=t.subarray(r,a);i.push(String.fromCharCode.apply(null,s))}return i.join("")}function rl(t){"string"!==typeof t&&Go("Invalid argument for stringToBytes");const e=t.length,n=new Uint8Array(e);for(let i=0;i<e;++i)n[i]=255&t.charCodeAt(i);return n}class al{static get isLittleEndian(){return Ko(this,"isLittleEndian",function(){const t=new Uint8Array(4);return t[0]=1,1===new Uint32Array(t.buffer,0,1)[0]}())}static get isEvalSupported(){return Ko(this,"isEvalSupported",function(){try{return new Function(""),!0}catch(t){return!1}}())}static get isOffscreenCanvasSupported(){return Ko(this,"isOffscreenCanvasSupported","undefined"!==typeof OffscreenCanvas)}static get isImageDecoderSupported(){return Ko(this,"isImageDecoderSupported","undefined"!==typeof ImageDecoder)}static get platform(){const{platform:t,userAgent:e}=navigator;return Ko(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}static get isCSSRoundSupported(){var t,e;return Ko(this,"isCSSRoundSupported",null===(t=globalThis.CSS)||void 0===t||null===(e=t.supports)||void 0===e?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const sl=Array.from(Array(256).keys(),(t=>t.toString(16).padStart(2,"0")));class ol{static makeHexColor(t,e,n){return"#".concat(sl[t]).concat(sl[e]).concat(sl[n])}static domMatrixToTransform(t){return[t.a,t.b,t.c,t.d,t.e,t.f]}static scaleMinMax(t,e){let n;t[0]?(t[0]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[3],e[3]*=t[3]):(n=e[0],e[0]=e[1],e[1]=n,n=e[2],e[2]=e[3],e[3]=n,t[1]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static multiplyByDOMMatrix(t,e){return[t[0]*e.a+t[2]*e.b,t[1]*e.a+t[3]*e.b,t[0]*e.c+t[2]*e.d,t[1]*e.c+t[3]*e.d,t[0]*e.e+t[2]*e.f+t[4],t[1]*e.e+t[3]*e.f+t[5]]}static applyTransform(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=t[n],r=t[n+1];t[n]=i*e[0]+r*e[2]+e[4],t[n+1]=i*e[1]+r*e[3]+e[5]}static applyTransformToBezier(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=e[0],r=e[1],a=e[2],s=e[3],o=e[4],l=e[5];for(let c=0;c<6;c+=2){const e=t[n+c],u=t[n+c+1];t[n+c]=e*i+u*a+o,t[n+c+1]=e*r+u*s+l}}static applyInverseTransform(t,e){const n=t[0],i=t[1],r=e[0]*e[3]-e[1]*e[2];t[0]=(n*e[3]-i*e[2]+e[2]*e[5]-e[4]*e[3])/r,t[1]=(-n*e[1]+i*e[0]+e[4]*e[1]-e[5]*e[0])/r}static axialAlignedBoundingBox(t,e,n){const i=e[0],r=e[1],a=e[2],s=e[3],o=e[4],l=e[5],c=t[0],u=t[1],h=t[2],d=t[3];let f=i*c+o,p=f,g=i*h+o,m=g,v=s*u+l,y=v,b=s*d+l,w=b;if(0!==r||0!==a){const t=r*c,e=r*h,n=a*u,i=a*d;f+=n,m+=n,g+=i,p+=i,v+=t,w+=t,b+=e,y+=e}n[0]=Math.min(n[0],f,g,p,m),n[1]=Math.min(n[1],v,b,y,w),n[2]=Math.max(n[2],f,g,p,m),n[3]=Math.max(n[3],v,b,y,w)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const n=t[0],i=t[1],r=t[2],a=t[3],s=n**2+i**2,o=n*r+i*a,l=r**2+a**2,c=(s+l)/2,u=Math.sqrt(c**2-(s*l-o**2));e[0]=Math.sqrt(c+u||1),e[1]=Math.sqrt(c-u||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const n=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),i=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(n>i)return null;const r=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),a=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return r>a?null:[n,r,i,a]}static pointBoundingBox(t,e,n){n[0]=Math.min(n[0],t),n[1]=Math.min(n[1],e),n[2]=Math.max(n[2],t),n[3]=Math.max(n[3],e)}static rectBoundingBox(t,e,n,i,r){r[0]=Math.min(r[0],t,n),r[1]=Math.min(r[1],e,i),r[2]=Math.max(r[2],t,n),r[3]=Math.max(r[3],e,i)}static bezierBoundingBox(t,e,n,i,r,a,s,o,l){l[0]=Math.min(l[0],t,s),l[1]=Math.min(l[1],e,o),l[2]=Math.max(l[2],t,s),l[3]=Math.max(l[3],e,o),Fs(ol,this,cl).call(this,t,n,r,s,e,i,a,o,3*(3*(n-r)-t+s),6*(t-2*n+r),3*(n-t),l),Fs(ol,this,cl).call(this,t,n,r,s,e,i,a,o,3*(3*(i-a)-e+o),6*(e-2*i+a),3*(i-e),l)}}function ll(t,e,n,i,r,a,s,o,l,c){if(l<=0||l>=1)return;const u=1-l,h=l*l,d=h*l,f=u*(u*(u*t+3*l*e)+3*h*n)+d*i,p=u*(u*(u*r+3*l*a)+3*h*s)+d*o;c[0]=Math.min(c[0],f),c[1]=Math.min(c[1],p),c[2]=Math.max(c[2],f),c[3]=Math.max(c[3],p)}function cl(t,e,n,i,r,a,s,o,l,c,u,h){if(Math.abs(l)<1e-12)return void(Math.abs(c)>=1e-12&&Fs(zs,this,ll).call(this,t,e,n,i,r,a,s,o,-u/c,h));const d=c**2-4*u*l;if(d<0)return;const f=Math.sqrt(d),p=2*l;Fs(zs,this,ll).call(this,t,e,n,i,r,a,s,o,(-c+f)/p,h),Fs(zs,this,ll).call(this,t,e,n,i,r,a,s,o,(-c-f)/p,h)}zs=ol;let ul=null,hl=null;function dl(){if("function"===typeof crypto.randomUUID)return crypto.randomUUID();const t=new Uint8Array(32);return crypto.getRandomValues(t),il(t)}const fl="pdfjs_internal_id_";function pl(t,e,n){return Math.min(Math.max(t,e),n)}function gl(t){return Uint8Array.prototype.toBase64?t.toBase64():btoa(il(t))}"function"!==typeof Promise.try&&(Promise.try=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return new Promise((e=>{e(t(...n))}))}),"function"!==typeof Math.sumPrecise&&(Math.sumPrecise=function(t){return t.reduce(((t,e)=>t+e),0)});class ml{static textContent(t){const e=[],n={items:e,styles:Object.create(null)};return function t(n){var i;if(!n)return;let r=null;const a=n.name;if("#text"===a)r=n.value;else{if(!ml.shouldBuildText(a))return;null!==n&&void 0!==n&&null!==(i=n.attributes)&&void 0!==i&&i.textContent?r=n.attributes.textContent:n.value&&(r=n.value)}if(null!==r&&e.push({str:r}),n.children)for(const e of n.children)t(e)}(t),n}static shouldBuildText(t){return!("textarea"===t||"input"===t||"option"===t||"select"===t)}}class vl{static setupStorage(t,e,n,i,r){const a=i.getValue(e,{value:null});switch(n.name){case"textarea":if(null!==a.value&&(t.textContent=a.value),"print"===r)break;t.addEventListener("input",(t=>{i.setValue(e,{value:t.target.value})}));break;case"input":if("radio"===n.attributes.type||"checkbox"===n.attributes.type){if(a.value===n.attributes.xfaOn?t.setAttribute("checked",!0):a.value===n.attributes.xfaOff&&t.removeAttribute("checked"),"print"===r)break;t.addEventListener("change",(t=>{i.setValue(e,{value:t.target.checked?t.target.getAttribute("xfaOn"):t.target.getAttribute("xfaOff")})}))}else{if(null!==a.value&&t.setAttribute("value",a.value),"print"===r)break;t.addEventListener("input",(t=>{i.setValue(e,{value:t.target.value})}))}break;case"select":if(null!==a.value){t.setAttribute("value",a.value);for(const t of n.children)t.attributes.value===a.value?t.attributes.selected=!0:t.attributes.hasOwnProperty("selected")&&delete t.attributes.selected}t.addEventListener("input",(t=>{const n=t.target.options,r=-1===n.selectedIndex?"":n[n.selectedIndex].value;i.setValue(e,{value:r})}))}}static setAttributes(t){let{html:e,element:n,storage:i=null,intent:r,linkService:a}=t;const{attributes:s}=n,o=e instanceof HTMLAnchorElement;"radio"===s.type&&(s.name="".concat(s.name,"-").concat(r));for(const[l,c]of Object.entries(s))if(null!==c&&void 0!==c)switch(l){case"class":c.length&&e.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!o||"href"!==l&&"newWindow"!==l)&&e.setAttribute(l,c)}o&&a.addLinkAttributes(e,s.href,s.newWindow),i&&s.dataId&&this.setupStorage(e,s.dataId,n,i)}static render(t){const e=t.annotationStorage,n=t.linkService,i=t.xfaHtml,r=t.intent||"display",a=document.createElement(i.name);i.attributes&&this.setAttributes({html:a,element:i,intent:r,linkService:n});const s="richText"!==r,o=t.div;if(o.append(a),t.viewport){const e="matrix(".concat(t.viewport.transform.join(","),")");o.style.transform=e}s&&o.setAttribute("class","xfaLayer xfaFont");const l=[];if(0===i.children.length){if(i.value){const t=document.createTextNode(i.value);a.append(t),s&&ml.shouldBuildText(i.name)&&l.push(t)}return{textDivs:l}}const c=[[i,-1,a]];for(;c.length>0;){var u,h;const[t,i,a]=c.at(-1);if(i+1===t.children.length){c.pop();continue}const o=t.children[++c.at(-1)[1]];if(null===o)continue;const{name:d}=o;if("#text"===d){const t=document.createTextNode(o.value);l.push(t),a.append(t);continue}const f=null!==o&&void 0!==o&&null!==(u=o.attributes)&&void 0!==u&&u.xmlns?document.createElementNS(o.attributes.xmlns,d):document.createElement(d);if(a.append(f),o.attributes&&this.setAttributes({html:f,element:o,storage:e,intent:r,linkService:n}),(null===(h=o.children)||void 0===h?void 0:h.length)>0)c.push([o,-1,f]);else if(o.value){const t=document.createTextNode(o.value);s&&ml.shouldBuildText(d)&&l.push(t),f.append(t)}}for(const d of o.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))d.setAttribute("readOnly",!0);return{textDivs:l}}static update(t){const e="matrix(".concat(t.viewport.transform.join(","),")");t.div.style.transform=e,t.div.hidden=!1}}const yl="http://www.w3.org/2000/svg";class bl{}async function wl(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";if(El(t,document.baseURI)){const n=await fetch(t);if(!n.ok)throw new Error(n.statusText);switch(e){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise(((n,i)=>{const r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE)if(200!==r.status&&0!==r.status)i(new Error(r.statusText));else{switch(e){case"arraybuffer":case"blob":case"json":return void n(r.response)}n(r.responseText)}},r.send(null)}))}Us=bl,c(bl,"CSS",96),c(bl,"PDF",72),c(bl,"PDF_TO_CSS_UNITS",Us.CSS/Us.PDF);class xl{constructor(t){let{viewBox:e,userUnit:n,scale:i,rotation:r,offsetX:a=0,offsetY:s=0,dontFlip:o=!1}=t;this.viewBox=e,this.userUnit=n,this.scale=i,this.rotation=r,this.offsetX=a,this.offsetY=s,i*=n;const l=(e[2]+e[0])/2,c=(e[3]+e[1])/2;let u,h,d,f,p,g,m,v;switch(r%=360,r<0&&(r+=360),r){case 180:u=-1,h=0,d=0,f=1;break;case 90:u=0,h=1,d=1,f=0;break;case 270:u=0,h=-1,d=-1,f=0;break;case 0:u=1,h=0,d=0,f=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(d=-d,f=-f),0===u?(p=Math.abs(c-e[1])*i+a,g=Math.abs(l-e[0])*i+s,m=(e[3]-e[1])*i,v=(e[2]-e[0])*i):(p=Math.abs(l-e[0])*i+a,g=Math.abs(c-e[1])*i+s,m=(e[2]-e[0])*i,v=(e[3]-e[1])*i),this.transform=[u*i,h*i,d*i,f*i,p-u*i*l-d*i*c,g-h*i*l-f*i*c],this.width=m,this.height=v}get rawDims(){const t=this.viewBox;return Ko(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone(){let{scale:t=this.scale,rotation:e=this.rotation,offsetX:n=this.offsetX,offsetY:i=this.offsetY,dontFlip:r=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new xl({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:n,offsetY:i,dontFlip:r})}convertToViewportPoint(t,e){const n=[t,e];return ol.applyTransform(n,this.transform),n}convertToViewportRectangle(t){const e=[t[0],t[1]];ol.applyTransform(e,this.transform);const n=[t[2],t[3]];return ol.applyTransform(n,this.transform),[e[0],e[1],n[0],n[1]]}convertToPdfPoint(t,e){const n=[t,e];return ol.applyInverseTransform(n,this.transform),n}}class _l extends Qo{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super(t,"RenderingCancelledException"),this.extraDelay=e}}function kl(t){const e=t.length;let n=0;for(;n<e&&""===t[n].trim();)n++;return"data:"===t.substring(n,n+5).toLowerCase()}function Sl(t){return"string"===typeof t&&/\.pdf$/i.test(t)}class Al{constructor(){c(this,"started",Object.create(null)),c(this,"times",[])}time(t){t in this.started&&Vo("Timer is already running for ".concat(t)),this.started[t]=Date.now()}timeEnd(t){t in this.started||Vo("Timer has not been started for ".concat(t)),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:n}of this.times)e=Math.max(n.length,e);for(const{name:n,start:i,end:r}of this.times)t.push("".concat(n.padEnd(e)," ").concat(r-i,"ms\n"));return t.join("")}}function El(t,e){const n=e?URL.parse(t,e):URL.parse(t);return"http:"===(null===n||void 0===n?void 0:n.protocol)||"https:"===(null===n||void 0===n?void 0:n.protocol)}function Cl(t){t.preventDefault()}function Ml(t){t.preventDefault(),t.stopPropagation()}class Tl{static toDateObject(t){if(t instanceof Date)return t;if(!t||"string"!==typeof t)return null;Fs(Tl,this,Pl)._||(Pl._=Fs(Tl,this,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?")));const e=Fs(Tl,this,Pl)._.exec(t);if(!e)return null;const n=parseInt(e[1],10);let i=parseInt(e[2],10);i=i>=1&&i<=12?i-1:0;let r=parseInt(e[3],10);r=r>=1&&r<=31?r:1;let a=parseInt(e[4],10);a=a>=0&&a<=23?a:0;let s=parseInt(e[5],10);s=s>=0&&s<=59?s:0;let o=parseInt(e[6],10);o=o>=0&&o<=59?o:0;const l=e[7]||"Z";let c=parseInt(e[8],10);c=c>=0&&c<=23?c:0;let u=parseInt(e[9],10)||0;return u=u>=0&&u<=59?u:0,"-"===l?(a+=c,s+=u):"+"===l&&(a-=c,s-=u),new Date(Date.UTC(n,i,r,a,s,o))}}var Pl={_:void 0};function Rl(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(16711680&e)>>16,(65280&e)>>8,255&e]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map((t=>parseInt(t))):t.startsWith("rgba(")?t.slice(5,-1).split(",").map((t=>parseInt(t))).slice(0,3):(Vo('Not a valid color format: "'.concat(t,'"')),[0,0,0])}function Dl(t){const{a:e,b:n,c:i,d:r,e:a,f:s}=t.getTransform();return[e,n,i,r,a,s]}function Nl(t){const{a:e,b:n,c:i,d:r,e:a,f:s}=t.getTransform().invertSelf();return[e,n,i,r,a,s]}function Ll(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e instanceof xl){const{pageWidth:i,pageHeight:r}=e.rawDims,{style:a}=t,s=al.isCSSRoundSupported,o="var(--total-scale-factor) * ".concat(i,"px"),l="var(--total-scale-factor) * ".concat(r,"px"),c=s?"round(down, ".concat(o,", var(--scale-round-x))"):"calc(".concat(o,")"),u=s?"round(down, ".concat(l,", var(--scale-round-y))"):"calc(".concat(l,")");n&&e.rotation%180!==0?(a.width=u,a.height=c):(a.width=c,a.height=u)}i&&t.setAttribute("data-main-rotation",e.rotation)}class Il{constructor(){const{pixelRatio:t}=Il;this.sx=t,this.sy=t}get scaled(){return 1!==this.sx||1!==this.sy}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,a=1/0,s=1/0,o=1/0;(n=Il.capPixels(n,r))>0&&(a=Math.sqrt(n/(t*e))),-1!==i&&(s=i/t,o=i/e);const l=Math.min(a,s,o);return(this.sx>l||this.sy>l)&&(this.sx=l,this.sy=l,!0)}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,e){if(e>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+e/100));return t>0?Math.min(t,n):n}return t}}const Fl=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class Ol{static get isDarkMode(){var t,e;return Ko(this,"isDarkMode",!(null===(t=window)||void 0===t||null===(e=t.matchMedia)||void 0===e||!e.call(t,"(prefers-color-scheme: dark)").matches))}}function Bl(t,e){const n=t[0]/255,i=t[1]/255,r=t[2]/255,a=Math.max(n,i,r),s=Math.min(n,i,r),o=(a+s)/2;if(a===s)e[0]=e[1]=0;else{const t=a-s;switch(e[1]=o<.5?t/(a+s):t/(2-a-s),a){case n:e[0]=60*((i-r)/t+(i<r?6:0));break;case i:e[0]=60*((r-n)/t+2);break;case r:e[0]=60*((n-i)/t+4)}}e[2]=o}function jl(t,e){const n=t[0],i=t[1],r=t[2],a=(1-Math.abs(2*r-1))*i,s=a*(1-Math.abs(n/60%2-1)),o=r-a/2;switch(Math.floor(n/60)){case 0:e[0]=a+o,e[1]=s+o,e[2]=o;break;case 1:e[0]=s+o,e[1]=a+o,e[2]=o;break;case 2:e[0]=o,e[1]=a+o,e[2]=s+o;break;case 3:e[0]=o,e[1]=s+o,e[2]=a+o;break;case 4:e[0]=s+o,e[1]=o,e[2]=a+o;break;case 5:case 6:e[0]=a+o,e[1]=o,e[2]=s+o}}function Wl(t){return t<=.03928?t/12.92:((t+.055)/1.055)**2.4}function zl(t,e,n){jl(t,n),n.map(Wl);const i=.2126*n[0]+.7152*n[1]+.0722*n[2];jl(e,n),n.map(Wl);const r=.2126*n[0]+.7152*n[1]+.0722*n[2];return i>r?(i+.05)/(r+.05):(r+.05)/(i+.05)}const Ul=new Map;function Hl(t,e){let{html:n,dir:i,className:r}=t;const a=document.createDocumentFragment();if("string"===typeof n){const t=document.createElement("p");t.dir=i||"auto";const e=n.split(/(?:\r\n?|\n)/);for(let n=0,i=e.length;n<i;++n){const r=e[n];t.append(document.createTextNode(r)),n<i-1&&t.append(document.createElement("br"))}a.append(t)}else vl.render({xfaHtml:n,div:a,intent:"richText"});a.firstChild.classList.add("richText",r),e.append(a)}var Vl=new WeakMap,Gl=new WeakMap,ql=new WeakMap,Xl=new WeakMap,Yl=new WeakMap,Kl=new WeakMap,Ql=new WeakMap,$l=new WeakMap,Jl=new WeakSet;class Zl{constructor(t){Ls(this,Jl),Is(this,Vl,null),Is(this,Gl,null),Is(this,ql,void 0),Is(this,Xl,null),Is(this,Yl,null),Is(this,Kl,null),Is(this,Ql,null),Is(this,$l,null),js(ql,this,t),ac._||(ac._=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const t=js(Vl,this,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=Bs(ql,this)._uiManager._signal;e instanceof AbortSignal&&!e.aborted&&(t.addEventListener("contextmenu",Cl,{signal:e}),t.addEventListener("pointerdown",tc,{signal:e}));const n=js(Xl,this,document.createElement("div"));n.className="buttons",t.append(n);const i=Bs(ql,this).toolbarPosition;if(i){const{style:e}=t,n="ltr"===Bs(ql,this)._uiManager.direction?1-i[0]:i[0];e.insetInlineEnd="".concat(100*n,"%"),e.top="calc(".concat(100*i[1],"% + var(--editor-toolbar-vert-offset))")}return t}get div(){return Bs(Vl,this)}hide(){var t;Bs(Vl,this).classList.add("hidden"),null===(t=Bs(Gl,this))||void 0===t||t.hideDropdown()}show(){var t,e;Bs(Vl,this).classList.remove("hidden"),null===(t=Bs(Yl,this))||void 0===t||t.shown(),null===(e=Bs(Kl,this))||void 0===e||e.shown()}addDeleteButton(){const{editorType:t,_uiManager:e}=Bs(ql,this),n=document.createElement("button");n.classList.add("basic","deleteButton"),n.tabIndex=0,n.setAttribute("data-l10n-id",ac._[t]),Fs(Jl,this,ic).call(this,n)&&n.addEventListener("click",(t=>{e.delete()}),{signal:e._signal}),Bs(Xl,this).append(n)}async addAltText(t){const e=await t.render();Fs(Jl,this,ic).call(this,e),Bs(Xl,this).append(e,Os(Jl,this,rc)),js(Yl,this,t)}addComment(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(Bs(Kl,this))return;const n=t.renderForToolbar();if(!n)return;Fs(Jl,this,ic).call(this,n);const i=js(Ql,this,Os(Jl,this,rc));e?(Bs(Xl,this).insertBefore(n,e),Bs(Xl,this).insertBefore(i,e)):Bs(Xl,this).append(n,i),js(Kl,this,t),t.toolbar=this}addColorPicker(t){if(Bs(Gl,this))return;js(Gl,this,t);const e=t.renderButton();Fs(Jl,this,ic).call(this,e),Bs(Xl,this).append(e,Os(Jl,this,rc))}async addEditSignatureButton(t){const e=js($l,this,await t.renderEditButton(Bs(ql,this)));Fs(Jl,this,ic).call(this,e),Bs(Xl,this).append(e,Os(Jl,this,rc))}removeButton(t){var e,n;if("comment"===t)null===(e=Bs(Kl,this))||void 0===e||e.removeToolbarCommentButton(),js(Kl,this,null),null===(n=Bs(Ql,this))||void 0===n||n.remove(),js(Ql,this,null)}async addButton(t,e){switch(t){case"colorPicker":this.addColorPicker(e);break;case"altText":await this.addAltText(e);break;case"editSignature":await this.addEditSignatureButton(e);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(e)}}async addButtonBefore(t,e,n){const i=Bs(Xl,this).querySelector(n);i&&"comment"===t&&this.addComment(e,i)}updateEditSignatureButton(t){Bs($l,this)&&(Bs($l,this).title=t)}remove(){var t;Bs(Vl,this).remove(),null===(t=Bs(Gl,this))||void 0===t||t.destroy(),js(Gl,this,null)}}function tc(t){t.stopPropagation()}function ec(t){Bs(ql,this)._focusEventsAllowed=!1,Ml(t)}function nc(t){Bs(ql,this)._focusEventsAllowed=!0,Ml(t)}function ic(t){const e=Bs(ql,this)._uiManager._signal;return e instanceof AbortSignal&&!e.aborted&&(t.addEventListener("focusin",Fs(Jl,this,ec).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",Fs(Jl,this,nc).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",Cl,{signal:e}),!0)}function rc(t){const e=document.createElement("div");return e.className="divider",e}var ac={_:null},sc=new WeakMap,oc=new WeakMap,lc=new WeakMap,cc=new WeakSet;class uc{constructor(t){Ls(this,cc),Is(this,sc,null),Is(this,oc,null),Is(this,lc,void 0),js(lc,this,t)}show(t,e,n){const[i,r]=Fs(cc,this,dc).call(this,e,n),{style:a}=Bs(oc,this)||js(oc,this,Fs(cc,this,hc).call(this));t.append(Bs(oc,this)),a.insetInlineEnd="".concat(100*i,"%"),a.top="calc(".concat(100*r,"% + var(--editor-toolbar-vert-offset))")}hide(){Bs(oc,this).remove()}}function hc(){const t=js(oc,this,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar");const e=Bs(lc,this)._signal;e instanceof AbortSignal&&!e.aborted&&t.addEventListener("contextmenu",Cl,{signal:e});const n=js(sc,this,document.createElement("div"));return n.className="buttons",t.append(n),Bs(lc,this).hasCommentManager()&&Fs(cc,this,fc).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",(()=>{Bs(lc,this).commentSelection("floating_button")})),Fs(cc,this,fc).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",(()=>{Bs(lc,this).highlightSelection("floating_button")})),t}function dc(t,e){let n=0,i=0;for(const r of t){const t=r.y+r.height;if(t<n)continue;const a=r.x+(e?r.width:0);t>n?(i=a,n=t):e?a>i&&(i=a):a<i&&(i=a)}return[e?1-i:i,n]}function fc(t,e,n,i){const r=document.createElement("button");r.classList.add("basic",t),r.tabIndex=0,r.setAttribute("data-l10n-id",e);const a=document.createElement("span");r.append(a),a.className="visuallyHidden",a.setAttribute("data-l10n-id",n);const s=Bs(lc,this)._signal;s instanceof AbortSignal&&!s.aborted&&(r.addEventListener("contextmenu",Cl,{signal:s}),r.addEventListener("click",i,{signal:s})),Bs(sc,this).append(r)}function pc(t,e,n){for(const i of n)e.addEventListener(i,t[i].bind(t))}var gc=new WeakMap;class mc{constructor(){Is(this,gc,0)}get id(){var t,e;return"".concat(yo).concat((js(gc,this,(t=Bs(gc,this),e=t++,t)),e))}}var vc=new WeakMap,yc=new WeakMap,bc=new WeakMap,wc=new WeakSet;class xc{constructor(){Ls(this,wc),Is(this,vc,dl()),Is(this,yc,0),Is(this,bc,null)}static get _isSVGFittingCanvas(){const t=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),e=new Image;e.src='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>';return Ko(this,"_isSVGFittingCanvas",e.decode().then((()=>(t.drawImage(e,0,0,1,1,0,0,1,3),0===new Uint32Array(t.getImageData(0,0,1,1).data.buffer)[0]))))}async getFromFile(t){const{lastModified:e,name:n,size:i,type:r}=t;return Fs(wc,this,_c).call(this,"".concat(e,"_").concat(n,"_").concat(i,"_").concat(r),t)}async getFromUrl(t){return Fs(wc,this,_c).call(this,t,t)}async getFromBlob(t,e){const n=await e;return Fs(wc,this,_c).call(this,t,n)}async getFromId(t){Bs(bc,this)||js(bc,this,new Map);const e=Bs(bc,this).get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:t}=e;return delete e.blobPromise,this.getFromBlob(e.id,t)}return this.getFromUrl(e.url)}getFromCanvas(t,e){var n,i,r;Bs(bc,this)||js(bc,this,new Map);let a=Bs(bc,this).get(t);if(null!==(r=a)&&void 0!==r&&r.bitmap)return a.refCounter+=1,a;const s=new OffscreenCanvas(e.width,e.height);return s.getContext("2d").drawImage(e,0,0),a={bitmap:s.transferToImageBitmap(),id:"image_".concat(Bs(vc,this),"_").concat((js(yc,this,(n=Bs(yc,this),i=n++,n)),i)),refCounter:1,isSvg:!1},Bs(bc,this).set(t,a),Bs(bc,this).set(a.id,a),a}getSvgUrl(t){const e=Bs(bc,this).get(t);return null!==e&&void 0!==e&&e.isSvg?e.svgUrl:null}deleteId(t){var e;Bs(bc,this)||js(bc,this,new Map);const n=Bs(bc,this).get(t);if(!n)return;if(n.refCounter-=1,0!==n.refCounter)return;const{bitmap:i}=n;if(!n.url&&!n.file){const t=new OffscreenCanvas(i.width,i.height);t.getContext("bitmaprenderer").transferFromImageBitmap(i),n.blobPromise=t.convertToBlob()}null===(e=i.close)||void 0===e||e.call(i),n.bitmap=null}isValidId(t){return t.startsWith("image_".concat(Bs(vc,this),"_"))}}async function _c(t,e){var n;Bs(bc,this)||js(bc,this,new Map);let i=Bs(bc,this).get(t);if(null===i)return null;if(null!==(n=i)&&void 0!==n&&n.bitmap)return i.refCounter+=1,i;try{var r,a;let t;if(i||(i={bitmap:null,id:"image_".concat(Bs(vc,this),"_").concat((js(yc,this,(r=Bs(yc,this),a=r++,r)),a)),refCounter:0,isSvg:!1}),"string"===typeof e?(i.url=e,t=await wl(e,"blob")):e instanceof File?t=i.file=e:e instanceof Blob&&(t=e),"image/svg+xml"===t.type){const e=Hs._isSVGFittingCanvas,n=new FileReader,r=new Image,a=new Promise(((t,a)=>{r.onload=()=>{i.bitmap=r,i.isSvg=!0,t()},n.onload=async()=>{const t=i.svgUrl=n.result;r.src=await e?"".concat(t,"#svgView(preserveAspectRatio(none))"):t},r.onerror=n.onerror=a}));n.readAsDataURL(t),await a}else i.bitmap=await createImageBitmap(t);i.refCounter=1}catch(hE){Vo(hE),i=null}return Bs(bc,this).set(t,i),i&&Bs(bc,this).set(i.id,i),i}Hs=xc;var kc=new WeakMap,Sc=new WeakMap,Ac=new WeakMap,Ec=new WeakMap;class Cc{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:128;Is(this,kc,[]),Is(this,Sc,!1),Is(this,Ac,void 0),Is(this,Ec,-1),js(Ac,this,t)}add(t){let{cmd:e,undo:n,post:i,mustExec:r,type:a=NaN,overwriteIfSameType:s=!1,keepUndo:o=!1}=t;if(r&&e(),Bs(Sc,this))return;const l={cmd:e,undo:n,post:i,type:a};if(-1===Bs(Ec,this))return Bs(kc,this).length>0&&(Bs(kc,this).length=0),js(Ec,this,0),void Bs(kc,this).push(l);if(s&&Bs(kc,this)[Bs(Ec,this)].type===a)return o&&(l.undo=Bs(kc,this)[Bs(Ec,this)].undo),void(Bs(kc,this)[Bs(Ec,this)]=l);const c=Bs(Ec,this)+1;c===Bs(Ac,this)?Bs(kc,this).splice(0,1):(js(Ec,this,c),c<Bs(kc,this).length&&Bs(kc,this).splice(c)),Bs(kc,this).push(l)}undo(){if(-1===Bs(Ec,this))return;js(Sc,this,!0);const{undo:t,post:e}=Bs(kc,this)[Bs(Ec,this)];t(),null===e||void 0===e||e(),js(Sc,this,!1),js(Ec,this,Bs(Ec,this)-1)}redo(){if(Bs(Ec,this)<Bs(kc,this).length-1){js(Ec,this,Bs(Ec,this)+1),js(Sc,this,!0);const{cmd:t,post:e}=Bs(kc,this)[Bs(Ec,this)];t(),null===e||void 0===e||e(),js(Sc,this,!1)}}hasSomethingToUndo(){return-1!==Bs(Ec,this)}hasSomethingToRedo(){return Bs(Ec,this)<Bs(kc,this).length-1}cleanType(t){if(-1!==Bs(Ec,this)){for(let e=Bs(Ec,this);e>=0;e--)if(Bs(kc,this)[e].type!==t)return Bs(kc,this).splice(e+1,Bs(Ec,this)-e),void js(Ec,this,e);Bs(kc,this).length=0,js(Ec,this,-1)}}destroy(){js(kc,this,null)}}var Mc=new WeakSet;class Tc{constructor(t){Ls(this,Mc),this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=al.platform;for(const[n,i,r={}]of t)for(const t of n){const n=t.startsWith("mac+");e&&n?(this.callbacks.set(t.slice(4),{callback:i,options:r}),this.allKeys.add(t.split("+").at(-1))):e||n||(this.callbacks.set(t,{callback:i,options:r}),this.allKeys.add(t.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const n=this.callbacks.get(Fs(Mc,this,Pc).call(this,e));if(!n)return;const{callback:i,options:{bubbles:r=!1,args:a=[],checker:s=null}}=n;s&&!s(t,e)||(i.bind(t,...a,e)(),r||Ml(e))}}function Pc(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e}class Rc{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return function(t){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const n of t.keys()){e.style.color=n;const i=window.getComputedStyle(e).color;t.set(n,Rl(i))}e.remove()}(t),Ko(this,"_colors",t)}convert(t){const e=Rl(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[n,i]of this._colors)if(i.every(((t,n)=>t===e[n])))return Rc._colorsMapping.get(n);return e}getHexCode(t){const e=this._colors.get(t);return e?ol.makeHexColor(...e):t}}c(Rc,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));var Dc=new WeakMap,Nc=new WeakMap,Lc=new WeakMap,Ic=new WeakMap,Fc=new WeakMap,Oc=new WeakMap,Bc=new WeakMap,jc=new WeakMap,Wc=new WeakMap,zc=new WeakMap,Uc=new WeakMap,Hc=new WeakMap,Vc=new WeakMap,Gc=new WeakMap,qc=new WeakMap,Xc=new WeakMap,Yc=new WeakMap,Kc=new WeakMap,Qc=new WeakMap,$c=new WeakMap,Jc=new WeakMap,Zc=new WeakMap,tu=new WeakMap,eu=new WeakMap,nu=new WeakMap,iu=new WeakMap,ru=new WeakMap,au=new WeakMap,su=new WeakMap,ou=new WeakMap,lu=new WeakMap,cu=new WeakMap,uu=new WeakMap,hu=new WeakMap,du=new WeakMap,fu=new WeakMap,pu=new WeakMap,gu=new WeakMap,mu=new WeakMap,vu=new WeakMap,yu=new WeakMap,bu=new WeakMap,wu=new WeakMap,xu=new WeakMap,_u=new WeakMap,ku=new WeakMap,Su=new WeakMap,Au=new WeakMap,Eu=new WeakMap,Cu=new WeakSet;class Mu{static get _keyboardManager(){const t=Mu.prototype,e=t=>Bs(ku,t).contains(document.activeElement)&&"BUTTON"!==document.activeElement.tagName&&t.hasSomethingToControl(),n=(t,e)=>{let{target:n}=e;if(n instanceof HTMLInputElement){const{type:t}=n;return"text"!==t&&"number"!==t}return!0},i=this.TRANSLATE_SMALL,r=this.TRANSLATE_BIG;return Ko(this,"_keyboardManager",new Tc([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],t.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:n}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(t,e)=>{let{target:n}=e;return!(n instanceof HTMLButtonElement)&&Bs(ku,t).contains(n)&&!t.isEnterHandled}}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(t,e)=>{let{target:n}=e;return!(n instanceof HTMLButtonElement)&&Bs(ku,t).contains(document.activeElement)}}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-i,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[i,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-i],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,i],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}]]))}constructor(t,e,n,i,r,a,s,o,l,u,h,d,f,p,g,m){Ls(this,Cu),Is(this,Dc,new AbortController),Is(this,Nc,null),Is(this,Lc,null),Is(this,Ic,new Map),Is(this,Fc,new Map),Is(this,Oc,null),Is(this,Bc,null),Is(this,jc,null),Is(this,Wc,new Cc),Is(this,zc,null),Is(this,Uc,null),Is(this,Hc,null),Is(this,Vc,0),Is(this,Gc,new Set),Is(this,qc,null),Is(this,Xc,null),Is(this,Yc,new Set),c(this,"_editorUndoBar",null),Is(this,Kc,!1),Is(this,Qc,!1),Is(this,$c,!1),Is(this,Jc,null),Is(this,Zc,null),Is(this,tu,null),Is(this,eu,null),Is(this,nu,!1),Is(this,iu,null),Is(this,ru,new mc),Is(this,au,!1),Is(this,su,!1),Is(this,ou,!1),Is(this,lu,null),Is(this,cu,null),Is(this,uu,null),Is(this,hu,null),Is(this,du,null),Is(this,fu,bo.NONE),Is(this,pu,new Set),Is(this,gu,null),Is(this,mu,null),Is(this,vu,null),Is(this,yu,null),Is(this,bu,null),Is(this,wu,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1}),Is(this,xu,[0,0]),Is(this,_u,null),Is(this,ku,null),Is(this,Su,null),Is(this,Au,null),Is(this,Eu,null);const v=this._signal=Bs(Dc,this).signal;js(ku,this,t),js(Su,this,e),js(Au,this,n),js(Oc,this,i),js(zc,this,r),js(mu,this,a),js(bu,this,o),this._eventBus=s,s._on("editingaction",this.onEditingAction.bind(this),{signal:v}),s._on("pagechanging",this.onPageChanging.bind(this),{signal:v}),s._on("scalechanging",this.onScaleChanging.bind(this),{signal:v}),s._on("rotationchanging",this.onRotationChanging.bind(this),{signal:v}),s._on("setpreference",this.onSetPreference.bind(this),{signal:v}),s._on("switchannotationeditorparams",(t=>this.updateParams(t.type,t.value)),{signal:v}),window.addEventListener("pointerdown",(()=>{js(su,this,!0)}),{capture:!0,signal:v}),window.addEventListener("pointerup",(()=>{js(su,this,!1)}),{capture:!0,signal:v}),Fs(Cu,this,Lu).call(this),Fs(Cu,this,zu).call(this),Fs(Cu,this,Ou).call(this),js(Bc,this,o.annotationStorage),js(Jc,this,o.filterFactory),js(vu,this,l),js(eu,this,u||null),js(Kc,this,h),js(Qc,this,d),js($c,this,f),js(du,this,p||null),this.viewParameters={realScale:bl.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=g||null,this._supportsPinchToZoom=!1!==m,null===r||void 0===r||r.setSidebarUiManager(this)}destroy(){var t,e,n,i,r,a,s,o,l;null===(t=Bs(Eu,this))||void 0===t||t.resolve(),js(Eu,this,null),null===(e=Bs(Dc,this))||void 0===e||e.abort(),js(Dc,this,null),this._signal=null;for(const c of Bs(Fc,this).values())c.destroy();Bs(Fc,this).clear(),Bs(Ic,this).clear(),Bs(Yc,this).clear(),null===(n=Bs(hu,this))||void 0===n||n.clear(),js(Nc,this,null),Bs(pu,this).clear(),Bs(Wc,this).destroy(),null===(i=Bs(Oc,this))||void 0===i||i.destroy(),null===(r=Bs(zc,this))||void 0===r||r.destroy(),null===(a=Bs(mu,this))||void 0===a||a.destroy(),null===(s=Bs(iu,this))||void 0===s||s.hide(),js(iu,this,null),null===(o=Bs(uu,this))||void 0===o||o.destroy(),js(uu,this,null),js(Lc,this,null),Bs(Zc,this)&&(clearTimeout(Bs(Zc,this)),js(Zc,this,null)),Bs(_u,this)&&(clearTimeout(Bs(_u,this)),js(_u,this,null)),null===(l=this._editorUndoBar)||void 0===l||l.destroy(),js(bu,this,null)}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return Bs(du,this)}get useNewAltTextFlow(){return Bs(Qc,this)}get useNewAltTextWhenAddingImage(){return Bs($c,this)}get hcmFilter(){return Ko(this,"hcmFilter",Bs(vu,this)?Bs(Jc,this).addHCMFilter(Bs(vu,this).foreground,Bs(vu,this).background):"none")}get direction(){return Ko(this,"direction",getComputedStyle(Bs(ku,this)).direction)}get _highlightColors(){return Ko(this,"_highlightColors",Bs(eu,this)?new Map(Bs(eu,this).split(",").map((t=>(t=t.split("=").map((t=>t.trim())),t[1]=t[1].toUpperCase(),t)))):null)}get highlightColors(){const{_highlightColors:t}=this;if(!t)return Ko(this,"highlightColors",null);const e=new Map,n=!!Bs(vu,this);for(const[i,r]of t){const t=i.endsWith("_HCM");n&&t?e.set(i.replace("_HCM",""),r):n||t||e.set(i,r)}return Ko(this,"highlightColors",e)}get highlightColorNames(){return Ko(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,(t=>t.reverse()))):null)}getNonHCMColor(t){if(!this._highlightColors)return t;const e=this.highlightColorNames.get(t);return this._highlightColors.get(e)||t}getNonHCMColorName(t){return this.highlightColorNames.get(t)||t}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),js(Hc,this,t)}setMainHighlightColorPicker(t){js(uu,this,t)}editAltText(t){var e;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];null===(e=Bs(Oc,this))||void 0===e||e.editAltText(this,t,n)}hasCommentManager(){return!!Bs(zc,this)}editComment(t,e,n,i){var r;null===(r=Bs(zc,this))||void 0===r||r.showDialog(this,t,e,n,i)}selectComment(t,e){const n=Bs(Fc,this).get(t),i=null===n||void 0===n?void 0:n.getEditorByUID(e);null===i||void 0===i||i.toggleComment(!0,!0)}updateComment(t){var e;null===(e=Bs(zc,this))||void 0===e||e.updateComment(t.getData())}updatePopupColor(t){var e;null===(e=Bs(zc,this))||void 0===e||e.updatePopupColor(t)}removeComment(t){var e;null===(e=Bs(zc,this))||void 0===e||e.removeComments([t.uid])}toggleComment(t,e){var n;let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;null===(n=Bs(zc,this))||void 0===n||n.toggleCommentPopup(t,e,i)}makeCommentColor(t,e){var n;return t&&(null===(n=Bs(zc,this))||void 0===n?void 0:n.makeCommentColor(t,e))||null}getCommentDialogElement(){var t;return(null===(t=Bs(zc,this))||void 0===t?void 0:t.dialogElement)||null}async waitForEditorsRendered(t){if(Bs(Fc,this).has(t-1))return;const{resolve:e,promise:n}=Promise.withResolvers(),i=n=>{n.pageNumber===t&&(this._eventBus._off("editorsrendered",i),e())};this._eventBus.on("editorsrendered",i),await n}getSignature(t){var e;null===(e=Bs(mu,this))||void 0===e||e.getSignature({uiManager:this,editor:t})}get signatureManager(){return Bs(mu,this)}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference(t){let{name:e,value:n}=t;if("enableNewAltTextWhenAddingImage"===e)js($c,this,n)}onPageChanging(t){let{pageNumber:e}=t;js(Vc,this,e-1)}focusMainContainer(){Bs(ku,this).focus()}findParent(t,e){for(const n of Bs(Fc,this).values()){const{x:i,y:r,width:a,height:s}=n.div.getBoundingClientRect();if(t>=i&&t<=i+a&&e>=r&&e<=r+s)return n}return null}disableUserSelect(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Bs(Su,this).classList.toggle("noUserSelect",t)}addShouldRescale(t){Bs(Yc,this).add(t)}removeShouldRescale(t){Bs(Yc,this).delete(t)}onScaleChanging(t){var e;let{scale:n}=t;this.commitOrRemove(),this.viewParameters.realScale=n*bl.PDF_TO_CSS_UNITS;for(const i of Bs(Yc,this))i.onScaleChanging();null===(e=Bs(Hc,this))||void 0===e||e.onScaleChanging()}onRotationChanging(t){let{pagesRotation:e}=t;this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:i,anchorOffset:r,focusNode:a,focusOffset:s}=n,o=n.toString(),l=Fs(Cu,this,Tu).call(this,n).closest(".textLayer"),c=this.getSelectionBoxes(l);if(!c)return;n.empty();const u=Fs(Cu,this,Pu).call(this,l),h=Bs(fu,this)===bo.NONE,d=()=>{const n=null===u||void 0===u?void 0:u.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:c,anchorNode:i,anchorOffset:r,focusNode:a,focusOffset:s,text:o});h&&this.showAllEditors("highlight",!0,!0),e&&(null===n||void 0===n||n.editComment())};h?this.switchToMode(bo.HIGHLIGHT,d):d()}commentSelection(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.highlightSelection(t,!0)}getAndRemoveDataFromAnnotationStorage(t){if(!Bs(Bc,this))return null;const e="".concat(yo).concat(t),n=Bs(Bc,this).getRawValue(e);return n&&Bs(Bc,this).remove(e),n}addToAnnotationStorage(t){t.isEmpty()||!Bs(Bc,this)||Bs(Bc,this).has(t.id)||Bs(Bc,this).setValue(t.id,t)}a11yAlert(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=Bs(Au,this);n&&(n.setAttribute("data-l10n-id",t),e?n.setAttribute("data-l10n-args",JSON.stringify(e)):n.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,Bs(nu,this)&&(js(nu,this,!1),Fs(Cu,this,Nu).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of Bs(pu,this))if(e.div.contains(t)){js(cu,this,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!Bs(cu,this))return;const[t,e]=Bs(cu,this);js(cu,this,null),e.addEventListener("focusin",(()=>{t._focusEventsAllowed=!0}),{once:!0,signal:this._signal}),e.focus()}addEditListeners(){Fs(Cu,this,Ou).call(this),Fs(Cu,this,ju).call(this)}removeEditListeners(){Fs(Cu,this,Bu).call(this),Fs(Cu,this,Wu).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const n of Bs(Xc,this))if(n.isHandlingMimeForPasting(e))return t.dataTransfer.dropEffect="copy",void t.preventDefault()}drop(t){for(const e of t.dataTransfer.items)for(const n of Bs(Xc,this))if(n.isHandlingMimeForPasting(e.type))return n.paste(e,this.currentLayer),void t.preventDefault()}copy(t){var e;if(t.preventDefault(),null===(e=Bs(Nc,this))||void 0===e||e.commitOrRemove(),!this.hasSelection)return;const n=[];for(const i of Bs(pu,this)){const t=i.serialize(!0);t&&n.push(t)}0!==n.length&&t.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const a of e.items)for(const t of Bs(Xc,this))if(t.isHandlingMimeForPasting(a.type))return void t.paste(a,this.currentLayer);let n=e.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(r){return void Vo('paste: "'.concat(r.message,'".'))}if(!Array.isArray(n))return;this.unselectAll();const i=this.currentLayer;try{const t=[];for(const a of n){const e=await i.deserialize(a);if(!e)return;t.push(e)}const e=()=>{for(const e of t)Fs(Cu,this,qu).call(this,e);Fs(Cu,this,Ku).call(this,t)},r=()=>{for(const e of t)e.remove()};this.addCommands({cmd:e,undo:r,mustExec:!0})}catch(r){Vo('paste: "'.concat(r.message,'".'))}}keydown(t){this.isShiftKeyDown||"Shift"!==t.key||(this.isShiftKeyDown=!0),Bs(fu,this)===bo.NONE||this.isEditorHandlingKeyboard||Mu._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&"Shift"===t.key&&(this.isShiftKeyDown=!1,Bs(nu,this)&&(js(nu,this,!1),Fs(Cu,this,Nu).call(this,"main_toolbar")))}onEditingAction(t){let{name:e}=t;switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu")}}setEditingState(t){t?(Fs(Cu,this,Iu).call(this),Fs(Cu,this,ju).call(this),Fs(Cu,this,Uu).call(this,{isEditing:Bs(fu,this)!==bo.NONE,isEmpty:Fs(Cu,this,Yu).call(this),hasSomethingToUndo:Bs(Wc,this).hasSomethingToUndo(),hasSomethingToRedo:Bs(Wc,this).hasSomethingToRedo(),hasSelectedEditor:!1})):(Fs(Cu,this,Fu).call(this),Fs(Cu,this,Wu).call(this),Fs(Cu,this,Uu).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!Bs(Xc,this)){js(Xc,this,t);for(const t of Bs(Xc,this))Fs(Cu,this,Hu).call(this,t.defaultPropertiesToUpdate)}}getId(){return Bs(ru,this).id}get currentLayer(){return Bs(Fc,this).get(Bs(Vc,this))}getLayer(t){return Bs(Fc,this).get(t)}get currentPageIndex(){return Bs(Vc,this)}addLayer(t){Bs(Fc,this).set(t.pageIndex,t),Bs(au,this)?t.enable():t.disable()}removeLayer(t){Bs(Fc,this).delete(t.pageIndex)}async updateMode(t){var e,n;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(Bs(fu,this)!==t&&(!Bs(Eu,this)||(await Bs(Eu,this).promise,Bs(Eu,this)))){var o,l;if(js(Eu,this,Promise.withResolvers()),null===(e=Bs(Hc,this))||void 0===e||e.commitOrRemove(),Bs(fu,this)===bo.POPUP)null===(o=Bs(zc,this))||void 0===o||o.hideSidebar();if(null===(n=Bs(zc,this))||void 0===n||n.destroyPopup(),js(fu,this,t),t===bo.NONE){var c;this.setEditingState(!1),Fs(Cu,this,Gu).call(this);for(const t of Bs(Ic,this).values())t.hideStandaloneCommentButton();return null===(c=this._editorUndoBar)||void 0===c||c.hide(),this.toggleComment(null),void Bs(Eu,this).resolve()}for(const t of Bs(Ic,this).values())t.addStandaloneCommentButton();if(t===bo.SIGNATURE)await(null===(l=Bs(mu,this))||void 0===l?void 0:l.loadSignatures());this.setEditingState(!0),await Fs(Cu,this,Vu).call(this),this.unselectAll();for(const e of Bs(Fc,this).values())e.updateMode(t);if(t===bo.POPUP){var u;Bs(Lc,this)||js(Lc,this,await Bs(bu,this).getAnnotationsByType(new Set(Bs(Xc,this).map((t=>t._editorType)))));const t=new Set,e=[];for(const n of Bs(Ic,this).values()){const{annotationElementId:i,hasComment:r,deleted:a}=n;i&&t.add(i),r&&!a&&e.push(n.getData())}for(const n of Bs(Lc,this)){const{id:i,popupRef:r,contentsObj:a}=n;r&&null!==a&&void 0!==a&&a.str&&!t.has(i)&&!Bs(Gc,this).has(i)&&e.push(n)}null===(u=Bs(zc,this))||void 0===u||u.showSidebar(e)}if(!i)return r&&this.addNewEditorFromKeyboard(),void Bs(Eu,this).resolve();for(const t of Bs(Ic,this).values())t.uid===i?(this.setSelected(t),s?t.editComment():a?t.enterInEditMode():t.focus()):t.unselect();Bs(Eu,this).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==Bs(fu,this)&&this._eventBus.dispatch("switchannotationeditormode",h({source:this},t))}updateParams(t,e){if(Bs(Xc,this)){switch(t){case wo.CREATE:return void this.currentLayer.addNewEditor(e);case wo.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(Bs(yu,this)||js(yu,this,new Map)).set(t,e),this.showAllEditors("highlight",e)}if(this.hasSelection)for(const n of Bs(pu,this))n.updateParams(t,e);else for(const n of Bs(Xc,this))n.updateDefaultParams(t,e)}}showAllEditors(t,e){var n,i;for(const r of Bs(Ic,this).values())r.editorType===t&&r.show(e);(null===(n=null===(i=Bs(yu,this))||void 0===i?void 0:i.get(wo.HIGHLIGHT_SHOW_ALL))||void 0===n||n)!==e&&Fs(Cu,this,Hu).call(this,[[wo.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(Bs(ou,this)!==t){js(ou,this,t);for(const e of Bs(Fc,this).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}*getEditors(t){for(const e of Bs(Ic,this).values())e.pageIndex===t&&(yield e)}getEditor(t){return Bs(Ic,this).get(t)}addEditor(t){Bs(Ic,this).set(t.id,t)}removeEditor(t){var e,n;(t.div.contains(document.activeElement)&&(Bs(Zc,this)&&clearTimeout(Bs(Zc,this)),js(Zc,this,setTimeout((()=>{this.focusMainContainer(),js(Zc,this,null)}),0))),Bs(Ic,this).delete(t.id),t.annotationElementId)&&(null===(e=Bs(hu,this))||void 0===e||e.delete(t.annotationElementId));(this.unselect(t),t.annotationElementId&&Bs(Gc,this).has(t.annotationElementId))||(null===(n=Bs(Bc,this))||void 0===n||n.remove(t.id))}addDeletedAnnotationElement(t){Bs(Gc,this).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return Bs(Gc,this).has(t)}removeDeletedAnnotationElement(t){Bs(Gc,this).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){Bs(Nc,this)!==t&&(js(Nc,this,t),t&&Fs(Cu,this,Hu).call(this,t.propertiesToUpdate))}updateUI(t){Os(Cu,this,Xu)===t&&Fs(Cu,this,Hu).call(this,t.propertiesToUpdate)}updateUIForDefaultProperties(t){Fs(Cu,this,Hu).call(this,t.defaultPropertiesToUpdate)}toggleSelected(t){if(Bs(pu,this).has(t))return Bs(pu,this).delete(t),t.unselect(),void Fs(Cu,this,Uu).call(this,{hasSelectedEditor:this.hasSelection});Bs(pu,this).add(t),t.select(),Fs(Cu,this,Hu).call(this,t.propertiesToUpdate),Fs(Cu,this,Uu).call(this,{hasSelectedEditor:!0})}setSelected(t){var e;this.updateToolbar({mode:t.mode,editId:t.id}),null===(e=Bs(Hc,this))||void 0===e||e.commitOrRemove();for(const n of Bs(pu,this))n!==t&&n.unselect();Bs(pu,this).clear(),Bs(pu,this).add(t),t.select(),Fs(Cu,this,Hu).call(this,t.propertiesToUpdate),Fs(Cu,this,Uu).call(this,{hasSelectedEditor:!0})}isSelected(t){return Bs(pu,this).has(t)}get firstSelectedEditor(){return Bs(pu,this).values().next().value}unselect(t){t.unselect(),Bs(pu,this).delete(t),Fs(Cu,this,Uu).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==Bs(pu,this).size}get isEnterHandled(){return 1===Bs(pu,this).size&&this.firstSelectedEditor.isEnterHandled}undo(){var t;Bs(Wc,this).undo(),Fs(Cu,this,Uu).call(this,{hasSomethingToUndo:Bs(Wc,this).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Fs(Cu,this,Yu).call(this)}),null===(t=this._editorUndoBar)||void 0===t||t.hide()}redo(){Bs(Wc,this).redo(),Fs(Cu,this,Uu).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:Bs(Wc,this).hasSomethingToRedo(),isEmpty:Fs(Cu,this,Yu).call(this)})}addCommands(t){Bs(Wc,this).add(t),Fs(Cu,this,Uu).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Fs(Cu,this,Yu).call(this)})}cleanUndoStack(t){Bs(Wc,this).cleanType(t)}delete(){var t;this.commitOrRemove();const e=null===(t=this.currentLayer)||void 0===t?void 0:t.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const n=e?[e]:[...Bs(pu,this)],i=()=>{for(const t of n)Fs(Cu,this,qu).call(this,t)};this.addCommands({cmd:()=>{var t;null===(t=this._editorUndoBar)||void 0===t||t.show(i,1===n.length?n[0].editorType:n.length);for(const e of n)e.remove()},undo:i,mustExec:!0})}commitOrRemove(){var t;null===(t=Bs(Nc,this))||void 0===t||t.commitOrRemove()}hasSomethingToControl(){return Bs(Nc,this)||this.hasSelection}selectAll(){for(const t of Bs(pu,this))t.commit();Fs(Cu,this,Ku).call(this,Bs(Ic,this).values())}unselectAll(){var t;if((!Bs(Nc,this)||(Bs(Nc,this).commitOrRemove(),Bs(fu,this)===bo.NONE))&&(null===(t=Bs(Hc,this))||void 0===t||!t.commitOrRemove())&&this.hasSelection){for(const t of Bs(pu,this))t.unselect();Bs(pu,this).clear(),Fs(Cu,this,Uu).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]||this.commitOrRemove(),!this.hasSelection)return;Bs(xu,this)[0]+=t,Bs(xu,this)[1]+=e;const[n,i]=Bs(xu,this),r=[...Bs(pu,this)];Bs(_u,this)&&clearTimeout(Bs(_u,this)),js(_u,this,setTimeout((()=>{js(_u,this,null),Bs(xu,this)[0]=Bs(xu,this)[1]=0,this.addCommands({cmd:()=>{for(const t of r)Bs(Ic,this).has(t.id)&&(t.translateInPage(n,i),t.translationDone())},undo:()=>{for(const t of r)Bs(Ic,this).has(t.id)&&(t.translateInPage(-n,-i),t.translationDone())},mustExec:!1})}),1e3));for(const a of r)a.translateInPage(t,e),a.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),js(qc,this,new Map);for(const t of Bs(pu,this))Bs(qc,this).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!Bs(qc,this))return!1;this.disableUserSelect(!1);const t=Bs(qc,this);js(qc,this,null);let e=!1;for(const[{x:i,y:r,pageIndex:a},s]of t)s.newX=i,s.newY=r,s.newPageIndex=a,e||(e=i!==s.savedX||r!==s.savedY||a!==s.savedPageIndex);if(!e)return!1;const n=(t,e,n,i)=>{if(Bs(Ic,this).has(t.id)){const r=Bs(Fc,this).get(i);r?t._setParentAndPosition(r,e,n):(t.pageIndex=i,t.x=e,t.y=n)}};return this.addCommands({cmd:()=>{for(const[e,{newX:i,newY:r,newPageIndex:a}]of t)n(e,i,r,a)},undo:()=>{for(const[e,{savedX:i,savedY:r,savedPageIndex:a}]of t)n(e,i,r,a)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(Bs(qc,this))for(const n of Bs(qc,this).keys())n.drag(t,e)}rebuild(t){if(null===t.parent){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return(null===(t=this.getActive())||void 0===t?void 0:t.shouldGetKeyboardEvents())||1===Bs(pu,this).size&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return Bs(Nc,this)===t}getActive(){return Bs(Nc,this)}getMode(){return Bs(fu,this)}isEditingMode(){return Bs(fu,this)!==bo.NONE}get imageManager(){return Ko(this,"imageManager",new xc)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let l=0,c=e.rangeCount;l<c;l++)if(!t.contains(e.getRangeAt(l).commonAncestorContainer))return null;const{x:n,y:i,width:r,height:a}=t.getBoundingClientRect();let s;switch(t.getAttribute("data-main-rotation")){case"90":s=(t,e,s,o)=>({x:(e-i)/a,y:1-(t+s-n)/r,width:o/a,height:s/r});break;case"180":s=(t,e,s,o)=>({x:1-(t+s-n)/r,y:1-(e+o-i)/a,width:s/r,height:o/a});break;case"270":s=(t,e,s,o)=>({x:1-(e+o-i)/a,y:(t-n)/r,width:o/a,height:s/r});break;default:s=(t,e,s,o)=>({x:(t-n)/r,y:(e-i)/a,width:s/r,height:o/a})}const o=[];for(let l=0,c=e.rangeCount;l<c;l++){const t=e.getRangeAt(l);if(!t.collapsed)for(const{x:e,y:n,width:i,height:r}of t.getClientRects())0!==i&&0!==r&&o.push(s(e,n,i,r))}return 0===o.length?null:o}addChangedExistingAnnotation(t){let{annotationElementId:e,id:n}=t;(Bs(jc,this)||js(jc,this,new Map)).set(e,n)}removeChangedExistingAnnotation(t){var e;let{annotationElementId:n}=t;null===(e=Bs(jc,this))||void 0===e||e.delete(n)}renderAnnotationElement(t){var e;const n=null===(e=Bs(jc,this))||void 0===e?void 0:e.get(t.data.id);if(!n)return;const i=Bs(Bc,this).getRawValue(n);i&&(Bs(fu,this)!==bo.NONE||i.hasBeenModified)&&i.renderAnnotationElement(t)}setMissingCanvas(t,e,n){var i;const r=null===(i=Bs(hu,this))||void 0===i?void 0:i.get(t);r&&(r.setCanvas(e,n),Bs(hu,this).delete(t))}addMissingCanvas(t,e){(Bs(hu,this)||js(hu,this,new Map)).set(t,e)}}function Tu(t){let{anchorNode:e}=t;return e.nodeType===Node.TEXT_NODE?e.parentElement:e}function Pu(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const n of Bs(Fc,this).values())if(n.hasTextLayer(t))return n;return null}function Ru(){const t=document.getSelection();if(!t||t.isCollapsed)return;const e=Fs(Cu,this,Tu).call(this,t).closest(".textLayer"),n=this.getSelectionBoxes(e);n&&(Bs(iu,this)||js(iu,this,new uc(this)),Bs(iu,this).show(e,n,"ltr"===this.direction))}function Du(){var t;const e=document.getSelection();if(!e||e.isCollapsed){var n;if(Bs(gu,this))null===(n=Bs(iu,this))||void 0===n||n.hide(),js(gu,this,null),Fs(Cu,this,Uu).call(this,{hasSelectedText:!1});return}const{anchorNode:i}=e;if(i===Bs(gu,this))return;const r=Fs(Cu,this,Tu).call(this,e).closest(".textLayer");var a;if(r){if(null===(t=Bs(iu,this))||void 0===t||t.hide(),js(gu,this,i),Fs(Cu,this,Uu).call(this,{hasSelectedText:!0}),(Bs(fu,this)===bo.HIGHLIGHT||Bs(fu,this)===bo.NONE)&&(Bs(fu,this)===bo.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),js(nu,this,this.isShiftKeyDown),!this.isShiftKeyDown)){const t=Bs(fu,this)===bo.HIGHLIGHT?Fs(Cu,this,Pu).call(this,r):null;if(null===t||void 0===t||t.toggleDrawing(),Bs(su,this)){const e=new AbortController,n=this.combinedSignal(e),i=n=>{"pointerup"===n.type&&0!==n.button||(e.abort(),null===t||void 0===t||t.toggleDrawing(!0),"pointerup"===n.type&&Fs(Cu,this,Nu).call(this,"main_toolbar"))};window.addEventListener("pointerup",i,{signal:n}),window.addEventListener("blur",i,{signal:n})}else null===t||void 0===t||t.toggleDrawing(!0),Fs(Cu,this,Nu).call(this,"main_toolbar")}}else Bs(gu,this)&&(null===(a=Bs(iu,this))||void 0===a||a.hide(),js(gu,this,null),Fs(Cu,this,Uu).call(this,{hasSelectedText:!1}))}function Nu(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";Bs(fu,this)===bo.HIGHLIGHT?this.highlightSelection(t):Bs(Kc,this)&&Fs(Cu,this,Ru).call(this)}function Lu(){document.addEventListener("selectionchange",Fs(Cu,this,Du).bind(this),{signal:this._signal})}function Iu(){if(Bs(tu,this))return;js(tu,this,new AbortController);const t=this.combinedSignal(Bs(tu,this));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})}function Fu(){var t;null===(t=Bs(tu,this))||void 0===t||t.abort(),js(tu,this,null)}function Ou(){if(Bs(lu,this))return;js(lu,this,new AbortController);const t=this.combinedSignal(Bs(lu,this));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})}function Bu(){var t;null===(t=Bs(lu,this))||void 0===t||t.abort(),js(lu,this,null)}function ju(){if(Bs(Uc,this))return;js(Uc,this,new AbortController);const t=this.combinedSignal(Bs(Uc,this));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})}function Wu(){var t;null===(t=Bs(Uc,this))||void 0===t||t.abort(),js(Uc,this,null)}function zu(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}function Uu(t){const e=Object.entries(t).some((t=>{let[e,n]=t;return Bs(wu,this)[e]!==n}));e&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(Bs(wu,this),t)}),Bs(fu,this)===bo.HIGHLIGHT&&!1===t.hasSelectedEditor&&Fs(Cu,this,Hu).call(this,[[wo.HIGHLIGHT_FREE,!0]]))}function Hu(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}async function Vu(){if(!Bs(au,this)){js(au,this,!0);const t=[];for(const e of Bs(Fc,this).values())t.push(e.enable());await Promise.all(t);for(const e of Bs(Ic,this).values())e.enable()}}function Gu(){if(this.unselectAll(),Bs(au,this)){js(au,this,!1);for(const t of Bs(Fc,this).values())t.disable();for(const t of Bs(Ic,this).values())t.disable()}}function qu(t){const e=Bs(Fc,this).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}function Xu(t){let e=null;for(e of Bs(pu,t));return e}function Yu(){if(0===Bs(Ic,this).size)return!0;if(1===Bs(Ic,this).size)for(const t of Bs(Ic,this).values())return t.isEmpty();return!1}function Ku(t){for(const e of Bs(pu,this))e.unselect();Bs(pu,this).clear();for(const e of t)e.isEmpty()||(Bs(pu,this).add(e),e.select());Fs(Cu,this,Uu).call(this,{hasSelectedEditor:this.hasSelection})}c(Mu,"TRANSLATE_SMALL",1),c(Mu,"TRANSLATE_BIG",10);var Qu=new WeakMap,$u=new WeakMap,Ju=new WeakMap,Zu=new WeakMap,th=new WeakMap,eh=new WeakMap,nh=new WeakMap,ih=new WeakMap,rh=new WeakMap,ah=new WeakMap,sh=new WeakMap,oh=new WeakMap,lh=new WeakSet;class ch{constructor(t){Ls(this,lh),Is(this,Qu,null),Is(this,$u,!1),Is(this,Ju,null),Is(this,Zu,null),Is(this,th,null),Is(this,eh,null),Is(this,nh,!1),Is(this,ih,null),Is(this,rh,null),Is(this,ah,null),Is(this,sh,null),Is(this,oh,!1),js(rh,this,t),js(oh,this,t._uiManager.useNewAltTextFlow),dh._||(dh._=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){var e;null!==(e=ch._l10n)&&void 0!==e||(ch._l10n=t)}async render(){const t=js(Ju,this,document.createElement("button"));t.className="altText",t.tabIndex="0";const e=js(Zu,this,document.createElement("span"));t.append(e),Bs(oh,this)?(t.classList.add("new"),t.setAttribute("data-l10n-id",dh._.missing),e.setAttribute("data-l10n-id",dh._["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=Bs(rh,this)._uiManager._signal;t.addEventListener("contextmenu",Cl,{signal:n}),t.addEventListener("pointerdown",(t=>t.stopPropagation()),{signal:n});const i=t=>{t.preventDefault(),Bs(rh,this)._uiManager.editAltText(Bs(rh,this)),Bs(oh,this)&&Bs(rh,this)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:Os(lh,this,uh)}})};return t.addEventListener("click",i,{capture:!0,signal:n}),t.addEventListener("keydown",(e=>{e.target===t&&"Enter"===e.key&&(js(nh,this,!0),i(e))}),{signal:n}),await Fs(lh,this,hh).call(this),t}finish(){Bs(Ju,this)&&(Bs(Ju,this).focus({focusVisible:Bs(nh,this)}),js(nh,this,!1))}isEmpty(){return Bs(oh,this)?null===Bs(Qu,this):!Bs(Qu,this)&&!Bs($u,this)}hasData(){return Bs(oh,this)?null!==Bs(Qu,this)||!!Bs(ah,this):this.isEmpty()}get guessedText(){return Bs(ah,this)}async setGuessedText(t){null===Bs(Qu,this)&&(js(ah,this,t),js(sh,this,await ch._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),Fs(lh,this,hh).call(this))}toggleAltTextBadge(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e;if(!Bs(oh,this)||Bs(Qu,this))return null===(e=Bs(ih,this))||void 0===e||e.remove(),void js(ih,this,null);if(!Bs(ih,this)){const t=js(ih,this,document.createElement("div"));t.className="noAltTextBadge",Bs(rh,this).div.append(t)}Bs(ih,this).classList.toggle("hidden",!t)}serialize(t){let e=Bs(Qu,this);return t||Bs(ah,this)!==e||(e=Bs(sh,this)),{altText:e,decorative:Bs($u,this),guessedText:Bs(ah,this),textWithDisclaimer:Bs(sh,this)}}get data(){return{altText:Bs(Qu,this),decorative:Bs($u,this)}}set data(t){let{altText:e,decorative:n,guessedText:i,textWithDisclaimer:r,cancel:a=!1}=t;i&&(js(ah,this,i),js(sh,this,r)),Bs(Qu,this)===e&&Bs($u,this)===n||(a||(js(Qu,this,e),js($u,this,n)),Fs(lh,this,hh).call(this))}toggle(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Bs(Ju,this)&&(!t&&Bs(eh,this)&&(clearTimeout(Bs(eh,this)),js(eh,this,null)),Bs(Ju,this).disabled=!t)}shown(){Bs(rh,this)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:Os(lh,this,uh)}})}destroy(){var t,e;null===(t=Bs(Ju,this))||void 0===t||t.remove(),js(Ju,this,null),js(Zu,this,null),js(th,this,null),null===(e=Bs(ih,this))||void 0===e||e.remove(),js(ih,this,null)}}function uh(t){return(Bs(Qu,t)?"added":null===Bs(Qu,t)&&t.guessedText&&"review")||"missing"}async function hh(){const t=Bs(Ju,this);if(!t)return;if(Bs(oh,this)){var e,n;if(t.classList.toggle("done",!!Bs(Qu,this)),t.setAttribute("data-l10n-id",dh._[Os(lh,this,uh)]),null===(e=Bs(Zu,this))||void 0===e||e.setAttribute("data-l10n-id",dh._["".concat(Os(lh,this,uh),"-label")]),!Bs(Qu,this))return void(null===(n=Bs(th,this))||void 0===n||n.remove())}else{var i;if(!Bs(Qu,this)&&!Bs($u,this))return t.classList.remove("done"),void(null===(i=Bs(th,this))||void 0===i||i.remove());t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let r=Bs(th,this);if(!r){js(th,this,r=document.createElement("span")),r.className="tooltip",r.setAttribute("role","tooltip"),r.id="alt-text-tooltip-".concat(Bs(rh,this).id);const e=100,n=Bs(rh,this)._uiManager._signal;n.addEventListener("abort",(()=>{clearTimeout(Bs(eh,this)),js(eh,this,null)}),{once:!0}),t.addEventListener("mouseenter",(()=>{js(eh,this,setTimeout((()=>{js(eh,this,null),Bs(th,this).classList.add("show"),Bs(rh,this)._reportTelemetry({action:"alt_text_tooltip"})}),e))}),{signal:n}),t.addEventListener("mouseleave",(()=>{var t;Bs(eh,this)&&(clearTimeout(Bs(eh,this)),js(eh,this,null)),null===(t=Bs(th,this))||void 0===t||t.classList.remove("show")}),{signal:n})}Bs($u,this)?r.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(r.removeAttribute("data-l10n-id"),r.textContent=Bs(Qu,this)),r.parentNode||t.append(r);const a=Bs(rh,this).getElementForAltText();null===a||void 0===a||a.setAttribute("aria-describedby",r.id)}var dh={_:null};c(ch,"_l10n",null);var fh=new WeakMap,ph=new WeakMap,gh=new WeakMap,mh=new WeakMap,vh=new WeakMap,yh=new WeakMap,bh=new WeakMap,wh=new WeakMap,xh=new WeakMap,_h=new WeakMap,kh=new WeakSet;class Sh{constructor(t){Ls(this,kh),Is(this,fh,null),Is(this,ph,null),Is(this,gh,!1),Is(this,mh,null),Is(this,vh,null),Is(this,yh,null),Is(this,bh,null),Is(this,wh,null),Is(this,xh,!1),Is(this,_h,null),js(mh,this,t)}renderForToolbar(){const t=js(ph,this,document.createElement("button"));return t.className="comment",Fs(kh,this,Ah).call(this,t,!1)}renderForStandalone(){const t=js(fh,this,document.createElement("button"));t.className="annotationCommentButton";const e=Bs(mh,this).commentButtonPosition;if(e){const{style:n}=t;n.insetInlineEnd="calc(".concat(100*("ltr"===Bs(mh,this)._uiManager.direction?1-e[0]:e[0]),"% - var(--comment-button-dim))"),n.top="calc(".concat(100*e[1],"% - var(--comment-button-dim))");const i=Bs(mh,this).commentButtonColor;i&&(n.backgroundColor=i)}return Fs(kh,this,Ah).call(this,t,!0)}focusButton(){setTimeout((()=>{var t,e;null===(t=null!==(e=Bs(fh,this))&&void 0!==e?e:Bs(ph,this))||void 0===t||t.focus()}),0)}onUpdatedColor(){if(!Bs(fh,this))return;const t=Bs(mh,this).commentButtonColor;t&&(Bs(fh,this).style.backgroundColor=t),Bs(mh,this)._uiManager.updatePopupColor(Bs(mh,this))}get commentButtonWidth(){var t,e;return(null!==(t=null===(e=Bs(fh,this))||void 0===e?void 0:e.getBoundingClientRect().width)&&void 0!==t?t:0)/Bs(mh,this).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(Bs(_h,this))return Bs(_h,this);if(!Bs(fh,this))return null;const{x:t,y:e,height:n}=Bs(fh,this).getBoundingClientRect(),{x:i,y:r,width:a,height:s}=Bs(mh,this).parent.boundingClientRect;return[(t-i)/a,(e+n-r)/s]}set commentPopupPositionInLayer(t){js(_h,this,t)}hasDefaultPopupPosition(){return null===Bs(_h,this)}removeStandaloneCommentButton(){var t;null===(t=Bs(fh,this))||void 0===t||t.remove(),js(fh,this,null)}removeToolbarCommentButton(){var t;null===(t=Bs(ph,this))||void 0===t||t.remove(),js(ph,this,null)}setCommentButtonStates(t){let{selected:e,hasPopup:n}=t;Bs(fh,this)&&(Bs(fh,this).classList.toggle("selected",e),Bs(fh,this).ariaExpanded=n)}edit(t){const e=this.commentPopupPositionInLayer;let n,i;if(e)[n,i]=e;else{[n,i]=Bs(mh,this).commentButtonPosition;const{width:t,height:e,x:r,y:a}=Bs(mh,this);n=r+n*t,i=a+i*e}const r=Bs(mh,this).parent.boundingClientRect,{x:a,y:s,width:o,height:l}=r;Bs(mh,this)._uiManager.editComment(Bs(mh,this),a+n*o,s+i*l,h(h({},t),{},{parentDimensions:r}))}finish(){Bs(ph,this)&&(Bs(ph,this).focus({focusVisible:Bs(gh,this)}),js(gh,this,!1))}isDeleted(){return Bs(xh,this)||""===Bs(bh,this)}isEmpty(){return null===Bs(bh,this)}hasBeenEdited(){return this.isDeleted()||Bs(bh,this)!==Bs(vh,this)}serialize(){return this.data}get data(){return{text:Bs(bh,this),richText:Bs(yh,this),date:Bs(wh,this),deleted:this.isDeleted()}}set data(t){if(t!==Bs(bh,this)&&js(yh,this,null),null===t)return js(bh,this,""),void js(xh,this,!0);js(bh,this,t),js(wh,this,new Date),js(xh,this,!1)}setInitialText(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;js(vh,this,t),this.data=t,js(wh,this,null),js(yh,this,e)}shown(){}destroy(){var t,e;null===(t=Bs(ph,this))||void 0===t||t.remove(),js(ph,this,null),null===(e=Bs(fh,this))||void 0===e||e.remove(),js(fh,this,null),js(bh,this,""),js(yh,this,null),js(wh,this,null),js(mh,this,null),js(gh,this,!1),js(xh,this,!1)}}function Ah(t,e){if(!Bs(mh,this)._uiManager.hasCommentManager())return null;t.tabIndex="0",t.ariaHasPopup="dialog",e?(t.ariaControls="commentPopup",t.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(t.ariaControlsElements=[Bs(mh,this)._uiManager.getCommentDialogElement()],t.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button"));const n=Bs(mh,this)._uiManager._signal;if(!(n instanceof AbortSignal)||n.aborted)return t;t.addEventListener("contextmenu",Cl,{signal:n}),e&&(t.addEventListener("focusin",(t=>{Bs(mh,this)._focusEventsAllowed=!1,Ml(t)}),{capture:!0,signal:n}),t.addEventListener("focusout",(t=>{Bs(mh,this)._focusEventsAllowed=!0,Ml(t)}),{capture:!0,signal:n})),t.addEventListener("pointerdown",(t=>t.stopPropagation()),{signal:n});const i=e=>{e.preventDefault(),t===Bs(ph,this)?this.edit():Bs(mh,this).toggleComment(!0)};return t.addEventListener("click",i,{capture:!0,signal:n}),t.addEventListener("keydown",(e=>{e.target===t&&"Enter"===e.key&&(js(gh,this,!0),i(e))}),{signal:n}),t.addEventListener("pointerenter",(()=>{Bs(mh,this).toggleComment(!1,!0)}),{signal:n}),t.addEventListener("pointerleave",(()=>{Bs(mh,this).toggleComment(!1,!1)}),{signal:n}),t}var Eh=new WeakMap,Ch=new WeakMap,Mh=new WeakMap,Th=new WeakMap,Ph=new WeakMap,Rh=new WeakMap,Dh=new WeakMap,Nh=new WeakMap,Lh=new WeakMap,Ih=new WeakMap,Fh=new WeakMap,Oh=new WeakMap,Bh=new WeakSet;class jh{constructor(t){let{container:e,isPinchingDisabled:n=null,isPinchingStopped:i=null,onPinchStart:r=null,onPinching:a=null,onPinchEnd:s=null,signal:o}=t;Ls(this,Bh),Is(this,Eh,void 0),Is(this,Ch,!1),Is(this,Mh,null),Is(this,Th,void 0),Is(this,Ph,void 0),Is(this,Rh,void 0),Is(this,Dh,void 0),Is(this,Nh,null),Is(this,Lh,void 0),Is(this,Ih,null),Is(this,Fh,void 0),Is(this,Oh,null),js(Eh,this,e),js(Mh,this,i),js(Th,this,n),js(Ph,this,r),js(Rh,this,a),js(Dh,this,s),js(Fh,this,new AbortController),js(Lh,this,AbortSignal.any([o,Bs(Fh,this).signal])),e.addEventListener("touchstart",Fs(Bh,this,Wh).bind(this),{passive:!1,signal:Bs(Lh,this)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Il.pixelRatio}destroy(){var t,e;null===(t=Bs(Fh,this))||void 0===t||t.abort(),js(Fh,this,null),null===(e=Bs(Nh,this))||void 0===e||e.abort(),js(Nh,this,null)}}function Wh(t){var e,n;if(null!==(e=Bs(Th,this))&&void 0!==e&&e.call(this))return;if(1===t.touches.length){if(Bs(Nh,this))return;const t=js(Nh,this,new AbortController),e=AbortSignal.any([Bs(Lh,this),t.signal]),n=Bs(Eh,this),i={capture:!0,signal:e,passive:!1},r=t=>{var e;"touch"===t.pointerType&&(null===(e=Bs(Nh,this))||void 0===e||e.abort(),js(Nh,this,null))};return n.addEventListener("pointerdown",(t=>{"touch"===t.pointerType&&(Ml(t),r(t))}),i),n.addEventListener("pointerup",r,i),void n.addEventListener("pointercancel",r,i)}if(!Bs(Oh,this)){var i;js(Oh,this,new AbortController);const t=AbortSignal.any([Bs(Lh,this),Bs(Oh,this).signal]),e=Bs(Eh,this),n={signal:t,capture:!1,passive:!1};e.addEventListener("touchmove",Fs(Bh,this,zh).bind(this),n);const r=Fs(Bh,this,Uh).bind(this);e.addEventListener("touchend",r,n),e.addEventListener("touchcancel",r,n),n.capture=!0,e.addEventListener("pointerdown",Ml,n),e.addEventListener("pointermove",Ml,n),e.addEventListener("pointercancel",Ml,n),e.addEventListener("pointerup",Ml,n),null===(i=Bs(Ph,this))||void 0===i||i.call(this)}if(Ml(t),2!==t.touches.length||null!==(n=Bs(Mh,this))&&void 0!==n&&n.call(this))return void js(Ih,this,null);let[r,a]=t.touches;r.identifier>a.identifier&&([r,a]=[a,r]),js(Ih,this,{touch0X:r.screenX,touch0Y:r.screenY,touch1X:a.screenX,touch1Y:a.screenY})}function zh(t){var e;if(!Bs(Ih,this)||2!==t.touches.length)return;Ml(t);let[n,i]=t.touches;n.identifier>i.identifier&&([n,i]=[i,n]);const{screenX:r,screenY:a}=n,{screenX:s,screenY:o}=i,l=Bs(Ih,this),{touch0X:c,touch0Y:u,touch1X:h,touch1Y:d}=l,f=h-c,p=d-u,g=s-r,m=o-a,v=Math.hypot(g,m)||1,y=Math.hypot(f,p)||1;if(!Bs(Ch,this)&&Math.abs(y-v)<=Vs.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=r,l.touch0Y=a,l.touch1X=s,l.touch1Y=o,!Bs(Ch,this))return void js(Ch,this,!0);const b=[(r+s)/2,(a+o)/2];null===(e=Bs(Rh,this))||void 0===e||e.call(this,b,y,v)}function Uh(t){if(!(t.touches.length>=2)){var e;if(Bs(Oh,this))Bs(Oh,this).abort(),js(Oh,this,null),null===(e=Bs(Dh,this))||void 0===e||e.call(this);Bs(Ih,this)&&(Ml(t),js(Ih,this,null),js(Ch,this,!1))}}Vs=jh;var Hh=new WeakMap,Vh=new WeakMap,Gh=new WeakMap,qh=new WeakMap,Xh=new WeakMap,Yh=new WeakMap,Kh=new WeakMap,Qh=new WeakMap,$h=new WeakMap,Jh=new WeakMap,Zh=new WeakMap,td=new WeakMap,ed=new WeakMap,nd=new WeakMap,id=new WeakMap,rd=new WeakMap,ad=new WeakMap,sd=new WeakMap,od=new WeakMap,ld=new WeakMap,cd=new WeakMap,ud=new WeakMap,hd=new WeakMap,dd=new WeakMap,fd=new WeakMap,pd=new WeakMap,gd=new WeakSet;class md{static get _resizerKeyboardManager(){const t=md.prototype._resizeWithKeyboard,e=Mu.TRANSLATE_SMALL,n=Mu.TRANSLATE_BIG;return Ko(this,"_resizerKeyboardManager",new Tc([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,n]}],[["Escape","mac+Escape"],md.prototype._stopResizingWithKeyboard]]))}constructor(t){Ls(this,gd),Is(this,Hh,null),Is(this,Vh,null),Is(this,Gh,null),Is(this,qh,null),Is(this,Xh,null),Is(this,Yh,!1),Is(this,Kh,null),Is(this,Qh,""),Is(this,$h,null),Is(this,Jh,null),Is(this,Zh,null),Is(this,td,null),Is(this,ed,null),Is(this,nd,""),Is(this,id,!1),Is(this,rd,null),Is(this,ad,!1),Is(this,sd,!1),Is(this,od,!1),Is(this,ld,null),Is(this,cd,0),Is(this,ud,0),Is(this,hd,null),Is(this,dd,null),c(this,"isSelected",!1),c(this,"_isCopy",!1),c(this,"_editToolbar",null),c(this,"_initialOptions",Object.create(null)),c(this,"_initialData",null),c(this,"_isVisible",!0),c(this,"_uiManager",null),c(this,"_focusEventsAllowed",!0),Is(this,fd,!1),Is(this,pd,md._zIndex++),this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null,this.annotationElementId=t.annotationElementId||null,this.creationDate=t.creationDate||new Date,this.modificationDate=t.modificationDate||null;const{rotation:e,rawDims:{pageWidth:n,pageHeight:i,pageX:r,pageY:a}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,i],this.pageTranslation=[r,a];const[s,o]=this.parentDimensions;this.x=t.x/s,this.y=t.y/o,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Ko(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new Fd({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){var n;if(null!==(n=md._l10n)&&void 0!==n||(md._l10n=t),md._l10nResizer||(md._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),-1!==md._borderLineWidth)return;const i=getComputedStyle(document.documentElement);md._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){Go("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return Bs(fd,this)}set _isDraggable(t){var e;js(fd,this,t),null===(e=this.div)||void 0===e||e.classList.toggle("draggable",t)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(2*t),this.y+=this.width*t/(2*e);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(2*t),this.y-=this.width*t/(2*e);break;default:this.x-=this.width/2,this.y-=this.height/2}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=Bs(pd,this)}setParent(t){var e;null!==t?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):(Fs(gd,this,Id).call(this),null===(e=Bs(td,this))||void 0===e||e.remove(),js(td,this,null));this.parent=t}focusin(t){this._focusEventsAllowed&&(Bs(id,this)?js(id,this,!1):this.parent.setSelected(this))}focusout(t){var e;if(!this._focusEventsAllowed)return;if(!this.isAttachedToDOM)return;const n=t.relatedTarget;null!==n&&void 0!==n&&n.closest("#".concat(this.id))||(t.preventDefault(),null!==(e=this.parent)&&void 0!==e&&e.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,n,i){const[r,a]=this.parentDimensions;[n,i]=this.screenToPageTranslation(n,i),this.x=(t+n)/r,this.y=(e+i)/a,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[n,i]=this.parentDimensions;this.setAt(t*n,e*i,this.width*n,this.height*i),this._onTranslated()}translate(t,e){Fs(gd,this,vd).call(this,this.parentDimensions,t,e)}translateInPage(t,e){Bs(rd,this)||js(rd,this,[this.x,this.y,this.width,this.height]),Fs(gd,this,vd).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){Bs(rd,this)||js(rd,this,[this.x,this.y,this.width,this.height]);const{div:n,parentDimensions:[i,r]}=this;if(this.x+=t/i,this.y+=e/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:t,y:e}=this.div.getBoundingClientRect();this.parent.findNewParent(this,t,e)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:s}=this;const[o,l]=this.getBaseTranslation();a+=o,s+=l;const{style:c}=n;c.left="".concat((100*a).toFixed(2),"%"),c.top="".concat((100*s).toFixed(2),"%"),this._onTranslating(a,s),n.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!Bs(rd,this)&&(Bs(rd,this)[0]!==this.x||Bs(rd,this)[1]!==this.y)}get _hasBeenResized(){return!!Bs(rd,this)&&(Bs(rd,this)[2]!==this.width||Bs(rd,this)[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:n}=md,i=n/t,r=n/e;switch(this.rotation){case 90:return[-i,r];case 180:return[i,r];case 270:return[i,-r];default:return[-i,-r]}}get _mustFixPosition(){return!0}fixAndSetPosition(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.rotation;const{div:{style:e},pageDimensions:[n,i]}=this;let{x:r,y:a,width:s,height:o}=this;if(s*=n,o*=i,r*=n,a*=i,this._mustFixPosition)switch(t){case 0:r=pl(r,0,n-s),a=pl(a,0,i-o);break;case 90:r=pl(r,0,n-o),a=pl(a,s,i);break;case 180:r=pl(r,s,n),a=pl(a,o,i);break;case 270:r=pl(r,o,n),a=pl(a,0,i-s)}this.x=r/=n,this.y=a/=i;const[l,c]=this.getBaseTranslation();r+=l,a+=c,e.left="".concat((100*r).toFixed(2),"%"),e.top="".concat((100*a).toFixed(2),"%"),this.moveInDOM()}screenToPageTranslation(t,e){return yd.call(md,t,e,this.parentRotation)}pageTranslationToScreen(t,e){return yd.call(md,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,n]}=this;return[e*t,n*t]}setDims(){const{div:{style:t},width:e,height:n}=this;t.width="".concat((100*e).toFixed(2),"%"),t.height="".concat((100*n).toFixed(2),"%")}getInitialTranslation(){return[0,0]}_onResized(){}static _round(t){return Math.round(1e4*t)/1e4}_onResizing(){}altTextFinish(){var t;null===(t=Bs(Gh,this))||void 0===t||t.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||Bs(sd,this))return this._editToolbar;this._editToolbar=new Zl(this),this.div.append(this._editToolbar.render());const{toolbarButtons:t}=this;if(t)for(const[e,n]of t)await this._editToolbar.addButton(e,n);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){var t;null===(t=this._editToolbar)||void 0===t||t.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){var t;null===(t=this._editToolbar)||void 0===t||t.removeButton("comment")}removeEditToolbar(){var t,e;null===(t=this._editToolbar)||void 0===t||t.remove(),this._editToolbar=null,null===(e=Bs(Gh,this))||void 0===e||e.destroy()}addContainer(t){var e;const n=null===(e=this._editToolbar)||void 0===e?void 0:e.div;n?n.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return Bs(Gh,this)||(ch.initialize(md._l10n),js(Gh,this,new ch(this)),Bs(Hh,this)&&(Bs(Gh,this).data=Bs(Hh,this),js(Hh,this,null))),Bs(Gh,this)}get altTextData(){var t;return null===(t=Bs(Gh,this))||void 0===t?void 0:t.data}set altTextData(t){Bs(Gh,this)&&(Bs(Gh,this).data=t)}get guessedAltText(){var t;return null===(t=Bs(Gh,this))||void 0===t?void 0:t.guessedText}async setGuessedAltText(t){var e;await(null===(e=Bs(Gh,this))||void 0===e?void 0:e.setGuessedText(t))}serializeAltText(t){var e;return null===(e=Bs(Gh,this))||void 0===e?void 0:e.serialize(t)}hasAltText(){return!!Bs(Gh,this)&&!Bs(Gh,this).isEmpty()}hasAltTextData(){var t,e;return null!==(t=null===(e=Bs(Gh,this))||void 0===e?void 0:e.hasData())&&void 0!==t&&t}focusCommentButton(){var t;null===(t=Bs(qh,this))||void 0===t||t.focusButton()}addCommentButton(){return Bs(qh,this)||js(qh,this,new Sh(this))}addStandaloneCommentButton(){Bs(Xh,this)?this._uiManager.isEditingMode()&&Bs(Xh,this).classList.remove("hidden"):this.hasComment&&(js(Xh,this,Bs(qh,this).renderForStandalone()),this.div.append(Bs(Xh,this)))}removeStandaloneCommentButton(){Bs(qh,this).removeStandaloneCommentButton(),js(Xh,this,null)}hideStandaloneCommentButton(){var t;null===(t=Bs(Xh,this))||void 0===t||t.classList.add("hidden")}get comment(){var t;const{data:{richText:e,text:n,date:i,deleted:r}}=Bs(qh,this);return{text:n,richText:e,date:i,deleted:r,color:this.getNonHCMColor(),opacity:null!==(t=this.opacity)&&void 0!==t?t:1}}set comment(t){Bs(qh,this)||js(qh,this,new Sh(this)),Bs(qh,this).data=t,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData(t){let{comment:e,popupRef:n,richText:i}=t;if(!n)return;if(Bs(qh,this)||js(qh,this,new Sh(this)),Bs(qh,this).setInitialText(e,i),!this.annotationElementId)return;const r=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);r&&this.updateFromAnnotationLayer(r)}get hasEditedComment(){var t;return null===(t=Bs(qh,this))||void 0===t?void 0:t.hasBeenEdited()}get hasDeletedComment(){var t;return null===(t=Bs(qh,this))||void 0===t?void 0:t.isDeleted()}get hasComment(){return!!Bs(qh,this)&&!Bs(qh,this).isEmpty()&&!Bs(qh,this).isDeleted()}async editComment(t){Bs(qh,this)||js(qh,this,new Sh(this)),Bs(qh,this).edit(t)}toggleComment(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;this.hasComment&&this._uiManager.toggleComment(this,t,e)}setSelectedCommentButton(t){Bs(qh,this).setSelectedButton(t)}addComment(t){if(this.hasEditedComment){const e=180,n=100,[,,,i]=t.rect,[r]=this.pageDimensions,[a]=this.pageTranslation,s=a+r+1,o=i-n,l=s+e;t.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[s,o,l,i]}}}updateFromAnnotationLayer(t){let{popup:{contents:e,deleted:n}}=t;Bs(qh,this).data=n?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){var t;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=Bs(Yh,this)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),Fs(gd,this,Pd).call(this);const[n,i]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth="".concat((100*i/n).toFixed(2),"%"),e.style.maxHeight="".concat((100*n/i).toFixed(2),"%"));const[r,a]=this.getInitialTranslation();return this.translate(r,a),pc(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(Bs(dd,this)||js(dd,this,new jh({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:Fs(gd,this,Ad).bind(this),onPinching:Fs(gd,this,Ed).bind(this),onPinchEnd:Fs(gd,this,Cd).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),null===(t=this._uiManager._editorUndoBar)||void 0===t||t.hide(),e}pointerdown(t){const{isMac:e}=al.platform;0!==t.button||t.ctrlKey&&e?t.preventDefault():(js(id,this,!0),this._isDraggable?Fs(gd,this,Td).call(this,t):Fs(gd,this,Md).call(this,t))}_onStartDragging(){}_onStopDragging(){}moveInDOM(){Bs(ld,this)&&clearTimeout(Bs(ld,this)),js(ld,this,setTimeout((()=>{var t;js(ld,this,null),null===(t=this.parent)||void 0===t||t.moveEditorInDOM(this)}),0))}_setParentAndPosition(t,e,n){t.changeParent(this),this.x=e,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.rotation;const i=this.parentScale,[r,a]=this.pageDimensions,[s,o]=this.pageTranslation,l=t/i,c=e/i,u=this.x*r,h=this.y*a,d=this.width*r,f=this.height*a;switch(n){case 0:return[u+l+s,a-h-c-f+o,u+l+d+s,a-h-c+o];case 90:return[u+c+s,a-h+l+o,u+c+f+s,a-h+l+d+o];case 180:return[u-l-d+s,a-h+c+o,u-l+s,a-h+c+f+o];case 270:return[u-c-f+s,a-h-l-d+o,u-c+s,a-h-l+o];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[n,i,r,a]=t,s=r-n,o=a-i;switch(this.rotation){case 0:return[n,e-a,s,o];case 90:return[n,e-i,o,s];case 180:return[r,e-i,s,o];case 270:return[r,e-a,o,s];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&md._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){var t;null===(t=Bs(qh,this))||void 0===t||t.onUpdatedColor()}getData(){const{comment:{text:t,color:e,date:n,opacity:i,deleted:r,richText:a},uid:s,pageIndex:o,creationDate:l,modificationDate:c}=this;return{id:s,pageIndex:o,rect:this.getPDFRect(),richText:a,contentsObj:{str:t},creationDate:l,modificationDate:n||c,popupRef:!r,color:e,opacity:i}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return!this.isInEditMode()&&(this.parent.setEditingState(!1),js(sd,this,!0),!0)}disableEditMode(){return!!this.isInEditMode()&&(this.parent.setEditingState(!0),js(sd,this,!1),!0)}isInEditMode(){return Bs(sd,this)}shouldGetKeyboardEvents(){return Bs(od,this)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:n,right:i}=this.getClientDimensions(),{innerHeight:r,innerWidth:a}=window;return e<a&&i>0&&t<r&&n>0}rebuild(){Fs(gd,this,Pd).call(this)}rotate(t){}resize(){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:(null===(t=this._initialData)||void 0===t?void 0:t.popupRef)||""}}serialize(){var t;return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:(null===(t=this._initialData)||void 0===t?void 0:t.popupRef)||""}}static async deserialize(t,e,n){const i=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:n,annotationElementId:t.annotationElementId,creationDate:t.creationDate,modificationDate:t.modificationDate});i.rotation=t.rotation,js(Hh,i,t.accessibilityData),i._isCopy=t.isCopy||!1;const[r,a]=i.pageDimensions,[s,o,l,c]=i.getRectInCurrentCoords(t.rect,a);return i.x=s/r,i.y=o/a,i.width=l/r,i.height=c/a,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||null!==this.serialize())}remove(){var t,e;if(null===(t=Bs(ed,this))||void 0===t||t.abort(),js(ed,this,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),Bs(ld,this)&&(clearTimeout(Bs(ld,this)),js(ld,this,null)),Fs(gd,this,Id).call(this),this.removeEditToolbar(),Bs(hd,this)){for(const t of Bs(hd,this).values())clearTimeout(t);js(hd,this,null)}this.parent=null,null===(e=Bs(dd,this))||void 0===e||e.destroy(),js(dd,this,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(Fs(gd,this,wd).call(this),Bs($h,this).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return"ltr"===this._uiManager.direction?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[t,e]}=this,[n,i,r,a]=this.getPDFRect();return[md._round(n+(r-n)*t),md._round(i+(a-i)*(1-e))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return Bs(qh,this).commentPopupPositionInLayer}set commentPopupPosition(t){Bs(qh,this).commentPopupPositionInLayer=t}hasDefaultPopupPosition(){return Bs(qh,this).hasDefaultPopupPosition()}get commentButtonWidth(){return Bs(qh,this).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(t){Bs(qh,this).setCommentButtonStates(t)}keydown(t){if(!this.isResizable||t.target!==this.div||"Enter"!==t.key)return;this._uiManager.setSelected(this),js(Zh,this,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=Bs($h,this).children;if(!Bs(Vh,this)){js(Vh,this,Array.from(e));const t=Fs(gd,this,Rd).bind(this),n=Fs(gd,this,Dd).bind(this),i=this._uiManager._signal;for(const e of Bs(Vh,this)){const r=e.getAttribute("data-resizer-name");e.setAttribute("role","spinbutton"),e.addEventListener("keydown",t,{signal:i}),e.addEventListener("blur",n,{signal:i}),e.addEventListener("focus",Fs(gd,this,Nd).bind(this,r),{signal:i}),e.setAttribute("data-l10n-id",md._l10nResizer[r])}}const n=Bs(Vh,this)[0];let i=0;for(const a of e){if(a===n)break;i++}const r=(360-this.rotation+this.parentRotation)%360/90*(Bs(Vh,this).length/4);if(r!==i){if(r<i)for(let e=0;e<i-r;e++)Bs($h,this).append(Bs($h,this).firstChild);else if(r>i)for(let e=0;e<r-i;e++)Bs($h,this).firstChild.before(Bs($h,this).lastChild);let t=0;for(const n of e){const e=Bs(Vh,this)[t++].getAttribute("data-resizer-name");n.setAttribute("data-l10n-id",md._l10nResizer[e])}}Fs(gd,this,Ld).call(this,0),js(od,this,!0),Bs($h,this).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){Bs(od,this)&&Fs(gd,this,Sd).call(this,Bs(nd,this),{deltaX:t,deltaY:e,fromKeyboard:!0})}_stopResizingWithKeyboard(){Fs(gd,this,Id).call(this),this.div.focus()}select(){var t,e,n;this.isSelected&&this._editToolbar?this._editToolbar.show():(this.isSelected=!0,this.makeResizable(),null===(t=this.div)||void 0===t||t.classList.add("selectedEditor"),this._editToolbar?(null===(e=this._editToolbar)||void 0===e||e.show(),null===(n=Bs(Gh,this))||void 0===n||n.toggleAltTextBadge(!1)):this.addEditToolbar().then((()=>{var t,e;null!==(t=this.div)&&void 0!==t&&t.classList.contains("selectedEditor")&&(null===(e=this._editToolbar)||void 0===e||e.show())})))}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout((()=>{var t;return null===(t=this.div)||void 0===t?void 0:t.focus({preventScroll:!0})}),0)}unselect(){var t,e,n,i,r;this.isSelected&&(this.isSelected=!1,null===(t=Bs($h,this))||void 0===t||t.classList.add("hidden"),null===(e=this.div)||void 0===e||e.classList.remove("selectedEditor"),null!==(n=this.div)&&void 0!==n&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),null===(i=this._editToolbar)||void 0===i||i.hide(),null===(r=Bs(Gh,this))||void 0===r||r.toggleAltTextBadge(!0),this.hasComment&&this._uiManager.toggleComment(this,!1,!1))}updateParams(t,e){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){"BUTTON"!==t.target.nodeName&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return Bs(ad,this)}set isEditing(t){js(ad,this,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){Bs(hd,this)||js(hd,this,new Map);const{action:e}=t;let n=Bs(hd,this).get(e);return n&&clearTimeout(n),n=setTimeout((()=>{this._reportTelemetry(t),Bs(hd,this).delete(e),0===Bs(hd,this).size&&js(hd,this,null)}),md._telemetryTimeout),void Bs(hd,this).set(e,n)}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._isVisible;this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),js(Yh,this,!1)}disable(){this.div&&(this.div.tabIndex=-1),js(Yh,this,!0)}updateFakeAnnotationElement(t){if(Bs(td,this)||this.deleted)return this.deleted?(Bs(td,this).remove(),void js(td,this,null)):void((this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&Bs(td,this).updateEdited({rect:this.getPDFRect(),popup:this.comment}));js(td,this,t.addFakeAnnotation(this))}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;let e=t.container.querySelector(".annotationContent");if(e){if("CANVAS"===e.nodeName){const t=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.before(e)}}else e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);return e}resetAnnotationElement(t){const{firstChild:e}=t.container;"DIV"===(null===e||void 0===e?void 0:e.nodeName)&&e.classList.contains("annotationContent")&&e.remove()}}function vd(t,e,n){let[i,r]=t;[e,n]=this.screenToPageTranslation(e,n),this.x+=e/i,this.y+=n/r,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}function yd(t,e,n){switch(n){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}}function bd(t){switch(t){case 90:{const[t,e]=this.pageDimensions;return[0,-t/e,e/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,e]=this.pageDimensions;return[0,t/e,-e/t,0]}default:return[1,0,0,1]}}function wd(){if(Bs($h,this))return;js($h,this,document.createElement("div")),Bs($h,this).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const n of t){const t=document.createElement("div");Bs($h,this).append(t),t.classList.add("resizer",n),t.setAttribute("data-resizer-name",n),t.addEventListener("pointerdown",Fs(gd,this,xd).bind(this,n),{signal:e}),t.addEventListener("contextmenu",Cl,{signal:e}),t.tabIndex=-1}this.div.prepend(Bs($h,this))}function xd(t,e){var n;e.preventDefault();const{isMac:i}=al.platform;if(0!==e.button||e.ctrlKey&&i)return;null===(n=Bs(Gh,this))||void 0===n||n.toggle(!1);const r=this._isDraggable;this._isDraggable=!1,js(Jh,this,[e.screenX,e.screenY]);const a=new AbortController,s=this._uiManager.combinedSignal(a);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",Fs(gd,this,Sd).bind(this,t),{passive:!0,capture:!0,signal:s}),window.addEventListener("touchmove",Ml,{passive:!1,signal:s}),window.addEventListener("contextmenu",Cl,{signal:s}),js(Zh,this,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const o=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const c=()=>{var t;a.abort(),this.parent.togglePointerEvents(!0),null===(t=Bs(Gh,this))||void 0===t||t.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=o,this.div.style.cursor=l,Fs(gd,this,kd).call(this)};window.addEventListener("pointerup",c,{signal:s}),window.addEventListener("blur",c,{signal:s})}function _d(t,e,n,i){this.width=n,this.height=i,this.x=t,this.y=e,this.setDims(),this.fixAndSetPosition(),this._onResized()}function kd(){if(!Bs(Zh,this))return;const{savedX:t,savedY:e,savedWidth:n,savedHeight:i}=Bs(Zh,this);js(Zh,this,null);const r=this.x,a=this.y,s=this.width,o=this.height;r===t&&a===e&&s===n&&o===i||this.addCommands({cmd:Fs(gd,this,_d).bind(this,r,a,s,o),undo:Fs(gd,this,_d).bind(this,t,e,n,i),mustExec:!0})}function Sd(t,e){const[n,i]=this.parentDimensions,r=this.x,a=this.y,s=this.width,o=this.height,l=Gs.MIN_SIZE/n,c=Gs.MIN_SIZE/i,u=Fs(gd,this,bd).call(this,this.rotation),h=(t,e)=>[u[0]*t+u[2]*e,u[1]*t+u[3]*e],d=Fs(gd,this,bd).call(this,360-this.rotation);let f,p,g=!1,m=!1;switch(t){case"topLeft":g=!0,f=(t,e)=>[0,0],p=(t,e)=>[t,e];break;case"topMiddle":f=(t,e)=>[t/2,0],p=(t,e)=>[t/2,e];break;case"topRight":g=!0,f=(t,e)=>[t,0],p=(t,e)=>[0,e];break;case"middleRight":m=!0,f=(t,e)=>[t,e/2],p=(t,e)=>[0,e/2];break;case"bottomRight":g=!0,f=(t,e)=>[t,e],p=(t,e)=>[0,0];break;case"bottomMiddle":f=(t,e)=>[t/2,e],p=(t,e)=>[t/2,0];break;case"bottomLeft":g=!0,f=(t,e)=>[0,e],p=(t,e)=>[t,0];break;case"middleLeft":m=!0,f=(t,e)=>[0,e/2],p=(t,e)=>[t,e/2]}const v=f(s,o),y=p(s,o);let b=h(...y);const w=Gs._round(r+b[0]),x=Gs._round(a+b[1]);let _,k,S=1,A=1;if(e.fromKeyboard)({deltaX:_,deltaY:k}=e);else{const{screenX:t,screenY:n}=e,[i,r]=Bs(Jh,this);[_,k]=this.screenToPageTranslation(t-i,n-r),Bs(Jh,this)[0]=t,Bs(Jh,this)[1]=n}if([_,k]=((t,e)=>[d[0]*t+d[2]*e,d[1]*t+d[3]*e])(_/n,k/i),g){const t=Math.hypot(s,o);S=A=Math.max(Math.min(Math.hypot(y[0]-v[0]-_,y[1]-v[1]-k)/t,1/s,1/o),l/s,c/o)}else m?S=pl(Math.abs(y[0]-v[0]-_),l,1)/s:A=pl(Math.abs(y[1]-v[1]-k),c,1)/o;const E=Gs._round(s*S),C=Gs._round(o*A);b=h(...p(E,C));const M=w-b[0],T=x-b[1];Bs(rd,this)||js(rd,this,[this.x,this.y,this.width,this.height]),this.width=E,this.height=C,this.x=M,this.y=T,this.setDims(),this.fixAndSetPosition(),this._onResizing()}function Ad(){var t;js(Zh,this,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),null===(t=Bs(Gh,this))||void 0===t||t.toggle(!1),this.parent.togglePointerEvents(!1)}function Ed(t,e,n){let i=n/e*.7+1-.7;if(1===i)return;const r=Fs(gd,this,bd).call(this,this.rotation),a=(t,e)=>[r[0]*t+r[2]*e,r[1]*t+r[3]*e],[s,o]=this.parentDimensions,l=this.x,c=this.y,u=this.width,h=this.height,d=Gs.MIN_SIZE/s,f=Gs.MIN_SIZE/o;i=Math.max(Math.min(i,1/u,1/h),d/u,f/h);const p=Gs._round(u*i),g=Gs._round(h*i);if(p===u&&g===h)return;Bs(rd,this)||js(rd,this,[l,c,u,h]);const m=a(u/2,h/2),v=Gs._round(l+m[0]),y=Gs._round(c+m[1]),b=a(p/2,g/2);this.x=v-b[0],this.y=y-b[1],this.width=p,this.height=g,this.setDims(),this.fixAndSetPosition(),this._onResizing()}function Cd(){var t;null===(t=Bs(Gh,this))||void 0===t||t.toggle(!0),this.parent.togglePointerEvents(!0),Fs(gd,this,kd).call(this)}function Md(t){const{isMac:e}=al.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)}function Td(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let n=!1;const i=new AbortController,r=this._uiManager.combinedSignal(i),a={capture:!0,passive:!1,signal:r},s=t=>{i.abort(),js(Kh,this,null),js(id,this,!1),this._uiManager.endDragSession()||Fs(gd,this,Md).call(this,t),n&&this._onStopDragging()};e&&(js(cd,this,t.clientX),js(ud,this,t.clientY),js(Kh,this,t.pointerId),js(Qh,this,t.pointerType),window.addEventListener("pointermove",(t=>{n||(n=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:e,clientY:i,pointerId:r}=t;if(r!==Bs(Kh,this))return void Ml(t);const[a,s]=this.screenToPageTranslation(e-Bs(cd,this),i-Bs(ud,this));js(cd,this,e),js(ud,this,i),this._uiManager.dragSelectedEditors(a,s)}),a),window.addEventListener("touchmove",Ml,a),window.addEventListener("pointerdown",(t=>{t.pointerType===Bs(Qh,this)&&(Bs(dd,this)||t.isPrimary)&&s(t),Ml(t)}),a));const o=t=>{Bs(Kh,this)&&Bs(Kh,this)!==t.pointerId?Ml(t):s(t)};window.addEventListener("pointerup",o,{signal:r}),window.addEventListener("blur",o,{signal:r})}function Pd(){if(Bs(ed,this)||!this.div)return;js(ed,this,new AbortController);const t=this._uiManager.combinedSignal(Bs(ed,this));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})}function Rd(t){Gs._resizerKeyboardManager.exec(this,t)}function Dd(t){var e;Bs(od,this)&&(null===(e=t.relatedTarget)||void 0===e?void 0:e.parentNode)!==Bs($h,this)&&Fs(gd,this,Id).call(this)}function Nd(t){js(nd,this,Bs(od,this)?t:"")}function Ld(t){if(Bs(Vh,this))for(const e of Bs(Vh,this))e.tabIndex=t}function Id(){js(od,this,!1),Fs(gd,this,Ld).call(this,-1),Fs(gd,this,kd).call(this)}Gs=md,c(md,"_l10n",null),c(md,"_l10nResizer",null),c(md,"_borderLineWidth",-1),c(md,"_colorManager",new Rc),c(md,"_zIndex",1),c(md,"_telemetryTimeout",1e3);class Fd extends md{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const Od=3285377520,Bd=4294901760,jd=65535;class Wd{constructor(t){this.h1=t?4294967295&t:Od,this.h2=t?4294967295&t:Od}update(t){let e,n;if("string"===typeof t){e=new Uint8Array(2*t.length),n=0;for(let i=0,r=t.length;i<r;i++){const r=t.charCodeAt(i);r<=255?e[n++]=r:(e[n++]=r>>>8,e[n++]=255&r)}}else{if(!ArrayBuffer.isView(t))throw new Error("Invalid data format, must be a string or TypedArray.");e=t.slice(),n=e.byteLength}const i=n>>2,r=n-4*i,a=new Uint32Array(e.buffer,0,i);let s=0,o=0,l=this.h1,c=this.h2;const u=3432918353,h=461845907,d=11601,f=13715;for(let p=0;p<i;p++)1&p?(s=a[p],s=s*u&Bd|s*d&jd,s=s<<15|s>>>17,s=s*h&Bd|s*f&jd,l^=s,l=l<<13|l>>>19,l=5*l+3864292196):(o=a[p],o=o*u&Bd|o*d&jd,o=o<<15|o>>>17,o=o*h&Bd|o*f&jd,c^=o,c=c<<13|c>>>19,c=5*c+3864292196);switch(s=0,r){case 3:s^=e[4*i+2]<<16;case 2:s^=e[4*i+1]<<8;case 1:s^=e[4*i],s=s*u&Bd|s*d&jd,s=s<<15|s>>>17,s=s*h&Bd|s*f&jd,1&i?l^=s:c^=s}this.h1=l,this.h2=c}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=3981806797*t&Bd|36045*t&jd,e=4283543511*e&Bd|(2950163797*(e<<16|t>>>16)&Bd)>>>16,t^=e>>>1,t=444984403*t&Bd|60499*t&jd,e=3301882366*e&Bd|(3120437893*(e<<16|t>>>16)&Bd)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const zd=Object.freeze({map:null,hash:"",transfer:void 0});var Ud=new WeakMap,Hd=new WeakMap,Vd=new WeakMap,Gd=new WeakMap,qd=new WeakSet;class Xd{constructor(){Ls(this,qd),Is(this,Ud,!1),Is(this,Hd,null),Is(this,Vd,null),Is(this,Gd,new Map),this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const n=Bs(Gd,this).get(t);return void 0===n?e:Object.assign(e,n)}getRawValue(t){return Bs(Gd,this).get(t)}remove(t){const e=Bs(Gd,this).get(t);if(void 0!==e&&(e instanceof md&&Bs(Vd,this).delete(e.annotationElementId),Bs(Gd,this).delete(t),0===Bs(Gd,this).size&&this.resetModified(),"function"===typeof this.onAnnotationEditor)){for(const t of Bs(Gd,this).values())if(t instanceof md)return;this.onAnnotationEditor(null)}}setValue(t,e){const n=Bs(Gd,this).get(t);let i=!1;if(void 0!==n)for(const[r,a]of Object.entries(e))n[r]!==a&&(i=!0,n[r]=a);else i=!0,Bs(Gd,this).set(t,e);i&&Fs(qd,this,Yd).call(this),e instanceof md&&((Bs(Vd,this)||js(Vd,this,new Map)).set(e.annotationElementId,e),"function"===typeof this.onAnnotationEditor&&this.onAnnotationEditor(e.constructor._type))}has(t){return Bs(Gd,this).has(t)}get size(){return Bs(Gd,this).size}resetModified(){Bs(Ud,this)&&(js(Ud,this,!1),"function"===typeof this.onResetModified&&this.onResetModified())}get print(){return new Qd(this)}get serializable(){if(0===Bs(Gd,this).size)return zd;const t=new Map,e=new Wd,n=[],i=Object.create(null);let r=!1;for(const[a,s]of Bs(Gd,this)){const n=s instanceof md?s.serialize(!1,i):s;n&&(t.set(a,n),e.update("".concat(a,":").concat(JSON.stringify(n))),r||(r=!!n.bitmap))}if(r)for(const a of t.values())a.bitmap&&n.push(a.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:n}:zd}get editorStats(){let t=null;const e=new Map;let n=0,i=0;for(const s of Bs(Gd,this).values()){var r;if(!(s instanceof md)){s.popup&&(s.popup.deleted?i+=1:n+=1);continue}s.isCommentDeleted?i+=1:s.hasEditedComment&&(n+=1);const o=s.telemetryFinalData;if(!o)continue;const{type:l}=o;e.has(l)||e.set(l,Object.getPrototypeOf(s).constructor),t||(t=Object.create(null));const c=(r=t)[l]||(r[l]=new Map);for(const[t,e]of Object.entries(o)){var a;if("type"===t)continue;let n=c.get(t);n||(n=new Map,c.set(t,n));const i=null!==(a=n.get(e))&&void 0!==a?a:0;n.set(e,i+1)}}if((i>0||n>0)&&(t||(t=Object.create(null)),t.comments={deleted:i,edited:n}),!t)return null;for(const[s,o]of e)t[s]=o.computeTelemetryFinalData(t[s]);return t}resetModifiedIds(){js(Hd,this,null)}updateEditor(t,e){var n;const i=null===(n=Bs(Vd,this))||void 0===n?void 0:n.get(t);return!!i&&(i.updateFromAnnotationLayer(e),!0)}getEditor(t){var e;return(null===(e=Bs(Vd,this))||void 0===e?void 0:e.get(t))||null}get modifiedIds(){if(Bs(Hd,this))return Bs(Hd,this);const t=[];if(Bs(Vd,this))for(const e of Bs(Vd,this).values())e.serialize()&&t.push(e.annotationElementId);return js(Hd,this,{ids:new Set(t),hash:t.join(",")})}[Symbol.iterator](){return Bs(Gd,this).entries()}}function Yd(){Bs(Ud,this)||(js(Ud,this,!0),"function"===typeof this.onSetModified&&this.onSetModified())}var Kd=new WeakMap;class Qd extends Xd{constructor(t){super(),Is(this,Kd,void 0);const{map:e,hash:n,transfer:i}=t.serializable,r=structuredClone(e,i?{transfer:i}:null);js(Kd,this,{map:r,hash:n,transfer:i})}get print(){Go("Should not call PrintAnnotationStorage.print")}get serializable(){return Bs(Kd,this)}get modifiedIds(){return Ko(this,"modifiedIds",{ids:new Set,hash:""})}}var $d=new WeakMap;class Jd{constructor(t){let{ownerDocument:e=globalThis.document,styleElement:n=null}=t;Is(this,$d,new Set),this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),Bs($d,this).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(t){let{systemFontInfo:e,disableFontFace:n,_inspectFont:i}=t;if(e&&!Bs($d,this).has(e.loadedName))if(qo(!n,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:t,src:n,style:a}=e,s=new FontFace(t,n,a);this.addNativeFontFace(s);try{await s.load(),Bs($d,this).add(t),null===i||void 0===i||i(e)}catch(r){Vo("Cannot load system font: ".concat(e.baseFontName,", installing it could help to improve PDF rendering.")),this.removeNativeFontFace(s)}}else Go("Not implemented: loadSystemFont without the Font Loading API.")}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo)return void await this.loadSystemFont(t);if(this.isFontLoadingAPISupported){const e=t.createNativeFontFace();if(e){this.addNativeFontFace(e);try{await e.loaded}catch(n){throw Vo("Failed to load font '".concat(e.family,"': '").concat(n,"'.")),t.disableFontFace=!0,n}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise((e=>{const n=this._queueLoadingCallback(e);this._prepareFontLoadEvent(t,n)}))}}get isFontLoadingAPISupported(){var t;return Ko(this,"isFontLoadingAPISupported",!(null===(t=this._document)||void 0===t||!t.fonts))}get isSyncFontLoadingSupported(){return Ko(this,"isSyncFontLoadingSupported",ao||al.platform.isFirefox)}_queueLoadingCallback(t){const{loadingRequests:e}=this,n={done:!1,complete:function(){for(qo(!n.done,"completeRequest() cannot be called twice."),n.done=!0;e.length>0&&e[0].done;){const t=e.shift();setTimeout(t.callback,0)}},callback:t};return e.push(n),n}get _loadTestFont(){return Ko(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(t,e){function n(t,e){return t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|255&t.charCodeAt(e+3)}function i(t,e,n,i){return t.substring(0,e)+i+t.substring(e+n)}let r,a;const s=this._document.createElement("canvas");s.width=1,s.height=1;const o=s.getContext("2d");let l=0;const c="lt".concat(Date.now()).concat(this.loadTestFontId++);let u=this._loadTestFont;u=i(u,976,c.length,c);const h=1482184792;let d=n(u,16);for(r=0,a=c.length-3;r<a;r+=4)d=d-h+n(c,r)|0;r<c.length&&(d=d-h+n(c+"XXX",r)|0),u=i(u,16,4,function(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,255&t)}(d));const f="url(data:font/opentype;base64,".concat(btoa(u),");"),p='@font-face {font-family:"'.concat(c,'";src:').concat(f,"}");this.insertRule(p);const g=this._document.createElement("div");g.style.visibility="hidden",g.style.width=g.style.height="10px",g.style.position="absolute",g.style.top=g.style.left="0px";for(const m of[t.loadedName,c]){const t=this._document.createElement("span");t.textContent="Hi",t.style.fontFamily=m,g.append(t)}this._document.body.append(g),function t(e,n){if(++l>30)return Vo("Load test font never loaded."),void n();o.font="30px "+e,o.fillText(".",0,20),o.getImageData(0,0,1,1).data[3]>0?n():setTimeout(t.bind(null,e,n))}(c,(()=>{g.remove(),e.complete()}))}}var Zd=new WeakMap;class tf{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;Is(this,Zd,void 0),this.compiledGlyphs=Object.create(null),js(Zd,this,t),this._inspectFont=e,n&&Object.assign(this,n),i&&(this.charProcOperatorList=i)}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(this.cssFontInfo){const t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style="oblique ".concat(this.cssFontInfo.italicAngle,"deg")),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}else e=new FontFace(this.loadedName,this.data,{});return null===(t=this._inspectFont)||void 0===t||t.call(this,this),e}createFontFaceRule(){var t;if(!this.data||this.disableFontFace)return null;const e="url(data:".concat(this.mimetype,";base64,").concat(gl(this.data),");");let n;if(this.cssFontInfo){let t="font-weight: ".concat(this.cssFontInfo.fontWeight,";");this.cssFontInfo.italicAngle&&(t+="font-style: oblique ".concat(this.cssFontInfo.italicAngle,"deg;")),n='@font-face {font-family:"'.concat(this.cssFontInfo.fontFamily,'";').concat(t,"src:").concat(e,"}")}else n='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(e,"}");return null===(t=this._inspectFont)||void 0===t||t.call(this,this,e),n}getPathGenerator(t,e){if(void 0!==this.compiledGlyphs[e])return this.compiledGlyphs[e];const n=this.loadedName+"_path_"+e;let i;try{i=t.get(n)}catch(a){Vo('getPathGenerator - ignoring character: "'.concat(a,'".'))}const r=new Path2D(i||"");return this.fontExtraProperties||t.delete(n),this.compiledGlyphs[e]=r}get black(){return Bs(Zd,this).black}get bold(){return Bs(Zd,this).bold}get disableFontFace(){var t;return null!==(t=Bs(Zd,this).disableFontFace)&&void 0!==t&&t}get fontExtraProperties(){var t;return null!==(t=Bs(Zd,this).fontExtraProperties)&&void 0!==t&&t}get isInvalidPDFjsFont(){return Bs(Zd,this).isInvalidPDFjsFont}get isType3Font(){return Bs(Zd,this).isType3Font}get italic(){return Bs(Zd,this).italic}get missingFile(){return Bs(Zd,this).missingFile}get remeasure(){return Bs(Zd,this).remeasure}get vertical(){return Bs(Zd,this).vertical}get ascent(){return Bs(Zd,this).ascent}get defaultWidth(){return Bs(Zd,this).defaultWidth}get descent(){return Bs(Zd,this).descent}get bbox(){return Bs(Zd,this).bbox}get fontMatrix(){return Bs(Zd,this).fontMatrix}get fallbackName(){return Bs(Zd,this).fallbackName}get loadedName(){return Bs(Zd,this).loadedName}get mimetype(){return Bs(Zd,this).mimetype}get name(){return Bs(Zd,this).name}get data(){return Bs(Zd,this).data}clearData(){Bs(Zd,this).clearData()}get cssFontInfo(){return Bs(Zd,this).cssFontInfo}get systemFontInfo(){return Bs(Zd,this).systemFontInfo}get defaultVMetrics(){return Bs(Zd,this).defaultVMetrics}}function ef(t){if("string"!==typeof t)return null;if(t.endsWith("/"))return t;throw new Error('Invalid factory url: "'.concat(t,'" must include trailing slash.'))}const nf=t=>"object"===typeof t&&Number.isInteger(null===t||void 0===t?void 0:t.num)&&t.num>=0&&Number.isInteger(null===t||void 0===t?void 0:t.gen)&&t.gen>=0,rf=function(t,e,n){if(!Array.isArray(n)||n.length<2)return!1;const[i,r,...a]=n;if(!t(i)&&!Number.isInteger(i))return!1;if(!e(r))return!1;const s=a.length;let o=!0;switch(r.name){case"XYZ":if(s<2||s>3)return!1;break;case"Fit":case"FitB":return 0===s;case"FitH":case"FitBH":case"FitV":case"FitBV":if(s>1)return!1;break;case"FitR":if(4!==s)return!1;o=!1;break;default:return!1}for(const l of a)if(!("number"===typeof l||o&&null===l))return!1;return!0}.bind(null,nf,(t=>"object"===typeof t&&"string"===typeof(null===t||void 0===t?void 0:t.name)));var af=new WeakMap,sf=new WeakMap;class of{constructor(){Is(this,af,new Map),Is(this,sf,Promise.resolve())}postMessage(t,e){const n={data:structuredClone(t,e?{transfer:e}:null)};Bs(sf,this).then((()=>{for(const[t]of Bs(af,this))t.call(this,n)}))}addEventListener(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=null;if((null===n||void 0===n?void 0:n.signal)instanceof AbortSignal){const{signal:r}=n;if(r.aborted)return void Vo("LoopbackPort - cannot use an `aborted` signal.");const a=()=>this.removeEventListener(t,e);i=()=>r.removeEventListener("abort",a),r.addEventListener("abort",a)}Bs(af,this).set(e,i)}removeEventListener(t,e){const n=Bs(af,this).get(e);null===n||void 0===n||n(),Bs(af,this).delete(e)}terminate(){for(const[,t]of Bs(af,this))null===t||void 0===t||t();Bs(af,this).clear()}}const lf=1,cf=2,uf=1,hf=2,df=3,ff=4,pf=5,gf=6,mf=7,vf=8;function yf(){}function bf(t){if(t instanceof nl||t instanceof Zo||t instanceof $o||t instanceof tl||t instanceof Jo)return t;switch(t instanceof Error||"object"===typeof t&&null!==t||Go('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new nl(t.message);case"InvalidPDFException":return new Zo(t.message);case"PasswordException":return new $o(t.message,t.code);case"ResponseException":return new tl(t.message,t.status,t.missing);case"UnknownErrorException":return new Jo(t.message,t.details)}return new Jo(t.message,t.toString())}var wf=new WeakMap,xf=new WeakSet;class _f{constructor(t,e,n){Ls(this,xf),Is(this,wf,new AbortController),this.sourceName=t,this.targetName=e,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",Fs(xf,this,kf).bind(this),{signal:Bs(wf,this).signal})}on(t,e){const n=this.actionHandler;if(n[t])throw new Error('There is already an actionName called "'.concat(t,'"'));n[t]=e}send(t,e,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},n)}sendWithPromise(t,e,n){const i=this.callbackId++,r=Promise.withResolvers();this.callbackCapabilities[i]=r;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:i,data:e},n)}catch(a){r.reject(a)}return r.promise}sendWithStream(t,e,n,i){const r=this.streamId++,a=this.sourceName,s=this.targetName,o=this.comObj;return new ReadableStream({start:n=>{const l=Promise.withResolvers();return this.streamControllers[r]={controller:n,startCall:l,pullCall:null,cancelCall:null,isClosed:!1},o.postMessage({sourceName:a,targetName:s,action:t,streamId:r,data:e,desiredSize:n.desiredSize},i),l.promise},pull:t=>{const e=Promise.withResolvers();return this.streamControllers[r].pullCall=e,o.postMessage({sourceName:a,targetName:s,stream:gf,streamId:r,desiredSize:t.desiredSize}),e.promise},cancel:t=>{qo(t instanceof Error,"cancel must have a valid reason");const e=Promise.withResolvers();return this.streamControllers[r].cancelCall=e,this.streamControllers[r].isClosed=!0,o.postMessage({sourceName:a,targetName:s,stream:uf,streamId:r,reason:bf(t)}),e.promise}},n)}destroy(){var t;null===(t=Bs(wf,this))||void 0===t||t.abort(),js(wf,this,null)}}function kf(t){let{data:e}=t;if(e.targetName!==this.sourceName)return;if(e.stream)return void Fs(xf,this,Af).call(this,e);if(e.callback){const t=e.callbackId,n=this.callbackCapabilities[t];if(!n)throw new Error("Cannot resolve callback ".concat(t));if(delete this.callbackCapabilities[t],e.callback===lf)n.resolve(e.data);else{if(e.callback!==cf)throw new Error("Unexpected callback case");n.reject(bf(e.reason))}return}const n=this.actionHandler[e.action];if(!n)throw new Error("Unknown action from worker: ".concat(e.action));if(e.callbackId){const t=this.sourceName,i=e.sourceName,r=this.comObj;Promise.try(n,e.data).then((function(n){r.postMessage({sourceName:t,targetName:i,callback:lf,callbackId:e.callbackId,data:n})}),(function(n){r.postMessage({sourceName:t,targetName:i,callback:cf,callbackId:e.callbackId,reason:bf(n)})}))}else e.streamId?Fs(xf,this,Sf).call(this,e):n(e.data)}function Sf(t){const e=t.streamId,n=this.sourceName,i=t.sourceName,r=this.comObj,a=this,s=this.actionHandler[t.action],o={enqueue(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2?arguments[2]:void 0;if(this.isCancelled)return;const o=this.desiredSize;this.desiredSize-=a,o>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),r.postMessage({sourceName:n,targetName:i,stream:ff,streamId:e,chunk:t},s)},close(){this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:n,targetName:i,stream:df,streamId:e}),delete a.streamSinks[e])},error(t){qo(t instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:n,targetName:i,stream:pf,streamId:e,reason:bf(t)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};o.sinkCapability.resolve(),o.ready=o.sinkCapability.promise,this.streamSinks[e]=o,Promise.try(s,t.data,o).then((function(){r.postMessage({sourceName:n,targetName:i,stream:vf,streamId:e,success:!0})}),(function(t){r.postMessage({sourceName:n,targetName:i,stream:vf,streamId:e,reason:bf(t)})}))}function Af(t){const e=t.streamId,n=this.sourceName,i=t.sourceName,r=this.comObj,a=this.streamControllers[e],s=this.streamSinks[e];switch(t.stream){case vf:t.success?a.startCall.resolve():a.startCall.reject(bf(t.reason));break;case mf:t.success?a.pullCall.resolve():a.pullCall.reject(bf(t.reason));break;case gf:if(!s){r.postMessage({sourceName:n,targetName:i,stream:mf,streamId:e,success:!0});break}s.desiredSize<=0&&t.desiredSize>0&&s.sinkCapability.resolve(),s.desiredSize=t.desiredSize,Promise.try(s.onPull||yf).then((function(){r.postMessage({sourceName:n,targetName:i,stream:mf,streamId:e,success:!0})}),(function(t){r.postMessage({sourceName:n,targetName:i,stream:mf,streamId:e,reason:bf(t)})}));break;case ff:if(qo(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(t.chunk);break;case df:if(qo(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),Fs(xf,this,Ef).call(this,a,e);break;case pf:qo(a,"error should have stream controller"),a.controller.error(bf(t.reason)),Fs(xf,this,Ef).call(this,a,e);break;case hf:t.success?a.cancelCall.resolve():a.cancelCall.reject(bf(t.reason)),Fs(xf,this,Ef).call(this,a,e);break;case uf:if(!s)break;const o=bf(t.reason);Promise.try(s.onCancel||yf,o).then((function(){r.postMessage({sourceName:n,targetName:i,stream:hf,streamId:e,success:!0})}),(function(t){r.postMessage({sourceName:n,targetName:i,stream:hf,streamId:e,reason:bf(t)})})),s.sinkCapability.reject(o),s.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}async function Ef(t,e){var n,i,r;await Promise.allSettled([null===(n=t.startCall)||void 0===n?void 0:n.promise,null===(i=t.pullCall)||void 0===i?void 0:i.promise,null===(r=t.cancelCall)||void 0===r?void 0:r.promise]),delete this.streamControllers[e]}var Cf=new WeakMap;class Mf{constructor(t){let{enableHWA:e=!1}=t;Is(this,Cf,!1),js(Cf,this,e)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(t,e);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!Bs(Cf,this)})}}reset(t,e,n){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=n}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){Go("Abstract method `_createCanvas` called.")}}class Tf extends Mf{constructor(t){let{ownerDocument:e=globalThis.document,enableHWA:n=!1}=t;super({enableHWA:n}),this._document=e}_createCanvas(t,e){const n=this._document.createElement("canvas");return n.width=t,n.height=e,n}}class Pf{constructor(t){let{baseUrl:e=null,isCompressed:n=!0}=t;this.baseUrl=e,this.isCompressed=n}async fetch(t){let{name:e}=t;if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const n=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(n).then((t=>({cMapData:t,isCompressed:this.isCompressed}))).catch((t=>{throw new Error("Unable to load ".concat(this.isCompressed?"binary ":"","CMap at: ").concat(n))}))}async _fetch(t){Go("Abstract method `_fetch` called.")}}class Rf extends Pf{async _fetch(t){const e=await wl(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):rl(e)}}class Df{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,n,i,r){return"none"}destroy(){}}var Nf=new WeakMap,Lf=new WeakMap,If=new WeakMap,Ff=new WeakMap,Of=new WeakMap,Bf=new WeakMap,jf=new WeakMap,Wf=new WeakSet;class zf extends Df{constructor(t){let{docId:e,ownerDocument:n=globalThis.document}=t;super(),Ls(this,Wf),Is(this,Nf,void 0),Is(this,Lf,void 0),Is(this,If,void 0),Is(this,Ff,void 0),Is(this,Of,void 0),Is(this,Bf,void 0),Is(this,jf,0),js(Ff,this,e),js(Of,this,n)}addFilter(t){var e,n;if(!t)return"none";let i=Os(Wf,this,Uf).get(t);if(i)return i;const[r,a,s]=Fs(Wf,this,Gf).call(this,t),o=1===t.length?r:"".concat(r).concat(a).concat(s);if(i=Os(Wf,this,Uf).get(o),i)return Os(Wf,this,Uf).set(t,i),i;const l="g_".concat(Bs(Ff,this),"_transfer_map_").concat((js(jf,this,(e=Bs(jf,this),n=e++,e)),n)),c=Fs(Wf,this,qf).call(this,l);Os(Wf,this,Uf).set(t,c),Os(Wf,this,Uf).set(o,c);const u=Fs(Wf,this,Kf).call(this,l);return Fs(Wf,this,$f).call(this,r,a,s,u),c}addHCMFilter(t,e){var n;const i="".concat(t,"-").concat(e),r="base";let a=Os(Wf,this,Hf).get(r);if((null===(n=a)||void 0===n?void 0:n.key)===i)return a.url;var s;a?(null===(s=a.filter)||void 0===s||s.remove(),a.key=i,a.url="none",a.filter=null):(a={key:i,url:"none",filter:null},Os(Wf,this,Hf).set(r,a));if(!t||!e)return a.url;const o=Fs(Wf,this,Zf).call(this,t);t=ol.makeHexColor(...o);const l=Fs(Wf,this,Zf).call(this,e);if(e=ol.makeHexColor(...l),Os(Wf,this,Vf).style.color="","#000000"===t&&"#ffffff"===e||t===e)return a.url;const c=new Array(256);for(let p=0;p<=255;p++){const t=p/255;c[p]=t<=.03928?t/12.92:((t+.055)/1.055)**2.4}const u=c.join(","),h="g_".concat(Bs(Ff,this),"_hcm_filter"),d=a.filter=Fs(Wf,this,Kf).call(this,h);Fs(Wf,this,$f).call(this,u,u,u,d),Fs(Wf,this,Yf).call(this,d);const f=(t,e)=>{const n=o[t]/255,i=l[t]/255,r=new Array(e+1);for(let a=0;a<=e;a++)r[a]=n+a/e*(i-n);return r.join(",")};return Fs(Wf,this,$f).call(this,f(0,5),f(1,5),f(2,5),d),a.url=Fs(Wf,this,qf).call(this,h),a.url}addAlphaFilter(t){var e,n;let i=Os(Wf,this,Uf).get(t);if(i)return i;const[r]=Fs(Wf,this,Gf).call(this,[t]),a="alpha_".concat(r);if(i=Os(Wf,this,Uf).get(a),i)return Os(Wf,this,Uf).set(t,i),i;const s="g_".concat(Bs(Ff,this),"_alpha_map_").concat((js(jf,this,(e=Bs(jf,this),n=e++,e)),n)),o=Fs(Wf,this,qf).call(this,s);Os(Wf,this,Uf).set(t,o),Os(Wf,this,Uf).set(a,o);const l=Fs(Wf,this,Kf).call(this,s);return Fs(Wf,this,Jf).call(this,r,l),o}addLuminosityFilter(t){var e,n;let i,r,a=Os(Wf,this,Uf).get(t||"luminosity");if(a)return a;if(t?([i]=Fs(Wf,this,Gf).call(this,[t]),r="luminosity_".concat(i)):r="luminosity",a=Os(Wf,this,Uf).get(r),a)return Os(Wf,this,Uf).set(t,a),a;const s="g_".concat(Bs(Ff,this),"_luminosity_map_").concat((js(jf,this,(e=Bs(jf,this),n=e++,e)),n)),o=Fs(Wf,this,qf).call(this,s);Os(Wf,this,Uf).set(t,o),Os(Wf,this,Uf).set(r,o);const l=Fs(Wf,this,Kf).call(this,s);return Fs(Wf,this,Xf).call(this,l),t&&Fs(Wf,this,Jf).call(this,i,l),o}addHighlightHCMFilter(t,e,n,i,r){var a;const s="".concat(e,"-").concat(n,"-").concat(i,"-").concat(r);let o=Os(Wf,this,Hf).get(t);if((null===(a=o)||void 0===a?void 0:a.key)===s)return o.url;var l;o?(null===(l=o.filter)||void 0===l||l.remove(),o.key=s,o.url="none",o.filter=null):(o={key:s,url:"none",filter:null},Os(Wf,this,Hf).set(t,o));if(!e||!n)return o.url;const[c,u]=[e,n].map(Fs(Wf,this,Zf).bind(this));let h=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),d=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),[f,p]=[i,r].map(Fs(Wf,this,Zf).bind(this));d<h&&([h,d,f,p]=[d,h,p,f]),Os(Wf,this,Vf).style.color="";const g=(t,e,n)=>{const i=new Array(256),r=(d-h)/n,a=t/255,s=(e-t)/(255*n);let o=0;for(let l=0;l<=n;l++){const t=Math.round(h+l*r),e=a+l*s;for(let n=o;n<=t;n++)i[n]=e;o=t+1}for(let l=o;l<256;l++)i[l]=i[o-1];return i.join(",")},m="g_".concat(Bs(Ff,this),"_hcm_").concat(t,"_filter"),v=o.filter=Fs(Wf,this,Kf).call(this,m);return Fs(Wf,this,Yf).call(this,v),Fs(Wf,this,$f).call(this,g(f[0],p[0],5),g(f[1],p[1],5),g(f[2],p[2],5),v),o.url=Fs(Wf,this,qf).call(this,m),o.url}destroy(){var t,e,n,i;arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&null!==(t=Bs(Bf,this))&&void 0!==t&&t.size||(null===(e=Bs(If,this))||void 0===e||e.parentNode.parentNode.remove(),js(If,this,null),null===(n=Bs(Lf,this))||void 0===n||n.clear(),js(Lf,this,null),null===(i=Bs(Bf,this))||void 0===i||i.clear(),js(Bf,this,null),js(jf,this,0))}}function Uf(t){return Bs(Lf,t)||js(Lf,t,new Map)}function Hf(t){return Bs(Bf,t)||js(Bf,t,new Map)}function Vf(t){if(!Bs(If,t)){const e=Bs(Of,t).createElement("div"),{style:n}=e;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const i=Bs(Of,t).createElementNS(yl,"svg");i.setAttribute("width",0),i.setAttribute("height",0),js(If,t,Bs(Of,t).createElementNS(yl,"defs")),e.append(i),i.append(Bs(If,t)),Bs(Of,t).body.append(e)}return Bs(If,t)}function Gf(t){if(1===t.length){const e=t[0],n=new Array(256);for(let t=0;t<256;t++)n[t]=e[t]/255;const i=n.join(",");return[i,i,i]}const[e,n,i]=t,r=new Array(256),a=new Array(256),s=new Array(256);for(let o=0;o<256;o++)r[o]=e[o]/255,a[o]=n[o]/255,s[o]=i[o]/255;return[r.join(","),a.join(","),s.join(",")]}function qf(t){if(void 0===Bs(Nf,this)){js(Nf,this,"");const t=Bs(Of,this).URL;t!==Bs(Of,this).baseURI&&(kl(t)?Vo('#createUrl: ignore "data:"-URL for performance reasons.'):js(Nf,this,Yo(t,"")))}return"url(".concat(Bs(Nf,this),"#").concat(t,")")}function Xf(t){const e=Bs(Of,this).createElementNS(yl,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(e)}function Yf(t){const e=Bs(Of,this).createElementNS(yl,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(e)}function Kf(t){const e=Bs(Of,this).createElementNS(yl,"filter");return e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("id",t),Os(Wf,this,Vf).append(e),e}function Qf(t,e,n){const i=Bs(Of,this).createElementNS(yl,e);i.setAttribute("type","discrete"),i.setAttribute("tableValues",n),t.append(i)}function $f(t,e,n,i){const r=Bs(Of,this).createElementNS(yl,"feComponentTransfer");i.append(r),Fs(Wf,this,Qf).call(this,r,"feFuncR",t),Fs(Wf,this,Qf).call(this,r,"feFuncG",e),Fs(Wf,this,Qf).call(this,r,"feFuncB",n)}function Jf(t,e){const n=Bs(Of,this).createElementNS(yl,"feComponentTransfer");e.append(n),Fs(Wf,this,Qf).call(this,n,"feFuncA",t)}function Zf(t){return Os(Wf,this,Vf).style.color=t,Rl(getComputedStyle(Os(Wf,this,Vf)).getPropertyValue("color"))}class tp{constructor(t){let{baseUrl:e=null}=t;this.baseUrl=e}async fetch(t){let{filename:e}=t;if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const n="".concat(this.baseUrl).concat(e);return this._fetch(n).catch((t=>{throw new Error("Unable to load font data at: ".concat(n))}))}async _fetch(t){Go("Abstract method `_fetch` called.")}}class ep extends tp{async _fetch(t){const e=await wl(t,"arraybuffer");return new Uint8Array(e)}}class np{constructor(t){let{baseUrl:e=null}=t;this.baseUrl=e}async fetch(t){let{filename:e}=t;if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const n="".concat(this.baseUrl).concat(e);return this._fetch(n).catch((t=>{throw new Error("Unable to load wasm data at: ".concat(n))}))}async _fetch(t){Go("Abstract method `_fetch` called.")}}class ip extends np{async _fetch(t){const e=await wl(t,"arraybuffer");return new Uint8Array(e)}}async function rp(t){const e=process.getBuiltinModule("fs"),n=await e.promises.readFile(t);return new Uint8Array(n)}ao&&Vo("Please use the `legacy` build in Node.js environments.");class ap extends Df{}class sp extends Mf{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire("file:///C:/Users/hyder/Desktop/hyder/site/node_modules/react-pdf/node_modules/pdfjs-dist/build/pdf.mjs")("@napi-rs/canvas").createCanvas(t,e)}}class op extends Pf{async _fetch(t){return rp(t)}}class lp extends tp{async _fetch(t){return rp(t)}}class cp extends np{async _fetch(t){return rp(t)}}const up="__forcedDependency",{floor:hp,ceil:dp}=Math;function fp(t,e,n,i,r,a){t[4*e+0]=Math.min(t[4*e+0],n),t[4*e+1]=Math.min(t[4*e+1],i),t[4*e+2]=Math.max(t[4*e+2],r),t[4*e+3]=Math.max(t[4*e+3],a)}const pp=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];var gp=new WeakMap,mp=new WeakMap;class vp{constructor(t,e){Is(this,gp,void 0),Is(this,mp,void 0),js(gp,this,t),js(mp,this,e)}get length(){return Bs(gp,this).length}isEmpty(t){return Bs(gp,this)[t]===pp}minX(t){return Bs(mp,this)[4*t+0]/256}minY(t){return Bs(mp,this)[4*t+1]/256}maxX(t){return(Bs(mp,this)[4*t+2]+1)/256}maxY(t){return(Bs(mp,this)[4*t+3]+1)/256}}const yp=(t,e)=>{if(!t)return;let n=t.get(e);return n||(n={dependencies:new Set,isRenderingOperation:!1},t.set(e,n)),n};var bp=new WeakMap,wp=new WeakMap,xp=new WeakMap,_p=new WeakMap,kp=new WeakMap,Sp=new WeakMap,Ap=new WeakMap,Ep=new WeakMap,Cp=new WeakMap,Mp=new WeakMap,Tp=new WeakMap,Pp=new WeakMap,Rp=new WeakMap,Dp=new WeakMap,Np=new WeakMap,Lp=new WeakMap,Ip=new WeakMap,Fp=new WeakSet;class Op{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Ls(this,Fp),Is(this,bp,{__proto__:null}),Is(this,wp,{__proto__:null,transform:[],moveText:[],sameLineText:[],[up]:[]}),Is(this,xp,new Map),Is(this,_p,[]),Is(this,kp,[]),Is(this,Sp,[[1,0,0,1,0,0]]),Is(this,Ap,[-1/0,-1/0,1/0,1/0]),Is(this,Ep,new Float64Array([1/0,1/0,-1/0,-1/0])),Is(this,Cp,-1),Is(this,Mp,new Set),Is(this,Tp,new Map),Is(this,Pp,new Map),Is(this,Rp,void 0),Is(this,Dp,void 0),Is(this,Np,void 0),Is(this,Lp,void 0),Is(this,Ip,void 0),js(Rp,this,t.width),js(Dp,this,t.height),Fs(Fp,this,Bp).call(this,e),n&&js(Ip,this,new Map)}growOperationsCount(t){t>=Bs(Lp,this).length&&Fs(Fp,this,Bp).call(this,t,Bs(Lp,this))}save(t){return js(bp,this,{__proto__:Bs(bp,this)}),js(wp,this,{__proto__:Bs(wp,this),transform:{__proto__:Bs(wp,this).transform},moveText:{__proto__:Bs(wp,this).moveText},sameLineText:{__proto__:Bs(wp,this).sameLineText},[up]:{__proto__:Bs(wp,this)[up]}}),js(Ap,this,{__proto__:Bs(Ap,this)}),Bs(_p,this).push(t),this}restore(t){const e=Object.getPrototypeOf(Bs(bp,this));if(null===e)return this;js(bp,this,e),js(wp,this,Object.getPrototypeOf(Bs(wp,this))),js(Ap,this,Object.getPrototypeOf(Bs(Ap,this)));const n=Bs(_p,this).pop();var i;void 0!==n&&(null===(i=yp(Bs(Ip,this),t))||void 0===i||i.dependencies.add(n),Bs(Lp,this)[t]=Bs(Lp,this)[n]);return this}recordOpenMarker(t){return Bs(_p,this).push(t),this}getOpenMarker(){return 0===Bs(_p,this).length?null:Bs(_p,this).at(-1)}recordCloseMarker(t){const e=Bs(_p,this).pop();var n;void 0!==e&&(null===(n=yp(Bs(Ip,this),t))||void 0===n||n.dependencies.add(e),Bs(Lp,this)[t]=Bs(Lp,this)[e]);return this}beginMarkedContent(t){return Bs(kp,this).push(t),this}endMarkedContent(t){const e=Bs(kp,this).pop();var n;void 0!==e&&(null===(n=yp(Bs(Ip,this),t))||void 0===n||n.dependencies.add(e),Bs(Lp,this)[t]=Bs(Lp,this)[e]);return this}pushBaseTransform(t){return Bs(Sp,this).push(ol.multiplyByDOMMatrix(Bs(Sp,this).at(-1),t.getTransform())),this}popBaseTransform(){return Bs(Sp,this).length>1&&Bs(Sp,this).pop(),this}recordSimpleData(t,e){return Bs(bp,this)[t]=e,this}recordIncrementalData(t,e){return Bs(wp,this)[t].push(e),this}resetIncrementalData(t,e){return Bs(wp,this)[t].length=0,this}recordNamedData(t,e){return Bs(xp,this).set(t,e),this}recordSimpleDataFromNamed(t,e,n){var i;Bs(bp,this)[t]=null!==(i=Bs(xp,this).get(e))&&void 0!==i?i:n}recordFutureForcedDependency(t,e){return this.recordIncrementalData(up,e),this}inheritSimpleDataAsFutureForcedDependencies(t){for(const e of t)e in Bs(bp,this)&&this.recordFutureForcedDependency(e,Bs(bp,this)[e]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const t of Bs(Mp,this))this.recordFutureForcedDependency(up,t);return this}resetBBox(t){return Bs(Cp,this)!==t&&(js(Cp,this,t),Bs(Ep,this)[0]=1/0,Bs(Ep,this)[1]=1/0,Bs(Ep,this)[2]=-1/0,Bs(Ep,this)[3]=-1/0),this}recordClipBox(t,e,n,i,r,a){const s=ol.multiplyByDOMMatrix(Bs(Sp,this).at(-1),e.getTransform()),o=[1/0,1/0,-1/0,-1/0];ol.axialAlignedBoundingBox([n,r,i,a],s,o);const l=ol.intersect(Bs(Ap,this),o);return l?(Bs(Ap,this)[0]=l[0],Bs(Ap,this)[1]=l[1],Bs(Ap,this)[2]=l[2],Bs(Ap,this)[3]=l[3]):(Bs(Ap,this)[0]=Bs(Ap,this)[1]=1/0,Bs(Ap,this)[2]=Bs(Ap,this)[3]=-1/0),this}recordBBox(t,e,n,i,r,a){const s=Bs(Ap,this);if(s[0]===1/0)return this;const o=ol.multiplyByDOMMatrix(Bs(Sp,this).at(-1),e.getTransform());if(s[0]===-1/0)return ol.axialAlignedBoundingBox([n,r,i,a],o,Bs(Ep,this)),this;const l=[1/0,1/0,-1/0,-1/0];return ol.axialAlignedBoundingBox([n,r,i,a],o,l),Bs(Ep,this)[0]=Math.min(Bs(Ep,this)[0],Math.max(l[0],s[0])),Bs(Ep,this)[1]=Math.min(Bs(Ep,this)[1],Math.max(l[1],s[1])),Bs(Ep,this)[2]=Math.max(Bs(Ep,this)[2],Math.min(l[2],s[2])),Bs(Ep,this)[3]=Math.max(Bs(Ep,this)[3],Math.min(l[3],s[3])),this}recordCharacterBBox(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6?arguments[6]:void 0;const o=n.bbox;let l,c;if(o&&(l=o[2]!==o[0]&&o[3]!==o[1]&&Bs(Pp,this).get(n),!1!==l&&(c=[0,0,0,0],ol.axialAlignedBoundingBox(o,n.fontMatrix,c),1===i&&0===r&&0===a||ol.scaleMinMax([i,0,0,-i,r,a],c),l)))return this.recordBBox(t,e,c[0],c[2],c[1],c[3]);if(!s)return this.recordFullPageBBox(t);const u=s();return o&&c&&void 0===l&&(l=c[0]<=r-u.actualBoundingBoxLeft&&c[2]>=r+u.actualBoundingBoxRight&&c[1]<=a-u.actualBoundingBoxAscent&&c[3]>=a+u.actualBoundingBoxDescent,Bs(Pp,this).set(n,l),l)?this.recordBBox(t,e,c[0],c[2],c[1],c[3]):this.recordBBox(t,e,r-u.actualBoundingBoxLeft,r+u.actualBoundingBoxRight,a-u.actualBoundingBoxAscent,a+u.actualBoundingBoxDescent)}recordFullPageBBox(t){return Bs(Ep,this)[0]=Math.max(0,Bs(Ap,this)[0]),Bs(Ep,this)[1]=Math.max(0,Bs(Ap,this)[1]),Bs(Ep,this)[2]=Math.min(Bs(Rp,this),Bs(Ap,this)[2]),Bs(Ep,this)[3]=Math.min(Bs(Dp,this),Bs(Ap,this)[3]),this}getSimpleIndex(t){return Bs(bp,this)[t]}recordDependencies(t,e){const n=Bs(Mp,this),i=Bs(bp,this),r=Bs(wp,this);for(const a of e)a in Bs(bp,this)?n.add(i[a]):a in r&&r[a].forEach(n.add,n);return this}recordNamedDependency(t,e){return Bs(xp,this).has(e)&&Bs(Mp,this).add(Bs(xp,this).get(e)),this}recordOperation(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.recordDependencies(t,[up]),Bs(Ip,this)){const e=yp(Bs(Ip,this),t),{dependencies:n}=e;Bs(Mp,this).forEach(n.add,n),Bs(_p,this).forEach(n.add,n),Bs(kp,this).forEach(n.add,n),n.delete(t),e.isRenderingOperation=!0}if(Bs(Cp,this)===t){const n=hp(256*Bs(Ep,this)[0]/Bs(Rp,this)),i=hp(256*Bs(Ep,this)[1]/Bs(Dp,this)),r=dp(256*Bs(Ep,this)[2]/Bs(Rp,this)),a=dp(256*Bs(Ep,this)[3]/Bs(Dp,this));fp(Bs(Np,this),t,n,i,r,a);for(const e of Bs(Mp,this))e!==t&&fp(Bs(Np,this),e,n,i,r,a);for(const e of Bs(_p,this))e!==t&&fp(Bs(Np,this),e,n,i,r,a);for(const e of Bs(kp,this))e!==t&&fp(Bs(Np,this),e,n,i,r,a);e||(Bs(Mp,this).clear(),js(Cp,this,-1))}return this}recordShowTextOperation(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Array.from(Bs(Mp,this));this.recordOperation(t,e),this.recordIncrementalData("sameLineText",t);for(const i of n)this.recordIncrementalData("sameLineText",i);return this}bboxToClipBoxDropOperation(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Bs(Cp,this)===t&&(js(Cp,this,-1),Bs(Ap,this)[0]=Math.max(Bs(Ap,this)[0],Bs(Ep,this)[0]),Bs(Ap,this)[1]=Math.max(Bs(Ap,this)[1],Bs(Ep,this)[1]),Bs(Ap,this)[2]=Math.min(Bs(Ap,this)[2],Bs(Ep,this)[2]),Bs(Ap,this)[3]=Math.min(Bs(Ap,this)[3],Bs(Ep,this)[3]),e||Bs(Mp,this).clear()),this}_takePendingDependencies(){const t=Bs(Mp,this);return js(Mp,this,new Set),t}_extractOperation(t){const e=Bs(Tp,this).get(t);return Bs(Tp,this).delete(t),e}_pushPendingDependencies(t){for(const e of t)Bs(Mp,this).add(e)}take(){return Bs(Pp,this).clear(),new vp(Bs(Lp,this),Bs(Np,this))}takeDebugMetadata(){return Bs(Ip,this)}}function Bp(t,e){const n=new ArrayBuffer(4*t);js(Np,this,new Uint8ClampedArray(n)),js(Lp,this,new Uint32Array(n)),e&&e.length>0?(Bs(Lp,this).set(e),Bs(Lp,this).fill(pp,e.length)):Bs(Lp,this).fill(pp)}var jp=new WeakMap,Wp=new WeakMap,zp=new WeakMap,Up=new WeakMap,Hp=new WeakMap;class Vp{constructor(t,e,n){if(Is(this,jp,void 0),Is(this,Wp,void 0),Is(this,zp,void 0),Is(this,Up,0),Is(this,Hp,0),t instanceof Vp&&Bs(zp,t)===!!n)return t;js(jp,this,t),js(Wp,this,e),js(zp,this,!!n)}growOperationsCount(){throw new Error("Unreachable")}save(t){var e;return js(Hp,this,(e=Bs(Hp,this),e++,e)),Bs(jp,this).save(Bs(Wp,this)),this}restore(t){var e;Bs(Hp,this)>0&&(Bs(jp,this).restore(Bs(Wp,this)),js(Hp,this,(e=Bs(Hp,this),e--,e)));return this}recordOpenMarker(t){var e;return js(Up,this,(e=Bs(Up,this),e++,e)),this}getOpenMarker(){return Bs(Up,this)>0?Bs(Wp,this):Bs(jp,this).getOpenMarker()}recordCloseMarker(t){var e;return js(Up,this,(e=Bs(Up,this),e--,e)),this}beginMarkedContent(t){return this}endMarkedContent(t){return this}pushBaseTransform(t){return Bs(jp,this).pushBaseTransform(t),this}popBaseTransform(){return Bs(jp,this).popBaseTransform(),this}recordSimpleData(t,e){return Bs(jp,this).recordSimpleData(t,Bs(Wp,this)),this}recordIncrementalData(t,e){return Bs(jp,this).recordIncrementalData(t,Bs(Wp,this)),this}resetIncrementalData(t,e){return Bs(jp,this).resetIncrementalData(t,Bs(Wp,this)),this}recordNamedData(t,e){return this}recordSimpleDataFromNamed(t,e,n){return Bs(jp,this).recordSimpleDataFromNamed(t,e,Bs(Wp,this)),this}recordFutureForcedDependency(t,e){return Bs(jp,this).recordFutureForcedDependency(t,Bs(Wp,this)),this}inheritSimpleDataAsFutureForcedDependencies(t){return Bs(jp,this).inheritSimpleDataAsFutureForcedDependencies(t),this}inheritPendingDependenciesAsFutureForcedDependencies(){return Bs(jp,this).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(t){return Bs(zp,this)||Bs(jp,this).resetBBox(Bs(Wp,this)),this}recordClipBox(t,e,n,i,r,a){return Bs(zp,this)||Bs(jp,this).recordClipBox(Bs(Wp,this),e,n,i,r,a),this}recordBBox(t,e,n,i,r,a){return Bs(zp,this)||Bs(jp,this).recordBBox(Bs(Wp,this),e,n,i,r,a),this}recordCharacterBBox(t,e,n,i,r,a,s){return Bs(zp,this)||Bs(jp,this).recordCharacterBBox(Bs(Wp,this),e,n,i,r,a,s),this}recordFullPageBBox(t){return Bs(zp,this)||Bs(jp,this).recordFullPageBBox(Bs(Wp,this)),this}getSimpleIndex(t){return Bs(jp,this).getSimpleIndex(t)}recordDependencies(t,e){return Bs(jp,this).recordDependencies(Bs(Wp,this),e),this}recordNamedDependency(t,e){return Bs(jp,this).recordNamedDependency(Bs(Wp,this),e),this}recordOperation(t){return Bs(jp,this).recordOperation(Bs(Wp,this),!0),this}recordShowTextOperation(t){return Bs(jp,this).recordShowTextOperation(Bs(Wp,this),!0),this}bboxToClipBoxDropOperation(t){return Bs(zp,this)||Bs(jp,this).bboxToClipBoxDropOperation(Bs(Wp,this),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}}const Gp=["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],qp=["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],Xp=["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],Yp=["filter","fillColor","fillAlpha"],Kp=["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],Qp=["transform"],$p=["transform","fillColor"],Jp="Fill",Zp="Stroke",tg="Shading";function eg(t,e){if(!e)return;const n=e[2]-e[0],i=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],n,i),t.clip(r)}class ng{isModifyingCurrentTransform(){return!1}getPattern(){Go("Abstract method `getPattern` called.")}}class ig extends ng{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;"axial"===this._type?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)e.addColorStop(n[0],n[1]);return e}getPattern(t,e,n,i){let r;if(i===Zp||i===Jp){const a=e.current.getClippedPathBoundingBox(i,Dl(t))||[0,0,0,0],s=Math.ceil(a[2]-a[0])||1,o=Math.ceil(a[3]-a[1])||1,l=e.cachedCanvases.getCanvas("pattern",s,o),c=l.context;c.clearRect(0,0,c.canvas.width,c.canvas.height),c.beginPath(),c.rect(0,0,c.canvas.width,c.canvas.height),c.translate(-a[0],-a[1]),n=ol.transform(n,[1,0,0,1,a[0],a[1]]),c.transform(...e.baseTransform),this.matrix&&c.transform(...this.matrix),eg(c,this._bbox),c.fillStyle=this._createGradient(c),c.fill(),r=t.createPattern(l.canvas,"no-repeat");const u=new DOMMatrix(n);r.setTransform(u)}else eg(t,this._bbox),r=this._createGradient(t);return r}}function rg(t,e,n,i,r,a,s,o){const l=e.coords,c=e.colors,u=t.data,h=4*t.width;let d;l[n+1]>l[i+1]&&(d=n,n=i,i=d,d=a,a=s,s=d),l[i+1]>l[r+1]&&(d=i,i=r,r=d,d=s,s=o,o=d),l[n+1]>l[i+1]&&(d=n,n=i,i=d,d=a,a=s,s=d);const f=(l[n]+e.offsetX)*e.scaleX,p=(l[n+1]+e.offsetY)*e.scaleY,g=(l[i]+e.offsetX)*e.scaleX,m=(l[i+1]+e.offsetY)*e.scaleY,v=(l[r]+e.offsetX)*e.scaleX,y=(l[r+1]+e.offsetY)*e.scaleY;if(p>=y)return;const b=c[a],w=c[a+1],x=c[a+2],_=c[s],k=c[s+1],S=c[s+2],A=c[o],E=c[o+1],C=c[o+2],M=Math.round(p),T=Math.round(y);let P,R,D,N,L,I,F,O;for(let B=M;B<=T;B++){if(B<m){const t=B<p?0:(p-B)/(p-m);P=f-(f-g)*t,R=b-(b-_)*t,D=w-(w-k)*t,N=x-(x-S)*t}else{let t;t=B>y?1:m===y?0:(m-B)/(m-y),P=g-(g-v)*t,R=_-(_-A)*t,D=k-(k-E)*t,N=S-(S-C)*t}let t;t=B<p?0:B>y?1:(p-B)/(p-y),L=f-(f-v)*t,I=b-(b-A)*t,F=w-(w-E)*t,O=x-(x-C)*t;const e=Math.round(Math.min(P,L)),n=Math.round(Math.max(P,L));let i=h*B+4*e;for(let r=e;r<=n;r++)t=(P-r)/(P-L),t<0?t=0:t>1&&(t=1),u[i++]=R-(R-I)*t|0,u[i++]=D-(D-F)*t|0,u[i++]=N-(N-O)*t|0,u[i++]=255}}function ag(t,e,n){const i=e.coords,r=e.colors;let a,s;switch(e.type){case"lattice":const o=e.verticesPerRow,l=Math.floor(i.length/o)-1,c=o-1;for(a=0;a<l;a++){let e=a*o;for(let a=0;a<c;a++,e++)rg(t,n,i[e],i[e+1],i[e+o],r[e],r[e+1],r[e+o]),rg(t,n,i[e+o+1],i[e+1],i[e+o],r[e+o+1],r[e+1],r[e+o])}break;case"triangles":for(a=0,s=i.length;a<s;a+=3)rg(t,n,i[a],i[a+1],i[a+2],r[a],r[a+1],r[a+2]);break;default:throw new Error("illegal figure")}}class sg extends ng{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,n){const i=Math.floor(this._bounds[0]),r=Math.floor(this._bounds[1]),a=Math.ceil(this._bounds[2])-i,s=Math.ceil(this._bounds[3])-r,o=Math.min(Math.ceil(Math.abs(a*t[0]*1.1)),3e3),l=Math.min(Math.ceil(Math.abs(s*t[1]*1.1)),3e3),c=a/o,u=s/l,h={coords:this._coords,colors:this._colors,offsetX:-i,offsetY:-r,scaleX:1/c,scaleY:1/u},d=o+4,f=l+4,p=n.getCanvas("mesh",d,f),g=p.context,m=g.createImageData(o,l);if(e){const t=m.data;for(let n=0,i=t.length;n<i;n+=4)t[n]=e[0],t[n+1]=e[1],t[n+2]=e[2],t[n+3]=255}for(const v of this._figures)ag(m,v,h);g.putImageData(m,2,2);return{canvas:p.canvas,offsetX:i-2*c,offsetY:r-2*u,scaleX:c,scaleY:u}}isModifyingCurrentTransform(){return!0}getPattern(t,e,n,i){eg(t,this._bbox);const r=new Float32Array(2);if(i===tg)ol.singularValueDecompose2dScale(Dl(t),r);else if(this.matrix){ol.singularValueDecompose2dScale(this.matrix,r);const[t,n]=r;ol.singularValueDecompose2dScale(e.baseTransform,r),r[0]*=t,r[1]*=n}else ol.singularValueDecompose2dScale(e.baseTransform,r);const a=this._createMeshCanvas(r,i===tg?null:this._background,e.cachedCanvases);return i!==tg&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(a.offsetX,a.offsetY),t.scale(a.scaleX,a.scaleY),t.createPattern(a.canvas,"no-repeat")}}class og extends ng{getPattern(){return"hotpink"}}const lg=1,cg=2;class ug{constructor(t,e,n,i){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=n,this.baseTransform=i}createPatternCanvas(t,e){var n,i;const{bbox:r,operatorList:a,paintType:s,tilingType:o,color:l,canvasGraphicsFactory:c}=this;let{xstep:u,ystep:h}=this;u=Math.abs(u),h=Math.abs(h),Ho("TilingType: "+o);const d=r[0],f=r[1],p=r[2],g=r[3],m=p-d,v=g-f,y=new Float32Array(2);ol.singularValueDecompose2dScale(this.matrix,y);const[b,w]=y;ol.singularValueDecompose2dScale(this.baseTransform,y);const x=b*y[0],_=w*y[1];let k=m,S=v,A=!1,E=!1;const C=Math.ceil(u*x),M=Math.ceil(h*_);C>=Math.ceil(m*x)?k=u:A=!0,M>=Math.ceil(v*_)?S=h:E=!0;const T=this.getSizeAndScale(k,this.ctx.canvas.width,x),P=this.getSizeAndScale(S,this.ctx.canvas.height,_),R=t.cachedCanvases.getCanvas("pattern",T.size,P.size),D=R.context,N=c.createCanvasGraphics(D,e);if(N.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(N,s,l),D.translate(-T.scale*d,-P.scale*f),N.transform(0,T.scale,0,0,P.scale,0,0),D.save(),null===(n=N.dependencyTracker)||void 0===n||n.save(),this.clipBbox(N,d,f,p,g),N.baseTransform=Dl(N.ctx),N.executeOperatorList(a),N.endDrawing(),null===(i=N.dependencyTracker)||void 0===i||i.restore(),D.restore(),A||E){const e=R.canvas;A&&(k=u),E&&(S=h);const n=this.getSizeAndScale(k,this.ctx.canvas.width,x),i=this.getSizeAndScale(S,this.ctx.canvas.height,_),r=n.size,a=i.size,s=t.cachedCanvases.getCanvas("pattern-workaround",r,a),o=s.context,l=A?Math.floor(m/u):0,c=E?Math.floor(v/h):0;for(let t=0;t<=l;t++)for(let n=0;n<=c;n++)o.drawImage(e,r*t,a*n,r,a,0,0,r,a);return{canvas:s.canvas,scaleX:n.scale,scaleY:i.scale,offsetX:d,offsetY:f}}return{canvas:R.canvas,scaleX:T.scale,scaleY:P.scale,offsetX:d,offsetY:f}}getSizeAndScale(t,e,n){const i=Math.max(ug.MAX_PATTERN_SIZE,e);let r=Math.ceil(t*n);return r>=i?r=i:n=r/t,{scale:n,size:r}}clipBbox(t,e,n,i,r){const a=i-e,s=r-n;t.ctx.rect(e,n,a,s),ol.axialAlignedBoundingBox([e,n,i,r],Dl(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,n){const i=t.ctx,r=t.current;switch(e){case lg:const{fillStyle:t,strokeStyle:a}=this.ctx;i.fillStyle=r.fillColor=t,i.strokeStyle=r.strokeColor=a;break;case cg:i.fillStyle=i.strokeStyle=n,r.fillColor=r.strokeColor=n;break;default:throw new el("Unsupported paint type: ".concat(e))}}isModifyingCurrentTransform(){return!1}getPattern(t,e,n,i,r){let a=n;i!==tg&&(a=ol.transform(a,e.baseTransform),this.matrix&&(a=ol.transform(a,this.matrix)));const s=this.createPatternCanvas(e,r);let o=new DOMMatrix(a);o=o.translate(s.offsetX,s.offsetY),o=o.scale(1/s.scaleX,1/s.scaleY);const l=t.createPattern(s.canvas,"repeat");return l.setTransform(o),l}}function hg(t){let{src:e,srcPos:n=0,dest:i,width:r,height:a,nonBlackColor:s=4294967295,inverseDecode:o=!1}=t;const l=al.isLittleEndian?4278190080:255,[c,u]=o?[s,l]:[l,s],h=r>>3,d=7&r,f=e.length;i=new Uint32Array(i.buffer);let p=0;for(let g=0;g<a;g++){for(const r=n+h;n<r;n++){const t=n<f?e[n]:255;i[p++]=128&t?u:c,i[p++]=64&t?u:c,i[p++]=32&t?u:c,i[p++]=16&t?u:c,i[p++]=8&t?u:c,i[p++]=4&t?u:c,i[p++]=2&t?u:c,i[p++]=1&t?u:c}if(0===d)continue;const t=n<f?e[n++]:255;for(let e=0;e<d;e++)i[p++]=t&1<<7-e?u:c}return{srcPos:n,destPos:p}}c(ug,"MAX_PATTERN_SIZE",3e3);const dg=16,fg=new DOMMatrix,pg=new Float32Array(2),gg=new Float32Array([1/0,1/0,-1/0,-1/0]);class mg{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,n){let i;return void 0!==this.cache[t]?(i=this.cache[t],this.canvasFactory.reset(i,e,n)):(i=this.canvasFactory.create(e,n),this.cache[t]=i),i}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function vg(t,e,n,i,r,a,s,o,l,c){const[u,h,d,f,p,g]=Dl(t);if(0===h&&0===d){const m=s*u+p,v=Math.round(m),y=o*f+g,b=Math.round(y),w=(s+l)*u+p,x=Math.abs(Math.round(w)-v)||1,_=(o+c)*f+g,k=Math.abs(Math.round(_)-b)||1;return t.setTransform(Math.sign(u),0,0,Math.sign(f),v,b),t.drawImage(e,n,i,r,a,0,0,x,k),t.setTransform(u,h,d,f,p,g),[x,k]}if(0===u&&0===f){const m=o*d+p,v=Math.round(m),y=s*h+g,b=Math.round(y),w=(o+c)*d+p,x=Math.abs(Math.round(w)-v)||1,_=(s+l)*h+g,k=Math.abs(Math.round(_)-b)||1;return t.setTransform(0,Math.sign(h),Math.sign(d),0,v,b),t.drawImage(e,n,i,r,a,0,0,k,x),t.setTransform(u,h,d,f,p,g),[k,x]}t.drawImage(e,n,i,r,a,s,o,l,c);return[Math.hypot(u,h)*l,Math.hypot(d,f)*c]}class yg{constructor(t,e,n){c(this,"alphaIsShape",!1),c(this,"fontSize",0),c(this,"fontSizeScale",1),c(this,"textMatrix",null),c(this,"textMatrixScale",1),c(this,"fontMatrix",so),c(this,"leading",0),c(this,"x",0),c(this,"y",0),c(this,"lineX",0),c(this,"lineY",0),c(this,"charSpacing",0),c(this,"wordSpacing",0),c(this,"textHScale",1),c(this,"textRenderingMode",xo),c(this,"textRise",0),c(this,"fillColor","#000000"),c(this,"strokeColor","#000000"),c(this,"patternFill",!1),c(this,"patternStroke",!1),c(this,"fillAlpha",1),c(this,"strokeAlpha",1),c(this,"lineWidth",1),c(this,"activeSMask",null),c(this,"transferMaps","none"),null===n||void 0===n||n(this),this.clipBox=new Float32Array([0,0,t,e]),this.minMax=gg.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jp,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=this.minMax.slice();if(t===Zp){e||Go("Stroke bounding box must include transform."),ol.singularValueDecompose2dScale(e,pg);const t=pg[0]*this.lineWidth/2,i=pg[1]*this.lineWidth/2;n[0]-=t,n[1]-=i,n[2]+=t,n[3]+=i}return n}updateClipFromPath(){const t=ol.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(gg,0)}getClippedPathBoundingBox(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jp,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return ol.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function bg(t,e){if(e instanceof ImageData)return void t.putImageData(e,0,0);const n=e.height,i=e.width,r=n%dg,a=(n-r)/dg,s=0===r?a:a+1,o=t.createImageData(i,dg);let l,c=0;const u=e.data,h=o.data;let d,f,p,g;if(e.kind===Co.GRAYSCALE_1BPP){const e=u.byteLength,n=new Uint32Array(h.buffer,0,h.byteLength>>2),g=n.length,m=i+7>>3,v=4294967295,y=al.isLittleEndian?4278190080:255;for(d=0;d<s;d++){for(p=d<a?dg:r,l=0,f=0;f<p;f++){const t=e-c;let r=0;const a=t>m?i:8*t-7,s=-8&a;let o=0,h=0;for(;r<s;r+=8)h=u[c++],n[l++]=128&h?v:y,n[l++]=64&h?v:y,n[l++]=32&h?v:y,n[l++]=16&h?v:y,n[l++]=8&h?v:y,n[l++]=4&h?v:y,n[l++]=2&h?v:y,n[l++]=1&h?v:y;for(;r<a;r++)0===o&&(h=u[c++],o=128),n[l++]=h&o?v:y,o>>=1}for(;l<g;)n[l++]=0;t.putImageData(o,0,d*dg)}}else if(e.kind===Co.RGBA_32BPP){for(f=0,g=i*dg*4,d=0;d<a;d++)h.set(u.subarray(c,c+g)),c+=g,t.putImageData(o,0,f),f+=dg;d<s&&(g=i*r*4,h.set(u.subarray(c,c+g)),t.putImageData(o,0,f))}else{if(e.kind!==Co.RGB_24BPP)throw new Error("bad image kind: ".concat(e.kind));for(p=dg,g=i*p,d=0;d<s;d++){for(d>=a&&(p=r,g=i*p),l=0,f=g;f--;)h[l++]=u[c++],h[l++]=u[c++],h[l++]=u[c++],h[l++]=255;t.putImageData(o,0,d*dg)}}}function wg(t,e){if(e.bitmap)return void t.drawImage(e.bitmap,0,0);const n=e.height,i=e.width,r=n%dg,a=(n-r)/dg,s=0===r?a:a+1,o=t.createImageData(i,dg);let l=0;const c=e.data,u=o.data;for(let h=0;h<s;h++){const e=h<a?dg:r;({srcPos:l}=hg({src:c,srcPos:l,dest:u,width:i,height:e,nonBlackColor:0})),t.putImageData(o,0,h*dg)}}function xg(t,e){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of n)void 0!==t[i]&&(e[i]=t[i]);void 0!==t.setLineDash&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function _g(t){t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",void 0!==t.setLineDash&&(t.setLineDash([]),t.lineDashOffset=0);const{filter:e}=t;"none"!==e&&""!==e&&(t.filter="none")}function kg(t,e){if(e)return!0;ol.singularValueDecompose2dScale(t,pg);const n=Math.fround(Il.pixelRatio*bl.PDF_TO_CSS_UNITS);return pg[0]<=n&&pg[1]<=n}const Sg=["butt","round","square"],Ag=["miter","round","bevel"],Eg={},Cg={};var Mg=new WeakSet;class Tg{constructor(t,e,n,i,r,a,s,o,l){let{optionalContentConfig:c,markedContentStack:u=null}=a;Ls(this,Mg),this.ctx=t,this.current=new yg(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=n,this.canvasFactory=i,this.filterFactory=r,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=u||[],this.optionalContentConfig=c,this.cachedCanvases=new mg(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=s,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=o,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=null!==l&&void 0!==l?l:null}getObject(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;var i;return"string"===typeof e?(null===(i=this.dependencyTracker)||void 0===i||i.recordNamedDependency(t,e),e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e)):n}beginDrawing(t){let{transform:e,viewport:n,transparency:i=!1,background:r=null}=t;const a=this.ctx.canvas.width,s=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,a,s),this.ctx.fillStyle=o,i){const t=this.cachedCanvases.getCanvas("transparent",a,s);this.compositeCtx=this.ctx,this.transparentCanvas=t.canvas,this.ctx=t.context,this.ctx.save(),this.ctx.transform(...Dl(this.compositeCtx))}this.ctx.save(),_g(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=Dl(this.ctx)}executeOperatorList(t,e,n,i,r){const a=t.argsArray,s=t.fnArray;let o=e||0;const l=a.length;if(l===o)return o;const c=l-o>10&&"function"===typeof n,u=c?Date.now()+15:0;let h=0;const d=this.commonObjs,f=this.objs;let p,g;for(;;){if(void 0!==i&&o===i.nextBreakPoint)return i.breakIt(o,n),o;var m;if(!r||r(o))if(p=s[o],g=null!==(m=a[o])&&void 0!==m?m:null,p!==Io.dependency)null===g?this[p](o):this[p](o,...g);else for(const t of g){var v;null===(v=this.dependencyTracker)||void 0===v||v.recordNamedData(t,o);const e=t.startsWith("g_")?d:f;if(!e.has(t))return e.get(t,n),o}if(o++,o===l)return o;if(c&&++h>10){if(Date.now()>u)return n(),o;h=0}}}endDrawing(){Fs(Mg,this,Pg).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),Fs(Mg,this,Rg).call(this)}_scaleImage(t,e){var n,i;const r=null!==(n=t.width)&&void 0!==n?n:t.displayWidth,a=null!==(i=t.height)&&void 0!==i?i:t.displayHeight;let s,o,l=Math.max(Math.hypot(e[0],e[1]),1),c=Math.max(Math.hypot(e[2],e[3]),1),u=r,h=a,d="prescale1";for(;l>2&&u>1||c>2&&h>1;){let e=u,n=h;l>2&&u>1&&(e=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u/2),l/=u/e),c>2&&h>1&&(n=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h)/2,c/=h/n),s=this.cachedCanvases.getCanvas(d,e,n),o=s.context,o.clearRect(0,0,e,n),o.drawImage(t,0,0,u,h,0,0,e,n),t=s.canvas,u=e,h=n,d="prescale1"===d?"prescale2":"prescale1"}return{img:t,paintWidth:u,paintHeight:h}}_createMaskCanvas(t,e){var n;const i=this.ctx,{width:r,height:a}=e,s=this.current.fillColor,o=this.current.patternFill,l=Dl(i);let c,u,h,d;if((e.bitmap||e.data)&&e.count>1){const n=e.bitmap||e.data.buffer;u=JSON.stringify(o?l:[l.slice(0,4),s]),c=this._cachedBitmapsMap.get(n),c||(c=new Map,this._cachedBitmapsMap.set(n,c));const i=c.get(u);if(i&&!o){var f;const e=Math.round(Math.min(l[0],l[2])+l[4]),n=Math.round(Math.min(l[1],l[3])+l[5]);return null===(f=this.dependencyTracker)||void 0===f||f.recordDependencies(t,$p),{canvas:i,offsetX:e,offsetY:n}}h=i}h||(d=this.cachedCanvases.getCanvas("maskCanvas",r,a),wg(d.context,e));let p=ol.transform(l,[1/r,0,0,-1/a,0,0]);p=ol.transform(p,[1,0,0,1,0,-a]);const g=gg.slice();ol.axialAlignedBoundingBox([0,0,r,a],p,g);const[m,v,y,b]=g,w=Math.round(y-m)||1,x=Math.round(b-v)||1,_=this.cachedCanvases.getCanvas("fillCanvas",w,x),k=_.context,S=m,A=v;k.translate(-S,-A),k.transform(...p),h||(h=this._scaleImage(d.canvas,Nl(k)),h=h.img,c&&o&&c.set(u,h)),k.imageSmoothingEnabled=kg(Dl(k),e.interpolate),vg(k,h,0,0,h.width,h.height,0,0,r,a),k.globalCompositeOperation="source-in";const E=ol.transform(Nl(k),[1,0,0,1,-S,-A]);return k.fillStyle=o?s.getPattern(i,this,E,Jp,t):s,k.fillRect(0,0,r,a),c&&!o&&(this.cachedCanvases.delete("fillCanvas"),c.set(u,_.canvas)),null===(n=this.dependencyTracker)||void 0===n||n.recordDependencies(t,$p),{canvas:_.canvas,offsetX:Math.round(S),offsetY:Math.round(A)}}setLineWidth(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("lineWidth",t),e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("lineCap",t),this.ctx.lineCap=Sg[e]}setLineJoin(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("lineJoin",t),this.ctx.lineJoin=Ag[e]}setMiterLimit(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("miterLimit",t),this.ctx.miterLimit=e}setDash(t,e,n){var i;null===(i=this.dependencyTracker)||void 0===i||i.recordSimpleData("dash",t);const r=this.ctx;void 0!==r.setLineDash&&(r.setLineDash(e),r.lineDashOffset=n)}setRenderingIntent(t,e){}setFlatness(t,e){}setGState(t,e){var n,i,r,a,s;for(const[o,l]of e)switch(o){case"LW":this.setLineWidth(t,l);break;case"LC":this.setLineCap(t,l);break;case"LJ":this.setLineJoin(t,l);break;case"ML":this.setMiterLimit(t,l);break;case"D":this.setDash(t,l[0],l[1]);break;case"RI":this.setRenderingIntent(t,l);break;case"FL":this.setFlatness(t,l);break;case"Font":this.setFont(t,l[0],l[1]);break;case"CA":null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("strokeAlpha",t),this.current.strokeAlpha=l;break;case"ca":null===(i=this.dependencyTracker)||void 0===i||i.recordSimpleData("fillAlpha",t),this.ctx.globalAlpha=this.current.fillAlpha=l;break;case"BM":null===(r=this.dependencyTracker)||void 0===r||r.recordSimpleData("globalCompositeOperation",t),this.ctx.globalCompositeOperation=l;break;case"SMask":null===(a=this.dependencyTracker)||void 0===a||a.recordSimpleData("SMask",t),this.current.activeSMask=l?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":null===(s=this.dependencyTracker)||void 0===s||s.recordSimpleData("filter",t),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(l)}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(t){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,n=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(i,e,n);this.suspendedCtx=this.ctx;const a=this.ctx=r.context;a.setTransform(this.suspendedCtx.getTransform()),xg(this.suspendedCtx,a),function(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(t,n){e.translate(t,n),this.__originalTranslate(t,n)},t.scale=function(t,n){e.scale(t,n),this.__originalScale(t,n)},t.transform=function(t,n,i,r,a,s){e.transform(t,n,i,r,a,s),this.__originalTransform(t,n,i,r,a,s)},t.setTransform=function(t,n,i,r,a,s){e.setTransform(t,n,i,r,a,s),this.__originalSetTransform(t,n,i,r,a,s)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(t){e.rotate(t),this.__originalRotate(t)},t.clip=function(t){e.clip(t),this.__originalClip(t)},t.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},t.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},t.bezierCurveTo=function(t,n,i,r,a,s){e.bezierCurveTo(t,n,i,r,a,s),this.__originalBezierCurveTo(t,n,i,r,a,s)},t.rect=function(t,n,i,r){e.rect(t,n,i,r),this.__originalRect(t,n,i,r)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}(a,this.suspendedCtx),this.setGState(t,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),xg(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,n,i){const r=i[0],a=i[1],s=i[2]-r,o=i[3]-a;0!==s&&0!==o&&(this.genericComposeSMask(e.context,n,s,o,e.subtype,e.backdrop,e.transferMap,r,a,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(n.canvas,0,0),t.restore())}genericComposeSMask(t,e,n,i,r,a,s,o,l,c,u){let h=t.canvas,d=o-c,f=l-u;if(a)if(d<0||f<0||d+n>h.width||f+i>h.height){const t=this.cachedCanvases.getCanvas("maskExtension",n,i),e=t.context;e.drawImage(h,-d,-f),e.globalCompositeOperation="destination-atop",e.fillStyle=a,e.fillRect(0,0,n,i),e.globalCompositeOperation="source-over",h=t.canvas,d=f=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const e=new Path2D;e.rect(d,f,n,i),t.clip(e),t.globalCompositeOperation="destination-atop",t.fillStyle=a,t.fillRect(d,f,n,i),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),"Alpha"===r&&s?e.filter=this.filterFactory.addAlphaFilter(s):"Luminosity"===r&&(e.filter=this.filterFactory.addLuminosityFilter(s));const p=new Path2D;p.rect(o,l,n,i),e.clip(p),e.globalCompositeOperation="destination-in",e.drawImage(h,d,f,n,i,o,l,n,i),e.restore()}save(t){var e;this.inSMaskMode&&xg(this.ctx,this.suspendedCtx),this.ctx.save();const n=this.current;this.stateStack.push(n),this.current=n.clone(),null===(e=this.dependencyTracker)||void 0===e||e.save(t)}restore(t){var e;null===(e=this.dependencyTracker)||void 0===e||e.restore(t),0!==this.stateStack.length?(this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&xg(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null):this.inSMaskMode&&this.endSMaskMode()}transform(t,e,n,i,r,a,s){var o;null===(o=this.dependencyTracker)||void 0===o||o.recordIncrementalData("transform",t),this.ctx.transform(e,n,i,r,a,s),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,n,i){let[r]=n;if(!i)return r||(r=n[0]=new Path2D),void this[e](t,r);if(null!==this.dependencyTracker){const n=e===Io.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(t).recordBBox(t,this.ctx,i[0]-n,i[2]+n,i[1]-n,i[3]+n).recordDependencies(t,["transform"])}if(!(r instanceof Path2D)){const t=n[0]=new Path2D;for(let e=0,n=r.length;e<n;)switch(r[e++]){case Fo:t.moveTo(r[e++],r[e++]);break;case Oo:t.lineTo(r[e++],r[e++]);break;case Bo:t.bezierCurveTo(r[e++],r[e++],r[e++],r[e++],r[e++],r[e++]);break;case jo:t.closePath();break;default:Vo("Unrecognized drawing path operator: ".concat(r[e-1]))}r=t}ol.axialAlignedBoundingBox(i,Dl(this.ctx),this.current.minMax),this[e](t,r),this._pathStartIdx=t}closePath(t){this.ctx.closePath()}stroke(t,e){var n;let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=this.ctx,a=this.current.strokeColor;if(r.globalAlpha=this.current.strokeAlpha,this.contentVisible)if("object"===typeof a&&null!==a&&void 0!==a&&a.getPattern){const n=a.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.strokeStyle=a.getPattern(r,this,Nl(r),Zp,t),n){const t=new Path2D;t.addPath(e,r.getTransform().invertSelf().multiplySelf(n)),e=t}this.rescaleAndStroke(e,!1),r.restore()}else this.rescaleAndStroke(e,!0);null===(n=this.dependencyTracker)||void 0===n||n.recordDependencies(t,Gp),i&&this.consumePath(t,e,this.current.getClippedPathBoundingBox(Zp,Dl(this.ctx))),r.globalAlpha=this.current.fillAlpha}closeStroke(t,e){this.stroke(t,e)}fill(t,e){var n;let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=this.ctx,a=this.current.fillColor;let s=!1;if(this.current.patternFill){var o;const n=a.isModifyingCurrentTransform()?r.getTransform():null;if(null===(o=this.dependencyTracker)||void 0===o||o.save(t),r.save(),r.fillStyle=a.getPattern(r,this,Nl(r),Jp,t),n){const t=new Path2D;t.addPath(e,r.getTransform().invertSelf().multiplySelf(n)),e=t}s=!0}const l=this.current.getClippedPathBoundingBox();var c;(this.contentVisible&&null!==l&&(this.pendingEOFill?(r.fill(e,"evenodd"),this.pendingEOFill=!1):r.fill(e)),null===(n=this.dependencyTracker)||void 0===n||n.recordDependencies(t,qp),s)&&(r.restore(),null===(c=this.dependencyTracker)||void 0===c||c.restore(t));i&&this.consumePath(t,e,l)}eoFill(t,e){this.pendingEOFill=!0,this.fill(t,e)}fillStroke(t,e){this.fill(t,e,!1),this.stroke(t,e,!1),this.consumePath(t,e)}eoFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}closeFillStroke(t,e){this.fillStroke(t,e)}closeEOFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}endPath(t,e){this.consumePath(t,e)}rawFillPath(t,e){var n;this.ctx.fill(e),null===(n=this.dependencyTracker)||void 0===n||n.recordDependencies(t,Yp).recordOperation(t)}clip(t){var e;null===(e=this.dependencyTracker)||void 0===e||e.recordFutureForcedDependency("clipMode",t),this.pendingClip=Eg}eoClip(t){var e;null===(e=this.dependencyTracker)||void 0===e||e.recordFutureForcedDependency("clipMode",t),this.pendingClip=Cg}beginText(t){var e;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,null===(e=this.dependencyTracker)||void 0===e||e.recordOpenMarker(t).resetIncrementalData("sameLineText").resetIncrementalData("moveText",t)}endText(t){const e=this.pendingTextPaths,n=this.ctx;if(this.dependencyTracker){const{dependencyTracker:n}=this;void 0!==e&&n.recordFutureForcedDependency("textClip",n.getOpenMarker()).recordFutureForcedDependency("textClip",t),n.recordCloseMarker(t)}if(void 0!==e){const t=new Path2D,i=n.getTransform().invertSelf();for(const{transform:n,x:r,y:a,fontSize:s,path:o}of e)o&&t.addPath(o,new DOMMatrix(n).preMultiplySelf(i).translate(r,a).scale(s,-s));n.clip(t)}delete this.pendingTextPaths}setCharSpacing(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("charSpacing",t),this.current.charSpacing=e}setWordSpacing(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("wordSpacing",t),this.current.wordSpacing=e}setHScale(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("hScale",t),this.current.textHScale=e/100}setLeading(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("leading",t),this.current.leading=-e}setFont(t,e,n){var i,r;null===(i=this.dependencyTracker)||void 0===i||i.recordSimpleData("font",t).recordSimpleDataFromNamed("fontObj",e,t);const a=this.commonObjs.get(e),s=this.current;if(!a)throw new Error("Can't find font for ".concat(e));if(s.fontMatrix=a.fontMatrix||so,0!==s.fontMatrix[0]&&0!==s.fontMatrix[3]||Vo("Invalid font matrix for font "+e),n<0?(n=-n,s.fontDirection=-1):s.fontDirection=1,this.current.font=a,this.current.fontSize=n,a.isType3Font)return;const o=a.loadedName||"sans-serif",l=(null===(r=a.systemFontInfo)||void 0===r?void 0:r.css)||'"'.concat(o,'", ').concat(a.fallbackName);let c="normal";a.black?c="900":a.bold&&(c="bold");const u=a.italic?"italic":"normal";let h=n;n<16?h=16:n>100&&(h=100),this.current.fontSizeScale=n/h,this.ctx.font="".concat(u," ").concat(c," ").concat(h,"px ").concat(l)}setTextRenderingMode(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("textRenderingMode",t),this.current.textRenderingMode=e}setTextRise(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("textRise",t),this.current.textRise=e}moveText(t,e,n){var i;null===(i=this.dependencyTracker)||void 0===i||i.resetIncrementalData("sameLineText").recordIncrementalData("moveText",t),this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=n}setLeadingMoveText(t,e,n){this.setLeading(t,-n),this.moveText(t,e,n)}setTextMatrix(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("textMatrix",t);const{current:i}=this;i.textMatrix=e,i.textMatrixScale=Math.hypot(e[0],e[1]),i.x=i.lineX=0,i.y=i.lineY=0}nextLine(t){var e,n;this.moveText(t,0,this.current.leading),null===(e=this.dependencyTracker)||void 0===e||e.recordIncrementalData("moveText",null!==(n=this.dependencyTracker.getSimpleIndex("leading"))&&void 0!==n?n:t)}paintChar(t,e,n,i,r,a){const s=this.ctx,o=this.current,l=o.font,c=o.textRenderingMode,u=o.fontSize/o.fontSizeScale,h=c&Ao,d=!!(c&Eo),f=o.patternFill&&!l.missingFile,p=o.patternStroke&&!l.missingFile;let g;if((l.disableFontFace||d||f||p)&&!l.missingFile&&(g=l.getPathGenerator(this.commonObjs,e)),g&&(l.disableFontFace||f||p)){var m;let e;if(s.save(),s.translate(n,i),s.scale(u,-u),null===(m=this.dependencyTracker)||void 0===m||m.recordCharacterBBox(t,s,l),h===xo||h===ko)if(r){e=s.getTransform(),s.setTransform(...r);const t=Fs(Mg,this,Dg).call(this,g,e,r);s.fill(t)}else s.fill(g);if(h===_o||h===ko)if(a){e||(e=s.getTransform()),s.setTransform(...a);const{a:t,b:n,c:i,d:r}=e,o=ol.inverseTransform(a),l=ol.transform([t,n,i,r,0,0],o);ol.singularValueDecompose2dScale(l,pg),s.lineWidth*=Math.max(pg[0],pg[1])/u,s.stroke(Fs(Mg,this,Dg).call(this,g,e,a))}else s.lineWidth/=u,s.stroke(g);s.restore()}else{var v;if(h===xo||h===ko)s.fillText(e,n,i),null===(v=this.dependencyTracker)||void 0===v||v.recordCharacterBBox(t,s,l,u,n,i,(()=>s.measureText(e)));if(h===_o||h===ko){var y;if(this.dependencyTracker)null===(y=this.dependencyTracker)||void 0===y||y.recordCharacterBBox(t,s,l,u,n,i,(()=>s.measureText(e))).recordDependencies(t,Gp);s.strokeText(e,n,i)}}if(d){var b;(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Dl(s),x:n,y:i,fontSize:u,path:g}),null===(b=this.dependencyTracker)||void 0===b||b.recordCharacterBBox(t,s,l,u,n,i)}}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let n=!1;for(let i=3;i<e.length;i+=4)if(e[i]>0&&e[i]<255){n=!0;break}return Ko(this,"isFontSubpixelAAEnabled",n)}showText(t,e){var n;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(t,Kp).resetBBox(t),this.current.textRenderingMode&Eo&&this.dependencyTracker.recordFutureForcedDependency("textClip",t).inheritPendingDependenciesAsFutureForcedDependencies());const i=this.current,r=i.font;var a;if(r.isType3Font)return this.showType3Text(t,e),void(null===(a=this.dependencyTracker)||void 0===a||a.recordShowTextOperation(t));const s=i.fontSize;var o;if(0===s)return void(null===(o=this.dependencyTracker)||void 0===o||o.recordOperation(t));const l=this.ctx,c=i.fontSizeScale,u=i.charSpacing,h=i.wordSpacing,d=i.fontDirection,f=i.textHScale*d,p=e.length,g=r.vertical,m=g?1:-1,v=r.defaultVMetrics,y=s*i.fontMatrix[0],b=i.textRenderingMode===xo&&!r.disableFontFace&&!i.patternFill;let w,x;if(l.save(),i.textMatrix&&l.transform(...i.textMatrix),l.translate(i.x,i.y+i.textRise),d>0?l.scale(f,-1):l.scale(f,1),i.patternFill){l.save();const e=i.fillColor.getPattern(l,this,Nl(l),Jp,t);w=Dl(l),l.restore(),l.fillStyle=e}if(i.patternStroke){l.save();const e=i.strokeColor.getPattern(l,this,Nl(l),Zp,t);x=Dl(l),l.restore(),l.strokeStyle=e}let _=i.lineWidth;const k=i.textMatrixScale;if(0===k||0===_){const t=i.textRenderingMode&Ao;t!==_o&&t!==ko||(_=this.getSinglePixelWidth())}else _/=k;if(1!==c&&(l.scale(c,c),_/=c),l.lineWidth=_,r.isInvalidPDFjsFont){const n=[];let r=0;for(const t of e)n.push(t.unicode),r+=t.width;const a=n.join("");if(l.fillText(a,0,0),null!==this.dependencyTracker){const e=l.measureText(a);this.dependencyTracker.recordBBox(t,this.ctx,-e.actualBoundingBoxLeft,e.actualBoundingBoxRight,-e.actualBoundingBoxAscent,e.actualBoundingBoxDescent).recordShowTextOperation(t)}return i.x+=r*y*f,l.restore(),void this.compose()}let S,A=0;for(S=0;S<p;++S){const n=e[S];if("number"===typeof n){A+=m*n*s/1e3;continue}let i=!1;const a=(n.isSpace?h:0)+u,o=n.fontChar,f=n.accent;let p,_,k,C=n.width;if(g){const t=n.vmetric||v,e=-(n.vmetric?t[1]:.5*C)*y,i=t[2]*y;C=t?-t[0]:C,p=e/c,_=(A+i)/c}else p=A/c,_=0;if(r.remeasure&&C>0){k=l.measureText(o);const t=1e3*k.width/s*c;if(C<t&&this.isFontSubpixelAAEnabled){const e=C/t;i=!0,l.save(),l.scale(e,1),p/=e}else C!==t&&(p+=(C-t)/2e3*s/c)}var E;if(this.contentVisible&&(n.isInFont||r.missingFile))if(b&&!f)l.fillText(o,p,_),null===(E=this.dependencyTracker)||void 0===E||E.recordCharacterBBox(t,l,k?{bbox:null}:r,s/c,p,_,(()=>null!==k&&void 0!==k?k:l.measureText(o)));else if(this.paintChar(t,o,p,_,w,x),f){const e=p+s*f.offset.x/c,n=_-s*f.offset.y/c;this.paintChar(t,f.fontChar,e,n,w,x)}A+=g?C*y-a*d:C*y+a*d,i&&l.restore()}g?i.y-=A:i.x+=A*f,l.restore(),this.compose(),null===(n=this.dependencyTracker)||void 0===n||n.recordShowTextOperation(t)}showType3Text(t,e){const n=this.ctx,i=this.current,r=i.font,a=i.fontSize,s=i.fontDirection,o=r.vertical?1:-1,l=i.charSpacing,c=i.wordSpacing,u=i.textHScale*s,h=i.fontMatrix||so,d=e.length;let f,p,g,m;if(i.textRenderingMode===So||0===a)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),i.textMatrix&&n.transform(...i.textMatrix),n.translate(i.x,i.y+i.textRise),n.scale(u,s);const v=this.dependencyTracker;for(this.dependencyTracker=v?new Vp(v,t):null,f=0;f<d;++f){if(p=e[f],"number"===typeof p){m=o*p*a/1e3,this.ctx.translate(m,0),i.x+=m*u;continue}const t=(p.isSpace?c:0)+l,s=r.charProcOperatorList[p.operatorListId];s?this.contentVisible&&(this.save(),n.scale(a,a),n.transform(...h),this.executeOperatorList(s),this.restore()):Vo('Type3 character "'.concat(p.operatorListId,'" is not available.'));const d=[p.width,0];ol.applyTransform(d,h),g=d[0]*a+t,n.translate(g,0),i.x+=g*u}n.restore(),v&&(this.dependencyTracker=v)}setCharWidth(t,e,n){}setCharWidthAndBounds(t,e,n,i,r,a,s){var o;const l=new Path2D;l.rect(i,r,a-i,s-r),this.ctx.clip(l),null===(o=this.dependencyTracker)||void 0===o||o.recordBBox(t,this.ctx,i,a,r,s).recordClipBox(t,this.ctx,i,a,r,s),this.endPath(t)}getColorN_Pattern(t,e){let n;if("TilingPattern"===e[0]){const t=this.baseTransform||Dl(this.ctx),i={createCanvasGraphics:(t,e)=>new Tg(t,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new Vp(this.dependencyTracker,e,!0):null)};n=new ug(e,this.ctx,i,t)}else n=this._getPattern(t,e[1],e[2]);return n}setStrokeColorN(t){var e;null===(e=this.dependencyTracker)||void 0===e||e.recordSimpleData("strokeColor",t);for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];this.current.strokeColor=this.getColorN_Pattern(t,i),this.current.patternStroke=!0}setFillColorN(t){var e;null===(e=this.dependencyTracker)||void 0===e||e.recordSimpleData("fillColor",t);for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];this.current.fillColor=this.getColorN_Pattern(t,i),this.current.patternFill=!0}setStrokeRGBColor(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(t){var e;null===(e=this.dependencyTracker)||void 0===e||e.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(t){var e;null===(e=this.dependencyTracker)||void 0===e||e.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e){let n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.cachedPatterns.has(e)?n=this.cachedPatterns.get(e):(n=function(t){switch(t[0]){case"RadialAxial":return new ig(t);case"Mesh":return new sg(t);case"Dummy":return new og}throw new Error("Unknown IR type: ".concat(t[0]))}(this.getObject(t,e)),this.cachedPatterns.set(e,n)),i&&(n.matrix=i),n}shadingFill(t,e){var n;if(!this.contentVisible)return;const i=this.ctx;this.save(t);const r=this._getPattern(t,e);i.fillStyle=r.getPattern(i,this,Nl(i),tg,t);const a=Nl(i);if(a){const{width:t,height:e}=i.canvas,n=gg.slice();ol.axialAlignedBoundingBox([0,0,t,e],a,n);const[r,s,o,l]=n;this.ctx.fillRect(r,s,o-r,l-s)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);null===(n=this.dependencyTracker)||void 0===n||n.resetBBox(t).recordFullPageBBox(t).recordDependencies(t,Qp).recordDependencies(t,qp).recordOperation(t),this.compose(this.current.getClippedPathBoundingBox()),this.restore(t)}beginInlineImage(){Go("Should not call beginInlineImage")}beginImageData(){Go("Should not call beginImageData")}paintFormXObjectBegin(t,e,n){if(this.contentVisible&&(this.save(t),this.baseTransformStack.push(this.baseTransform),e&&this.transform(t,...e),this.baseTransform=Dl(this.ctx),n)){var i;ol.axialAlignedBoundingBox(n,this.baseTransform,this.current.minMax);const[e,r,a,s]=n,o=new Path2D;o.rect(e,r,a-e,s-r),this.ctx.clip(o),null===(i=this.dependencyTracker)||void 0===i||i.recordClipBox(t,this.ctx,e,a,r,s),this.endPath(t)}}paintFormXObjectEnd(t){this.contentVisible&&(this.restore(t),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t,e){var n;if(!this.contentVisible)return;this.save(t),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const i=this.ctx;e.isolated||Ho("TODO: Support non-isolated groups."),e.knockout&&Vo("Knockout groups not supported.");const r=Dl(i);if(e.matrix&&i.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let a=gg.slice();ol.axialAlignedBoundingBox(e.bbox,Dl(i),a);const s=[0,0,i.canvas.width,i.canvas.height];a=ol.intersect(a,s)||[0,0,0,0];const o=Math.floor(a[0]),l=Math.floor(a[1]),c=Math.max(Math.ceil(a[2])-o,1),u=Math.max(Math.ceil(a[3])-l,1);this.current.startNewPathAndClipBox([0,0,c,u]);let h="groupAt"+this.groupLevel;e.smask&&(h+="_smask_"+this.smaskCounter++%2);const d=this.cachedCanvases.getCanvas(h,c,u),f=d.context;f.translate(-o,-l),f.transform(...r);let p=new Path2D;const[g,m,v,y]=e.bbox;if(p.rect(g,m,v-g,y-m),e.matrix){const t=new Path2D;t.addPath(p,new DOMMatrix(e.matrix)),p=t}f.clip(p),e.smask&&this.smaskStack.push({canvas:d.canvas,context:f,offsetX:o,offsetY:l,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}),e.smask&&!this.dependencyTracker||(i.setTransform(1,0,0,1,0,0),i.translate(o,l),i.save()),xg(i,f),this.ctx=f,null===(n=this.dependencyTracker)||void 0===n||n.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(i),this.setGState(t,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(i),this.groupLevel++}endGroup(t,e){var n;if(!this.contentVisible)return;this.groupLevel--;const i=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,null===(n=this.dependencyTracker)||void 0===n||n.popBaseTransform(),e.smask)this.tempSMask=this.smaskStack.pop(),this.restore(t),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const e=Dl(this.ctx);this.restore(t),this.ctx.save(),this.ctx.setTransform(...e);const n=gg.slice();ol.axialAlignedBoundingBox([0,0,i.canvas.width,i.canvas.height],e,n),this.ctx.drawImage(i.canvas,0,0),this.ctx.restore(),this.compose(n)}}beginAnnotation(t,e,n,i,r,a){if(Fs(Mg,this,Pg).call(this),_g(this.ctx),this.ctx.save(),this.save(t),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const r=n[2]-n[0],s=n[3]-n[1];if(a&&this.annotationCanvasMap){(i=i.slice())[4]-=n[0],i[5]-=n[1],(n=n.slice())[0]=n[1]=0,n[2]=r,n[3]=s,ol.singularValueDecompose2dScale(Dl(this.ctx),pg);const{viewportScale:t}=this,a=Math.ceil(r*this.outputScaleX*t),o=Math.ceil(s*this.outputScaleY*t);this.annotationCanvas=this.canvasFactory.create(a,o);const{canvas:l,context:c}=this.annotationCanvas;this.annotationCanvasMap.set(e,l),this.annotationCanvas.savedCtx=this.ctx,this.ctx=c,this.ctx.save(),this.ctx.setTransform(pg[0],0,0,-pg[1],0,s*pg[1]),_g(this.ctx)}else{_g(this.ctx),this.endPath(t);const e=new Path2D;e.rect(n[0],n[1],r,s),this.ctx.clip(e)}}this.current=new yg(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(t,...i),this.transform(t,...r)}endAnnotation(t){this.annotationCanvas&&(this.ctx.restore(),Fs(Mg,this,Rg).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t,e){var n;if(!this.contentVisible)return;const i=e.count;(e=this.getObject(t,e.data,e)).count=i;const r=this.ctx,a=this._createMaskCanvas(t,e),s=a.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(s,a.offsetX,a.offsetY),null===(n=this.dependencyTracker)||void 0===n||n.resetBBox(t).recordBBox(t,this.ctx,a.offsetX,a.offsetX+s.width,a.offsetY,a.offsetY+s.height).recordOperation(t),r.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,n){var i,r;let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5?arguments[5]:void 0,l=arguments.length>6?arguments[6]:void 0;if(!this.contentVisible)return;e=this.getObject(t,e.data,e);const c=this.ctx;c.save();const u=Dl(c);c.transform(n,a,s,o,0,0);const h=this._createMaskCanvas(t,e);c.setTransform(1,0,0,1,h.offsetX-u[4],h.offsetY-u[5]),null===(i=this.dependencyTracker)||void 0===i||i.resetBBox(t);for(let f=0,p=l.length;f<p;f+=2){var d;const e=ol.transform(u,[n,a,s,o,l[f],l[f+1]]);c.drawImage(h.canvas,e[4],e[5]),null===(d=this.dependencyTracker)||void 0===d||d.recordBBox(t,this.ctx,e[4],e[4]+h.canvas.width,e[5],e[5]+h.canvas.height)}c.restore(),this.compose(),null===(r=this.dependencyTracker)||void 0===r||r.recordOperation(t)}paintImageMaskXObjectGroup(t,e){var n,i;if(!this.contentVisible)return;const r=this.ctx,a=this.current.fillColor,s=this.current.patternFill;null===(n=this.dependencyTracker)||void 0===n||n.resetBBox(t).recordDependencies(t,$p);for(const l of e){var o;const{data:e,width:n,height:i,transform:c}=l,u=this.cachedCanvases.getCanvas("maskCanvas",n,i),h=u.context;h.save();wg(h,this.getObject(t,e,l)),h.globalCompositeOperation="source-in",h.fillStyle=s?a.getPattern(h,this,Nl(r),Jp,t):a,h.fillRect(0,0,n,i),h.restore(),r.save(),r.transform(...c),r.scale(1,-1),vg(r,u.canvas,0,0,n,i,0,-1,1,1),null===(o=this.dependencyTracker)||void 0===o||o.recordBBox(t,r,0,n,0,i),r.restore()}this.compose(),null===(i=this.dependencyTracker)||void 0===i||i.recordOperation(t)}paintImageXObject(t,e){if(!this.contentVisible)return;const n=this.getObject(t,e);n?this.paintInlineImageXObject(t,n):Vo("Dependent image isn't ready yet")}paintImageXObjectRepeat(t,e,n,i,r){if(!this.contentVisible)return;const a=this.getObject(t,e);if(!a)return void Vo("Dependent image isn't ready yet");const s=a.width,o=a.height,l=[];for(let c=0,u=r.length;c<u;c+=2)l.push({transform:[n,0,0,i,r[c],r[c+1]],x:0,y:0,w:s,h:o});this.paintInlineImageXObjectGroup(t,a,l)}applyTransferMapsToCanvas(t){return"none"!==this.current.transferMaps&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if("none"===this.current.transferMaps)return t.bitmap;const{bitmap:e,width:n,height:i}=t,r=this.cachedCanvases.getCanvas("inlineImage",n,i),a=r.context;return a.filter=this.current.transferMaps,a.drawImage(e,0,0),a.filter="none",r.canvas}paintInlineImageXObject(t,e){var n;if(!this.contentVisible)return;const i=e.width,r=e.height,a=this.ctx;this.save(t);const{filter:s}=a;let o;if("none"!==s&&""!==s&&(a.filter="none"),a.scale(1/i,-1/r),e.bitmap)o=this.applyTransferMapsToBitmap(e);else if("function"===typeof HTMLElement&&e instanceof HTMLElement||!e.data)o=e;else{const t=this.cachedCanvases.getCanvas("inlineImage",i,r).context;bg(t,e),o=this.applyTransferMapsToCanvas(t)}const l=this._scaleImage(o,Nl(a));a.imageSmoothingEnabled=kg(Dl(a),e.interpolate),null===(n=this.dependencyTracker)||void 0===n||n.resetBBox(t).recordBBox(t,a,0,i,-r,0).recordDependencies(t,Xp).recordOperation(t),vg(a,l.img,0,0,l.paintWidth,l.paintHeight,0,-r,i,r),this.compose(),this.restore(t)}paintInlineImageXObjectGroup(t,e,n){var i,r;if(!this.contentVisible)return;const a=this.ctx;let s;if(e.bitmap)s=e.bitmap;else{const t=e.width,n=e.height,i=this.cachedCanvases.getCanvas("inlineImage",t,n).context;bg(i,e),s=this.applyTransferMapsToCanvas(i)}null===(i=this.dependencyTracker)||void 0===i||i.resetBBox(t);for(const l of n){var o;a.save(),a.transform(...l.transform),a.scale(1,-1),vg(a,s,l.x,l.y,l.w,l.h,0,-1,1,1),null===(o=this.dependencyTracker)||void 0===o||o.recordBBox(t,a,0,1,-1,0),a.restore()}null===(r=this.dependencyTracker)||void 0===r||r.recordOperation(t),this.compose()}paintSolidColorImageMask(t){var e;this.contentVisible&&(null===(e=this.dependencyTracker)||void 0===e||e.resetBBox(t).recordBBox(t,this.ctx,0,1,0,1).recordDependencies(t,qp).recordOperation(t),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t,e){}markPointProps(t,e,n){}beginMarkedContent(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.beginMarkedContent(t),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e,n){var i;null===(i=this.dependencyTracker)||void 0===i||i.beginMarkedContent(t),"OC"===e?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(t){var e;null===(e=this.dependencyTracker)||void 0===e||e.endMarkedContent(t),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(t){}endCompat(t){}consumePath(t,e,n){const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(n);const r=this.ctx;var a,s;this.pendingClip?(i||(this.pendingClip===Cg?r.clip(e,"evenodd"):r.clip(e)),this.pendingClip=null,null===(a=this.dependencyTracker)||void 0===a||a.bboxToClipBoxDropOperation(t).recordFutureForcedDependency("clipPath",t)):null===(s=this.dependencyTracker)||void 0===s||s.recordOperation(t);this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=Dl(this.ctx);if(0===t[1]&&0===t[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),n=Math.hypot(t[0],t[2]),i=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(n,i)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(-1===this._cachedScaleForStroking[0]){const{lineWidth:t}=this.current,{a:e,b:n,c:i,d:r}=this.ctx.getTransform();let a,s;if(0===n&&0===i){const n=Math.abs(e),i=Math.abs(r);if(n===i)if(0===t)a=s=1/n;else{const e=n*t;a=s=e<1?1/e:1}else if(0===t)a=1/n,s=1/i;else{const e=n*t,r=i*t;a=e<1?1/e:1,s=r<1?1/r:1}}else{const o=Math.abs(e*r-n*i),l=Math.hypot(e,n),c=Math.hypot(i,r);if(0===t)a=c/o,s=l/o;else{const e=t*o;a=c>e?c/e:1,s=l>e?l/e:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=s}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:n,current:{lineWidth:i}}=this,[r,a]=this.getScaleForStroking();if(r===a)return n.lineWidth=(i||1)*r,void n.stroke(t);const s=n.getLineDash();e&&n.save(),n.scale(r,a),fg.a=1/r,fg.d=1/a;const o=new Path2D;if(o.addPath(t,fg),s.length>0){const t=Math.max(r,a);n.setLineDash(s.map((e=>e/t))),n.lineDashOffset/=t}n.lineWidth=i||1,n.stroke(o),e&&n.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}function Pg(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}function Rg(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if("none"!==t){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}}function Dg(t,e,n){const i=new Path2D;return i.addPath(t,new DOMMatrix(n).invertSelf().multiplySelf(e)),i}for(const dE in Io)void 0!==Tg.prototype[dE]&&(Tg.prototype[Io[dE]]=Tg.prototype[dE]);var Ng=new WeakMap,Lg=new WeakMap,Ig=new WeakMap,Fg=new WeakSet;class Og{static write(t){const e=new TextEncoder,n={};let i=0;for(const l of Og.strings){const r=e.encode(t[l]);n[l]=r,i+=4+r.length}const r=new ArrayBuffer(i),a=new Uint8Array(r),s=new DataView(r);let o=0;for(const l of Og.strings){const t=n[l],e=t.length;s.setUint32(o,e),a.set(t,o+4),o+=4+e}return qo(o===r.byteLength,"CssFontInfo.write: Buffer overflow"),r}constructor(t){Ls(this,Fg),Is(this,Ng,void 0),Is(this,Lg,void 0),Is(this,Ig,void 0),js(Ng,this,t),js(Lg,this,new DataView(Bs(Ng,this))),js(Ig,this,new TextDecoder)}get fontFamily(){return Fs(Fg,this,Bg).call(this,0)}get fontWeight(){return Fs(Fg,this,Bg).call(this,1)}get italicAngle(){return Fs(Fg,this,Bg).call(this,2)}}function Bg(t){qo(t<qs.strings.length,"Invalid string index");let e=0;for(let i=0;i<t;i++)e+=Bs(Lg,this).getUint32(e)+4;const n=Bs(Lg,this).getUint32(e);return Bs(Ig,this).decode(new Uint8Array(Bs(Ng,this),e+4,n))}qs=Og,c(Og,"strings",["fontFamily","fontWeight","italicAngle"]);var jg=new WeakMap,Wg=new WeakMap,zg=new WeakMap,Ug=new WeakSet;class Hg{static write(t){const e=new TextEncoder,n={};let i=0;for(const h of Hg.strings){const r=e.encode(t[h]);n[h]=r,i+=4+r.length}i+=4;let r,a,s=1+i;t.style&&(r=e.encode(t.style.style),a=e.encode(t.style.weight),s+=4+r.length+4+a.length);const o=new ArrayBuffer(s),l=new Uint8Array(o),c=new DataView(o);let u=0;c.setUint8(u++,t.guessFallback?1:0),c.setUint32(u,0),u+=4,i=0;for(const h of Hg.strings){const t=n[h],e=t.length;i+=4+e,c.setUint32(u,e),l.set(t,u+4),u+=4+e}return c.setUint32(u-i-4,i),t.style&&(c.setUint32(u,r.length),l.set(r,u+4),u+=4+r.length,c.setUint32(u,a.length),l.set(a,u+4),u+=4+a.length),qo(u<=o.byteLength,"SubstitionInfo.write: Buffer overflow"),o.transferToFixedLength(u)}constructor(t){Ls(this,Ug),Is(this,jg,void 0),Is(this,Wg,void 0),Is(this,zg,void 0),js(jg,this,t),js(Wg,this,new DataView(Bs(jg,this))),js(zg,this,new TextDecoder)}get guessFallback(){return 0!==Bs(Wg,this).getUint8(0)}get css(){return Fs(Ug,this,Vg).call(this,0)}get loadedName(){return Fs(Ug,this,Vg).call(this,1)}get baseFontName(){return Fs(Ug,this,Vg).call(this,2)}get src(){return Fs(Ug,this,Vg).call(this,3)}get style(){let t=1;t+=4+Bs(Wg,this).getUint32(t);const e=Bs(Wg,this).getUint32(t),n=Bs(zg,this).decode(new Uint8Array(Bs(jg,this),t+4,e));t+=4+e;const i=Bs(Wg,this).getUint32(t);return{style:n,weight:Bs(zg,this).decode(new Uint8Array(Bs(jg,this),t+4,i))}}}function Vg(t){qo(t<Xs.strings.length,"Invalid string index");let e=5;for(let i=0;i<t;i++)e+=Bs(Wg,this).getUint32(e)+4;const n=Bs(Wg,this).getUint32(e);return Bs(zg,this).decode(new Uint8Array(Bs(jg,this),e+4,n))}Xs=Hg,c(Hg,"strings",["css","loadedName","baseFontName","src"]);var Gg=new WeakMap,qg=new WeakMap,Xg=new WeakMap,Yg=new WeakSet;class Kg{constructor(t){let{data:e,extra:n}=t;Ls(this,Yg),Is(this,Gg,void 0),Is(this,qg,void 0),Is(this,Xg,void 0),js(Gg,this,e),js(qg,this,new TextDecoder),js(Xg,this,new DataView(Bs(Gg,this))),n&&Object.assign(this,n)}get black(){return Fs(Yg,this,Qg).call(this,0)}get bold(){return Fs(Yg,this,Qg).call(this,1)}get disableFontFace(){return Fs(Yg,this,Qg).call(this,2)}get fontExtraProperties(){return Fs(Yg,this,Qg).call(this,3)}get isInvalidPDFjsFont(){return Fs(Yg,this,Qg).call(this,4)}get isType3Font(){return Fs(Yg,this,Qg).call(this,5)}get italic(){return Fs(Yg,this,Qg).call(this,6)}get missingFile(){return Fs(Yg,this,Qg).call(this,7)}get remeasure(){return Fs(Yg,this,Qg).call(this,8)}get vertical(){return Fs(Yg,this,Qg).call(this,9)}get ascent(){return Fs(Yg,this,$g).call(this,0)}get defaultWidth(){return Fs(Yg,this,$g).call(this,1)}get descent(){return Fs(Yg,this,$g).call(this,2)}get bbox(){let t=tm._;if(0===Bs(Xg,this).getUint8(t))return;t+=1;const e=[];for(let n=0;n<4;n++)e.push(Bs(Xg,this).getInt16(t,!0)),t+=2;return e}get fontMatrix(){let t=em._;if(0===Bs(Xg,this).getUint8(t))return;t+=1;const e=[];for(let n=0;n<6;n++)e.push(Bs(Xg,this).getFloat64(t,!0)),t+=8;return e}get defaultVMetrics(){let t=nm._;if(0===Bs(Xg,this).getUint8(t))return;t+=1;const e=[];for(let n=0;n<3;n++)e.push(Bs(Xg,this).getInt16(t,!0)),t+=2;return e}get fallbackName(){return Fs(Yg,this,Jg).call(this,0)}get loadedName(){return Fs(Yg,this,Jg).call(this,1)}get mimetype(){return Fs(Yg,this,Jg).call(this,2)}get name(){return Fs(Yg,this,Jg).call(this,3)}get data(){let t=im._;t+=4+Bs(Xg,this).getUint32(t);t+=4+Bs(Xg,this).getUint32(t);t+=4+Bs(Xg,this).getUint32(t);const e=Bs(Xg,this).getUint32(t);if(0!==e)return new Uint8Array(Bs(Gg,this),t+4,e)}clearData(){let t=im._;t+=4+Bs(Xg,this).getUint32(t);t+=4+Bs(Xg,this).getUint32(t);t+=4+Bs(Xg,this).getUint32(t);const e=Bs(Xg,this).getUint32(t);new Uint8Array(Bs(Gg,this),t+4,e).fill(0),Bs(Xg,this).setUint32(t,0)}get cssFontInfo(){let t=im._;t+=4+Bs(Xg,this).getUint32(t);t+=4+Bs(Xg,this).getUint32(t);const e=Bs(Xg,this).getUint32(t);if(0===e)return null;const n=new Uint8Array(e);return n.set(new Uint8Array(Bs(Gg,this),t+4,e)),new Og(n.buffer)}get systemFontInfo(){let t=im._;t+=4+Bs(Xg,this).getUint32(t);const e=Bs(Xg,this).getUint32(t);if(0===e)return null;const n=new Uint8Array(e);return n.set(new Uint8Array(Bs(Gg,this),t+4,e)),new Hg(n.buffer)}static write(t){const e=t.systemFontInfo?Hg.write(t.systemFontInfo):null,n=t.cssFontInfo?Og.write(t.cssFontInfo):null,i=new TextEncoder,r={};let a=0;for(const p of Kg.strings)r[p]=i.encode(t[p]),a+=4+r[p].length;const s=im._+4+a+4+(e?e.byteLength:0)+4+(n?n.byteLength:0)+4+(t.data?t.data.length:0),o=new ArrayBuffer(s),l=new Uint8Array(o),c=new DataView(o);let u=0;const h=Kg.bools.length;let d=0,f=0;for(let p=0;p<h;p++){const e=t[Kg.bools[p]];d|=(void 0===e?0:e?2:1)<<f,f+=2,8!==f&&p!==h-1||(c.setUint8(u++,d),d=0,f=0)}qo(u===Zg._,"FontInfo.write: Boolean properties offset mismatch");for(const p of Kg.numbers)c.setFloat64(u,t[p]),u+=8;if(qo(u===tm._,"FontInfo.write: Number properties offset mismatch"),t.bbox){c.setUint8(u++,4);for(const e of t.bbox)c.setInt16(u,e,!0),u+=2}else c.setUint8(u++,0),u+=8;if(qo(u===em._,"FontInfo.write: BBox properties offset mismatch"),t.fontMatrix){c.setUint8(u++,6);for(const e of t.fontMatrix)c.setFloat64(u,e,!0),u+=8}else c.setUint8(u++,0),u+=48;if(qo(u===nm._,"FontInfo.write: FontMatrix properties offset mismatch"),t.defaultVMetrics){c.setUint8(u++,1);for(const e of t.defaultVMetrics)c.setInt16(u,e,!0),u+=2}else c.setUint8(u++,0),u+=6;qo(u===im._,"FontInfo.write: DefaultVMetrics properties offset mismatch"),c.setUint32(im._,0),u+=4;for(const p of Kg.strings){const t=r[p],e=t.length;c.setUint32(u,e),l.set(t,u+4),u+=4+e}if(c.setUint32(im._,u-im._-4),e){const t=e.byteLength;c.setUint32(u,t),qo(u+4+t<=o.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),l.set(new Uint8Array(e),u+4),u+=4+t}else c.setUint32(u,0),u+=4;if(n){const t=n.byteLength;c.setUint32(u,t),qo(u+4+t<=o.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),l.set(new Uint8Array(n),u+4),u+=4+t}else c.setUint32(u,0),u+=4;return void 0===t.data?(c.setUint32(u,0),u+=4):(c.setUint32(u,t.data.length),l.set(t.data,u+4),u+=4+t.data.length),qo(u<=o.byteLength,"FontInfo.write: Buffer overflow"),o.transferToFixedLength(u)}}function Qg(t){qo(t<Ys.bools.length,"Invalid boolean index");const e=Math.floor(t/4),n=2*t%8,i=Bs(Xg,this).getUint8(e)>>n&3;return 0===i?void 0:2===i}function $g(t){return qo(t<Ys.numbers.length,"Invalid number index"),Bs(Xg,this).getFloat64(Zg._+8*t)}function Jg(t){qo(t<Ys.strings.length,"Invalid string index");let e=im._+4;for(let r=0;r<t;r++)e+=Bs(Xg,this).getUint32(e)+4;const n=Bs(Xg,this).getUint32(e),i=new Uint8Array(n);return i.set(new Uint8Array(Bs(Gg,this),e+4,n)),Bs(qg,this).decode(i)}Ys=Kg,c(Kg,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),c(Kg,"numbers",["ascent","defaultWidth","descent"]),c(Kg,"strings",["fallbackName","loadedName","mimetype","name"]);var Zg={_:Math.ceil(2*Ys.bools.length/8)},tm={_:Fs(Ys,Ys,Zg)._+8*Ys.numbers.length},em={_:Fs(Ys,Ys,tm)._+1+8},nm={_:Fs(Ys,Ys,em)._+1+48},im={_:Fs(Ys,Ys,nm)._+1+6};class rm{static get workerPort(){return Fs(rm,this,am)._}static set workerPort(t){if(!("undefined"!==typeof Worker&&t instanceof Worker)&&null!==t)throw new Error("Invalid `workerPort` type.");am._=Fs(rm,this,t)}static get workerSrc(){return Fs(rm,this,sm)._}static set workerSrc(t){if("string"!==typeof t)throw new Error("Invalid `workerSrc` type.");sm._=Fs(rm,this,t)}}var am={_:null},sm={_:""},om=new WeakMap,lm=new WeakMap;class cm{constructor(t){let{parsedData:e,rawData:n}=t;Is(this,om,void 0),Is(this,lm,void 0),js(om,this,e),js(lm,this,n)}getRaw(){return Bs(lm,this)}get(t){var e;return null!==(e=Bs(om,this).get(t))&&void 0!==e?e:null}[Symbol.iterator](){return Bs(om,this).entries()}}const um=Symbol("INTERNAL");var hm=new WeakMap,dm=new WeakMap,fm=new WeakMap,pm=new WeakMap;class gm{constructor(t,e){let{name:n,intent:i,usage:r,rbGroups:a}=e;Is(this,hm,!1),Is(this,dm,!1),Is(this,fm,!1),Is(this,pm,!0),js(hm,this,!!(t&co)),js(dm,this,!!(t&uo)),this.name=n,this.intent=i,this.usage=r,this.rbGroups=a}get visible(){if(Bs(fm,this))return Bs(pm,this);if(!Bs(pm,this))return!1;const{print:t,view:e}=this.usage;return Bs(hm,this)?"OFF"!==(null===e||void 0===e?void 0:e.viewState):!Bs(dm,this)||"OFF"!==(null===t||void 0===t?void 0:t.printState)}_setVisible(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t!==um&&Go("Internal method `_setVisible` called."),js(fm,this,n),js(pm,this,e)}}var mm=new WeakMap,vm=new WeakMap,ym=new WeakMap,bm=new WeakMap,wm=new WeakSet;class xm{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:co;if(Ls(this,wm),Is(this,mm,null),Is(this,vm,new Map),Is(this,ym,null),Is(this,bm,null),this.renderingIntent=e,this.name=null,this.creator=null,null!==t){this.name=t.name,this.creator=t.creator,js(bm,this,t.order);for(const n of t.groups)Bs(vm,this).set(n.id,new gm(e,n));if("OFF"===t.baseState)for(const t of Bs(vm,this).values())t._setVisible(um,!1);for(const e of t.on)Bs(vm,this).get(e)._setVisible(um,!0);for(const e of t.off)Bs(vm,this).get(e)._setVisible(um,!1);js(ym,this,this.getHash())}}isVisible(t){if(0===Bs(vm,this).size)return!0;if(!t)return Ho("Optional content group not defined."),!0;if("OCG"===t.type)return Bs(vm,this).has(t.id)?Bs(vm,this).get(t.id).visible:(Vo("Optional content group not found: ".concat(t.id)),!0);if("OCMD"===t.type){if(t.expression)return Fs(wm,this,_m).call(this,t.expression);if(!t.policy||"AnyOn"===t.policy){for(const e of t.ids){if(!Bs(vm,this).has(e))return Vo("Optional content group not found: ".concat(e)),!0;if(Bs(vm,this).get(e).visible)return!0}return!1}if("AllOn"===t.policy){for(const e of t.ids){if(!Bs(vm,this).has(e))return Vo("Optional content group not found: ".concat(e)),!0;if(!Bs(vm,this).get(e).visible)return!1}return!0}if("AnyOff"===t.policy){for(const e of t.ids){if(!Bs(vm,this).has(e))return Vo("Optional content group not found: ".concat(e)),!0;if(!Bs(vm,this).get(e).visible)return!0}return!1}if("AllOff"===t.policy){for(const e of t.ids){if(!Bs(vm,this).has(e))return Vo("Optional content group not found: ".concat(e)),!0;if(Bs(vm,this).get(e).visible)return!1}return!0}return Vo("Unknown optional content policy ".concat(t.policy,".")),!0}return Vo("Unknown group type ".concat(t.type,".")),!0}setVisibility(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=Bs(vm,this).get(t);if(i){if(n&&e&&i.rbGroups.length)for(const e of i.rbGroups)for(const n of e){var r;if(n!==t)null===(r=Bs(vm,this).get(n))||void 0===r||r._setVisible(um,!1,!0)}i._setVisible(um,!!e,!0),js(mm,this,null)}else Vo("Optional content group not found: ".concat(t))}setOCGState(t){let e,{state:n,preserveRB:i}=t;for(const r of n){switch(r){case"ON":case"OFF":case"Toggle":e=r;continue}const t=Bs(vm,this).get(r);if(t)switch(e){case"ON":this.setVisibility(r,!0,i);break;case"OFF":this.setVisibility(r,!1,i);break;case"Toggle":this.setVisibility(r,!t.visible,i)}}js(mm,this,null)}get hasInitialVisibility(){return null===Bs(ym,this)||this.getHash()===Bs(ym,this)}getOrder(){return Bs(vm,this).size?Bs(bm,this)?Bs(bm,this).slice():[...Bs(vm,this).keys()]:null}getGroup(t){return Bs(vm,this).get(t)||null}getHash(){if(null!==Bs(mm,this))return Bs(mm,this);const t=new Wd;for(const[e,n]of Bs(vm,this))t.update("".concat(e,":").concat(n.visible));return js(mm,this,t.hexdigest())}[Symbol.iterator](){return Bs(vm,this).entries()}}function _m(t){const e=t.length;if(e<2)return!0;const n=t[0];for(let i=1;i<e;i++){const e=t[i];let r;if(Array.isArray(e))r=Fs(wm,this,_m).call(this,e);else{if(!Bs(vm,this).has(e))return Vo("Optional content group not found: ".concat(e)),!0;r=Bs(vm,this).get(e).visible}switch(n){case"And":if(!r)return!1;break;case"Or":if(r)return!0;break;case"Not":return!r;default:return!0}}return"And"===n}class km{constructor(t,e){let{disableRange:n=!1,disableStream:i=!1}=e;qo(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:a,progressiveDone:s,contentDispositionFilename:o}=t;if(this._queuedChunks=[],this._progressiveDone=s,this._contentDispositionFilename=o,(null===a||void 0===a?void 0:a.length)>0){const t=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;this._queuedChunks.push(t)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!i,this._isRangeSupported=!n,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener(((t,e)=>{this._onReceiveData({begin:t,chunk:e})})),t.addProgressListener(((t,e)=>{this._onProgress({loaded:t,total:e})})),t.addProgressiveReadListener((t=>{this._onReceiveData({chunk:t})})),t.addProgressiveDoneListener((()=>{this._onProgressiveDone()})),t.transportReady()}_onReceiveData(t){let{begin:e,chunk:n}=t;const i=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(void 0===e)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{qo(this._rangeReaders.some((function(t){return t._begin===e&&(t._enqueue(i),!0)})),"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t,e;return null!==(t=null===(e=this._fullRequestReader)||void 0===e?void 0:e._loaded)&&void 0!==t?t:0}_onProgress(t){var e,n,i,r;void 0===t.total?null===(e=this._rangeReaders[0])||void 0===e||null===(n=e.onProgress)||void 0===n||n.call(e,{loaded:t.loaded}):null===(i=this._fullRequestReader)||void 0===i||null===(r=i.onProgress)||void 0===r||r.call(i,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;null===(t=this._fullRequestReader)||void 0===t||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){qo(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new Sm(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new Am(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(n),n}cancelAllRequests(t){var e;null===(e=this._fullRequestReader)||void 0===e||e.cancel(t);for(const n of this._rangeReaders.slice(0))n.cancel(t);this._pdfDataRangeTransport.abort()}}class Sm{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this._stream=t,this._done=n||!1,this._filename=Sl(i)?i:null,this._queuedChunks=e||[],this._loaded=0;for(const r of this._queuedChunks)this._loaded+=r.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length>0){this._requests.shift().resolve({value:t,done:!1})}else this._queuedChunks.push(t);this._loaded+=t.byteLength}}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0){return{value:this._queuedChunks.shift(),done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Am{constructor(t,e,n){this._stream=t,this._begin=e,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(0===this._requests.length)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function Em(t,e){const n=new Headers;if(!t||!e||"object"!==typeof e)return n;for(const i in e){const t=e[i];void 0!==t&&n.append(i,t)}return n}function Cm(t){var e,n;return null!==(e=null===(n=URL.parse(t))||void 0===n?void 0:n.origin)&&void 0!==e?e:null}function Mm(t){let{responseHeaders:e,isHttp:n,rangeChunkSize:i,disableRange:r}=t;const a={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(e.get("Content-Length"),10);if(!Number.isInteger(s))return a;if(a.suggestedLength=s,s<=2*i)return a;if(r||!n)return a;if("bytes"!==e.get("Accept-Ranges"))return a;return"identity"!==(e.get("Content-Encoding")||"identity")||(a.allowRangeRequests=!0),a}function Tm(t){const e=t.get("Content-Disposition");if(e){let t=function(t){let e=!0,n=i("filename\\*","i").exec(t);if(n){n=n[1];let t=s(n);return t=unescape(t),t=o(t),t=l(t),a(t)}if(n=function(t){const e=[];let n;const r=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(n=r.exec(t));){let[,t,i,r]=n;if(t=parseInt(t,10),t in e){if(0===t)break}else e[t]=[i,r]}const a=[];for(let i=0;i<e.length&&i in e;++i){let[t,n]=e[i];n=s(n),t&&(n=unescape(n),0===i&&(n=o(n))),a.push(n)}return a.join("")}(t),n)return a(l(n));if(n=i("filename","i").exec(t),n){n=n[1];let t=s(n);return t=l(t),a(t)}function i(t,e){return new RegExp("(?:^|;)\\s*"+t+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',e)}function r(t,n){if(t){if(!/^[\x00-\xFF]+$/.test(n))return n;try{const i=new TextDecoder(t,{fatal:!0}),r=rl(n);n=i.decode(r),e=!1}catch(i){}}return n}function a(t){return e&&/[\x80-\xff]/.test(t)&&(t=r("utf-8",t),e&&(t=r("iso-8859-1",t))),t}function s(t){if(t.startsWith('"')){const e=t.slice(1).split('\\"');for(let t=0;t<e.length;++t){const n=e[t].indexOf('"');-1!==n&&(e[t]=e[t].slice(0,n),e.length=t+1),e[t]=e[t].replaceAll(/\\(.)/g,"$1")}t=e.join('"')}return t}function o(t){const e=t.indexOf("'");return-1===e?t:r(t.slice(0,e),t.slice(e+1).replace(/^[^']*'/,""))}function l(t){return!t.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(t)?t:t.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,(function(t,e,n,i){if("q"===n||"Q"===n)return i=(i=i.replaceAll("_"," ")).replaceAll(/=([0-9a-fA-F]{2})/g,(function(t,e){return String.fromCharCode(parseInt(e,16))})),r(e,i);try{i=atob(i)}catch(a){}return r(e,i)}))}return""}(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch(n){}if(Sl(t))return t}return null}function Pm(t,e){return new tl("Unexpected server response (".concat(t,') while retrieving PDF "').concat(e,'".'),t,404===t||0===t&&e.startsWith("file:"))}function Rm(t){return 200===t||206===t}function Dm(t,e,n){return{method:"GET",headers:t,signal:n.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function Nm(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:(Vo("getArrayBuffer - unexpected data format: ".concat(t)),new Uint8Array(t).buffer)}class Lm{constructor(t){c(this,"_responseOrigin",null),this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=Em(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t,e;return null!==(t=null===(e=this._fullRequestReader)||void 0===e?void 0:e._loaded)&&void 0!==t?t:0}getFullReader(){return qo(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Im(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new Fm(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;null===(e=this._fullRequestReader)||void 0===e||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class Im{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const n=new Headers(t.headers),i=e.url;fetch(i,Dm(n,this._withCredentials,this._abortController)).then((e=>{if(t._responseOrigin=Cm(e.url),!Rm(e.status))throw Pm(e.status,i);this._reader=e.body.getReader(),this._headersCapability.resolve();const n=e.headers,{allowRangeRequests:r,suggestedLength:a}=Mm({responseHeaders:n,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=r,this._contentLength=a||this._contentLength,this._filename=Tm(n),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new nl("Streaming is disabled."))})).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var t;await this._headersCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:this._loaded,total:this._contentLength}),{value:Nm(e),done:!1})}cancel(t){var e;null===(e=this._reader)||void 0===e||e.cancel(t),this._abortController.abort()}}class Fm{constructor(t,e,n){this._stream=t,this._reader=null,this._loaded=0;const i=t.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const r=new Headers(t.headers);r.append("Range","bytes=".concat(e,"-").concat(n-1));const a=i.url;fetch(a,Dm(r,this._withCredentials,this._abortController)).then((e=>{const n=Cm(e.url);if(n!==t._responseOrigin)throw new Error('Expected range response-origin "'.concat(n,'" to match "').concat(t._responseOrigin,'".'));if(!Rm(e.status))throw Pm(e.status,a);this._readCapability.resolve(),this._reader=e.body.getReader()})).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var t;await this._readCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:this._loaded}),{value:Nm(e),done:!1})}cancel(t){var e;null===(e=this._reader)||void 0===e||e.cancel(t),this._abortController.abort()}}class Om{constructor(t){let{url:e,httpHeaders:n,withCredentials:i}=t;c(this,"_responseOrigin",null),this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=Em(this.isHttp,n),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,n=this.currXhrId++,i=this.pendingRequests[n]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[r,a]of this.headers)e.setRequestHeader(r,a);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range","bytes=".concat(t.begin,"-").concat(t.end-1)),i.expectedStatus=206):i.expectedStatus=200,e.responseType="arraybuffer",qo(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,n),e.onprogress=this.onProgress.bind(this,n),i.onHeadersReceived=t.onHeadersReceived,i.onDone=t.onDone,i.onError=t.onError,i.onProgress=t.onProgress,e.send(null),n}onProgress(t,e){var n;const i=this.pendingRequests[t];i&&(null===(n=i.onProgress)||void 0===n||n.call(i,e))}onStateChange(t,e){const n=this.pendingRequests[t];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4!==i.readyState)return;if(!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],0===i.status&&this.isHttp)return void n.onError(i.status);const r=i.status||200;if(!(200===r&&206===n.expectedStatus)&&r!==n.expectedStatus)return void n.onError(i.status);const a=function(t){const e=t.response;return"string"!==typeof e?e:rl(e).buffer}(i);if(206===r){const t=i.getResponseHeader("Content-Range"),e=/bytes (\d+)-(\d+)\/(\d+)/.exec(t);e?n.onDone({begin:parseInt(e[1],10),chunk:a}):(Vo('Missing or invalid "Content-Range" header.'),n.onError(0))}else a?n.onDone({begin:0,chunk:a}):n.onError(i.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class Bm{constructor(t){this._source=t,this._manager=new Om(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return qo(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new jm(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const n=new Wm(this._manager,t,e);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;null===(e=this._fullRequestReader)||void 0===e||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class jm{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=Cm(e.responseURL);const n=e.getAllResponseHeaders(),i=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map((t=>{const[e,...n]=t.split(": ");return[e,n.join(": ")]})):[]),{allowRangeRequests:r,suggestedLength:a}=Mm({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=Tm(i),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t)if(this._requests.length>0){this._requests.shift().resolve({value:t.chunk,done:!1})}else this._cachedChunks.push(t.chunk);if(this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=Pm(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0){return{value:this._cachedChunks.shift(),done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Wm{constructor(t,e,n){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=Cm(null===(t=this._manager.getRequestXhr(this._requestId))||void 0===t?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error('Expected range response-origin "'.concat(e,'" to match "').concat(this._manager._responseOrigin,'".')),this._onError(0))}_close(){var t;null===(t=this.onClosed)||void 0===t||t.call(this,this)}_onDone(t){const e=t.chunk;if(this._requests.length>0){this._requests.shift().resolve({value:e,done:!1})}else this._queuedChunk=e;this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){var e;null!==(e=this._storedError)&&void 0!==e||(this._storedError=Pm(t,this._url));for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:t.loaded}))}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(null!==this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const zm=/^[a-z][a-z0-9\-+.]+:/i;class Um{constructor(t){this.source=t,this.url=function(t){if(zm.test(t))return new URL(t);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(t))}(t.url),qo("file:"===this.url.protocol,"PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t,e;return null!==(t=null===(e=this._fullRequestReader)||void 0===e?void 0:e._loaded)&&void 0!==t?t:0}getFullReader(){return qo(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new Hm(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new Vm(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;null===(e=this._fullRequestReader)||void 0===e||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class Hm{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then((t=>{this._contentLength=t.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()}),(t=>{"ENOENT"===t.code&&(t=Pm(0,this._url.href)),this._storedError=t,this._headersCapability.reject(t)}))}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var t;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();if(null===e)return this._readCapability=Promise.withResolvers(),this.read();this._loaded+=e.length,null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:this._loaded,total:this._contentLength});return{value:new Uint8Array(e).buffer,done:!1}}cancel(t){this._readableStream?this._readableStream.destroy(t):this._error(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",(()=>{this._readCapability.resolve()})),t.on("end",(()=>{t.destroy(),this._done=!0,this._readCapability.resolve()})),t.on("error",(t=>{this._error(t)})),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new nl("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Vm{constructor(t,e,n){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=t.source;this._isStreamingSupported=!i.disableStream;const r=process.getBuiltinModule("fs");this._setReadableStream(r.createReadStream(this._url,{start:e,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var t;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();if(null===e)return this._readCapability=Promise.withResolvers(),this.read();this._loaded+=e.length,null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:this._loaded});return{value:new Uint8Array(e).buffer,done:!1}}cancel(t){this._readableStream?this._readableStream.destroy(t):this._error(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",(()=>{this._readCapability.resolve()})),t.on("end",(()=>{t.destroy(),this._done=!0,this._readCapability.resolve()})),t.on("error",(t=>{this._error(t)})),this._storedError&&this._readableStream.destroy(this._storedError)}}const Gm=Symbol("INITIAL_DATA");var qm=new WeakMap,Xm=new WeakSet;class Ym{constructor(){Ls(this,Xm),Is(this,qm,Object.create(null))}get(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e){const n=Fs(Xm,this,Km).call(this,t);return n.promise.then((()=>e(n.data))),null}const n=Bs(qm,this)[t];if(!n||n.data===Gm)throw new Error("Requesting object that isn't resolved yet ".concat(t,"."));return n.data}has(t){const e=Bs(qm,this)[t];return!!e&&e.data!==Gm}delete(t){const e=Bs(qm,this)[t];return!(!e||e.data===Gm)&&(delete Bs(qm,this)[t],!0)}resolve(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=Fs(Xm,this,Km).call(this,t);n.data=e,n.resolve()}clear(){for(const e in Bs(qm,this)){var t;const{data:n}=Bs(qm,this)[e];null===n||void 0===n||null===(t=n.bitmap)||void 0===t||t.close()}js(qm,this,Object.create(null))}*[Symbol.iterator](){for(const t in Bs(qm,this)){const{data:e}=Bs(qm,this)[t];e!==Gm&&(yield[t,e])}}}function Km(t){var e;return(e=Bs(qm,this))[t]||(e[t]=h(h({},Promise.withResolvers()),{},{data:Gm}))}var Qm=new WeakMap,$m=new WeakMap,Jm=new WeakMap,Zm=new WeakMap,tv=new WeakMap,ev=new WeakMap,nv=new WeakMap,iv=new WeakMap,rv=new WeakMap,av=new WeakMap,sv=new WeakMap,ov=new WeakMap,lv=new WeakMap,cv=new WeakMap,uv=new WeakMap,hv=new WeakMap,dv=new WeakMap,fv=new WeakMap,pv=new WeakSet;class gv{constructor(t){var e;let{textContentSource:n,container:i,viewport:r}=t;if(Ls(this,pv),Is(this,Qm,Promise.withResolvers()),Is(this,$m,null),Is(this,Jm,!1),Is(this,Zm,!(null===(e=globalThis.FontInspector)||void 0===e||!e.enabled)),Is(this,tv,null),Is(this,ev,null),Is(this,nv,0),Is(this,iv,0),Is(this,rv,null),Is(this,av,null),Is(this,sv,0),Is(this,ov,0),Is(this,lv,Object.create(null)),Is(this,cv,[]),Is(this,uv,null),Is(this,hv,[]),Is(this,dv,new WeakMap),Is(this,fv,null),n instanceof ReadableStream)js(uv,this,n);else{if("object"!==typeof n)throw new Error('No "textContentSource" parameter specified.');js(uv,this,new ReadableStream({start(t){t.enqueue(n),t.close()}}))}js($m,this,js(av,this,i)),js(ov,this,r.scale*Il.pixelRatio),js(sv,this,r.rotation),js(ev,this,{div:null,properties:null,ctx:null});const{pageWidth:a,pageHeight:s,pageX:o,pageY:l}=r.rawDims;js(fv,this,[1,0,0,-1,-o,l+s]),js(iv,this,a),js(nv,this,s),xv.call(gv),Ll(i,r),Bs(Qm,this).promise.finally((()=>{Cv._.delete(this),js(ev,this,null),js(lv,this,null)})).catch((()=>{}))}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=al.platform;return Ko(this,"fontFamilyMap",new Map([["sans-serif","".concat(t&&e?"Calibri, ":"","sans-serif")],["monospace","".concat(t&&e?"Lucida Console, ":"","monospace")]]))}render(){const t=()=>{Bs(rv,this).read().then((e=>{var n;let{value:i,done:r}=e;r?Bs(Qm,this).resolve():(null!==(n=Bs(tv,this))&&void 0!==n||js(tv,this,i.lang),Object.assign(Bs(lv,this),i.styles),Fs(pv,this,mv).call(this,i.items),t())}),Bs(Qm,this).reject)};return js(rv,this,Bs(uv,this).getReader()),Cv._.add(this),t(),Bs(Qm,this).promise}update(t){let{viewport:e,onBefore:n=null}=t;const i=e.scale*Il.pixelRatio,r=e.rotation;if(r!==Bs(sv,this)&&(null===n||void 0===n||n(),js(sv,this,r),Ll(Bs(av,this),{rotation:r})),i!==Bs(ov,this)){null===n||void 0===n||n(),js(ov,this,i);const t={div:null,properties:null,ctx:bv.call(gv,Bs(tv,this))};for(const e of Bs(hv,this))t.properties=Bs(dv,this).get(e),t.div=e,Fs(pv,this,yv).call(this,t)}}cancel(){var t;const e=new nl("TextLayer task cancelled.");null===(t=Bs(rv,this))||void 0===t||t.cancel(e).catch((()=>{})),js(rv,this,null),Bs(Qm,this).reject(e)}get textDivs(){return Bs(hv,this)}get textContentItemsStr(){return Bs(cv,this)}static cleanup(){if(!(Fs(gv,this,Cv)._.size>0)){Fs(gv,this,kv)._.clear();for(const{canvas:t}of Fs(gv,this,Sv)._.values())t.remove();Fs(gv,this,Sv)._.clear()}}}function mv(t){var e,n;if(Bs(Jm,this))return;null!==(n=(e=Bs(ev,this)).ctx)&&void 0!==n||(e.ctx=bv.call(Ks,Bs(tv,this)));const i=Bs(hv,this),r=Bs(cv,this);for(const a of t){if(i.length>1e5)return Vo("Ignoring additional textDivs for performance reasons."),void js(Jm,this,!0);if(void 0!==a.str)r.push(a.str),Fs(pv,this,vv).call(this,a);else if("beginMarkedContentProps"===a.type||"beginMarkedContent"===a.type){const t=Bs($m,this);js($m,this,document.createElement("span")),Bs($m,this).classList.add("markedContent"),a.id&&Bs($m,this).setAttribute("id","".concat(a.id)),t.append(Bs($m,this))}else"endMarkedContent"===a.type&&js($m,this,Bs($m,this).parentNode)}}function vv(t){const e=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:""!==t.str,hasEOL:t.hasEOL,fontSize:0};Bs(hv,this).push(e);const i=ol.transform(Bs(fv,this),t.transform);let r=Math.atan2(i[1],i[0]);const a=Bs(lv,this)[t.fontName];a.vertical&&(r+=Math.PI/2);let s=Bs(Zm,this)&&a.fontSubstitution||a.fontFamily;s=Ks.fontFamilyMap.get(s)||s;const o=Math.hypot(i[2],i[3]),l=o*_v.call(Ks,s,a,Bs(tv,this));let c,u;0===r?(c=i[4],u=i[5]-l):(c=i[4]+l*Math.sin(r),u=i[5]-l*Math.cos(r));const h="calc(var(--total-scale-factor) *",d=e.style;Bs($m,this)===Bs(av,this)?(d.left="".concat((100*c/Bs(iv,this)).toFixed(2),"%"),d.top="".concat((100*u/Bs(nv,this)).toFixed(2),"%")):(d.left="".concat(h).concat(c.toFixed(2),"px)"),d.top="".concat(h).concat(u.toFixed(2),"px)")),d.fontSize="".concat(h).concat((Ev._*o).toFixed(2),"px)"),d.fontFamily=s,n.fontSize=o,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,Bs(Zm,this)&&(e.dataset.fontName=a.fontSubstitutionLoadedName||t.fontName),0!==r&&(n.angle=r*(180/Math.PI));let f=!1;if(t.str.length>1)f=!0;else if(" "!==t.str&&t.transform[0]!==t.transform[3]){const e=Math.abs(t.transform[0]),n=Math.abs(t.transform[3]);e!==n&&Math.max(e,n)/Math.min(e,n)>1.5&&(f=!0)}if(f&&(n.canvasWidth=a.vertical?t.height:t.width),Bs(dv,this).set(e,n),Bs(ev,this).div=e,Bs(ev,this).properties=n,Fs(pv,this,yv).call(this,Bs(ev,this)),n.hasText&&Bs($m,this).append(e),n.hasEOL){const t=document.createElement("br");t.setAttribute("role","presentation"),Bs($m,this).append(t)}}function yv(t){const{div:e,properties:n,ctx:i}=t,{style:r}=e;let a="";if(Ev._>1&&(a="scale(".concat(1/Ev._,")")),0!==n.canvasWidth&&n.hasText){const{fontFamily:t}=r,{canvasWidth:s,fontSize:o}=n;wv.call(Ks,i,o*Bs(ov,this),t);const{width:l}=i.measureText(e.textContent);l>0&&(a="scaleX(".concat(s*Bs(ov,this)/l,") ").concat(a))}0!==n.angle&&(a="rotate(".concat(n.angle,"deg) ").concat(a)),a.length>0&&(r.transform=a)}function bv(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=Fs(Ks,this,Sv)._.get(t||(t=""));if(!e){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=t,document.body.append(n),e=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),Fs(Ks,this,Sv)._.set(t,e),Fs(Ks,this,Av)._.set(e,{size:0,family:""})}return e}function wv(t,e,n){const i=Fs(Ks,this,Av)._.get(t);e===i.size&&n===i.family||(t.font="".concat(e,"px ").concat(n),i.size=e,i.family=n)}function xv(){if(null!==Fs(Ks,this,Ev)._)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),Ev._=Fs(Ks,this,t.getBoundingClientRect().height),t.remove()}function _v(t,e,n){const i=Fs(Ks,this,kv)._.get(t);if(i)return i;const r=Fs(Ks,this,bv).call(this,n);r.canvas.width=r.canvas.height=30,Fs(Ks,this,wv).call(this,r,30,t);const a=r.measureText(""),s=a.fontBoundingBoxAscent,o=Math.abs(a.fontBoundingBoxDescent);r.canvas.width=r.canvas.height=0;let l=.8;return s?l=s/(s+o):(al.platform.isFirefox&&Vo("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?l=e.ascent:e.descent&&(l=1+e.descent)),Fs(Ks,this,kv)._.set(t,l),l}Ks=gv;var kv={_:new Map},Sv={_:new Map},Av={_:new WeakMap},Ev={_:null},Cv={_:new Set};function Mv(){var t,e;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"string"===typeof n||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const i=new Tv,{docId:r}=i,a=n.url?function(t){if(t instanceof URL)return t.href;if("string"===typeof t){if(ao)return t;const e=URL.parse(t,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}(n.url):null,s=n.data?function(t){if(ao&&"undefined"!==typeof Buffer&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if("string"===typeof t)return rl(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||"object"===typeof t&&!isNaN(null===t||void 0===t?void 0:t.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}(n.data):null,o=n.httpHeaders||null,l=!0===n.withCredentials,c=null!==(t=n.password)&&void 0!==t?t:null,u=n.range instanceof Fv?n.range:null,h=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:65536;let d=n.worker instanceof Xv?n.worker:null;const f=n.verbosity,p="string"!==typeof n.docBaseUrl||kl(n.docBaseUrl)?null:n.docBaseUrl,g=ef(n.cMapUrl),m=!1!==n.cMapPacked,v=n.CMapReaderFactory||(ao?op:Rf),y=ef(n.iccUrl),b=ef(n.standardFontDataUrl),w=n.StandardFontDataFactory||(ao?lp:ep),x=ef(n.wasmUrl),_=n.WasmFactory||(ao?cp:ip),k=!0!==n.stopAtErrors,S=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,A=!1!==n.isEvalSupported,E="boolean"===typeof n.isOffscreenCanvasSupported?n.isOffscreenCanvasSupported:!ao,C="boolean"===typeof n.isImageDecoderSupported?n.isImageDecoderSupported:!ao&&(al.platform.isFirefox||!globalThis.chrome),M=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,T="boolean"===typeof n.disableFontFace?n.disableFontFace:ao,P=!0===n.fontExtraProperties,R=!0===n.enableXfa,D=n.ownerDocument||globalThis.document,N=!0===n.disableRange,L=!0===n.disableStream,I=!0===n.disableAutoFetch,F=!0===n.pdfBug,O=n.CanvasFactory||(ao?sp:Tf),B=n.FilterFactory||(ao?ap:zf),j=!0===n.enableHWA,W=!1!==n.useWasm,z=u?u.length:null!==(e=n.length)&&void 0!==e?e:NaN,U="boolean"===typeof n.useSystemFonts?n.useSystemFonts:!ao&&!T,H="boolean"===typeof n.useWorkerFetch?n.useWorkerFetch:!!(v===Rf&&w===ep&&_===ip&&g&&b&&x&&El(g,document.baseURI)&&El(b,document.baseURI)&&El(x,document.baseURI));zo(f);const V={canvasFactory:new O({ownerDocument:D,enableHWA:j}),filterFactory:new B({docId:r,ownerDocument:D}),cMapReaderFactory:H?null:new v({baseUrl:g,isCompressed:m}),standardFontDataFactory:H?null:new w({baseUrl:b}),wasmFactory:H?null:new _({baseUrl:x})};d||(d=Xv.create({verbosity:f,port:rm.workerPort}),i._worker=d);const G={docId:r,apiVersion:"5.4.296",data:s,password:c,disableAutoFetch:I,rangeChunkSize:h,length:z,docBaseUrl:p,enableXfa:R,evaluatorOptions:{maxImageSize:S,disableFontFace:T,ignoreErrors:k,isEvalSupported:A,isOffscreenCanvasSupported:E,isImageDecoderSupported:C,canvasMaxAreaInBytes:M,fontExtraProperties:P,useSystemFonts:U,useWasm:W,useWorkerFetch:H,cMapUrl:g,iccUrl:y,standardFontDataUrl:b,wasmUrl:x}},q={ownerDocument:D,pdfBug:F,styleElement:null,loadingParams:{disableAutoFetch:I,enableXfa:R}};return d.promise.then((function(){if(i.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const t=d.messageHandler.sendWithPromise("GetDocRequest",G,s?[s.buffer]:null);let e;if(u)e=new km(u,{disableRange:N,disableStream:L});else if(!s){if(!a)throw new Error("getDocument - no `url` parameter provided.");const t=El(a)?Lm:ao?Um:Bm;e=new t({url:a,length:z,httpHeaders:o,withCredentials:l,rangeChunkSize:h,disableRange:N,disableStream:L})}return t.then((t=>{if(i.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const n=new _f(r,t,d.port),a=new ly(n,i,e,q,V,j);i._transport=a,n.send("Ready",null)}))})).catch(i._capability.reject),i}class Tv{constructor(){c(this,"_capability",Promise.withResolvers()),c(this,"_transport",null),c(this,"_worker",null),c(this,"docId","d".concat((Pv._=(Qs=Pv._,$s=Qs++,Qs),$s))),c(this,"destroyed",!1),c(this,"onPassword",null),c(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var t;this.destroyed=!0;try{var e,n;null!==(e=this._worker)&&void 0!==e&&e.port&&(this._worker._pendingDestroy=!0),await(null===(n=this._transport)||void 0===n?void 0:n.destroy())}catch(r){var i;throw null!==(i=this._worker)&&void 0!==i&&i.port&&delete this._worker._pendingDestroy,r}this._transport=null,null===(t=this._worker)||void 0===t||t.destroy(),this._worker=null}async getData(){return this._transport.getData()}}var Pv={_:0},Rv=new WeakMap,Dv=new WeakMap,Nv=new WeakMap,Lv=new WeakMap,Iv=new WeakMap;class Fv{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Is(this,Rv,Promise.withResolvers()),Is(this,Dv,[]),Is(this,Nv,[]),Is(this,Lv,[]),Is(this,Iv,[]),this.length=t,this.initialData=e,this.progressiveDone=n,this.contentDispositionFilename=i}addRangeListener(t){Bs(Iv,this).push(t)}addProgressListener(t){Bs(Lv,this).push(t)}addProgressiveReadListener(t){Bs(Nv,this).push(t)}addProgressiveDoneListener(t){Bs(Dv,this).push(t)}onDataRange(t,e){for(const n of Bs(Iv,this))n(t,e)}onDataProgress(t,e){Bs(Rv,this).promise.then((()=>{for(const n of Bs(Lv,this))n(t,e)}))}onDataProgressiveRead(t){Bs(Rv,this).promise.then((()=>{for(const e of Bs(Nv,this))e(t)}))}onDataProgressiveDone(){Bs(Rv,this).promise.then((()=>{for(const t of Bs(Dv,this))t()}))}transportReady(){Bs(Rv,this).resolve()}requestDataRange(t,e){Go("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class Ov{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ko(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(t,e){return this._transport.getAnnotationsByType(t,e)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){let{intent:t="display"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Bv=new WeakMap,jv=new WeakSet;class Wv{constructor(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Ls(this,jv),Is(this,Bv,!1),this._pageIndex=t,this._pageInfo=e,this._transport=n,this._stats=i?new Al:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new Ym,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport(){let{scale:t,rotation:e=this.rotate,offsetX:n=0,offsetY:i=0,dontFlip:r=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new xl({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:n,offsetY:i,dontFlip:r})}getAnnotations(){let{intent:t="display"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ko(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return(null===(t=this._transport._htmlForXfa)||void 0===t?void 0:t.children[this._pageIndex])||null}render(t){var e,n,i;let{canvasContext:r,canvas:a=r.canvas,viewport:s,intent:o="display",annotationMode:l=vo.ENABLE,transform:c=null,background:u=null,optionalContentConfigPromise:h=null,annotationCanvasMap:d=null,pageColors:f=null,printAnnotationStorage:p=null,isEditing:g=!1,recordOperations:m=!1,operationsFilter:v=null}=t;null===(e=this._stats)||void 0===e||e.time("Overall");const y=this._transport.getRenderingIntent(o,l,p,g),{renderingIntent:b,cacheKey:w}=y;js(Bv,this,!1),h||(h=this._transport.getOptionalContentConfig(b));let x=this._intentStates.get(w);x||(x=Object.create(null),this._intentStates.set(w,x)),x.streamReaderCancelTimeout&&(clearTimeout(x.streamReaderCancelTimeout),x.streamReaderCancelTimeout=null);const _=!!(b&uo);var k;x.displayReadyCapability||(x.displayReadyCapability=Promise.withResolvers(),x.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},null===(k=this._stats)||void 0===k||k.time("Page Request"),this._pumpOperatorList(y));const S=Boolean(this._pdfBug&&(null===(n=globalThis.StepperManager)||void 0===n?void 0:n.enabled)),A=!this.recordedBBoxes&&(m||S),E=t=>{if(x.renderTasks.delete(C),A){var e;const t=null===(e=C.gfx)||void 0===e?void 0:e.dependencyTracker.take();t&&(C.stepper&&C.stepper.setOperatorBBoxes(t,C.gfx.dependencyTracker.takeDebugMetadata()),m&&(this.recordedBBoxes=t))}var n;(_&&js(Bv,this,!0),Fs(jv,this,zv).call(this),t?(C.capability.reject(t),this._abortOperatorList({intentState:x,reason:t instanceof Error?t:new Error(t)})):C.capability.resolve(),this._stats)&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),null!==(n=globalThis.Stats)&&void 0!==n&&n.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},C=new fy({callback:E,params:{canvas:a,canvasContext:r,dependencyTracker:A?new Op(a,x.operatorList.length,S):null,viewport:s,transform:c,background:u},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:d,operatorList:x.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!_,pdfBug:this._pdfBug,pageColors:f,enableHWA:this._transport.enableHWA,operationsFilter:v});((i=x).renderTasks||(i.renderTasks=new Set)).add(C);const M=C.task;return Promise.all([x.displayReadyCapability.promise,h]).then((t=>{var e;let[n,i]=t;if(this.destroyed)E();else{if(null===(e=this._stats)||void 0===e||e.time("Rendering"),!(i.renderingIntent&b))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");C.initializeGraphics({transparency:n,optionalContentConfig:i}),C.operatorListChanged()}})).catch(E),M}getOperatorList(){let{intent:t="display",annotationMode:e=vo.ENABLE,printAnnotationStorage:n=null,isEditing:i=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this._transport.getRenderingIntent(t,e,n,i,!0);let a,s=this._intentStates.get(r.cacheKey);var o,l;(s||(s=Object.create(null),this._intentStates.set(r.cacheKey,s)),s.opListReadCapability)||(a=Object.create(null),a.operatorListChanged=function(){s.operatorList.lastChunk&&(s.opListReadCapability.resolve(s.operatorList),s.renderTasks.delete(a))},s.opListReadCapability=Promise.withResolvers(),((o=s).renderTasks||(o.renderTasks=new Set)).add(a),s.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},null===(l=this._stats)||void 0===l||l.time("Page Request"),this._pumpOperatorList(r));return s.opListReadCapability.promise}streamTextContent(){let{includeMarkedContent:t=!1,disableNormalization:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:!0===t,disableNormalization:!0===e},{highWaterMark:100,size:t=>t.items.length})}getTextContent(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then((t=>ml.textContent(t)));const e=this.streamTextContent(t);return new Promise((function(t,n){const i=e.getReader(),r={items:[],styles:Object.create(null),lang:null};!function e(){i.read().then((function(n){var i;let{value:a,done:s}=n;s?t(r):(null!==(i=r.lang)&&void 0!==i||(r.lang=a.lang),Object.assign(r.styles,a.styles),r.items.push(...a.items),e())}),n)}()}))}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const n of e.renderTasks)t.push(n.completed),n.cancel();return this.objs.clear(),js(Bv,this,!1),Promise.all(t)}cleanup(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];js(Bv,this,!0);const e=Fs(jv,this,zv).call(this);return t&&e&&this._stats&&(this._stats=new Al),e}_startRenderPage(t,e){var n,i;const r=this._intentStates.get(e);r&&(null===(n=this._stats)||void 0===n||n.timeEnd("Page Request"),null===(i=r.displayReadyCapability)||void 0===i||i.resolve(t))}_renderPageChunk(t,e){for(let n=0,i=t.length;n<i;n++)e.operatorList.fnArray.push(t.fnArray[n]),e.operatorList.argsArray.push(t.argsArray[n]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const n of e.renderTasks)n.operatorListChanged();t.lastChunk&&Fs(jv,this,zv).call(this)}_pumpOperatorList(t){let{renderingIntent:e,cacheKey:n,annotationStorageSerializable:i,modifiedIds:r}=t;const{map:a,transfer:s}=i,o=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:n,annotationStorage:a,modifiedIds:r},s).getReader(),l=this._intentStates.get(n);l.streamReader=o;const c=()=>{o.read().then((t=>{let{value:e,done:n}=t;n?l.streamReader=null:this._transport.destroyed||(this._renderPageChunk(e,l),c())}),(t=>{if(l.streamReader=null,!this._transport.destroyed){if(l.operatorList){l.operatorList.lastChunk=!0;for(const t of l.renderTasks)t.operatorListChanged();Fs(jv,this,zv).call(this)}if(l.displayReadyCapability)l.displayReadyCapability.reject(t);else{if(!l.opListReadCapability)throw t;l.opListReadCapability.reject(t)}}}))};c()}_abortOperatorList(t){let{intentState:e,reason:n,force:i=!1}=t;if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!i){if(e.renderTasks.size>0)return;if(n instanceof _l){let t=100;return n.extraDelay>0&&n.extraDelay<1e3&&(t+=n.extraDelay),void(e.streamReaderCancelTimeout=setTimeout((()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:n,force:!0})}),t))}}if(e.streamReader.cancel(new nl(n.message)).catch((()=>{})),e.streamReader=null,!this._transport.destroyed){for(const[t,n]of this._intentStates)if(n===e){this._intentStates.delete(t);break}this.cleanup()}}}get stats(){return this._stats}}function zv(){if(!Bs(Bv,this)||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),js(Bv,this,!1),!0}var Uv=new WeakMap,Hv=new WeakMap,Vv=new WeakMap,Gv=new WeakMap,qv=new WeakSet;class Xv{constructor(){let{name:t=null,port:e=null,verbosity:n=Uo()}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Ls(this,qv),Is(this,Uv,Promise.withResolvers()),Is(this,Hv,null),Is(this,Vv,null),Is(this,Gv,null),this.name=t,this.destroyed=!1,this.verbosity=n,e){if(ey._.has(e))throw new Error("Cannot use more than one PDFWorker per port.");ey._.set(e,this),Fs(qv,this,Kv).call(this,e)}else Fs(qv,this,Qv).call(this)}get promise(){return Bs(Uv,this).promise}get port(){return Bs(Vv,this)}get messageHandler(){return Bs(Hv,this)}destroy(){var t,e;this.destroyed=!0,null===(t=Bs(Gv,this))||void 0===t||t.terminate(),js(Gv,this,null),ey._.delete(Bs(Vv,this)),js(Vv,this,null),null===(e=Bs(Hv,this))||void 0===e||e.destroy(),js(Hv,this,null)}static create(t){const e=Fs(Xv,this,ey)._.get(null===t||void 0===t?void 0:t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new Xv(t)}static get workerSrc(){if(rm.workerSrc)return rm.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ko(this,"_setupFakeWorkerGlobal",(async()=>{if(Os(Xv,this,Jv))return Os(Xv,this,Jv);return(await import(this.workerSrc)).WorkerMessageHandler})())}}function Yv(){Bs(Uv,this).resolve(),Bs(Hv,this).send("configure",{verbosity:this.verbosity})}function Kv(t){js(Vv,this,t),js(Hv,this,new _f("main","worker",t)),Bs(Hv,this).on("ready",(()=>{})),Fs(qv,this,Yv).call(this)}function Qv(){if(ty._||Jv(Js))return void Fs(qv,this,$v).call(this);let{workerSrc:t}=Js;try{Js._isSameOrigin(window.location,t)||(t=Js._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),n=new _f("main","worker",e),i=()=>{r.abort(),n.destroy(),e.terminate(),this.destroyed?Bs(Uv,this).reject(new Error("Worker was destroyed")):Fs(qv,this,$v).call(this)},r=new AbortController;e.addEventListener("error",(()=>{Bs(Gv,this)||i()}),{signal:r.signal}),n.on("test",(t=>{r.abort(),!this.destroyed&&t?(js(Hv,this,n),js(Vv,this,e),js(Gv,this,e),Fs(qv,this,Yv).call(this)):i()})),n.on("ready",(t=>{if(r.abort(),this.destroyed)i();else try{a()}catch(e){Fs(qv,this,$v).call(this)}}));const a=()=>{const t=new Uint8Array;n.send("test",t,[t.buffer])};return void a()}catch(e){Ho("The worker has been disabled.")}Fs(qv,this,$v).call(this)}function $v(){ty._||(Vo("Setting up fake worker."),ty._=!0),Js._setupFakeWorkerGlobal.then((t=>{var e,n;if(this.destroyed)return void Bs(Uv,this).reject(new Error("Worker was destroyed"));const i=new of;js(Vv,this,i);const r="fake".concat((Zv._=(e=Zv._,n=e++,e),n)),a=new _f(r+"_worker",r,i);t.setup(a,i),js(Hv,this,new _f(r,r+"_worker",i)),Fs(qv,this,Yv).call(this)})).catch((t=>{Bs(Uv,this).reject(new Error('Setting up fake worker failed: "'.concat(t.message,'".')))}))}function Jv(t){try{var e;return(null===(e=globalThis.pdfjsWorker)||void 0===e?void 0:e.WorkerMessageHandler)||null}catch(n){return null}}Js=Xv;var Zv={_:0},ty={_:!1},ey={_:new WeakMap};ao&&(ty._=Fs(Js,Js,!0),rm.workerSrc||(rm.workerSrc="./pdf.worker.mjs")),Js._isSameOrigin=(t,e)=>{const n=URL.parse(t);if(null===n||void 0===n||!n.origin||"null"===n.origin)return!1;const i=new URL(e,n);return n.origin===i.origin},Js._createCDNWrapper=t=>{const e='await import("'.concat(t,'");');return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},Js.fromPort=t=>{var e;if(e="`PDFWorker.fromPort` - please use `PDFWorker.create` instead.",console.log("Deprecated API usage: "+e),null===t||void 0===t||!t.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return Js.create(t)};var ny=new WeakMap,iy=new WeakMap,ry=new WeakMap,ay=new WeakMap,sy=new WeakMap,oy=new WeakSet;class ly{constructor(t,e,n,i,r,a){Ls(this,oy),Is(this,ny,new Map),Is(this,iy,new Map),Is(this,ry,new Map),Is(this,ay,new Map),Is(this,sy,null),this.messageHandler=t,this.loadingTask=e,this.commonObjs=new Ym,this.fontLoader=new Jd({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=r.canvasFactory,this.filterFactory=r.filterFactory,this.cMapReaderFactory=r.cMapReaderFactory,this.standardFontDataFactory=r.standardFontDataFactory,this.wasmFactory=r.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=a,this.setupMessageHandler()}get annotationStorage(){return Ko(this,"annotationStorage",new Xd)}getRenderingIntent(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vo.ENABLE,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=co,s=zd;switch(t){case"any":a=lo;break;case"display":break;case"print":a=uo;break;default:Vo("getRenderingIntent - invalid intent: ".concat(t))}const o=a&uo&&n instanceof Qd?n:this.annotationStorage;switch(e){case vo.DISABLE:a+=po;break;case vo.ENABLE:break;case vo.ENABLE_FORMS:a+=ho;break;case vo.ENABLE_STORAGE:a+=fo,s=o.serializable;break;default:Vo("getRenderingIntent - invalid annotationMode: ".concat(e))}i&&(a+=go),r&&(a+=mo);const{ids:l,hash:c}=o.modifiedIds;return{renderingIntent:a,cacheKey:[a,s.hash,c].join("_"),annotationStorageSerializable:s,modifiedIds:l}}destroy(){var t;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),null===(t=Bs(sy,this))||void 0===t||t.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of Bs(iy,this).values())e.push(i._destroy());Bs(iy,this).clear(),Bs(ry,this).clear(),Bs(ay,this).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return e.push(n),Promise.all(e).then((()=>{var t,e;this.commonObjs.clear(),this.fontLoader.clear(),Bs(ny,this).clear(),this.filterFactory.destroy(),gv.cleanup(),null===(t=this._networkStream)||void 0===t||t.cancelAllRequests(new nl("Worker was terminated.")),null===(e=this.messageHandler)||void 0===e||e.destroy(),this.messageHandler=null,this.destroyCapability.resolve()}),this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",((t,e)=>{qo(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=t=>{this._lastProgress={loaded:t.loaded,total:t.total}},e.onPull=()=>{this._fullReader.read().then((function(t){let{value:n,done:i}=t;i?e.close():(qo(n instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),e.enqueue(new Uint8Array(n),1,[n]))})).catch((t=>{e.error(t)}))},e.onCancel=t=>{this._fullReader.cancel(t),e.ready.catch((t=>{if(!this.destroyed)throw t}))}})),t.on("ReaderHeadersReady",(async t=>{await this._fullReader.headersReady;const{isStreamingSupported:n,isRangeSupported:i,contentLength:r}=this._fullReader;if(!n||!i){var a;if(this._lastProgress)null===(a=e.onProgress)||void 0===a||a.call(e,this._lastProgress);this._fullReader.onProgress=t=>{var n;null===(n=e.onProgress)||void 0===n||n.call(e,{loaded:t.loaded,total:t.total})}}return{isStreamingSupported:n,isRangeSupported:i,contentLength:r}})),t.on("GetRangeReader",((t,e)=>{qo(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const n=this._networkStream.getRangeReader(t.begin,t.end);n?(e.onPull=()=>{n.read().then((function(t){let{value:n,done:i}=t;i?e.close():(qo(n instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),e.enqueue(new Uint8Array(n),1,[n]))})).catch((t=>{e.error(t)}))},e.onCancel=t=>{n.cancel(t),e.ready.catch((t=>{if(!this.destroyed)throw t}))}):e.close()})),t.on("GetDoc",(t=>{let{pdfInfo:n}=t;this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,e._capability.resolve(new Ov(n,this))})),t.on("DocException",(t=>{e._capability.reject(bf(t))})),t.on("PasswordRequest",(t=>{js(sy,this,Promise.withResolvers());try{if(!e.onPassword)throw bf(t);const n=t=>{t instanceof Error?Bs(sy,this).reject(t):Bs(sy,this).resolve({password:t})};e.onPassword(n,t.code)}catch(n){Bs(sy,this).reject(n)}return Bs(sy,this).promise})),t.on("DataLoaded",(t=>{var n;null===(n=e.onProgress)||void 0===n||n.call(e,{loaded:t.length,total:t.length}),this.downloadInfoCapability.resolve(t)})),t.on("StartRenderPage",(t=>{if(this.destroyed)return;Bs(iy,this).get(t.pageIndex)._startRenderPage(t.transparency,t.cacheKey)})),t.on("commonobj",(e=>{var n;let[i,r,a]=e;if(this.destroyed)return null;if(this.commonObjs.has(i))return null;switch(r){case"Font":if("error"in a){const t=a.error;Vo("Error during font loading: ".concat(t)),this.commonObjs.resolve(i,t);break}const e=new Kg(a),s=this._params.pdfBug&&null!==(n=globalThis.FontInspector)&&void 0!==n&&n.enabled?(t,e)=>globalThis.FontInspector.fontAdded(t,e):null,o=new tf(e,s,a.extra,a.charProcOperatorList);this.fontLoader.bind(o).catch((()=>t.sendWithPromise("FontFallback",{id:i}))).finally((()=>{!o.fontExtraProperties&&o.data&&o.clearData(),this.commonObjs.resolve(i,o)}));break;case"CopyLocalImage":const{imageRef:l}=a;qo(l,"The imageRef must be defined.");for(const t of Bs(iy,this).values())for(const[,e]of t.objs)if((null===e||void 0===e?void 0:e.ref)===l)return e.dataLen?(this.commonObjs.resolve(i,structuredClone(e)),e.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,a);break;default:throw new Error("Got unknown common object type ".concat(r))}return null})),t.on("obj",(t=>{let[e,n,i,r]=t;if(this.destroyed)return;const a=Bs(iy,this).get(n);var s;if(!a.objs.has(e))if(0!==a._intentStates.size)switch(i){case"Image":case"Pattern":a.objs.resolve(e,r);break;default:throw new Error("Got unknown object type ".concat(i))}else null===r||void 0===r||null===(s=r.bitmap)||void 0===s||s.close()})),t.on("DocProgress",(t=>{var n;this.destroyed||null===(n=e.onProgress)||void 0===n||n.call(e,{loaded:t.loaded,total:t.total})})),t.on("FetchBinaryData",(async t=>{if(this.destroyed)throw new Error("Worker was destroyed.");const e=this[t.type];if(!e)throw new Error("".concat(t.type," not initialized, see the `useWorkerFetch` parameter."));return e.fetch(t)}))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var t,e;this.annotationStorage.size<=0&&Vo("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:n,transfer:i}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:n,filename:null!==(t=null===(e=this._fullReader)||void 0===e?void 0:e.filename)&&void 0!==t?t:null},i).finally((()=>{this.annotationStorage.resetModified()}))}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,n=Bs(ry,this).get(e);if(n)return n;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then((n=>{if(this.destroyed)throw new Error("Transport destroyed");n.refStr&&Bs(ay,this).set(n.refStr,t);const i=new Wv(e,n,this,this._params.pdfBug);return Bs(iy,this).set(e,i),i}));return Bs(ry,this).set(e,i),i}getPageIndex(t){return nf(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return Fs(oy,this,cy).call(this,"GetFieldObjects")}hasJSActions(){return Fs(oy,this,cy).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return"string"!==typeof t?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(t,e){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:t,pageIndexesToSkip:e})}getDocJSActions(){return Fs(oy,this,cy).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return Fs(oy,this,cy).call(this,"GetOptionalContentConfig").then((e=>new xm(e,t)))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=Bs(ny,this).get(t);if(e)return e;const n=this.messageHandler.sendWithPromise(t,null).then((t=>{var e,n,i,r;return{info:t[0],metadata:t[1]?new cm(t[1]):null,contentDispositionFilename:null!==(e=null===(n=this._fullReader)||void 0===n?void 0:n.filename)&&void 0!==e?e:null,contentLength:null!==(i=null===(r=this._fullReader)||void 0===r?void 0:r.contentLength)&&void 0!==i?i:null}}));return Bs(ny,this).set(t,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of Bs(iy,this).values()){if(!t.cleanup())throw new Error("startCleanup: Page ".concat(t.pageNumber," is currently rendering."))}this.commonObjs.clear(),t||this.fontLoader.clear(),Bs(ny,this).clear(),this.filterFactory.destroy(!0),gv.cleanup()}}cachedPageNumber(t){var e;if(!nf(t))return null;const n=0===t.gen?"".concat(t.num,"R"):"".concat(t.num,"R").concat(t.gen);return null!==(e=Bs(ay,this).get(n))&&void 0!==e?e:null}}function cy(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=Bs(ny,this).get(t);if(n)return n;const i=this.messageHandler.sendWithPromise(t,e);return Bs(ny,this).set(t,i),i}var uy=new WeakMap;class hy{constructor(t){Is(this,uy,null),c(this,"onContinue",null),c(this,"onError",null),js(uy,this,t)}get promise(){return Bs(uy,this).capability.promise}cancel(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;Bs(uy,this).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=Bs(uy,this).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=Bs(uy,this);return t.form||t.canvas&&(null===e||void 0===e?void 0:e.size)>0}}var dy=new WeakMap;class fy{constructor(t){let{callback:e,params:n,objs:i,commonObjs:r,annotationCanvasMap:a,operatorList:s,pageIndex:o,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:u=!1,pdfBug:h=!1,pageColors:d=null,enableHWA:f=!1,operationsFilter:p=null}=t;Is(this,dy,null),this.callback=e,this.params=n,this.objs=i,this.commonObjs=r,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=s,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=h,this.pageColors=d,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===u&&"undefined"!==typeof window,this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new hy(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvas,this._canvasContext=n.canvas?null:n.canvasContext,this._enableHWA=f,this._dependencyTracker=n.dependencyTracker,this._operationsFilter=p}get completed(){return this.capability.promise.catch((function(){}))}initializeGraphics(t){var e,n;let{transparency:i=!1,optionalContentConfig:r}=t;if(this.cancelled)return;if(this._canvas){if(py._.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");py._.add(this._canvas)}this._pdfBug&&null!==(e=globalThis.StepperManager)&&void 0!==e&&e.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:a,transform:s,background:o,dependencyTracker:l}=this.params,c=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new Tg(c,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:r},this.annotationCanvasMap,this.pageColors,l),this.gfx.beginDrawing({transform:s,viewport:a,transparency:i,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,null===(n=this.graphicsReadyCallback)||void 0===n||n.call(this)}cancel(){var t,e,n;let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.running=!1,this.cancelled=!0,null===(t=this.gfx)||void 0===t||t.endDrawing(),Bs(dy,this)&&(window.cancelAnimationFrame(Bs(dy,this)),js(dy,this,null)),py._.delete(this._canvas),i||(i=new _l("Rendering cancelled, page ".concat(this._pageIndex+1),r)),this.callback(i),null===(e=(n=this.task).onError)||void 0===e||e.call(n,i)}operatorListChanged(){var t,e;this.graphicsReady?(null===(t=this.gfx.dependencyTracker)||void 0===t||t.growOperationsCount(this.operatorList.fnArray.length),null===(e=this.stepper)||void 0===e||e.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?js(dy,this,window.requestAnimationFrame((()=>{js(dy,this,null),this._nextBound().catch(this._cancelBound)}))):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),py._.delete(this._canvas),this.callback())))}}var py={_:new WeakSet};const gy="5.4.296";var my=new WeakMap,vy=new WeakMap,yy=new WeakMap,by=new WeakMap,wy=new WeakMap,xy=new WeakMap,_y=new WeakMap,ky=new WeakMap,Sy=new WeakMap,Ay=new WeakMap,Ey=new WeakSet;class Cy{static get _keyboardManager(){return Ko(this,"_keyboardManager",new Tc([[["Escape","mac+Escape"],Cy.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Cy.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Cy.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Cy.prototype._moveToPrevious],[["Home","mac+Home"],Cy.prototype._moveToBeginning],[["End","mac+End"],Cy.prototype._moveToEnd]]))}constructor(t){var e,n;let{editor:i=null,uiManager:r=null}=t;Ls(this,Ey),Is(this,my,null),Is(this,vy,null),Is(this,yy,void 0),Is(this,by,null),Is(this,wy,!1),Is(this,xy,!1),Is(this,_y,null),Is(this,ky,void 0),Is(this,Sy,null),Is(this,Ay,null),i?(js(xy,this,!1),js(_y,this,i)):js(xy,this,!0),js(Ay,this,(null===i||void 0===i?void 0:i._uiManager)||r),js(ky,this,Bs(Ay,this)._eventBus),js(yy,this,(null===i||void 0===i||null===(e=i.color)||void 0===e?void 0:e.toUpperCase())||(null===(n=Bs(Ay,this))||void 0===n?void 0:n.highlightColors.values().next().value)||"#FFFF98"),Ly._||(Ly._=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}renderButton(){const t=js(my,this,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.ariaHasPopup="true",Bs(_y,this)&&(t.ariaControls="".concat(Bs(_y,this).id,"_colorpicker_dropdown"));const e=Bs(Ay,this)._signal;t.addEventListener("click",Fs(Ey,this,Ry).bind(this),{signal:e}),t.addEventListener("keydown",Fs(Ey,this,Py).bind(this),{signal:e});const n=js(vy,this,document.createElement("span"));return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=Bs(yy,this),t.append(n),t}renderMainDropdown(){const t=js(by,this,Fs(Ey,this,My).call(this));return t.ariaOrientation="horizontal",t.ariaLabelledBy="highlightColorPickerLabel",t}_colorSelectFromKeyboard(t){if(t.target===Bs(my,this))return void Fs(Ey,this,Ry).call(this,t);const e=t.target.getAttribute("data-color");e&&Fs(Ey,this,Ty).call(this,e,t)}_moveToNext(t){var e,n;Os(Ey,this,Ny)?t.target!==Bs(my,this)?null===(e=t.target.nextSibling)||void 0===e||e.focus():null===(n=Bs(by,this).firstChild)||void 0===n||n.focus():Fs(Ey,this,Ry).call(this,t)}_moveToPrevious(t){var e,n;t.target!==(null===(e=Bs(by,this))||void 0===e?void 0:e.firstChild)&&t.target!==Bs(my,this)?(Os(Ey,this,Ny)||Fs(Ey,this,Ry).call(this,t),null===(n=t.target.previousSibling)||void 0===n||n.focus()):Os(Ey,this,Ny)&&this._hideDropdownFromKeyboard()}_moveToBeginning(t){var e;Os(Ey,this,Ny)?null===(e=Bs(by,this).firstChild)||void 0===e||e.focus():Fs(Ey,this,Ry).call(this,t)}_moveToEnd(t){var e;Os(Ey,this,Ny)?null===(e=Bs(by,this).lastChild)||void 0===e||e.focus():Fs(Ey,this,Ry).call(this,t)}hideDropdown(){var t,e;null===(t=Bs(by,this))||void 0===t||t.classList.add("hidden"),Bs(my,this).ariaExpanded="false",null===(e=Bs(Sy,this))||void 0===e||e.abort(),js(Sy,this,null)}_hideDropdownFromKeyboard(){var t;Bs(xy,this)||(Os(Ey,this,Ny)?(this.hideDropdown(),Bs(my,this).focus({preventScroll:!0,focusVisible:Bs(wy,this)})):null===(t=Bs(_y,this))||void 0===t||t.unselect())}updateColor(t){if(Bs(vy,this)&&(Bs(vy,this).style.backgroundColor=t),!Bs(by,this))return;const e=Bs(Ay,this).highlightColors.values();for(const n of Bs(by,this).children)n.ariaSelected=e.next().value===t.toUpperCase()}destroy(){var t,e;null===(t=Bs(my,this))||void 0===t||t.remove(),js(my,this,null),js(vy,this,null),null===(e=Bs(by,this))||void 0===e||e.remove(),js(by,this,null)}}function My(){const t=document.createElement("div"),e=Bs(Ay,this)._signal;t.addEventListener("contextmenu",Cl,{signal:e}),t.className="dropdown",t.role="listbox",t.ariaMultiSelectable="false",t.ariaOrientation="vertical",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),Bs(_y,this)&&(t.id="".concat(Bs(_y,this).id,"_colorpicker_dropdown"));for(const[n,i]of Bs(Ay,this).highlightColors){const r=document.createElement("button");r.tabIndex="0",r.role="option",r.setAttribute("data-color",i),r.title=n,r.setAttribute("data-l10n-id",Ly._[n]);const a=document.createElement("span");r.append(a),a.className="swatch",a.style.backgroundColor=i,r.ariaSelected=i===Bs(yy,this),r.addEventListener("click",Fs(Ey,this,Ty).bind(this,i),{signal:e}),t.append(r)}return t.addEventListener("keydown",Fs(Ey,this,Py).bind(this),{signal:e}),t}function Ty(t,e){e.stopPropagation(),Bs(ky,this).dispatch("switchannotationeditorparams",{source:this,type:wo.HIGHLIGHT_COLOR,value:t}),this.updateColor(t)}function Py(t){Zs._keyboardManager.exec(this,t)}function Ry(t){if(Os(Ey,this,Ny))return void this.hideDropdown();if(js(wy,this,0===t.detail),Bs(Sy,this)||(js(Sy,this,new AbortController),window.addEventListener("pointerdown",Fs(Ey,this,Dy).bind(this),{signal:Bs(Ay,this).combinedSignal(Bs(Sy,this))})),Bs(my,this).ariaExpanded="true",Bs(by,this))return void Bs(by,this).classList.remove("hidden");const e=js(by,this,Fs(Ey,this,My).call(this));Bs(my,this).append(e)}function Dy(t){var e;null!==(e=Bs(by,this))&&void 0!==e&&e.contains(t.target)||this.hideDropdown()}function Ny(t){return Bs(by,t)&&!Bs(by,t).classList.contains("hidden")}Zs=Cy;var Ly={_:null},Iy=new WeakMap,Fy=new WeakMap,Oy=new WeakMap;class By{constructor(t){Is(this,Iy,null),Is(this,Fy,null),Is(this,Oy,null),js(Fy,this,t),js(Oy,this,t._uiManager),jy._||(jy._=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(Bs(Iy,this))return Bs(Iy,this);const{editorType:t,colorType:e,colorValue:n}=Bs(Fy,this),i=js(Iy,this,document.createElement("input"));return i.type="color",i.value=n||"#000000",i.className="basicColorPicker",i.tabIndex=0,i.setAttribute("data-l10n-id",jy._[t]),i.addEventListener("input",(()=>{Bs(Oy,this).updateParams(e,i.value)}),{signal:Bs(Oy,this)._signal}),i}update(t){Bs(Iy,this)&&(Bs(Iy,this).value=t)}destroy(){var t;null===(t=Bs(Iy,this))||void 0===t||t.remove(),js(Iy,this,null)}hideDropdown(){}}var jy={_:null};function Wy(t){return Math.floor(255*Math.max(0,Math.min(1,t))).toString(16).padStart(2,"0")}function zy(t){return Math.max(0,Math.min(255,255*t))}class Uy{static CMYK_G(t){let[e,n,i,r]=t;return["G",1-Math.min(1,.3*e+.59*i+.11*n+r)]}static G_CMYK(t){let[e]=t;return["CMYK",0,0,0,1-e]}static G_RGB(t){let[e]=t;return["RGB",e,e,e]}static G_rgb(t){let[e]=t;return e=zy(e),[e,e,e]}static G_HTML(t){let[e]=t;const n=Wy(e);return"#".concat(n).concat(n).concat(n)}static RGB_G(t){let[e,n,i]=t;return["G",.3*e+.59*n+.11*i]}static RGB_rgb(t){return t.map(zy)}static RGB_HTML(t){return"#".concat(t.map(Wy).join(""))}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB(t){let[e,n,i,r]=t;return["RGB",1-Math.min(1,e+r),1-Math.min(1,i+r),1-Math.min(1,n+r)]}static CMYK_rgb(t){let[e,n,i,r]=t;return[zy(1-Math.min(1,e+r)),zy(1-Math.min(1,i+r)),zy(1-Math.min(1,n+r))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK(t){let[e,n,i]=t;const r=1-e,a=1-n,s=1-i;return["CMYK",r,a,s,Math.min(r,a,s)]}}class Hy{create(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),n||(i.setAttribute("width","".concat(t,"px")),i.setAttribute("height","".concat(e,"px"))),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox","0 0 ".concat(t," ").concat(e)),i}createElement(t){if("string"!==typeof t)throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){Go("Abstract method `_createSVG` called.")}}class Vy extends Hy{_createSVG(t){return document.createElementNS(yl,t)}}const Gy=new WeakSet,qy=60*(new Date).getTimezoneOffset()*1e3;class Xy{static create(t){switch(t.data.annotationType){case Mo.LINK:return new nb(t);case Mo.TEXT:return new sb(t);case Mo.WIDGET:switch(t.data.fieldType){case"Tx":return new lb(t);case"Btn":return t.data.radioButton?new hb(t):t.data.checkBox?new ub(t):new db(t);case"Ch":return new fb(t);case"Sig":return new cb(t)}return new ob(t);case Mo.POPUP:return new gb(t);case Mo.FREETEXT:return new rw(t);case Mo.LINE:return new sw(t);case Mo.SQUARE:return new lw(t);case Mo.CIRCLE:return new uw(t);case Mo.POLYLINE:return new dw(t);case Mo.CARET:return new pw(t);case Mo.INK:return new yw(t);case Mo.POLYGON:return new fw(t);case Mo.HIGHLIGHT:return new ww(t);case Mo.UNDERLINE:return new xw(t);case Mo.SQUIGGLY:return new _w(t);case Mo.STRIKEOUT:return new kw(t);case Mo.STAMP:return new Sw(t);case Mo.FILEATTACHMENT:return new Cw(t);default:return new Jy(t)}}}var Yy=new WeakMap,Ky=new WeakMap,Qy=new WeakMap,$y=new WeakSet;class Jy{constructor(t){let{isRenderable:e=!1,ignoreBorder:n=!1,createQuadrilaterals:i=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ls(this,$y),Is(this,Yy,null),Is(this,Ky,!1),Is(this,Qy,null),this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableComment=t.enableComment,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(n)),i&&this._createQuadrilaterals()}static _hasPopupData(t){let{contentsObj:e,richText:n}=t;return!!(null!==e&&void 0!==e&&e.str||null!==n&&void 0!==n&&n.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Jy._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){var t;const{data:e}=this,n=null===(t=this.annotationStorage)||void 0===t?void 0:t.getEditor(e.id);return n?n.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){var t;const e=null===(t=this.annotationStorage)||void 0===t?void 0:t.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:n,inkLists:i,rect:r}=this.data;let a=-1/0,s=-1/0;if((null===n||void 0===n?void 0:n.length)>=8){for(let t=0;t<n.length;t+=8)n[t+1]>s?(s=n[t+1],a=n[t+2]):n[t+1]===s&&(a=Math.max(a,n[t+2]));return[a,s]}if((null===i||void 0===i?void 0:i.length)>=1){for(const t of i)for(let e=0,n=t.length;e<n;e+=2)t[e+1]>s?(s=t[e+1],a=t[e]):t[e+1]===s&&(a=Math.max(a,t[e]));if(a!==1/0)return[a,s]}return r?[r[2],r[3]]:null}_normalizePoint(t){const{page:{view:e},viewport:{rawDims:{pageWidth:n,pageHeight:i,pageX:r,pageY:a}}}=this.parent;return t[1]=e[3]-t[1]+e[1],t[0]=100*(t[0]-r)/n,t[1]=100*(t[1]-a)/i,t}get commentText(){var t,e;const{data:n}=this;return(null===(t=this.annotationStorage.getRawValue("".concat(yo).concat(n.id)))||void 0===t||null===(t=t.popup)||void 0===t?void 0:t.contents)||(null===(e=n.contentsObj)||void 0===e?void 0:e.str)||""}set commentText(t){const{data:e}=this,n={deleted:!t,contents:t||""};this.annotationStorage.updateEditor(e.id,{popup:n})||this.annotationStorage.setValue("".concat(yo).concat(e.id),{id:e.id,annotationType:e.annotationType,pageIndex:this.parent.page._pageIndex,popup:n,popupRef:e.popupRef,modificationDate:new Date}),t||this.removePopup()}removePopup(){var t,e;null===(t=(null===(e=Bs(Qy,this))||void 0===e?void 0:e.popup)||this.popup)||void 0===t||t.remove(),js(Qy,this,this.popup=null)}updateEdited(t){var e;if(!this.container)return;t.rect&&(Bs(Yy,this)||js(Yy,this,{rect:this.data.rect.slice(0)}));const{rect:n,popup:i}=t;n&&Fs($y,this,Zy).call(this,n);let r=(null===(e=Bs(Qy,this))||void 0===e?void 0:e.popup)||this.popup;!r&&null!==i&&void 0!==i&&i.text&&(this._createPopup(i),r=Bs(Qy,this).popup),r&&(r.updateEdited(t),null!==i&&void 0!==i&&i.deleted&&(r.remove(),js(Qy,this,null),this.popup=null))}resetEdited(){var t;Bs(Yy,this)&&(Fs($y,this,Zy).call(this,Bs(Yy,this).rect),null===(t=Bs(Qy,this))||void 0===t||t.popup.resetEdited(),js(Yy,this,null))}_createContainer(t){const{data:e,parent:{page:n,viewport:i}}=this,r=document.createElement("section");r.setAttribute("data-annotation-id",e.id),this instanceof ob||this instanceof nb||(r.tabIndex=0);const{style:a}=r;if(a.zIndex=this.parent.zIndex,this.parent.zIndex+=2,e.alternativeText&&(r.title=e.alternativeText),e.noRotate&&r.classList.add("norotate"),!e.rect||this instanceof gb){const{rotation:t}=e;return e.hasOwnCanvas||0===t||this.setRotation(t,r),r}const{width:s,height:o}=this;if(!t&&e.borderStyle.width>0){a.borderWidth="".concat(e.borderStyle.width,"px");const t=e.borderStyle.horizontalCornerRadius,n=e.borderStyle.verticalCornerRadius;if(t>0||n>0){const e="calc(".concat(t,"px * var(--total-scale-factor)) / calc(").concat(n,"px * var(--total-scale-factor))");a.borderRadius=e}else if(this instanceof hb){const t="calc(".concat(s,"px * var(--total-scale-factor)) / calc(").concat(o,"px * var(--total-scale-factor))");a.borderRadius=t}switch(e.borderStyle.style){case To:a.borderStyle="solid";break;case Po:a.borderStyle="dashed";break;case Ro:Vo("Unimplemented border style: beveled");break;case Do:Vo("Unimplemented border style: inset");break;case No:a.borderBottomStyle="solid"}const i=e.borderColor||null;i?(js(Ky,this,!0),a.borderColor=ol.makeHexColor(0|i[0],0|i[1],0|i[2])):a.borderWidth=0}const l=ol.normalizeRect([e.rect[0],n.view[3]-e.rect[1]+n.view[1],e.rect[2],n.view[3]-e.rect[3]+n.view[1]]),{pageWidth:c,pageHeight:u,pageX:h,pageY:d}=i.rawDims;a.left="".concat(100*(l[0]-h)/c,"%"),a.top="".concat(100*(l[1]-d)/u,"%");const{rotation:f}=e;return e.hasOwnCanvas||0===f?(a.width="".concat(100*s/c,"%"),a.height="".concat(100*o/u,"%")):this.setRotation(f,r),r}setRotation(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.container;if(!this.data.rect)return;const{pageWidth:n,pageHeight:i}=this.parent.viewport.rawDims;let{width:r,height:a}=this;t%180!==0&&([r,a]=[a,r]),e.style.width="".concat(100*r/n,"%"),e.style.height="".concat(100*a/i,"%"),e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(t,e,n)=>{const i=n.detail[t],r=i[0],a=i.slice(1);n.target.style[e]=Uy["".concat(r,"_HTML")](a),this.annotationStorage.setValue(this.data.id,{[e]:Uy["".concat(r,"_rgb")](a)})};return Ko(this,"_commonActions",{display:t=>{const{display:e}=t.detail,n=e%2===1;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:n,noPrint:1===e||2===e})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:e}=t.detail;this.container.style.visibility=e?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:e,noView:e})},focus:t=>{setTimeout((()=>t.target.focus({preventScroll:!1})),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:t=>{const e=t.detail.rotation;this.setRotation(e),this.annotationStorage.setValue(this.data.id,{rotation:e})}})}_dispatchEventFromSandbox(t,e){const n=this._commonActions;for(const i of Object.keys(e.detail)){const r=t[i]||n[i];null===r||void 0===r||r(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const n=this._commonActions;for(const[i,r]of Object.entries(e)){const a=n[i];if(a){a({detail:{[i]:r},target:t}),delete e[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,n,i,r]=this.data.rect.map((t=>Math.fround(t)));if(8===t.length){const[a,s,o,l]=t.subarray(2,6);if(i===a&&r===s&&e===o&&n===l)return}const{style:a}=this.container;let s;if(Bs(Ky,this)){const{borderColor:t,borderWidth:e}=a;a.borderWidth=0,s=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">','<g fill="transparent" stroke="'.concat(t,'" stroke-width="').concat(e,'">')],this.container.classList.add("hasBorder")}const o=i-e,l=r-n,{svgFactory:c}=this,u=c.createElement("svg");u.classList.add("quadrilateralsContainer"),u.setAttribute("width",0),u.setAttribute("height",0),u.role="none";const h=c.createElement("defs");u.append(h);const d=c.createElement("clipPath"),f="clippath_".concat(this.data.id);d.setAttribute("id",f),d.setAttribute("clipPathUnits","objectBoundingBox"),h.append(d);for(let g=2,m=t.length;g<m;g+=8){var p;const n=t[g],i=t[g+1],a=t[g+2],u=t[g+3],h=c.createElement("rect"),f=(a-e)/o,m=(r-i)/l,v=(n-a)/o,y=(i-u)/l;h.setAttribute("x",f),h.setAttribute("y",m),h.setAttribute("width",v),h.setAttribute("height",y),d.append(h),null===(p=s)||void 0===p||p.push('<rect vector-effect="non-scaling-stroke" x="'.concat(f,'" y="').concat(m,'" width="').concat(v,'" height="').concat(y,'"/>'))}Bs(Ky,this)&&(s.push("</g></svg>')"),a.backgroundImage=s.join("")),this.container.append(u),this.container.style.clipPath="url(#".concat(f,")")}_createPopup(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const{data:e}=this;let n,i;t?(n={str:t.text},i=t.date):(n=e.contentsObj,i=e.modificationDate);const r=js(Qy,this,new gb({data:{color:e.color,titleObj:e.titleObj,modificationDate:i,contentsObj:n,richText:e.richText,parentRect:e.rect,borderStyle:0,id:"popup_".concat(e.id),rotation:e.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}));this.parent._commentManager||this.parent.div.append(r.render())}get hasPopupElement(){return!!(Bs(Qy,this)||this.popup||this.data.popupRef)}get extraPopupElement(){return Bs(Qy,this)}render(){Go("Abstract method `AnnotationElement.render` called")}_getElementsByName(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[];if(this._fieldObjects){const i=this._fieldObjects[t];if(i)for(const{page:t,id:r,exportValues:a}of i){if(-1===t)continue;if(r===e)continue;const i="string"===typeof a?a:null,s=document.querySelector('[data-element-id="'.concat(r,'"]'));!s||Gy.has(s)?n.push({id:r,exportValue:i,domElement:s}):Vo("_getElementsByName - element not allowed: ".concat(r))}return n}for(const i of document.getElementsByName(t)){const{exportValue:t}=i,r=i.getAttribute("data-element-id");r!==e&&(Gy.has(i)&&n.push({id:r,exportValue:t,domElement:i}))}return n}show(){var t;this.container&&(this.container.hidden=!1),null===(t=this.popup)||void 0===t||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),null===(t=this.popup)||void 0===t||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",(()=>{var n;null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e,mustEnterInEditMode:!0})}))}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}function Zy(t){const{container:{style:e},data:{rect:n,rotation:i},parent:{viewport:{rawDims:{pageWidth:r,pageHeight:a,pageX:s,pageY:o}}}}=this;null===n||void 0===n||n.splice(0,4,...t),e.left="".concat(100*(t[0]-s)/r,"%"),e.top="".concat(100*(a-t[3]+o)/a,"%"),0===i?(e.width="".concat(100*(t[2]-t[0])/r,"%"),e.height="".concat(100*(t[3]-t[1])/a,"%")):this.setRotation(i)}class tb extends Jy{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.editor=t.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:t}=this;t.hasComment&&(this._createPopup(t.comment),this.extraPopupElement.popup.renderCommentButton())}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(t){this.editor.comment=t,t||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.container.remove(),this.container=null,this.removePopup()}}var eb=new WeakSet;class nb extends Jy{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(t,{isRenderable:!0,ignoreBorder:!(null===e||void 0===e||!e.ignoreBorder),createQuadrilaterals:!0}),Ls(this,eb),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:e}=this,n=document.createElement("a");n.setAttribute("data-element-id",t.id);let i=!1;return t.url?(e.addLinkAttributes(n,t.url,t.newWindow),i=!0):t.action?(this._bindNamedAction(n,t.action,t.overlaidText),i=!0):t.attachment?(Fs(eb,this,rb).call(this,n,t.attachment,t.overlaidText,t.attachmentDest),i=!0):t.setOCGState?(Fs(eb,this,ab).call(this,n,t.setOCGState,t.overlaidText),i=!0):t.dest?(this._bindLink(n,t.dest,t.overlaidText),i=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,t),i=!0),t.resetForm?(this._bindResetFormAction(n,t.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(n,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&this.container.append(n),this.container}_bindLink(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||""===e)&&Fs(eb,this,ib).call(this),n&&(t.title=n)}_bindNamedAction(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),n&&(t.title=n),Fs(eb,this,ib).call(this)}_bindJSAction(t,e){t.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(e.actions)){const r=n.get(i);r&&(t[r]=()=>{var t;return null===(t=this.linkService.eventBus)||void 0===t||t.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:i}}),!1})}e.overlaidText&&(t.title=e.overlaidText),t.onclick||(t.onclick=()=>!1),Fs(eb,this,ib).call(this)}_bindResetFormAction(t,e){const n=t.onclick;if(n||(t.href=this.linkService.getAnchorUrl("")),Fs(eb,this,ib).call(this),!this._fieldObjects)return Vo('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(n||(t.onclick=()=>!1));t.onclick=()=>{null===n||void 0===n||n();const{fields:t,refs:i,include:r}=e,a=[];if(0!==t.length||0!==i.length){const e=new Set(i);for(const n of t){const t=this._fieldObjects[n]||[];for(const{id:n}of t)e.add(n)}for(const t of Object.values(this._fieldObjects))for(const n of t)e.has(n.id)===r&&a.push(n)}else for(const e of Object.values(this._fieldObjects))a.push(...e);const s=this.annotationStorage,o=[];for(const e of a){const{id:t}=e;switch(o.push(t),e.type){case"text":{const n=e.defaultValue||"";s.setValue(t,{value:n});break}case"checkbox":case"radiobutton":{const n=e.defaultValue===e.exportValues;s.setValue(t,{value:n});break}case"combobox":case"listbox":{const n=e.defaultValue||"";s.setValue(t,{value:n});break}default:continue}const n=document.querySelector('[data-element-id="'.concat(t,'"]'));n&&(Gy.has(n)?n.dispatchEvent(new Event("resetform")):Vo("_bindResetFormAction - element not allowed: ".concat(t)))}var l;this.enableScripting&&(null===(l=this.linkService.eventBus)||void 0===l||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:o,name:"ResetForm"}}));return!1}}}function ib(){this.container.setAttribute("data-internal-link","")}function rb(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t.href=this.linkService.getAnchorUrl(""),e.description?t.title=e.description:n&&(t.title=n),t.onclick=()=>{var t;return null===(t=this.downloadManager)||void 0===t||t.openOrDownloadData(e.content,e.filename,i),!1},Fs(eb,this,ib).call(this)}function ab(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(e),!1),n&&(t.title=n),Fs(eb,this,ib).call(this)}class sb extends Jy{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class ob extends Jy{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&("CANVAS"===(null===(e=t.previousSibling)||void 0===e?void 0:e.nodeName)&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return al.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,n,i,r){n.includes("mouse")?t.addEventListener(n,(t=>{var e;null===(e=this.linkService.eventBus)||void 0===e||e.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:r(t),shift:t.shiftKey,modifier:this._getKeyModifier(t)}})})):t.addEventListener(n,(t=>{var a;if("blur"===n){if(!e.focused||!t.relatedTarget)return;e.focused=!1}else if("focus"===n){if(e.focused)return;e.focused=!0}r&&(null===(a=this.linkService.eventBus)||void 0===a||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:r(t)}}))}))}_setEventListeners(t,e,n,i){for(const[o,l]of n){var r,a,s;if("Action"===l||null!==(r=this.data.actions)&&void 0!==r&&r[l])"Focus"!==l&&"Blur"!==l||e||(e={focused:!1}),this._setEventListener(t,e,o,l,i),"Focus"!==l||null!==(a=this.data.actions)&&void 0!==a&&a.Blur?"Blur"!==l||null!==(s=this.data.actions)&&void 0!==s&&s.Focus||this._setEventListener(t,e,"focus","Focus",null):this._setEventListener(t,e,"blur","Blur",null)}}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=null===e?"transparent":ol.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||9,r=t.style;let a;const s=t=>Math.round(10*t)/10;if(this.data.multiLine){const t=Math.abs(this.data.rect[3]-this.data.rect[1]-2),e=t/(Math.round(t/(oo*i))||1);a=Math.min(i,s(e/oo))}else{const t=Math.abs(this.data.rect[3]-this.data.rect[1]-2);a=Math.min(i,s(t/oo))}r.fontSize="calc(".concat(a,"px * var(--total-scale-factor))"),r.color=ol.makeHexColor(n[0],n[1],n[2]),null!==this.data.textAlignment&&(r.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class lb extends ob{constructor(t){super(t,{isRenderable:t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue})}setPropertyOnSiblings(t,e,n,i){const r=this.annotationStorage;for(const a of this._getElementsByName(t.name,t.id))a.domElement&&(a.domElement[e]=n),r.setValue(a.id,{[i]:n})}render(){const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){var i;const a=t.getValue(e,{value:this.data.fieldValue});let s=a.value||"";const o=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;o&&s.length>o&&(s=s.slice(0,o));let l=a.formattedValue||(null===(i=this.data.textContent)||void 0===i?void 0:i.join("\n"))||null;l&&this.data.comb&&(l=l.replaceAll(/\s+/g,""));const c={userValue:s,formattedValue:l,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=null!==l&&void 0!==l?l:s,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",null!==l&&void 0!==l?l:s),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),Gy.add(n),n.setAttribute("data-element-id",e),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;const{datetimeFormat:u,datetimeType:h,timeStep:d}=this.data,f=!!h&&this.enableScripting;u&&(n.title=u),this._setRequired(n,this.data.required),o&&(n.maxLength=o),n.addEventListener("input",(i=>{t.setValue(e,{value:i.target.value}),this.setPropertyOnSiblings(n,"value",i.target.value,"value"),c.formattedValue=null})),n.addEventListener("resetform",(t=>{var e;const i=null!==(e=this.data.defaultFieldValue)&&void 0!==e?e:"";n.value=c.userValue=i,c.formattedValue=null}));let p=t=>{const{formattedValue:e}=c;null!==e&&void 0!==e&&(t.target.value=e),t.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){var r;n.addEventListener("focus",(t=>{var e;if(c.focused)return;const{target:n}=t;if(f&&(n.type=h,d&&(n.step=d)),c.userValue){const t=c.userValue;if(f)if("time"===h){const e=new Date(t),i=[e.getHours(),e.getMinutes(),e.getSeconds()];n.value=i.map((t=>t.toString().padStart(2,"0"))).join(":")}else n.value=new Date(t-qy).toISOString().split("date"===h?"T":".",1)[0];else n.value=t}c.lastCommittedValue=n.value,c.commitKey=1,null!==(e=this.data.actions)&&void 0!==e&&e.Focus||(c.focused=!0)})),n.addEventListener("updatefromsandbox",(n=>{this.showElementAndHideCanvas(n.target);const i={value(n){var i;c.userValue=null!==(i=n.detail.value)&&void 0!==i?i:"",f||t.setValue(e,{value:c.userValue.toString()}),n.target.value=c.userValue},formattedValue(n){const{formattedValue:i}=n.detail;c.formattedValue=i,null!==i&&void 0!==i&&n.target!==document.activeElement&&(n.target.value=i);const r={formattedValue:i};f&&(r.value=i),t.setValue(e,r)},selRange(t){t.target.setSelectionRange(...t.detail.selRange)},charLimit:n=>{var i;const{charLimit:r}=n.detail,{target:a}=n;if(0===r)return void a.removeAttribute("maxLength");a.setAttribute("maxLength",r);let s=c.userValue;!s||s.length<=r||(s=s.slice(0,r),a.value=c.userValue=s,t.setValue(e,{value:s}),null===(i=this.linkService.eventBus)||void 0===i||i.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:s,willCommit:!0,commitKey:1,selStart:a.selectionStart,selEnd:a.selectionEnd}}))}};this._dispatchEventFromSandbox(i,n)})),n.addEventListener("keydown",(t=>{var n;c.commitKey=1;let i=-1;if("Escape"===t.key?i=0:"Enter"!==t.key||this.data.multiLine?"Tab"===t.key&&(c.commitKey=3):i=2,-1===i)return;const{value:r}=t.target;c.lastCommittedValue!==r&&(c.lastCommittedValue=r,c.userValue=r,null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:r,willCommit:!0,commitKey:i,selStart:t.target.selectionStart,selEnd:t.target.selectionEnd}}))}));const i=p;p=null,n.addEventListener("blur",(t=>{var n;if(!c.focused||!t.relatedTarget)return;null!==(n=this.data.actions)&&void 0!==n&&n.Blur||(c.focused=!1);const{target:r}=t;let{value:a}=r;if(f){if(a&&"time"===h){const t=a.split(":").map((t=>parseInt(t,10)));a=new Date(2e3,0,1,t[0],t[1],t[2]||0).valueOf(),r.step=""}else a.includes("T")||(a="".concat(a,"T00:00")),a=new Date(a).valueOf();r.type="text"}var s;(c.userValue=a,c.lastCommittedValue!==a)&&(null===(s=this.linkService.eventBus)||void 0===s||s.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:a,willCommit:!0,commitKey:c.commitKey,selStart:t.target.selectionStart,selEnd:t.target.selectionEnd}}));i(t)})),null!==(r=this.data.actions)&&void 0!==r&&r.Keystroke&&n.addEventListener("beforeinput",(t=>{var n;c.lastCommittedValue=null;const{data:i,target:r}=t,{value:a,selectionStart:s,selectionEnd:o}=r;let l=s,u=o;switch(t.inputType){case"deleteWordBackward":{const t=a.substring(0,s).match(/\w*[^\w]*$/);t&&(l-=t[0].length);break}case"deleteWordForward":{const t=a.substring(s).match(/^[^\w]*\w*/);t&&(u+=t[0].length);break}case"deleteContentBackward":s===o&&(l-=1);break;case"deleteContentForward":s===o&&(u+=1)}t.preventDefault(),null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:a,change:i||"",willCommit:!1,selStart:l,selEnd:u}})})),this._setEventListeners(n,c,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(t=>t.target.value))}if(p&&n.addEventListener("blur",p),this.data.comb){const t=(this.data.rect[2]-this.data.rect[0])/o;n.classList.add("comb"),n.style.letterSpacing="calc(".concat(t,"px * var(--total-scale-factor) - 1ch)")}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class cb extends ob{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class ub extends ob{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,n=e.id;let i=t.getValue(n,{value:e.exportValue===e.fieldValue}).value;"string"===typeof i&&(i="Off"!==i,t.setValue(n,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const r=document.createElement("input");return Gy.add(r),r.setAttribute("data-element-id",n),r.disabled=e.readOnly,this._setRequired(r,this.data.required),r.type="checkbox",r.name=e.fieldName,i&&r.setAttribute("checked",!0),r.setAttribute("exportValue",e.exportValue),r.tabIndex=0,r.addEventListener("change",(i=>{const{name:r,checked:a}=i.target;for(const s of this._getElementsByName(r,n)){const n=a&&s.exportValue===e.exportValue;s.domElement&&(s.domElement.checked=n),t.setValue(s.id,{value:n})}t.setValue(n,{value:a})})),r.addEventListener("resetform",(t=>{const n=e.defaultFieldValue||"Off";t.target.checked=n===e.exportValue})),this.enableScripting&&this.hasJSActions&&(r.addEventListener("updatefromsandbox",(e=>{const i={value(e){e.target.checked="Off"!==e.detail.value,t.setValue(n,{value:e.target.checked})}};this._dispatchEventFromSandbox(i,e)})),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(t=>t.target.checked))),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class hb extends ob{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,n=e.id;let i=t.getValue(n,{value:e.fieldValue===e.buttonValue}).value;if("string"===typeof i&&(i=i!==e.buttonValue,t.setValue(n,{value:i})),i)for(const a of this._getElementsByName(e.fieldName,n))t.setValue(a.id,{value:!1});const r=document.createElement("input");if(Gy.add(r),r.setAttribute("data-element-id",n),r.disabled=e.readOnly,this._setRequired(r,this.data.required),r.type="radio",r.name=e.fieldName,i&&r.setAttribute("checked",!0),r.tabIndex=0,r.addEventListener("change",(e=>{const{name:i,checked:r}=e.target;for(const a of this._getElementsByName(i,n))t.setValue(a.id,{value:!1});t.setValue(n,{value:r})})),r.addEventListener("resetform",(t=>{const n=e.defaultFieldValue;t.target.checked=null!==n&&void 0!==n&&n===e.buttonValue})),this.enableScripting&&this.hasJSActions){const i=e.buttonValue;r.addEventListener("updatefromsandbox",(e=>{const r={value:e=>{const r=i===e.detail.value;for(const i of this._getElementsByName(e.target.name)){const e=r&&i.id===n;i.domElement&&(i.domElement.checked=e),t.setValue(i.id,{value:e})}}};this._dispatchEventFromSandbox(r,e)})),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(t=>t.target.checked))}return this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class db extends nb{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",(t=>{this._dispatchEventFromSandbox({},t)}))),t}}class fb extends ob{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,n=t.getValue(e,{value:this.data.fieldValue}),i=document.createElement("select");Gy.add(i),i.setAttribute("data-element-id",e),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let r=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",(t=>{const e=this.data.defaultFieldValue;for(const n of i.options)n.selected=n.value===e}));for(const c of this.data.options){const t=document.createElement("option");t.textContent=c.displayValue,t.value=c.exportValue,n.value.includes(c.exportValue)&&(t.setAttribute("selected",!0),r=!1),i.append(t)}let a=null;if(r){const t=document.createElement("option");t.value=" ",t.setAttribute("hidden",!0),t.setAttribute("selected",!0),i.prepend(t),a=()=>{t.remove(),i.removeEventListener("input",a),a=null},i.addEventListener("input",a)}const s=t=>{const e=t?"value":"textContent",{options:n,multiple:r}=i;return r?Array.prototype.filter.call(n,(t=>t.selected)).map((t=>t[e])):-1===n.selectedIndex?null:n[n.selectedIndex][e]};let o=s(!1);const l=t=>{const e=t.target.options;return Array.prototype.map.call(e,(t=>({displayValue:t.textContent,exportValue:t.value})))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",(n=>{const r={value(n){var r;null===(r=a)||void 0===r||r();const l=n.detail.value,c=new Set(Array.isArray(l)?l:[l]);for(const t of i.options)t.selected=c.has(t.value);t.setValue(e,{value:s(!0)}),o=s(!1)},multipleSelection(t){i.multiple=!0},remove(n){const r=i.options,a=n.detail.remove;if(r[a].selected=!1,i.remove(a),r.length>0){-1===Array.prototype.findIndex.call(r,(t=>t.selected))&&(r[0].selected=!0)}t.setValue(e,{value:s(!0),items:l(n)}),o=s(!1)},clear(n){for(;0!==i.length;)i.remove(0);t.setValue(e,{value:null,items:[]}),o=s(!1)},insert(n){const{index:r,displayValue:a,exportValue:c}=n.detail.insert,u=i.children[r],h=document.createElement("option");h.textContent=a,h.value=c,u?u.before(h):i.append(h),t.setValue(e,{value:s(!0),items:l(n)}),o=s(!1)},items(n){const{items:r}=n.detail;for(;0!==i.length;)i.remove(0);for(const t of r){const{displayValue:e,exportValue:n}=t,r=document.createElement("option");r.textContent=e,r.value=n,i.append(r)}i.options.length>0&&(i.options[0].selected=!0),t.setValue(e,{value:s(!0),items:l(n)}),o=s(!1)},indices(n){const i=new Set(n.detail.indices);for(const t of n.target.options)t.selected=i.has(t.index);t.setValue(e,{value:s(!0)}),o=s(!1)},editable(t){t.target.disabled=!t.detail.editable}};this._dispatchEventFromSandbox(r,n)})),i.addEventListener("input",(n=>{var i;const r=s(!0),a=s(!1);t.setValue(e,{value:r}),n.preventDefault(),null===(i=this.linkService.eventBus)||void 0===i||i.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:o,change:a,changeEx:r,willCommit:!1,commitKey:1,keyDown:!1}})})),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],(t=>t.target.value))):i.addEventListener("input",(function(n){t.setValue(e,{value:s(!0)})})),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}var pb=new WeakSet;class gb extends Jy{constructor(t){const{data:e,elements:n,parent:i}=t,r=!!i._commentManager;if(super(t,{isRenderable:!r&&Jy._hasPopupData(e)}),Ls(this,pb),this.elements=n,r&&Jy._hasPopupData(e)){const t=this.popup=Fs(pb,this,mb).call(this);for(const e of n)e.popup=t}else this.popup=null}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const e=this.popup=Fs(pb,this,mb).call(this),n=[];for(const i of this.elements)i.popup=e,i.container.ariaHasPopup="dialog",n.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",n.map((t=>"".concat(fl).concat(t))).join(",")),this.container}}function mb(){return new Vb({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})}var vb=new WeakMap,yb=new WeakMap,bb=new WeakMap,wb=new WeakMap,xb=new WeakMap,_b=new WeakMap,kb=new WeakMap,Sb=new WeakMap,Ab=new WeakMap,Eb=new WeakMap,Cb=new WeakMap,Mb=new WeakMap,Tb=new WeakMap,Pb=new WeakMap,Rb=new WeakMap,Db=new WeakMap,Nb=new WeakMap,Lb=new WeakMap,Ib=new WeakMap,Fb=new WeakMap,Ob=new WeakMap,Bb=new WeakMap,jb=new WeakMap,Wb=new WeakMap,zb=new WeakMap,Ub=new WeakMap,Hb=new WeakSet;class Vb{constructor(t){let{container:e,color:n,elements:i,titleObj:r,modificationDate:a,contentsObj:s,richText:o,parent:l,rect:c,parentRect:u,open:h,commentManager:d=null}=t;Ls(this,Hb),Is(this,vb,null),Is(this,yb,Fs(Hb,this,Zb).bind(this)),Is(this,bb,Fs(Hb,this,iw).bind(this)),Is(this,wb,Fs(Hb,this,nw).bind(this)),Is(this,xb,Fs(Hb,this,ew).bind(this)),Is(this,_b,null),Is(this,kb,null),Is(this,Sb,null),Is(this,Ab,null),Is(this,Eb,null),Is(this,Cb,null),Is(this,Mb,null),Is(this,Tb,!1),Is(this,Pb,null),Is(this,Rb,null),Is(this,Db,null),Is(this,Nb,null),Is(this,Lb,null),Is(this,Ib,null),Is(this,Fb,null),Is(this,Ob,null),Is(this,Bb,null),Is(this,jb,null),Is(this,Wb,!1),Is(this,zb,null),Is(this,Ub,null),js(kb,this,e),js(Bb,this,r),js(Sb,this,s),js(Ob,this,o),js(Cb,this,l),js(_b,this,n),js(Fb,this,c),js(Mb,this,u),js(Eb,this,i),js(vb,this,d),js(zb,this,i[0]),js(Ab,this,Tl.toDateObject(a)),this.trigger=i.flatMap((t=>t.getElementsToTriggerPopup())),d?this.renderCommentButton():(Fs(Hb,this,Gb).call(this),Bs(kb,this).hidden=!0,h&&Fs(Hb,this,ew).call(this))}renderCommentButton(){if(Bs(Nb,this))return;if(Bs(Lb,this)||Fs(Hb,this,qb).call(this),!Bs(Lb,this))return;const{signal:t}=js(Rb,this,new AbortController),e=!!Bs(zb,this).extraPopupElement,n=()=>{Bs(vb,this).toggleCommentPopup(this,!0,void 0,!e)},i=()=>{Bs(vb,this).toggleCommentPopup(this,!1,!0,!e)},r=()=>{Bs(vb,this).toggleCommentPopup(this,!1,!1)};if(e){js(Nb,this,Bs(zb,this).container);for(const e of this.trigger)e.ariaHasPopup="dialog",e.ariaControls="commentPopup",e.addEventListener("keydown",Bs(yb,this),{signal:t}),e.addEventListener("click",n,{signal:t}),e.addEventListener("pointerenter",i,{signal:t}),e.addEventListener("pointerleave",r,{signal:t}),e.classList.add("popupTriggerArea")}else{const e=js(Nb,this,document.createElement("button"));e.className="annotationCommentButton";const a=Bs(zb,this).container;e.style.zIndex=a.style.zIndex+1,e.tabIndex=0,e.ariaHasPopup="dialog",e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button"),Fs(Hb,this,Yb).call(this),Fs(Hb,this,Xb).call(this),e.addEventListener("keydown",Bs(yb,this),{signal:t}),e.addEventListener("click",n,{signal:t}),e.addEventListener("pointerenter",i,{signal:t}),e.addEventListener("pointerleave",r,{signal:t}),a.after(e)}}get commentButtonColor(){const{color:t,opacity:e}=Bs(zb,this).commentData;return t?Bs(Cb,this)._commentManager.makeCommentColor(t,e):null}focusCommentButton(){setTimeout((()=>{var t;null===(t=Bs(Nb,this))||void 0===t||t.focus()}),0)}getData(){const{richText:t,color:e,opacity:n,creationDate:i,modificationDate:r}=Bs(zb,this).commentData;return{contentsObj:{str:this.comment},richText:t,color:e,opacity:n,creationDate:i,modificationDate:r}}get elementBeforePopup(){return Bs(Nb,this)}get comment(){return Bs(Ub,this)||js(Ub,this,Bs(zb,this).commentText),Bs(Ub,this)}set comment(t){t!==this.comment&&(Bs(zb,this).commentText=js(Ub,this,t))}get parentBoundingClientRect(){return Bs(zb,this).layer.getBoundingClientRect()}setCommentButtonStates(t){let{selected:e,hasPopup:n}=t;Bs(Nb,this)&&(Bs(Nb,this).classList.toggle("selected",e),Bs(Nb,this).ariaExpanded=n)}setSelectedCommentButton(t){Bs(Nb,this).classList.toggle("selected",t)}get commentPopupPosition(){if(Bs(Ib,this))return Bs(Ib,this);const{x:t,y:e,height:n}=Bs(Nb,this).getBoundingClientRect(),{x:i,y:r,width:a,height:s}=Bs(zb,this).layer.getBoundingClientRect();return[(t-i)/a,(e+n-r)/s]}set commentPopupPosition(t){js(Ib,this,t)}hasDefaultPopupPosition(){return null===Bs(Ib,this)}get commentButtonPosition(){return Bs(Lb,this)}get commentButtonWidth(){return Bs(Nb,this).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(t){const[e,n]=Bs(Ib,this)||this.commentButtonPosition.map((t=>t/100)),i=this.parentBoundingClientRect,{x:r,y:a,width:s,height:o}=i;Bs(vb,this).showDialog(null,this,r+e*s,a+n*o,h(h({},t),{},{parentDimensions:i}))}render(){var t,e;if(Bs(Pb,this))return;const n=js(Pb,this,document.createElement("div"));if(n.className="popup",Bs(_b,this)){const t=n.style.outlineColor=ol.makeHexColor(...Bs(_b,this));n.style.backgroundColor="color-mix(in srgb, ".concat(t," 30%, white)")}const i=document.createElement("span");if(i.className="header",null!==(t=Bs(Bb,this))&&void 0!==t&&t.str){const t=document.createElement("span");t.className="title",i.append(t),({dir:t.dir,str:t.textContent}=Bs(Bb,this))}if(n.append(i),Bs(Ab,this)){const t=document.createElement("time");t.className="popupDate",t.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),t.setAttribute("data-l10n-args",JSON.stringify({dateObj:Bs(Ab,this).valueOf()})),t.dateTime=Bs(Ab,this).toISOString(),i.append(t)}Hl({html:Os(Hb,this,Kb)||Bs(Sb,this).str,dir:null===(e=Bs(Sb,this))||void 0===e?void 0:e.dir,className:"popupContent"},n),Bs(kb,this).append(n)}updateEdited(t){var e;let{rect:n,popup:i,deleted:r}=t;if(Bs(vb,this))return r?(this.remove(),js(Ub,this,null)):i&&(i.deleted?this.remove():(Fs(Hb,this,Yb).call(this),js(Ub,this,i.text))),void(n&&(js(Lb,this,null),Fs(Hb,this,qb).call(this),Fs(Hb,this,Xb).call(this)));r||null!==i&&void 0!==i&&i.deleted?this.remove():(Fs(Hb,this,Gb).call(this),Bs(jb,this)||js(jb,this,{contentsObj:Bs(Sb,this),richText:Bs(Ob,this)}),n&&js(Db,this,null),i&&i.text&&(js(Ob,this,Fs(Hb,this,Jb).call(this,i.text)),js(Ab,this,Tl.toDateObject(i.date)),js(Sb,this,null)),null===(e=Bs(Pb,this))||void 0===e||e.remove(),js(Pb,this,null))}resetEdited(){var t;Bs(jb,this)&&(({contentsObj:Ds(js,[Sb,this])._,richText:Ds(js,[Ob,this])._}=Bs(jb,this)),js(jb,this,null),null===(t=Bs(Pb,this))||void 0===t||t.remove(),js(Pb,this,null),js(Db,this,null))}remove(){var t,e,n;if(null===(t=Bs(Rb,this))||void 0===t||t.abort(),js(Rb,this,null),null===(e=Bs(Pb,this))||void 0===e||e.remove(),js(Pb,this,null),js(Wb,this,!1),js(Tb,this,!1),null===(n=Bs(Nb,this))||void 0===n||n.remove(),js(Nb,this,null),this.trigger)for(const i of this.trigger)i.classList.remove("popupTriggerArea")}forceHide(){js(Wb,this,this.isVisible),Bs(Wb,this)&&(Bs(kb,this).hidden=!0)}maybeShow(){Bs(vb,this)||(Fs(Hb,this,Gb).call(this),Bs(Wb,this)&&(Bs(Pb,this)||Fs(Hb,this,nw).call(this),js(Wb,this,!1),Bs(kb,this).hidden=!1))}get isVisible(){return!Bs(vb,this)&&!1===Bs(kb,this).hidden}}function Gb(){if(Bs(Rb,this))return;js(Rb,this,new AbortController);const{signal:t}=Bs(Rb,this);for(const n of this.trigger)n.addEventListener("click",Bs(xb,this),{signal:t}),n.addEventListener("pointerenter",Bs(wb,this),{signal:t}),n.addEventListener("pointerleave",Bs(bb,this),{signal:t}),n.classList.add("popupTriggerArea");for(const n of Bs(Eb,this)){var e;null===(e=n.container)||void 0===e||e.addEventListener("keydown",Bs(yb,this),{signal:t})}}function qb(){const t=Bs(Eb,this).find((t=>t.hasCommentButton));t&&js(Lb,this,t._normalizePoint(t.commentButtonPosition))}function Xb(){if(Bs(zb,this).extraPopupElement&&!Bs(zb,this).editor)return;this.renderCommentButton();const[t,e]=Bs(Lb,this),{style:n}=Bs(Nb,this);n.left="calc(".concat(t,"%)"),n.top="calc(".concat(e,"% - var(--comment-button-dim))")}function Yb(){Bs(zb,this).extraPopupElement||(this.renderCommentButton(),Bs(Nb,this).style.backgroundColor=this.commentButtonColor||"")}function Kb(t){const e=Bs(Ob,t),n=Bs(Sb,t);return null===e||void 0===e||!e.str||null!==n&&void 0!==n&&n.str&&n.str!==e.str?null:Bs(Ob,t).html||null}function Qb(t){var e;return(null===(e=Os(Hb,t,Kb))||void 0===e||null===(e=e.attributes)||void 0===e||null===(e=e.style)||void 0===e?void 0:e.fontSize)||0}function $b(t){var e;return(null===(e=Os(Hb,t,Kb))||void 0===e||null===(e=e.attributes)||void 0===e||null===(e=e.style)||void 0===e?void 0:e.color)||null}function Jb(t){const e=[],n={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},i={style:{color:Os(Hb,this,$b),fontSize:Os(Hb,this,Qb)?"calc(".concat(Os(Hb,this,Qb),"px * var(--total-scale-factor))"):""}};for(const r of t.split("\n"))e.push({name:"span",value:r,attributes:i});return n}function Zb(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||("Enter"===t.key||"Escape"===t.key&&Bs(Tb,this))&&Fs(Hb,this,ew).call(this)}function tw(){if(null!==Bs(Db,this))return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:n,pageX:i,pageY:r}}}=Bs(Cb,this);let a=!!Bs(Mb,this),s=Bs(a?Mb:Fb,this);for(const d of Bs(Eb,this))if(!s||null!==ol.intersect(d.data.rect,s)){s=d.data.rect,a=!0;break}const o=ol.normalizeRect([s[0],t[3]-s[1]+t[1],s[2],t[3]-s[3]+t[1]]),l=a?s[2]-s[0]+5:0,c=o[0]+l,u=o[1];js(Db,this,[100*(c-i)/e,100*(u-r)/n]);const{style:h}=Bs(kb,this);h.left="".concat(Bs(Db,this)[0],"%"),h.top="".concat(Bs(Db,this)[1],"%")}function ew(){Bs(vb,this)?Bs(vb,this).toggleCommentPopup(this,!1):(js(Tb,this,!Bs(Tb,this)),Bs(Tb,this)?(Fs(Hb,this,nw).call(this),Bs(kb,this).addEventListener("click",Bs(xb,this)),Bs(kb,this).addEventListener("keydown",Bs(yb,this))):(Fs(Hb,this,iw).call(this),Bs(kb,this).removeEventListener("click",Bs(xb,this)),Bs(kb,this).removeEventListener("keydown",Bs(yb,this))))}function nw(){Bs(Pb,this)||this.render(),this.isVisible?Bs(Tb,this)&&Bs(kb,this).classList.add("focused"):(Fs(Hb,this,tw).call(this),Bs(kb,this).hidden=!1,Bs(kb,this).style.zIndex=parseInt(Bs(kb,this).style.zIndex)+1e3)}function iw(){Bs(kb,this).classList.remove("focused"),!Bs(Tb,this)&&this.isVisible&&(Bs(kb,this).hidden=!0,Bs(kb,this).style.zIndex=parseInt(Bs(kb,this).style.zIndex)-1e3)}class rw extends Jy{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=bo.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const n=document.createElement("span");n.textContent=e,t.append(n)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var aw=new WeakMap;class sw extends Jy{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),Is(this,aw,null)}render(){this.container.classList.add("lineAnnotation");const{data:t,width:e,height:n}=this,i=this.svgFactory.create(e,n,!0),r=js(aw,this,this.svgFactory.createElement("svg:line"));return r.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),r.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),r.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),r.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),r.setAttribute("stroke-width",t.borderStyle.width||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),i.append(r),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Bs(aw,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}var ow=new WeakMap;class lw extends Jy{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),Is(this,ow,null)}render(){this.container.classList.add("squareAnnotation");const{data:t,width:e,height:n}=this,i=this.svgFactory.create(e,n,!0),r=t.borderStyle.width,a=js(ow,this,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",r/2),a.setAttribute("y",r/2),a.setAttribute("width",e-r),a.setAttribute("height",n-r),a.setAttribute("stroke-width",r||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Bs(ow,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}var cw=new WeakMap;class uw extends Jy{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),Is(this,cw,null)}render(){this.container.classList.add("circleAnnotation");const{data:t,width:e,height:n}=this,i=this.svgFactory.create(e,n,!0),r=t.borderStyle.width,a=js(cw,this,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",e/2),a.setAttribute("cy",n/2),a.setAttribute("rx",e/2-r/2),a.setAttribute("ry",n/2-r/2),a.setAttribute("stroke-width",r||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Bs(cw,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}var hw=new WeakMap;class dw extends Jy{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),Is(this,hw,null),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:e,borderStyle:n,popupRef:i},width:r,height:a}=this;if(!e)return this.container;const s=this.svgFactory.create(r,a,!0);let o=[];for(let c=0,u=e.length;c<u;c+=2){const n=e[c]-t[0],i=t[3]-e[c+1];o.push("".concat(n,",").concat(i))}o=o.join(" ");const l=js(hw,this,this.svgFactory.createElement(this.svgElementName));return l.setAttribute("points",o),l.setAttribute("stroke-width",n.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),s.append(l),this.container.append(s),!i&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Bs(hw,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}class fw extends dw{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class pw extends Jy{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var gw=new WeakMap,mw=new WeakMap,vw=new WeakSet;class yw extends Jy{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),Ls(this,vw),Is(this,gw,null),Is(this,mw,[]),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType="InkHighlight"===this.data.it?bo.HIGHLIGHT:bo.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:e,inkLists:n,borderStyle:i,popupRef:r}}=this,{transform:a,width:s,height:o}=Fs(vw,this,bw).call(this,e,t),l=this.svgFactory.create(s,o,!0),c=js(gw,this,this.svgFactory.createElement("svg:g"));l.append(c),c.setAttribute("stroke-width",i.width||1),c.setAttribute("stroke-linecap","round"),c.setAttribute("stroke-linejoin","round"),c.setAttribute("stroke-miterlimit",10),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),c.setAttribute("transform",a);for(let u=0,h=n.length;u<h;u++){const t=this.svgFactory.createElement(this.svgElementName);Bs(mw,this).push(t),t.setAttribute("points",n[u].join(",")),c.append(t)}return!r&&this.hasPopupData&&this._createPopup(),this.container.append(l),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:e,points:n,rect:i}=t,r=Bs(gw,this);if(e>=0&&r.setAttribute("stroke-width",e||1),n)for(let a=0,s=Bs(mw,this).length;a<s;a++)Bs(mw,this)[a].setAttribute("points",n[a].join(","));if(i){const{transform:t,width:e,height:n}=Fs(vw,this,bw).call(this,this.data.rotation,i);r.parentElement.setAttribute("viewBox","0 0 ".concat(e," ").concat(n)),r.setAttribute("transform",t)}}getElementsToTriggerPopup(){return Bs(mw,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}function bw(t,e){switch(t){case 90:return{transform:"rotate(90) translate(".concat(-e[0],",").concat(e[1],") scale(1,-1)"),width:e[3]-e[1],height:e[2]-e[0]};case 180:return{transform:"rotate(180) translate(".concat(-e[2],",").concat(e[1],") scale(1,-1)"),width:e[2]-e[0],height:e[3]-e[1]};case 270:return{transform:"rotate(270) translate(".concat(-e[2],",").concat(e[3],") scale(1,-1)"),width:e[3]-e[1],height:e[2]-e[0]};default:return{transform:"translate(".concat(-e[0],",").concat(e[3],") scale(1,-1)"),width:e[2]-e[0],height:e[3]-e[1]}}}class ww extends Jy{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=bo.HIGHLIGHT}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),t){const e=document.createElement("mark");e.classList.add("overlaidText"),e.textContent=t,this.container.append(e)}return this.container}}class xw extends Jy{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),t){const e=document.createElement("u");e.classList.add("overlaidText"),e.textContent=t,this.container.append(e)}return this.container}}class _w extends Jy{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),t){const e=document.createElement("u");e.classList.add("overlaidText"),e.textContent=t,this.container.append(e)}return this.container}}class kw extends Jy{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),t){const e=document.createElement("s");e.classList.add("overlaidText"),e.textContent=t,this.container.append(e)}return this.container}}class Sw extends Jy{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=bo.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Aw=new WeakMap,Ew=new WeakSet;class Cw extends Jy{constructor(t){var e;super(t,{isRenderable:!0}),Ls(this,Ew),Is(this,Aw,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,null===(e=this.linkService.eventBus)||void 0===e||e.dispatch("fileattachmentannotation",h({source:this},n))}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:e}=this;let n;e.hasAppearance||0===e.fillAlpha?n=document.createElement("div"):(n=document.createElement("img"),n.src="".concat(this.imageResourcesPath,"annotation-").concat(/paperclip/i.test(e.name)?"paperclip":"pushpin",".svg"),e.fillAlpha&&e.fillAlpha<1&&(n.style="filter: opacity(".concat(Math.round(100*e.fillAlpha),"%);"))),n.addEventListener("dblclick",Fs(Ew,this,Mw).bind(this)),js(Aw,this,n);const{isMac:i}=al.platform;return t.addEventListener("keydown",(t=>{"Enter"===t.key&&(i?t.metaKey:t.ctrlKey)&&Fs(Ew,this,Mw).call(this)})),!e.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),t.append(n),t}getElementsToTriggerPopup(){return Bs(Aw,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}function Mw(){var t;null===(t=this.downloadManager)||void 0===t||t.openOrDownloadData(this.content,this.filename)}var Tw=new WeakMap,Pw=new WeakMap,Rw=new WeakMap,Dw=new WeakMap,Nw=new WeakMap,Lw=new WeakMap,Iw=new WeakSet;class Fw{constructor(t){let{div:e,accessibilityManager:n,annotationCanvasMap:i,annotationEditorUIManager:r,page:a,viewport:s,structTreeLayer:o,commentManager:l,linkService:c,annotationStorage:u}=t;Ls(this,Iw),Is(this,Tw,null),Is(this,Pw,null),Is(this,Rw,null),Is(this,Dw,new Map),Is(this,Nw,null),Is(this,Lw,null),this.div=e,js(Tw,this,n),js(Pw,this,i),js(Nw,this,o||null),js(Lw,this,c||null),js(Rw,this,u||new Xd),this.page=a,this.viewport=s,this.zIndex=0,this._annotationEditorUIManager=r,this._commentManager=l||null}hasEditableAnnotations(){return Bs(Dw,this).size>0}async render(t){const{annotations:e}=t,n=this.div;Ll(n,this.viewport);const i=new Map,r={data:null,layer:n,linkService:Bs(Lw,this),downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:!1!==t.renderForms,svgFactory:new Vy,annotationStorage:Bs(Rw,this),enableComment:!0===t.enableComment,enableScripting:!0===t.enableScripting,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const o of e){var a;if(o.noHTML)continue;const t=o.annotationType===Mo.POPUP;if(t){const t=i.get(o.id);if(!t)continue;r.elements=t}else if(o.rect[2]===o.rect[0]||o.rect[3]===o.rect[1])continue;r.data=o;const e=Xy.create(r);if(!e.isRenderable)continue;if(!t&&o.popupRef){const t=i.get(o.popupRef);t?t.push(e):i.set(o.popupRef,[e])}const n=e.render();var s;if(o.hidden&&(n.style.visibility="hidden"),await Fs(Iw,this,Ow).call(this,n,o.id,r.elements),null===(a=e.extraPopupElement)||void 0===a||null===(a=a.popup)||void 0===a||a.renderCommentButton(),e._isEditable)Bs(Dw,this).set(e.data.id,e),null===(s=this._annotationEditorUIManager)||void 0===s||s.renderAnnotationElement(e)}Fs(Iw,this,Bw).call(this)}async addLinkAnnotations(t){const e={data:null,layer:this.div,linkService:Bs(Lw,this),svgFactory:new Vy,parent:this};for(const n of t){n.borderStyle||(n.borderStyle=Fw._defaultBorderStyle),e.data=n;const t=Xy.create(e);if(!t.isRenderable)continue;const i=t.render();await Fs(Iw,this,Ow).call(this,i,n.id,null)}}update(t){let{viewport:e}=t;const n=this.div;this.viewport=e,Ll(n,{rotation:e.rotation}),Fs(Iw,this,Bw).call(this),n.hidden=!1}getEditableAnnotations(){return Array.from(Bs(Dw,this).values())}getEditableAnnotation(t){return Bs(Dw,this).get(t)}addFakeAnnotation(t){var e;const{div:n}=this,{id:i,rotation:r}=t,a=new tb({data:{id:i,rect:t.getPDFRect(),rotation:r},editor:t,layer:n,parent:this,enableComment:!!this._commentManager,linkService:Bs(Lw,this),annotationStorage:Bs(Rw,this)}),s=a.render();return n.append(s),null===(e=Bs(Tw,this))||void 0===e||e.moveElementInDOM(n,s,s,!1),a.createOrUpdatePopup(),a}static get _defaultBorderStyle(){return Ko(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:To,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}}async function Ow(t,e,n){var i;const r=t.firstChild||t,a=r.id="".concat(fl).concat(e),s=await(null===(i=Bs(Nw,this))||void 0===i?void 0:i.getAriaAttributes(a));if(s)for(const[l,c]of s)r.setAttribute(l,c);var o;n?n.at(-1).container.after(t):(this.div.append(t),null===(o=Bs(Tw,this))||void 0===o||o.moveElementInDOM(this.div,t,r,!1))}function Bw(){if(!Bs(Pw,this))return;const t=this.div;for(const[n,i]of Bs(Pw,this)){const r=t.querySelector('[data-annotation-id="'.concat(n,'"]'));if(!r)continue;i.className="annotationContent";const{firstChild:a}=r;a?"CANVAS"===a.nodeName?a.replaceWith(i):a.classList.contains("annotationContent")?a.after(i):a.before(i):r.append(i);const s=Bs(Dw,this).get(n);var e;if(s)if(s._hasNoCanvas)null===(e=this._annotationEditorUIManager)||void 0===e||e.setMissingCanvas(n,r.id,i),s._hasNoCanvas=!1;else s.canvas=i}Bs(Pw,this).clear()}const jw=/\r\n?|\n/g;var Ww=new WeakMap,zw=new WeakMap,Uw=new WeakMap,Hw=new WeakMap,Vw=new WeakSet;class Gw extends md{static get _keyboardManager(){const t=Gw.prototype,e=t=>t.isEmpty(),n=Mu.TRANSLATE_SMALL,i=Mu.TRANSLATE_BIG;return Ko(this,"_keyboardManager",new Tc([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-n,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[n,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[i,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-n],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:e}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,n],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,i],checker:e}]]))}constructor(t){super(h(h({},t),{},{name:"freeTextEditor"})),Ls(this,Vw),Is(this,Ww,""),Is(this,zw,"".concat(this.id,"-editor")),Is(this,Uw,null),Is(this,Hw,void 0),c(this,"_colorPicker",null),this.color=t.color||Gw._defaultColor||md._defaultLineColor,js(Hw,this,t.fontSize||Gw._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static initialize(t,e){md.initialize(t,e);const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,e){switch(t){case wo.FREETEXT_SIZE:Gw._defaultFontSize=e;break;case wo.FREETEXT_COLOR:Gw._defaultColor=e}}updateParams(t,e){switch(t){case wo.FREETEXT_SIZE:Fs(Vw,this,qw).call(this,e);break;case wo.FREETEXT_COLOR:Fs(Vw,this,Xw).call(this,e)}}static get defaultPropertiesToUpdate(){return[[wo.FREETEXT_SIZE,Gw._defaultFontSize],[wo.FREETEXT_COLOR,Gw._defaultColor||md._defaultLineColor]]}get propertiesToUpdate(){return[[wo.FREETEXT_SIZE,Bs(Hw,this)],[wo.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new By(this)),[["colorPicker",this._colorPicker]]}get colorType(){return wo.FREETEXT_COLOR}onUpdatedColor(){var t;this.editorDiv.style.color=this.color,null===(t=this._colorPicker)||void 0===t||t.update(this.color),super.onUpdatedColor()}_translateEmpty(t,e){this._uiManager.translateSelectedEditors(t,e,!0)}getInitialTranslation(){const t=this.parentScale;return[-Gw._internalPadding*t,-(Gw._internalPadding+Bs(Hw,this))*t]}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),js(Uw,this,new AbortController);const t=this._uiManager.combinedSignal(Bs(Uw,this));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){var t;return!!super.disableEditMode()&&(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",Bs(zw,this)),this._isDraggable=!0,null===(t=Bs(Uw,this))||void 0===t||t.abort(),js(Uw,this,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0)}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var e;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),null!==(e=this._initialOptions)&&void 0!==e&&e.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=Bs(Ww,this),e=js(Ww,this,Fs(Vw,this,Yw).call(this).trimEnd());if(t===e)return;const n=t=>{js(Ww,this,t),t?(Fs(Vw,this,$w).call(this),this._uiManager.rebuild(this),Fs(Vw,this,Kw).call(this)):this.remove()};this.addCommands({cmd:()=>{n(e)},undo:()=>{n(t)},mustExec:!1}),Fs(Vw,this,Kw).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&"Enter"===t.key&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Gw._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,e;(this._isCopy||this.annotationElementId)&&(t=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",Bs(zw,this)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize="calc(".concat(Bs(Hw,this),"px * var(--total-scale-factor))"),n.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[n,i]=this.parentDimensions;if(this.annotationElementId){const{position:r}=this._initialData;let[a,s]=this.getInitialTranslation();[a,s]=this.pageTranslationToScreen(a,s);const[o,l]=this.pageDimensions,[c,u]=this.pageTranslation;let h,d;switch(this.rotation){case 0:h=t+(r[0]-c)/o,d=e+this.height-(r[1]-u)/l;break;case 90:h=t+(r[0]-c)/o,d=e-(r[1]-u)/l,[a,s]=[s,-a];break;case 180:h=t-this.width+(r[0]-c)/o,d=e-(r[1]-u)/l,[a,s]=[-a,-s];break;case 270:h=t+(r[0]-c-this.height*l)/o,d=e+(r[1]-u-this.width*o)/l,[a,s]=[-s,a]}this.setAt(h*n,d*i,a,s)}else this._moveAfterPaste(t,e);Fs(Vw,this,$w).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){const e=t.clipboardData||window.clipboardData,{types:n}=e;if(1===n.length&&"text/plain"===n[0])return;t.preventDefault();const i=Zw.call(Gw,e.getData("text")||"").replaceAll(jw,"\n");if(!i)return;const r=window.getSelection();if(!r.rangeCount)return;this.editorDiv.normalize(),r.deleteFromDocument();const a=r.getRangeAt(0);if(!i.includes("\n"))return a.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),void r.collapseToStart();const{startContainer:s,startOffset:o}=a,l=[],c=[];if(s.nodeType===Node.TEXT_NODE){const t=s.parentElement;if(c.push(s.nodeValue.slice(o).replaceAll(jw,"")),t!==this.editorDiv){let e=l;for(const n of this.editorDiv.childNodes)n!==t?e.push(Qw.call(Gw,n)):e=c}l.push(s.nodeValue.slice(0,o).replaceAll(jw,""))}else if(s===this.editorDiv){let t=l,e=0;for(const n of this.editorDiv.childNodes)e++===o&&(t=c),t.push(Qw.call(Gw,n))}js(Ww,this,"".concat(l.join("\n")).concat(i).concat(c.join("\n"))),Fs(Vw,this,$w).call(this);const u=new Range;let h=Math.sumPrecise(l.map((t=>t.length)));for(const{firstChild:d}of this.editorDiv.childNodes)if(d.nodeType===Node.TEXT_NODE){const t=d.nodeValue.length;if(h<=t){u.setStart(d,h),u.setEnd(d,h);break}h-=t}r.removeAllRanges(),r.addRange(u)}get contentDiv(){return this.editorDiv}getPDFRect(){const t=Gw._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,e,n){let i=null;if(t instanceof rw){const{data:{defaultAppearanceData:{fontSize:e,fontColor:n},rect:r,rotation:a,id:s,popupRef:o,richText:l,contentsObj:c,creationDate:u,modificationDate:h},textContent:d,textPosition:f,parent:{page:{pageNumber:p}}}=t;if(!d||0===d.length)return null;i=t={annotationType:bo.FREETEXT,color:Array.from(n),fontSize:e,value:d.join("\n"),position:f,pageIndex:p-1,rect:r.slice(0),rotation:a,annotationElementId:s,id:s,deleted:!1,popupRef:o,comment:(null===c||void 0===c?void 0:c.str)||null,richText:l,creationDate:u,modificationDate:h}}const r=await super.deserialize(t,e,n);return js(Hw,r,t.fontSize),r.color=ol.makeHexColor(...t.color),js(Ww,r,Zw.call(Gw,t.value)),r._initialData=i,t.comment&&r.setCommentData(t),r}serialize(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const e=md._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),n=Object.assign(super.serialize(t),{color:e,fontSize:Bs(Hw,this),value:Fs(Vw,this,Jw).call(this)});return this.addComment(n),t?(n.isCopy=!0,n):this.annotationElementId&&!Fs(Vw,this,tx).call(this,n)?null:(n.id=this.annotationElementId,n)}renderAnnotationElement(t){const e=super.renderAnnotationElement(t);if(!e)return null;const{style:n}=e;n.fontSize="calc(".concat(Bs(Hw,this),"px * var(--total-scale-factor))"),n.color=this.color,e.replaceChildren();for(const i of Bs(Ww,this).split("\n")){const t=document.createElement("div");t.append(i?document.createTextNode(i):document.createElement("br")),e.append(t)}return t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:Bs(Ww,this)}}),e}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}}function qw(t){const e=t=>{this.editorDiv.style.fontSize="calc(".concat(t,"px * var(--total-scale-factor))"),this.translate(0,-(t-Bs(Hw,this))*this.parentScale),js(Hw,this,t),Fs(Vw,this,Kw).call(this)},n=Bs(Hw,this);this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:wo.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}function Xw(t){const e=t=>{this.color=t,this.onUpdatedColor()},n=this.color;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:wo.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function Yw(){const t=[];this.editorDiv.normalize();let e=null;for(const i of this.editorDiv.childNodes){var n;(null===(n=e)||void 0===n?void 0:n.nodeType)===Node.TEXT_NODE&&"BR"===i.nodeName||(t.push(Qw.call(to,i)),e=i)}return t.join("\n")}function Kw(){const[t,e]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:t,div:e}=this,i=e.style.display,r=e.classList.contains("hidden");e.classList.remove("hidden"),e.style.display="hidden",t.div.append(this.div),n=e.getBoundingClientRect(),e.remove(),e.style.display=i,e.classList.toggle("hidden",r)}this.rotation%180===this.parentRotation%180?(this.width=n.width/t,this.height=n.height/e):(this.width=n.height/t,this.height=n.width/e),this.fixAndSetPosition()}function Qw(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(jw,"")}function $w(){if(this.editorDiv.replaceChildren(),Bs(Ww,this))for(const t of Bs(Ww,this).split("\n")){const e=document.createElement("div");e.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(e)}}function Jw(){return Bs(Ww,this).replaceAll("\xa0"," ")}function Zw(t){return t.replaceAll(" ","\xa0")}function tx(t){const{value:e,fontSize:n,color:i,pageIndex:r}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==e||t.fontSize!==n||t.color.some(((t,e)=>t!==i[e]))||t.pageIndex!==r}to=Gw,c(Gw,"_freeTextDefaultContent",""),c(Gw,"_internalPadding",0),c(Gw,"_defaultColor",null),c(Gw,"_defaultFontSize",10),c(Gw,"_type","freetext"),c(Gw,"_editorType",bo.FREETEXT);class ex{toSVGPath(){Go("Abstract method `toSVGPath` must be implemented.")}get box(){Go("Abstract getter `box` must be implemented.")}serialize(t,e){Go("Abstract method `serialize` must be implemented.")}static _rescale(t,e,n,i,r,a){a||(a=new Float32Array(t.length));for(let s=0,o=t.length;s<o;s+=2)a[s]=e+t[s]*i,a[s+1]=n+t[s+1]*r;return a}static _rescaleAndSwap(t,e,n,i,r,a){a||(a=new Float32Array(t.length));for(let s=0,o=t.length;s<o;s+=2)a[s]=e+t[s+1]*i,a[s+1]=n+t[s]*r;return a}static _translate(t,e,n,i){i||(i=new Float32Array(t.length));for(let r=0,a=t.length;r<a;r+=2)i[r]=e+t[r],i[r+1]=n+t[r+1];return i}static svgRound(t){return Math.round(1e4*t)}static _normalizePoint(t,e,n,i,r){switch(r){case 90:return[1-e/n,t/i];case 180:return[1-t/n,1-e/i];case 270:return[e/n,1-t/i];default:return[t/n,e/i]}}static _normalizePagePoint(t,e,n){switch(n){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,n,i,r,a){return[(t+5*n)/6,(e+5*i)/6,(5*n+r)/6,(5*i+a)/6,(n+r)/2,(i+a)/2]}}c(ex,"PRECISION",1e-4);var nx=new WeakMap,ix=new WeakMap,rx=new WeakMap,ax=new WeakMap,sx=new WeakMap,ox=new WeakMap,lx=new WeakMap,cx=new WeakMap,ux=new WeakMap,hx=new WeakMap,dx=new WeakMap,fx=new WeakMap,px=new WeakMap,gx=new WeakSet;class mx{constructor(t,e,n,i,r){let{x:a,y:s}=t,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;Ls(this,gx),Is(this,nx,void 0),Is(this,ix,[]),Is(this,rx,void 0),Is(this,ax,void 0),Is(this,sx,[]),Is(this,ox,new Float32Array(18)),Is(this,lx,void 0),Is(this,cx,void 0),Is(this,ux,void 0),Is(this,hx,void 0),Is(this,dx,void 0),Is(this,fx,void 0),Is(this,px,[]),js(nx,this,e),js(fx,this,i*n),js(ax,this,r),Bs(ox,this).set([NaN,NaN,NaN,NaN,a,s],6),js(rx,this,o),js(hx,this,Sx._*n),js(ux,this,Ax._*n),js(dx,this,n),Bs(px,this).push(a,s)}isEmpty(){return isNaN(Bs(ox,this)[8])}add(t){var e;let{x:n,y:i}=t;js(lx,this,n),js(cx,this,i);const[r,a,s,o]=Bs(nx,this);let[l,c,u,h]=Bs(ox,this).subarray(8,12);const d=n-u,f=i-h,p=Math.hypot(d,f);if(p<Bs(ux,this))return!1;const g=p-Bs(hx,this),m=g/p,v=m*d,y=m*f;let b=l,w=c;l=u,c=h,u+=v,h+=y,null===(e=Bs(px,this))||void 0===e||e.push(n,i);const x=v/g,_=-y/g*Bs(fx,this),k=x*Bs(fx,this);if(Bs(ox,this).set(Bs(ox,this).subarray(2,8),0),Bs(ox,this).set([u+_,h+k],4),Bs(ox,this).set(Bs(ox,this).subarray(14,18),12),Bs(ox,this).set([u-_,h-k],16),isNaN(Bs(ox,this)[6]))return 0===Bs(sx,this).length&&(Bs(ox,this).set([l+_,c+k],2),Bs(sx,this).push(NaN,NaN,NaN,NaN,(l+_-r)/s,(c+k-a)/o),Bs(ox,this).set([l-_,c-k],14),Bs(ix,this).push(NaN,NaN,NaN,NaN,(l-_-r)/s,(c-k-a)/o)),Bs(ox,this).set([b,w,l,c,u,h],6),!this.isEmpty();Bs(ox,this).set([b,w,l,c,u,h],6);return Math.abs(Math.atan2(w-c,b-l)-Math.atan2(y,v))<Math.PI/2?([l,c,u,h]=Bs(ox,this).subarray(2,6),Bs(sx,this).push(NaN,NaN,NaN,NaN,((l+u)/2-r)/s,((c+h)/2-a)/o),[l,c,b,w]=Bs(ox,this).subarray(14,18),Bs(ix,this).push(NaN,NaN,NaN,NaN,((b+l)/2-r)/s,((w+c)/2-a)/o),!0):([b,w,l,c,u,h]=Bs(ox,this).subarray(0,6),Bs(sx,this).push(((b+5*l)/6-r)/s,((w+5*c)/6-a)/o,((5*l+u)/6-r)/s,((5*c+h)/6-a)/o,((l+u)/2-r)/s,((c+h)/2-a)/o),[u,h,l,c,b,w]=Bs(ox,this).subarray(12,18),Bs(ix,this).push(((b+5*l)/6-r)/s,((w+5*c)/6-a)/o,((5*l+u)/6-r)/s,((5*c+h)/6-a)/o,((l+u)/2-r)/s,((c+h)/2-a)/o),!0)}toSVGPath(){if(this.isEmpty())return"";const t=Bs(sx,this),e=Bs(ix,this);if(isNaN(Bs(ox,this)[6])&&!this.isEmpty())return Fs(gx,this,yx).call(this);const n=[];n.push("M".concat(t[4]," ").concat(t[5]));for(let i=6;i<t.length;i+=6)isNaN(t[i])?n.push("L".concat(t[i+4]," ").concat(t[i+5])):n.push("C".concat(t[i]," ").concat(t[i+1]," ").concat(t[i+2]," ").concat(t[i+3]," ").concat(t[i+4]," ").concat(t[i+5]));Fs(gx,this,wx).call(this,n);for(let i=e.length-6;i>=6;i-=6)isNaN(e[i])?n.push("L".concat(e[i+4]," ").concat(e[i+5])):n.push("C".concat(e[i]," ").concat(e[i+1]," ").concat(e[i+2]," ").concat(e[i+3]," ").concat(e[i+4]," ").concat(e[i+5]));return Fs(gx,this,bx).call(this,n),n.join(" ")}newFreeDrawOutline(t,e,n,i,r,a){return new Lx(t,e,n,i,r,a)}getOutlines(){var t,e;const n=Bs(sx,this),i=Bs(ix,this),r=Bs(ox,this),[a,s,o,l]=Bs(nx,this),c=new Float32Array((null!==(t=null===(e=Bs(px,this))||void 0===e?void 0:e.length)&&void 0!==t?t:0)+2);for(let d=0,f=c.length-2;d<f;d+=2)c[d]=(Bs(px,this)[d]-a)/o,c[d+1]=(Bs(px,this)[d+1]-s)/l;if(c[c.length-2]=(Bs(lx,this)-a)/o,c[c.length-1]=(Bs(cx,this)-s)/l,isNaN(r[6])&&!this.isEmpty())return Fs(gx,this,xx).call(this,c);const u=new Float32Array(Bs(sx,this).length+24+Bs(ix,this).length);let h=n.length;for(let d=0;d<h;d+=2)isNaN(n[d])?u[d]=u[d+1]=NaN:(u[d]=n[d],u[d+1]=n[d+1]);h=Fs(gx,this,kx).call(this,u,h);for(let d=i.length-6;d>=6;d-=6)for(let t=0;t<6;t+=2)isNaN(i[d+t])?(u[h]=u[h+1]=NaN,h+=2):(u[h]=i[d+t],u[h+1]=i[d+t+1],h+=2);return Fs(gx,this,_x).call(this,u,h),this.newFreeDrawOutline(u,c,Bs(nx,this),Bs(dx,this),Bs(rx,this),Bs(ax,this))}}function vx(){const t=Bs(ox,this).subarray(4,6),e=Bs(ox,this).subarray(16,18),[n,i,r,a]=Bs(nx,this);return[(Bs(lx,this)+(t[0]-e[0])/2-n)/r,(Bs(cx,this)+(t[1]-e[1])/2-i)/a,(Bs(lx,this)+(e[0]-t[0])/2-n)/r,(Bs(cx,this)+(e[1]-t[1])/2-i)/a]}function yx(){const[t,e,n,i]=Bs(nx,this),[r,a,s,o]=Fs(gx,this,vx).call(this);return"M".concat((Bs(ox,this)[2]-t)/n," ").concat((Bs(ox,this)[3]-e)/i," L").concat((Bs(ox,this)[4]-t)/n," ").concat((Bs(ox,this)[5]-e)/i," L").concat(r," ").concat(a," L").concat(s," ").concat(o," L").concat((Bs(ox,this)[16]-t)/n," ").concat((Bs(ox,this)[17]-e)/i," L").concat((Bs(ox,this)[14]-t)/n," ").concat((Bs(ox,this)[15]-e)/i," Z")}function bx(t){const e=Bs(ix,this);t.push("L".concat(e[4]," ").concat(e[5]," Z"))}function wx(t){const[e,n,i,r]=Bs(nx,this),a=Bs(ox,this).subarray(4,6),s=Bs(ox,this).subarray(16,18),[o,l,c,u]=Fs(gx,this,vx).call(this);t.push("L".concat((a[0]-e)/i," ").concat((a[1]-n)/r," L").concat(o," ").concat(l," L").concat(c," ").concat(u," L").concat((s[0]-e)/i," ").concat((s[1]-n)/r))}function xx(t){const e=Bs(ox,this),[n,i,r,a]=Bs(nx,this),[s,o,l,c]=Fs(gx,this,vx).call(this),u=new Float32Array(36);return u.set([NaN,NaN,NaN,NaN,(e[2]-n)/r,(e[3]-i)/a,NaN,NaN,NaN,NaN,(e[4]-n)/r,(e[5]-i)/a,NaN,NaN,NaN,NaN,s,o,NaN,NaN,NaN,NaN,l,c,NaN,NaN,NaN,NaN,(e[16]-n)/r,(e[17]-i)/a,NaN,NaN,NaN,NaN,(e[14]-n)/r,(e[15]-i)/a],0),this.newFreeDrawOutline(u,t,Bs(nx,this),Bs(dx,this),Bs(rx,this),Bs(ax,this))}function _x(t,e){const n=Bs(ix,this);return t.set([NaN,NaN,NaN,NaN,n[4],n[5]],e),e+6}function kx(t,e){const n=Bs(ox,this).subarray(4,6),i=Bs(ox,this).subarray(16,18),[r,a,s,o]=Bs(nx,this),[l,c,u,h]=Fs(gx,this,vx).call(this);return t.set([NaN,NaN,NaN,NaN,(n[0]-r)/s,(n[1]-a)/o,NaN,NaN,NaN,NaN,l,c,NaN,NaN,NaN,NaN,u,h,NaN,NaN,NaN,NaN,(i[0]-r)/s,(i[1]-a)/o],e),e+24}var Sx={_:8},Ax={_:Sx._+2},Ex=new WeakMap,Cx=new WeakMap,Mx=new WeakMap,Tx=new WeakMap,Px=new WeakMap,Rx=new WeakMap,Dx=new WeakMap,Nx=new WeakSet;class Lx extends ex{constructor(t,e,n,i,r,a){super(),Ls(this,Nx),Is(this,Ex,void 0),Is(this,Cx,new Float32Array(4)),Is(this,Mx,void 0),Is(this,Tx,void 0),Is(this,Px,void 0),Is(this,Rx,void 0),Is(this,Dx,void 0),js(Dx,this,t),js(Px,this,e),js(Ex,this,n),js(Rx,this,i),js(Mx,this,r),js(Tx,this,a),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],Fs(Nx,this,Ix).call(this,a);const[s,o,l,c]=Bs(Cx,this);for(let u=0,h=t.length;u<h;u+=2)t[u]=(t[u]-s)/l,t[u+1]=(t[u+1]-o)/c;for(let u=0,h=e.length;u<h;u+=2)e[u]=(e[u]-s)/l,e[u+1]=(e[u+1]-o)/c}toSVGPath(){const t=["M".concat(Bs(Dx,this)[4]," ").concat(Bs(Dx,this)[5])];for(let e=6,n=Bs(Dx,this).length;e<n;e+=6)isNaN(Bs(Dx,this)[e])?t.push("L".concat(Bs(Dx,this)[e+4]," ").concat(Bs(Dx,this)[e+5])):t.push("C".concat(Bs(Dx,this)[e]," ").concat(Bs(Dx,this)[e+1]," ").concat(Bs(Dx,this)[e+2]," ").concat(Bs(Dx,this)[e+3]," ").concat(Bs(Dx,this)[e+4]," ").concat(Bs(Dx,this)[e+5]));return t.push("Z"),t.join(" ")}serialize(t,e){let[n,i,r,a]=t;const s=r-n,o=a-i;let l,c;switch(e){case 0:l=ex._rescale(Bs(Dx,this),n,a,s,-o),c=ex._rescale(Bs(Px,this),n,a,s,-o);break;case 90:l=ex._rescaleAndSwap(Bs(Dx,this),n,i,s,o),c=ex._rescaleAndSwap(Bs(Px,this),n,i,s,o);break;case 180:l=ex._rescale(Bs(Dx,this),r,i,-s,o),c=ex._rescale(Bs(Px,this),r,i,-s,o);break;case 270:l=ex._rescaleAndSwap(Bs(Dx,this),r,a,-s,-o),c=ex._rescaleAndSwap(Bs(Px,this),r,a,-s,-o)}return{outline:Array.from(l),points:[Array.from(c)]}}get box(){return Bs(Cx,this)}newOutliner(t,e,n,i,r){return new mx(t,e,n,i,r,arguments.length>5&&void 0!==arguments[5]?arguments[5]:0)}getNewOutline(t,e){const[n,i,r,a]=Bs(Cx,this),[s,o,l,c]=Bs(Ex,this),u=r*l,h=a*c,d=n*l+s,f=i*c+o,p=this.newOutliner({x:Bs(Px,this)[0]*u+d,y:Bs(Px,this)[1]*h+f},Bs(Ex,this),Bs(Rx,this),t,Bs(Tx,this),null!==e&&void 0!==e?e:Bs(Mx,this));for(let g=2;g<Bs(Px,this).length;g+=2)p.add({x:Bs(Px,this)[g]*u+d,y:Bs(Px,this)[g+1]*h+f});return p.getOutlines()}}function Ix(t){const e=Bs(Dx,this);let n=e[4],i=e[5];const r=[n,i,n,i];let a=n,s=i,o=n,l=i;const c=t?Math.max:Math.min,u=new Float32Array(4);for(let d=6,f=e.length;d<f;d+=6){const t=e[d+4],h=e[d+5];isNaN(e[d])?(ol.pointBoundingBox(t,h,r),s>h?(a=t,s=h):s===h&&(a=c(a,t)),l<h?(o=t,l=h):l===h&&(o=c(o,t))):(u[0]=u[1]=1/0,u[2]=u[3]=-1/0,ol.bezierBoundingBox(n,i,...e.slice(d,d+6),u),ol.rectBoundingBox(u[0],u[1],u[2],u[3],r),s>u[1]?(a=u[0],s=u[1]):s===u[1]&&(a=c(a,u[0])),l<u[3]?(o=u[2],l=u[3]):l===u[3]&&(o=c(o,u[2]))),n=t,i=h}const h=Bs(Cx,this);h[0]=r[0]-Bs(Mx,this),h[1]=r[1]-Bs(Mx,this),h[2]=r[2]-r[0]+2*Bs(Mx,this),h[3]=r[3]-r[1]+2*Bs(Mx,this),this.firstPoint=[a,s],this.lastPoint=[o,l]}var Fx=new WeakMap,Ox=new WeakMap,Bx=new WeakMap,jx=new WeakMap,Wx=new WeakMap,zx=new WeakSet;class Ux{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];Ls(this,zx),Is(this,Fx,void 0),Is(this,Ox,void 0),Is(this,Bx,void 0),Is(this,jx,[]),Is(this,Wx,[]);const r=[1/0,1/0,-1/0,-1/0],a=10**-4;for(const{x:p,y:g,width:m,height:v}of t){const t=Math.floor((p-e)/a)*a,n=Math.ceil((p+m+e)/a)*a,i=Math.floor((g-e)/a)*a,s=Math.ceil((g+v+e)/a)*a,o=[t,i,s,!0],l=[n,i,s,!1];Bs(jx,this).push(o,l),ol.rectBoundingBox(t,i,n,s,r)}const s=r[2]-r[0]+2*n,o=r[3]-r[1]+2*n,l=r[0]-n,c=r[1]-n;let u=i?-1/0:1/0,h=1/0;const d=Bs(jx,this).at(i?-1:-2),f=[d[0],d[2]];for(const p of Bs(jx,this)){const[t,e,n,r]=p;!r&&i?e<h?(h=e,u=t):e===h&&(u=Math.max(u,t)):r&&!i&&(e<h?(h=e,u=t):e===h&&(u=Math.min(u,t))),p[0]=(t-l)/s,p[1]=(e-c)/o,p[2]=(n-c)/o}js(Fx,this,new Float32Array([l,c,s,o])),js(Ox,this,[u,h]),js(Bx,this,f)}getOutlines(){Bs(jx,this).sort(((t,e)=>t[0]-e[0]||t[1]-e[1]||t[2]-e[2]));const t=[];for(const e of Bs(jx,this))e[3]?(t.push(...Fs(zx,this,Xx).call(this,e)),Fs(zx,this,Gx).call(this,e)):(Fs(zx,this,qx).call(this,e),t.push(...Fs(zx,this,Xx).call(this,e)));return Fs(zx,this,Hx).call(this,t)}}function Hx(t){const e=[],n=new Set;for(const a of t){const[t,n,i]=a;e.push([t,n,a],[t,i,a])}e.sort(((t,e)=>t[1]-e[1]||t[0]-e[0]));for(let a=0,s=e.length;a<s;a+=2){const t=e[a][2],i=e[a+1][2];t.push(i),i.push(t),n.add(t),n.add(i)}const i=[];let r;for(;n.size>0;){const t=n.values().next().value;let[e,a,s,o,l]=t;n.delete(t);let c=e,u=a;for(r=[e,s],i.push(r);;){let t;if(n.has(o))t=o;else{if(!n.has(l))break;t=l}n.delete(t),[e,a,s,o,l]=t,c!==e&&(r.push(c,u,e,u===a?a:s),c=e),u=u===a?s:a}r.push(c,u)}return new Qx(i,Bs(Fx,this),Bs(Ox,this),Bs(Bx,this))}function Vx(t){const e=Bs(Wx,this);let n=0,i=e.length-1;for(;n<=i;){const r=n+i>>1,a=e[r][0];if(a===t)return r;a<t?n=r+1:i=r-1}return i+1}function Gx(t){let[,e,n]=t;const i=Fs(zx,this,Vx).call(this,e);Bs(Wx,this).splice(i,0,[e,n])}function qx(t){let[,e,n]=t;const i=Fs(zx,this,Vx).call(this,e);for(let r=i;r<Bs(Wx,this).length;r++){const[t,i]=Bs(Wx,this)[r];if(t!==e)break;if(t===e&&i===n)return void Bs(Wx,this).splice(r,1)}for(let r=i-1;r>=0;r--){const[t,i]=Bs(Wx,this)[r];if(t!==e)break;if(t===e&&i===n)return void Bs(Wx,this).splice(r,1)}}function Xx(t){const[e,n,i]=t,r=[[e,n,i]],a=Fs(zx,this,Vx).call(this,i);for(let s=0;s<a;s++){const[t,n]=Bs(Wx,this)[s];for(let i=0,a=r.length;i<a;i++){const[,s,o]=r[i];if(!(n<=s||o<=t))if(s>=t)if(o>n)r[i][1]=n;else{if(1===a)return[];r.splice(i,1),i--,a--}else r[i][2]=t,o>n&&r.push([e,n,o])}}return r}var Yx=new WeakMap,Kx=new WeakMap;class Qx extends ex{constructor(t,e,n,i){super(),Is(this,Yx,void 0),Is(this,Kx,void 0),js(Kx,this,t),js(Yx,this,e),this.firstPoint=n,this.lastPoint=i}toSVGPath(){const t=[];for(const e of Bs(Kx,this)){let[n,i]=e;t.push("M".concat(n," ").concat(i));for(let r=2;r<e.length;r+=2){const a=e[r],s=e[r+1];a===n?(t.push("V".concat(s)),i=s):s===i&&(t.push("H".concat(a)),n=a)}t.push("Z")}return t.join(" ")}serialize(t,e){let[n,i,r,a]=t;const s=[],o=r-n,l=a-i;for(const c of Bs(Kx,this)){const t=new Array(c.length);for(let e=0;e<c.length;e+=2)t[e]=n+c[e]*o,t[e+1]=a-c[e+1]*l;s.push(t)}return s}get box(){return Bs(Yx,this)}get classNamesForOutlining(){return["highlightOutline"]}}class $x extends mx{newFreeDrawOutline(t,e,n,i,r,a){return new Jx(t,e,n,i,r,a)}}class Jx extends Lx{newOutliner(t,e,n,i,r){return new $x(t,e,n,i,r,arguments.length>5&&void 0!==arguments[5]?arguments[5]:0)}}var Zx=new WeakMap,t_=new WeakMap,e_=new WeakMap,n_=new WeakMap,i_=new WeakMap,r_=new WeakMap,a_=new WeakMap,s_=new WeakMap,o_=new WeakMap,l_=new WeakMap,c_=new WeakMap,u_=new WeakMap,h_=new WeakMap,d_=new WeakMap,f_=new WeakMap,p_=new WeakMap,g_=new WeakMap,m_=new WeakMap,v_=new WeakSet;class y_ extends md{static get _keyboardManager(){const t=y_.prototype;return Ko(this,"_keyboardManager",new Tc([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}constructor(t){super(h(h({},t),{},{name:"highlightEditor"})),Ls(this,v_),Is(this,Zx,null),Is(this,t_,0),Is(this,e_,void 0),Is(this,n_,null),Is(this,i_,null),Is(this,r_,null),Is(this,a_,null),Is(this,s_,0),Is(this,o_,null),Is(this,l_,null),Is(this,c_,null),Is(this,u_,!1),Is(this,h_,null),Is(this,d_,null),Is(this,f_,null),Is(this,p_,""),Is(this,g_,void 0),Is(this,m_,""),this.color=t.color||y_._defaultColor,js(g_,this,t.thickness||y_._defaultThickness),this.opacity=t.opacity||y_._defaultOpacity,js(e_,this,t.boxes||null),js(m_,this,t.methodOfCreation||""),js(p_,this,t.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(js(u_,this,!0),Fs(v_,this,w_).call(this,t),Fs(v_,this,A_).call(this)):Bs(e_,this)&&(js(Zx,this,t.anchorNode),js(t_,this,t.anchorOffset),js(a_,this,t.focusNode),js(s_,this,t.focusOffset),Fs(v_,this,b_).call(this),Fs(v_,this,A_).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:Bs(u_,this)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:Bs(g_,this),methodOfCreation:Bs(m_,this)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,e){var n;md.initialize(t,e),y_._defaultColor||(y_._defaultColor=(null===(n=e.highlightColors)||void 0===n?void 0:n.values().next().value)||"#fff066")}static updateDefaultParams(t,e){switch(t){case wo.HIGHLIGHT_COLOR:y_._defaultColor=e;break;case wo.HIGHLIGHT_THICKNESS:y_._defaultThickness=e}}translateInPage(t,e){}get toolbarPosition(){return Bs(d_,this)}get commentButtonPosition(){return Bs(h_,this)}updateParams(t,e){switch(t){case wo.HIGHLIGHT_COLOR:Fs(v_,this,x_).call(this,e);break;case wo.HIGHLIGHT_THICKNESS:Fs(v_,this,__).call(this,e)}}static get defaultPropertiesToUpdate(){return[[wo.HIGHLIGHT_COLOR,y_._defaultColor],[wo.HIGHLIGHT_THICKNESS,y_._defaultThickness]]}get propertiesToUpdate(){return[[wo.HIGHLIGHT_COLOR,this.color||y_._defaultColor],[wo.HIGHLIGHT_THICKNESS,Bs(g_,this)||y_._defaultThickness],[wo.HIGHLIGHT_FREE,Bs(u_,this)]]}onUpdatedColor(){var t,e;null===(t=this.parent)||void 0===t||t.drawLayer.updateProperties(Bs(c_,this),{root:{fill:this.color,"fill-opacity":this.opacity}}),null===(e=Bs(i_,this))||void 0===e||e.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){if(this._uiManager.highlightColors){return[["colorPicker",js(i_,this,new Cy({editor:this}))]]}return super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(Fs(v_,this,T_).call(this))}getBaseTranslation(){return[0,0]}getRect(t,e){return super.getRect(t,e,Fs(v_,this,T_).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){Fs(v_,this,S_).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(Fs(v_,this,A_).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;if(this.parent&&!t)Fs(v_,this,S_).call(this);else if(t){var n;Fs(v_,this,A_).call(this,t),e=!this.parent&&(null===(n=this.div)||void 0===n?void 0:n.classList.contains("selectedEditor"))}super.setParent(t),this.show(this._isVisible),e&&this.select()}rotate(t){const{drawLayer:e}=this.parent;let n;Bs(u_,this)?(t=(t-this.rotation+360)%360,n=E_.call(y_,Bs(l_,this).box,t)):n=E_.call(y_,[this.x,this.y,this.width,this.height],t),e.updateProperties(Bs(c_,this),{bbox:n,root:{"data-main-rotation":t}}),e.updateProperties(Bs(f_,this),{bbox:E_.call(y_,Bs(r_,this).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();Bs(p_,this)&&(t.setAttribute("aria-label",Bs(p_,this)),t.setAttribute("role","mark")),Bs(u_,this)?t.classList.add("free"):this.div.addEventListener("keydown",Fs(v_,this,C_).bind(this),{signal:this._uiManager._signal});const e=js(o_,this,document.createElement("div"));return t.append(e),e.setAttribute("aria-hidden","true"),e.className="internal",e.style.clipPath=Bs(n_,this),this.setDims(this.width,this.height),pc(this,Bs(o_,this),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(null===(t=this.parent)||void 0===t||t.drawLayer.updateProperties(Bs(f_,this),{rootClass:{hovered:!0}}))}pointerleave(){var t;this.isSelected||(null===(t=this.parent)||void 0===t||t.drawLayer.updateProperties(Bs(f_,this),{rootClass:{hovered:!1}}))}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:Fs(v_,this,M_).call(this,!0);break;case 1:case 3:Fs(v_,this,M_).call(this,!1)}}select(){var t;super.select(),Bs(f_,this)&&(null===(t=this.parent)||void 0===t||t.drawLayer.updateProperties(Bs(f_,this),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),Bs(f_,this)&&(null===(t=this.parent)||void 0===t||t.drawLayer.updateProperties(Bs(f_,this),{rootClass:{selected:!1}}),Bs(u_,this)||Fs(v_,this,M_).call(this,!1))}get _mustFixPosition(){return!Bs(u_,this)}show(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._isVisible;super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(Bs(c_,this),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(Bs(f_,this),{rootClass:{hidden:!t}}))}static startHighlighting(t,e,n){let{target:i,x:r,y:a}=n;const{x:s,y:o,width:l,height:c}=i.getBoundingClientRect(),u=new AbortController,h=t.combinedSignal(u),d=e=>{u.abort(),Fs(y_,this,N_).call(this,t,e)};window.addEventListener("blur",d,{signal:h}),window.addEventListener("pointerup",d,{signal:h}),window.addEventListener("pointerdown",Ml,{capture:!0,passive:!1,signal:h}),window.addEventListener("contextmenu",Cl,{signal:h}),i.addEventListener("pointermove",Fs(y_,this,D_).bind(this,t),{signal:h}),this._freeHighlight=new $x({x:r,y:a},[s,o,l,c],t.scale,this._defaultThickness/2,e,.001),({id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0))}static async deserialize(t,e,n){let i=null;if(t instanceof ww){const{data:{quadPoints:e,rect:n,rotation:r,id:a,color:s,opacity:o,popupRef:l,richText:c,contentsObj:u,creationDate:h,modificationDate:d},parent:{page:{pageNumber:f}}}=t;i=t={annotationType:bo.HIGHLIGHT,color:Array.from(s),opacity:o,quadPoints:e,boxes:null,pageIndex:f-1,rect:n.slice(0),rotation:r,annotationElementId:a,id:a,deleted:!1,popupRef:l,richText:c,comment:(null===u||void 0===u?void 0:u.str)||null,creationDate:h,modificationDate:d}}else if(t instanceof yw){const{data:{inkLists:e,rect:n,rotation:r,id:a,color:s,borderStyle:{rawWidth:o},popupRef:l,richText:c,contentsObj:u,creationDate:h,modificationDate:d},parent:{page:{pageNumber:f}}}=t;i=t={annotationType:bo.HIGHLIGHT,color:Array.from(s),thickness:o,inkLists:e,boxes:null,pageIndex:f-1,rect:n.slice(0),rotation:r,annotationElementId:a,id:a,deleted:!1,popupRef:l,richText:c,comment:(null===u||void 0===u?void 0:u.str)||null,creationDate:h,modificationDate:d}}const{color:r,quadPoints:a,inkLists:s,opacity:o}=t,l=await super.deserialize(t,e,n);l.color=ol.makeHexColor(...r),l.opacity=o||1,s&&js(g_,l,t.thickness),l._initialData=i,t.comment&&l.setCommentData(t);const[c,u]=l.pageDimensions,[h,d]=l.pageTranslation;if(a){const t=js(e_,l,[]);for(let e=0;e<a.length;e+=8)t.push({x:(a[e]-h)/c,y:1-(a[e+1]-d)/u,width:(a[e+2]-a[e])/c,height:(a[e+1]-a[e+5])/u});Fs(v_,l,b_).call(l),Fs(v_,l,A_).call(l),l.rotate(l.rotation)}else if(s){js(u_,l,!0);const t=s[0],n={x:t[0]-h,y:u-(t[1]-d)},i=new $x(n,[0,0,c,u],1,Bs(g_,l)/2,!0,.001);for(let e=0,s=t.length;e<s;e+=2)n.x=t[e]-h,n.y=u-(t[e+1]-d),i.add(n);const{id:r,clipPathId:a}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:l.color,"fill-opacity":l._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:i.toSVGPath()}},!0,!0);Fs(v_,l,w_).call(l,{highlightOutlines:i.getOutlines(),highlightId:r,clipPathId:a}),Fs(v_,l,A_).call(l),l.rotate(l.parentRotation)}return l}serialize(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const e=md._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),n=super.serialize(t);return Object.assign(n,{color:e,opacity:this.opacity,thickness:Bs(g_,this),quadPoints:Fs(v_,this,P_).call(this),outlines:Fs(v_,this,R_).call(this,n.rect)}),this.addComment(n),this.annotationElementId&&!Fs(v_,this,L_).call(this,n)?null:(n.id=this.annotationElementId,n)}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}}function b_(){const t=new Ux(Bs(e_,this),.001);js(l_,this,t.getOutlines()),[this.x,this.y,this.width,this.height]=Bs(l_,this).box;const e=new Ux(Bs(e_,this),.0025,.001,"ltr"===this._uiManager.direction);js(r_,this,e.getOutlines());const{firstPoint:n}=Bs(l_,this);js(h_,this,[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height]);const{lastPoint:i}=Bs(r_,this);js(d_,this,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])}function w_(t){let{highlightOutlines:e,highlightId:n,clipPathId:i}=t;js(l_,this,e);if(js(r_,this,e.getNewOutline(Bs(g_,this)/2+1.5,.0025)),n>=0)js(c_,this,n),js(n_,this,i),this.parent.drawLayer.finalizeDraw(n,{bbox:e.box,path:{d:e.toSVGPath()}}),js(f_,this,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:Bs(r_,this).box,path:{d:Bs(r_,this).toSVGPath()}},!0));else if(this.parent){const t=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(Bs(c_,this),{bbox:E_.call(eo,Bs(l_,this).box,(t-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(Bs(f_,this),{bbox:E_.call(eo,Bs(r_,this).box,t),path:{d:Bs(r_,this).toSVGPath()}})}const[r,a,s,o]=e.box;switch(this.rotation){case 0:this.x=r,this.y=a,this.width=s,this.height=o;break;case 90:{const[t,e]=this.parentDimensions;this.x=a,this.y=1-r,this.width=s*e/t,this.height=o*t/e;break}case 180:this.x=1-r,this.y=1-a,this.width=s,this.height=o;break;case 270:{const[t,e]=this.parentDimensions;this.x=1-a,this.y=r,this.width=s*e/t,this.height=o*t/e;break}}const{firstPoint:l}=e;js(h_,this,[(l[0]-r)/s,(l[1]-a)/o]);const{lastPoint:c}=Bs(r_,this);js(d_,this,[(c[0]-r)/s,(c[1]-a)/o])}function x_(t){const e=(t,e)=>{this.color=t,this.opacity=e,this.onUpdatedColor()},n=this.color,i=this.opacity;this.addCommands({cmd:e.bind(this,t,eo._defaultOpacity),undo:e.bind(this,n,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:wo.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)}function __(t){const e=Bs(g_,this),n=t=>{js(g_,this,t),Fs(v_,this,k_).call(this,t)};this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:wo.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)}function k_(t){Bs(u_,this)&&(Fs(v_,this,w_).call(this,{highlightOutlines:Bs(l_,this).getNewOutline(t/2)}),this.fixAndSetPosition(),this.setDims(this.width,this.height))}function S_(){null!==Bs(c_,this)&&this.parent&&(this.parent.drawLayer.remove(Bs(c_,this)),js(c_,this,null),this.parent.drawLayer.remove(Bs(f_,this)),js(f_,this,null))}function A_(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parent;null===Bs(c_,this)&&(({id:Ds(js,[c_,this])._,clipPathId:Ds(js,[n_,this])._}=t.drawLayer.draw({bbox:Bs(l_,this).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:Bs(u_,this)},path:{d:Bs(l_,this).toSVGPath()}},!1,!0)),js(f_,this,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:Bs(u_,this)},bbox:Bs(r_,this).box,path:{d:Bs(r_,this).toSVGPath()}},Bs(u_,this))),Bs(o_,this)&&(Bs(o_,this).style.clipPath=Bs(n_,this)))}function E_(t,e){let[n,i,r,a]=t;switch(e){case 90:return[1-i-a,n,a,r];case 180:return[1-n-r,1-i-a,r,a];case 270:return[i,1-n-r,a,r]}return[n,i,r,a]}function C_(t){eo._keyboardManager.exec(this,t)}function M_(t){if(!Bs(Zx,this))return;const e=window.getSelection();t?e.setPosition(Bs(Zx,this),Bs(t_,this)):e.setPosition(Bs(a_,this),Bs(s_,this))}function T_(){return Bs(u_,this)?this.rotation:0}function P_(){if(Bs(u_,this))return null;const[t,e]=this.pageDimensions,[n,i]=this.pageTranslation,r=Bs(e_,this),a=new Float32Array(8*r.length);let s=0;for(const{x:o,y:l,width:c,height:u}of r){const r=o*t+n,h=(1-l)*e+i;a[s]=a[s+4]=r,a[s+1]=a[s+3]=h,a[s+2]=a[s+6]=r+c*t,a[s+5]=a[s+7]=h-u*e,s+=8}return a}function R_(t){return Bs(l_,this).serialize(t,Fs(v_,this,T_).call(this))}function D_(t,e){this._freeHighlight.add(e)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}function N_(t,e){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(e,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}function L_(t){const{color:e}=this._initialData;return this.hasEditedComment||t.color.some(((t,n)=>t!==e[n]))}eo=y_,c(y_,"_defaultColor",null),c(y_,"_defaultOpacity",1),c(y_,"_defaultThickness",12),c(y_,"_type","highlight"),c(y_,"_editorType",bo.HIGHLIGHT),c(y_,"_freeHighlightId",-1),c(y_,"_freeHighlight",null),c(y_,"_freeHighlightClipId","");var I_=new WeakMap;class F_{constructor(){Is(this,I_,Object.create(null))}updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,n]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,n)}updateSVGProperty(t,e){Bs(I_,this)[t]=e}toSVGProperties(){const t=Bs(I_,this);return js(I_,this,Object.create(null)),{root:t}}reset(){js(I_,this,Object.create(null))}updateAll(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;this.updateProperties(t)}clone(){Go("Not implemented")}}var O_=new WeakMap,B_=new WeakMap,j_=new WeakSet;class W_ extends md{constructor(t){super(t),Ls(this,j_),Is(this,O_,null),Is(this,B_,void 0),c(this,"_colorPicker",null),c(this,"_drawId",null),js(B_,this,t.mustBeCommitted||!1),this._addOutlines(t)}onUpdatedColor(){var t;null===(t=this._colorPicker)||void 0===t||t.update(this.color),super.onUpdatedColor()}_addOutlines(t){t.drawOutlines&&(Fs(j_,this,z_).call(this,t),Fs(j_,this,V_).call(this))}static _mergeSVGProperties(t,e){const n=new Set(Object.keys(t));for(const[i,r]of Object.entries(e))n.has(i)?Object.assign(t[i],r):t[i]=r;return t}static getDefaultDrawingOptions(t){Go("Not implemented")}static get typesMap(){Go("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,e){const n=this.typesMap.get(t);n&&this._defaultDrawingOptions.updateProperty(n,e),this._currentParent&&(K_._.updateProperty(n,e),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,e){const n=this.constructor.typesMap.get(t);n&&this._updateProperty(t,n,e)}static get defaultPropertiesToUpdate(){const t=[],e=this._defaultDrawingOptions;for(const[n,i]of this.typesMap)t.push([n,e[i]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:e}=this;for(const[n,i]of this.constructor.typesMap)t.push([n,e[i]]);return t}_updateProperty(t,e,n){const i=this._drawingOptions,r=i[e],a=n=>{var r;i.updateProperty(e,n);const a=Bs(O_,this).updateProperty(e,n);a&&Fs(j_,this,X_).call(this,a),null===(r=this.parent)||void 0===r||r.drawLayer.updateProperties(this._drawId,i.toSVGProperties()),t===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:a.bind(this,n),undo:a.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;null===(t=this.parent)||void 0===t||t.drawLayer.updateProperties(this._drawId,W_._mergeSVGProperties(Bs(O_,this).getPathResizingSVGProperties(Fs(j_,this,q_).call(this)),{bbox:Fs(j_,this,Y_).call(this)}))}_onResized(){var t;null===(t=this.parent)||void 0===t||t.drawLayer.updateProperties(this._drawId,W_._mergeSVGProperties(Bs(O_,this).getPathResizedSVGProperties(Fs(j_,this,q_).call(this)),{bbox:Fs(j_,this,Y_).call(this)}))}_onTranslating(t,e){var n;null===(n=this.parent)||void 0===n||n.drawLayer.updateProperties(this._drawId,{bbox:Fs(j_,this,Y_).call(this)})}_onTranslated(){var t;null===(t=this.parent)||void 0===t||t.drawLayer.updateProperties(this._drawId,W_._mergeSVGProperties(Bs(O_,this).getPathTranslatedSVGProperties(Fs(j_,this,q_).call(this),this.parentDimensions),{bbox:Fs(j_,this,Y_).call(this)}))}_onStartDragging(){var t;null===(t=this.parent)||void 0===t||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;null===(t=this.parent)||void 0===t||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,Bs(B_,this)&&(js(B_,this,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){Fs(j_,this,H_).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(Fs(j_,this,V_).call(this),Fs(j_,this,X_).call(this,Bs(O_,this).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;if(this.parent&&!t)this._uiManager.removeShouldRescale(this),Fs(j_,this,H_).call(this);else if(t){var n;this._uiManager.addShouldRescale(this),Fs(j_,this,V_).call(this,t),e=!this.parent&&(null===(n=this.div)||void 0===n?void 0:n.classList.contains("selectedEditor"))}super.setParent(t),e&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,W_._mergeSVGProperties({bbox:Fs(j_,this,Y_).call(this)},Bs(O_,this).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&Fs(j_,this,X_).call(this,Bs(O_,this).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,e;this._isCopy&&(t=this.x,e=this.y);const n=super.render();n.classList.add("draw");const i=document.createElement("div");return n.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,e),n}static createDrawerInstance(t,e,n,i,r){Go("Not implemented")}static startDrawing(t,e,n,i){var r,a;const{target:s,offsetX:o,offsetY:l,pointerId:c,pointerType:u}=i;if(Z_._&&Z_._!==u)return;const{viewport:{rotation:h}}=t,{width:d,height:f}=s.getBoundingClientRect(),p=Q_._=new AbortController,g=t.combinedSignal(p);J_._||(J_._=c),null!==(r=Z_._)&&void 0!==r||(Z_._=u),window.addEventListener("pointerup",(t=>{var e;J_._===t.pointerId?this._endDraw(t):null===(e=tk._)||void 0===e||e.delete(t.pointerId)}),{signal:g}),window.addEventListener("pointercancel",(t=>{var e;J_._===t.pointerId?this._currentParent.endDrawingSession():null===(e=tk._)||void 0===e||e.delete(t.pointerId)}),{signal:g}),window.addEventListener("pointerdown",(t=>{Z_._===t.pointerType&&((tk._||(tk._=new Set)).add(t.pointerId),K_._.isCancellable()&&(K_._.removeLastElement(),K_._.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))}),{capture:!0,passive:!1,signal:g}),window.addEventListener("contextmenu",Cl,{signal:g}),s.addEventListener("pointermove",this._drawMove.bind(this),{signal:g}),s.addEventListener("touchmove",(t=>{t.timeStamp===ek._&&Ml(t)}),{signal:g}),t.toggleDrawing(),null===(a=e._editorUndoBar)||void 0===a||a.hide(),K_._?t.drawLayer.updateProperties(this._currentDrawId,K_._.startNew(o,l,d,f,h)):(e.updateUIForDefaultProperties(this),K_._=this.createDrawerInstance(o,l,d,f,h),$_._=this.getDefaultDrawingOptions(),this._currentParent=t,({id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties($_._.toSVGProperties(),K_._.defaultSVGProperties),!0,!1)))}static _drawMove(t){var e;if(ek._=-1,!K_._)return;const{offsetX:n,offsetY:i,pointerId:r}=t;J_._===r&&((null===(e=tk._)||void 0===e?void 0:e.size)>=1?this._endDraw(t):(this._currentParent.drawLayer.updateProperties(this._currentDrawId,K_._.add(n,i)),ek._=t.timeStamp,Ml(t)))}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,K_._=null,$_._=null,Z_._=null,ek._=NaN),Q_._&&(Q_._.abort(),Q_._=null,J_._=NaN,tk._=null)}static _endDraw(t){const e=this._currentParent;if(e)if(e.toggleDrawing(!0),this._cleanup(!1),(null===t||void 0===t?void 0:t.target)===e.div&&e.drawLayer.updateProperties(this._currentDrawId,K_._.end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const t=K_._,n=this._currentDrawId,i=t.getLastElement();e.addCommands({cmd:()=>{e.drawLayer.updateProperties(n,t.setLastElement(i))},undo:()=>{e.drawLayer.updateProperties(n,t.removeLastElement())},mustExec:!1,type:wo.DRAW_STEP})}else this.endDrawing(!1)}static endDrawing(t){const e=this._currentParent;if(!e)return null;if(e.toggleDrawing(!0),e.cleanUndoStack(wo.DRAW_STEP),!K_._.isEmpty()){const{pageDimensions:[n,i],scale:r}=e,a=e.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:K_._.getOutlines(n*r,i*r,r,this._INNER_MARGIN),drawingOptions:$_._,mustBeCommitted:!t});return this._cleanup(!0),a}return e.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,e,n,i,r,a){Go("Not implemented")}static async deserialize(t,e,n){const{rawDims:{pageWidth:i,pageHeight:r,pageX:a,pageY:s}}=e.viewport,o=this.deserializeDraw(a,s,i,r,this._INNER_MARGIN,t),l=await super.deserialize(t,e,n);return l.createDrawingOptions(t),Fs(j_,l,z_).call(l,{drawOutlines:o}),Fs(j_,l,V_).call(l),l.onScaleChanging(),l.rotate(),l}serializeDraw(t){const[e,n]=this.pageTranslation,[i,r]=this.pageDimensions;return Bs(O_,this).serialize([e,n,i,r],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}function z_(t){let{drawOutlines:e,drawId:n,drawingOptions:i}=t;js(O_,this,e),this._drawingOptions||(this._drawingOptions=i),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-".concat(this.editorType,"-added-alert")),n>=0?(this._drawId=n,this.parent.drawLayer.finalizeDraw(n,e.defaultProperties)):this._drawId=Fs(j_,this,U_).call(this,e,this.parent),Fs(j_,this,X_).call(this,e.box)}function U_(t,e){const{id:n}=e.drawLayer.draw(no._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return n}function H_(){null!==this._drawId&&this.parent&&(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}function V_(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parent;null!==this._drawId&&this.parent===t||(null===this._drawId?(this._drawingOptions.updateAll(),this._drawId=Fs(j_,this,U_).call(this,Bs(O_,this),t)):this.parent.drawLayer.updateParent(this._drawId,t.drawLayer))}function G_(t){let[e,n,i,r]=t;const{parentDimensions:[a,s],rotation:o}=this;switch(o){case 90:return[n,1-e,i*(s/a),r*(a/s)];case 180:return[1-e,1-n,i,r];case 270:return[1-n,e,i*(s/a),r*(a/s)];default:return[e,n,i,r]}}function q_(){const{x:t,y:e,width:n,height:i,parentDimensions:[r,a],rotation:s}=this;switch(s){case 90:return[1-e,t,n*(r/a),i*(a/r)];case 180:return[1-t,1-e,n,i];case 270:return[e,1-t,n*(r/a),i*(a/r)];default:return[t,e,n,i]}}function X_(t){[this.x,this.y,this.width,this.height]=Fs(j_,this,G_).call(this,t),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()}function Y_(){const{x:t,y:e,width:n,height:i,rotation:r,parentRotation:a,parentDimensions:[s,o]}=this;switch((4*r+a)/90){case 1:return[1-e-i,t,i,n];case 2:return[1-t-n,1-e-i,n,i];case 3:return[e,1-t-n,i,n];case 4:return[t,e-n*(s/o),i*(o/s),n*(s/o)];case 5:return[1-e,t,n*(s/o),i*(o/s)];case 6:return[1-t-i*(o/s),1-e,i*(o/s),n*(s/o)];case 7:return[e-n*(s/o),1-t-i*(o/s),n*(s/o),i*(o/s)];case 8:return[t-n,e-i,n,i];case 9:return[1-e,t-n,i,n];case 10:return[1-t,1-e,n,i];case 11:return[e-i,1-t,i,n];case 12:return[t-i*(o/s),e,i*(o/s),n*(s/o)];case 13:return[1-e-n*(s/o),t-i*(o/s),n*(s/o),i*(o/s)];case 14:return[1-t,1-e-n*(s/o),i*(o/s),n*(s/o)];case 15:return[e,1-t,n*(s/o),i*(o/s)];default:return[t,e,n,i]}}no=W_,c(W_,"_currentDrawId",-1),c(W_,"_currentParent",null);var K_={_:null},Q_={_:null},$_={_:null},J_={_:NaN},Z_={_:null},tk={_:null},ek={_:NaN};c(W_,"_INNER_MARGIN",3);var nk=new WeakMap,ik=new WeakMap,rk=new WeakMap,ak=new WeakMap,sk=new WeakMap,ok=new WeakMap,lk=new WeakMap,ck=new WeakMap,uk=new WeakMap,hk=new WeakMap,dk=new WeakMap,fk=new WeakSet;class pk{constructor(t,e,n,i,r,a){Ls(this,fk),Is(this,nk,new Float64Array(6)),Is(this,ik,void 0),Is(this,rk,void 0),Is(this,ak,void 0),Is(this,sk,void 0),Is(this,ok,void 0),Is(this,lk,""),Is(this,ck,0),Is(this,uk,new Ek),Is(this,hk,void 0),Is(this,dk,void 0),js(hk,this,n),js(dk,this,i),js(ak,this,r),js(sk,this,a),[t,e]=Fs(fk,this,gk).call(this,t,e);const s=js(ik,this,[NaN,NaN,NaN,NaN,t,e]);js(ok,this,[t,e]),js(rk,this,[{line:s,points:Bs(ok,this)}]),Bs(nk,this).set(s,0)}updateProperty(t,e){"stroke-width"===t&&js(sk,this,e)}isEmpty(){return!Bs(rk,this)||0===Bs(rk,this).length}isCancellable(){return Bs(ok,this).length<=10}add(t,e){[t,e]=Fs(fk,this,gk).call(this,t,e);const[n,i,r,a]=Bs(nk,this).subarray(2,6),s=t-r,o=e-a;return Math.hypot(Bs(hk,this)*s,Bs(dk,this)*o)<=2?null:(Bs(ok,this).push(t,e),isNaN(n)?(Bs(nk,this).set([r,a,t,e],2),Bs(ik,this).push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(Bs(nk,this)[0])&&Bs(ik,this).splice(6,6),Bs(nk,this).set([n,i,r,a,t,e],0),Bs(ik,this).push(...ex.createBezierPoints(n,i,r,a,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const n=this.add(t,e);return n||(2===Bs(ok,this).length?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,n,i,r){js(hk,this,n),js(dk,this,i),js(ak,this,r),[t,e]=Fs(fk,this,gk).call(this,t,e);const a=js(ik,this,[NaN,NaN,NaN,NaN,t,e]);js(ok,this,[t,e]);const s=Bs(rk,this).at(-1);return s&&(s.line=new Float32Array(s.line),s.points=new Float32Array(s.points)),Bs(rk,this).push({line:a,points:Bs(ok,this)}),Bs(nk,this).set(a,0),js(ck,this,0),this.toSVGPath(),null}getLastElement(){return Bs(rk,this).at(-1)}setLastElement(t){return Bs(rk,this)?(Bs(rk,this).push(t),js(ik,this,t.line),js(ok,this,t.points),js(ck,this,0),{path:{d:this.toSVGPath()}}):Bs(uk,this).setLastElement(t)}removeLastElement(){if(!Bs(rk,this))return Bs(uk,this).removeLastElement();Bs(rk,this).pop(),js(lk,this,"");for(let t=0,e=Bs(rk,this).length;t<e;t++){const{line:e,points:n}=Bs(rk,this)[t];js(ik,this,e),js(ok,this,n),js(ck,this,0),this.toSVGPath()}return{path:{d:Bs(lk,this)}}}toSVGPath(){const t=ex.svgRound(Bs(ik,this)[4]),e=ex.svgRound(Bs(ik,this)[5]);if(2===Bs(ok,this).length)return js(lk,this,"".concat(Bs(lk,this)," M ").concat(t," ").concat(e," Z")),Bs(lk,this);if(Bs(ok,this).length<=6){const n=Bs(lk,this).lastIndexOf("M");js(lk,this,"".concat(Bs(lk,this).slice(0,n)," M ").concat(t," ").concat(e)),js(ck,this,6)}if(4===Bs(ok,this).length){const t=ex.svgRound(Bs(ik,this)[10]),e=ex.svgRound(Bs(ik,this)[11]);return js(lk,this,"".concat(Bs(lk,this)," L ").concat(t," ").concat(e)),js(ck,this,12),Bs(lk,this)}const n=[];0===Bs(ck,this)&&(n.push("M ".concat(t," ").concat(e)),js(ck,this,6));for(let i=Bs(ck,this),r=Bs(ik,this).length;i<r;i+=6){const[t,e,r,a,s,o]=Bs(ik,this).slice(i,i+6).map(ex.svgRound);n.push("C".concat(t," ").concat(e," ").concat(r," ").concat(a," ").concat(s," ").concat(o))}return js(lk,this,Bs(lk,this)+n.join(" ")),js(ck,this,Bs(ik,this).length),Bs(lk,this)}getOutlines(t,e,n,i){const r=Bs(rk,this).at(-1);return r.line=new Float32Array(r.line),r.points=new Float32Array(r.points),Bs(uk,this).build(Bs(rk,this),t,e,n,Bs(ak,this),Bs(sk,this),i),js(nk,this,null),js(ik,this,null),js(rk,this,null),js(lk,this,null),Bs(uk,this)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}function gk(t,e){return ex._normalizePoint(t,e,Bs(hk,this),Bs(dk,this),Bs(ak,this))}var mk=new WeakMap,vk=new WeakMap,yk=new WeakMap,bk=new WeakMap,wk=new WeakMap,xk=new WeakMap,_k=new WeakMap,kk=new WeakMap,Sk=new WeakMap,Ak=new WeakSet;class Ek extends ex{constructor(){super(...arguments),Ls(this,Ak),Is(this,mk,void 0),Is(this,vk,0),Is(this,yk,void 0),Is(this,bk,void 0),Is(this,wk,void 0),Is(this,xk,void 0),Is(this,_k,void 0),Is(this,kk,void 0),Is(this,Sk,void 0)}build(t,e,n,i,r,a,s){js(wk,this,e),js(xk,this,n),js(_k,this,i),js(kk,this,r),js(Sk,this,a),js(yk,this,null!==s&&void 0!==s?s:0),js(bk,this,t),Fs(Ak,this,Tk).call(this)}get thickness(){return Bs(Sk,this)}setLastElement(t){return Bs(bk,this).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return Bs(bk,this).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:e}of Bs(bk,this))if(t.push("M".concat(ex.svgRound(e[4])," ").concat(ex.svgRound(e[5]))),6!==e.length)if(12===e.length&&isNaN(e[6]))t.push("L".concat(ex.svgRound(e[10])," ").concat(ex.svgRound(e[11])));else for(let n=6,i=e.length;n<i;n+=6){const[i,r,a,s,o,l]=e.subarray(n,n+6).map(ex.svgRound);t.push("C".concat(i," ").concat(r," ").concat(a," ").concat(s," ").concat(o," ").concat(l))}else t.push("Z");return t.join("")}serialize(t,e){let[n,i,r,a]=t;const s=[],o=[],[l,c,u,h]=Fs(Ak,this,Mk).call(this);let d,f,p,g,m,v,y,b,w;switch(Bs(kk,this)){case 0:w=ex._rescale,d=n,f=i+a,p=r,g=-a,m=n+l*r,v=i+(1-c-h)*a,y=n+(l+u)*r,b=i+(1-c)*a;break;case 90:w=ex._rescaleAndSwap,d=n,f=i,p=r,g=a,m=n+c*r,v=i+l*a,y=n+(c+h)*r,b=i+(l+u)*a;break;case 180:w=ex._rescale,d=n+r,f=i,p=-r,g=a,m=n+(1-l-u)*r,v=i+c*a,y=n+(1-l)*r,b=i+(c+h)*a;break;case 270:w=ex._rescaleAndSwap,d=n+r,f=i+a,p=-r,g=-a,m=n+(1-c-h)*r,v=i+(1-l-u)*a,y=n+(1-c)*r,b=i+(1-l)*a}for(const{line:x,points:_}of Bs(bk,this))s.push(w(x,d,f,p,g,e?new Array(x.length):null)),o.push(w(_,d,f,p,g,e?new Array(_.length):null));return{lines:s,points:o,rect:[m,v,y,b]}}static deserialize(t,e,n,i,r,a){let{paths:{lines:s,points:o},rotation:l,thickness:c}=a;const u=[];let h,d,f,p,g;switch(l){case 0:g=ex._rescale,h=-t/n,d=e/i+1,f=1/n,p=-1/i;break;case 90:g=ex._rescaleAndSwap,h=-e/i,d=-t/n,f=1/i,p=1/n;break;case 180:g=ex._rescale,h=t/n+1,d=-e/i,f=-1/n,p=1/i;break;case 270:g=ex._rescaleAndSwap,h=e/i+1,d=t/n+1,f=-1/i,p=-1/n}if(!s){s=[];for(const t of o){const e=t.length;if(2===e){s.push(new Float32Array([NaN,NaN,NaN,NaN,t[0],t[1]]));continue}if(4===e){s.push(new Float32Array([NaN,NaN,NaN,NaN,t[0],t[1],NaN,NaN,NaN,NaN,t[2],t[3]]));continue}const n=new Float32Array(3*(e-2));s.push(n);let[i,r,a,o]=t.subarray(0,4);n.set([NaN,NaN,NaN,NaN,i,r],0);for(let s=4;s<e;s+=2){const e=t[s],l=t[s+1];n.set(ex.createBezierPoints(i,r,a,o,e,l),3*(s-2)),[i,r,a,o]=[a,o,e,l]}}}for(let v=0,y=s.length;v<y;v++)u.push({line:g(s[v].map((t=>null!==t&&void 0!==t?t:NaN)),h,d,f,p),points:g(o[v].map((t=>null!==t&&void 0!==t?t:NaN)),h,d,f,p)});const m=new this.prototype.constructor;return m.build(u,n,i,1,l,c,r),m}get box(){return Bs(mk,this)}updateProperty(t,e){return"stroke-width"===t?Fs(Ak,this,Pk).call(this,e):null}updateParentDimensions(t,e){let[n,i]=t;const[r,a]=Fs(Ak,this,Ck).call(this);js(wk,this,n),js(xk,this,i),js(_k,this,e);const[s,o]=Fs(Ak,this,Ck).call(this),l=s-r,c=o-a,u=Bs(mk,this);return u[0]-=l,u[1]-=c,u[2]+=2*l,u[3]+=2*c,u}updateRotation(t){return js(vk,this,t),{path:{transform:this.rotationTransform}}}get viewBox(){return Bs(mk,this).map(ex.svgRound).join(" ")}get defaultProperties(){const[t,e]=Bs(mk,this);return{root:{viewBox:this.viewBox},path:{"transform-origin":"".concat(ex.svgRound(t)," ").concat(ex.svgRound(e))}}}get rotationTransform(){const[,,t,e]=Bs(mk,this);let n=0,i=0,r=0,a=0,s=0,o=0;switch(Bs(vk,this)){case 90:i=e/t,r=-t/e,s=t;break;case 180:n=-1,a=-1,s=t,o=e;break;case 270:i=-e/t,r=t/e,o=e;break;default:return""}return"matrix(".concat(n," ").concat(i," ").concat(r," ").concat(a," ").concat(ex.svgRound(s)," ").concat(ex.svgRound(o),")")}getPathResizingSVGProperties(t){let[e,n,i,r]=t;const[a,s]=Fs(Ak,this,Ck).call(this),[o,l,c,u]=Bs(mk,this);if(Math.abs(c-a)<=ex.PRECISION||Math.abs(u-s)<=ex.PRECISION){const t=e+i/2-(o+c/2),a=n+r/2-(l+u/2);return{path:{"transform-origin":"".concat(ex.svgRound(e)," ").concat(ex.svgRound(n)),transform:"".concat(this.rotationTransform," translate(").concat(t," ").concat(a,")")}}}const h=(i-2*a)/(c-2*a),d=(r-2*s)/(u-2*s),f=c/i,p=u/r;return{path:{"transform-origin":"".concat(ex.svgRound(o)," ").concat(ex.svgRound(l)),transform:"".concat(this.rotationTransform," scale(").concat(f," ").concat(p,") ")+"translate(".concat(ex.svgRound(a)," ").concat(ex.svgRound(s),") scale(").concat(h," ").concat(d,") ")+"translate(".concat(ex.svgRound(-a)," ").concat(ex.svgRound(-s),")")}}}getPathResizedSVGProperties(t){let[e,n,i,r]=t;const[a,s]=Fs(Ak,this,Ck).call(this),o=Bs(mk,this),[l,c,u,h]=o;if(o[0]=e,o[1]=n,o[2]=i,o[3]=r,Math.abs(u-a)<=ex.PRECISION||Math.abs(h-s)<=ex.PRECISION){const t=e+i/2-(l+u/2),a=n+r/2-(c+h/2);for(const{line:e,points:n}of Bs(bk,this))ex._translate(e,t,a,e),ex._translate(n,t,a,n);return{root:{viewBox:this.viewBox},path:{"transform-origin":"".concat(ex.svgRound(e)," ").concat(ex.svgRound(n)),transform:this.rotationTransform||null,d:this.toSVGPath()}}}const d=(i-2*a)/(u-2*a),f=(r-2*s)/(h-2*s),p=-d*(l+a)+e+a,g=-f*(c+s)+n+s;if(1!==d||1!==f||0!==p||0!==g)for(const{line:m,points:v}of Bs(bk,this))ex._rescale(m,p,g,d,f,m),ex._rescale(v,p,g,d,f,v);return{root:{viewBox:this.viewBox},path:{"transform-origin":"".concat(ex.svgRound(e)," ").concat(ex.svgRound(n)),transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties(t,e){let[n,i]=t;const[r,a]=e,s=Bs(mk,this),o=n-s[0],l=i-s[1];if(Bs(wk,this)===r&&Bs(xk,this)===a)for(const{line:c,points:u}of Bs(bk,this))ex._translate(c,o,l,c),ex._translate(u,o,l,u);else{const t=Bs(wk,this)/r,e=Bs(xk,this)/a;js(wk,this,r),js(xk,this,a);for(const{line:n,points:i}of Bs(bk,this))ex._rescale(n,o,l,t,e,n),ex._rescale(i,o,l,t,e,i);s[2]*=t,s[3]*=e}return s[0]=n,s[1]=i,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":"".concat(ex.svgRound(n)," ").concat(ex.svgRound(i))}}}get defaultSVGProperties(){const t=Bs(mk,this);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":"".concat(ex.svgRound(t[0])," ").concat(ex.svgRound(t[1])),transform:this.rotationTransform||null},bbox:t}}}function Ck(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bs(Sk,this);const e=Bs(yk,this)+t/2*Bs(_k,this);return Bs(kk,this)%180===0?[e/Bs(wk,this),e/Bs(xk,this)]:[e/Bs(xk,this),e/Bs(wk,this)]}function Mk(){const[t,e,n,i]=Bs(mk,this),[r,a]=Fs(Ak,this,Ck).call(this,0);return[t+r,e+a,n-2*r,i-2*a]}function Tk(){const t=js(mk,this,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:i}of Bs(bk,this)){if(i.length<=12){for(let e=4,n=i.length;e<n;e+=6)ol.pointBoundingBox(i[e],i[e+1],t);continue}let e=i[4],n=i[5];for(let r=6,a=i.length;r<a;r+=6){const[a,s,o,l,c,u]=i.subarray(r,r+6);ol.bezierBoundingBox(e,n,a,s,o,l,c,u,t),e=c,n=u}}const[e,n]=Fs(Ak,this,Ck).call(this);t[0]=pl(t[0]-e,0,1),t[1]=pl(t[1]-n,0,1),t[2]=pl(t[2]+e,0,1),t[3]=pl(t[3]+n,0,1),t[2]-=t[0],t[3]-=t[1]}function Pk(t){const[e,n]=Fs(Ak,this,Ck).call(this);js(Sk,this,t);const[i,r]=Fs(Ak,this,Ck).call(this),[a,s]=[i-e,r-n],o=Bs(mk,this);return o[0]-=a,o[1]-=s,o[2]+=2*a,o[3]+=2*s,o}class Rk extends F_{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:md._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){"stroke-width"===t&&(null!==e&&void 0!==e||(e=this["stroke-width"]),e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new Rk(this._viewParameters);return t.updateAll(this),t}}var Dk=new WeakSet;class Nk extends W_{constructor(t){super(h(h({},t),{},{name:"inkEditor"})),Ls(this,Dk),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,e){md.initialize(t,e),this._defaultDrawingOptions=new Rk(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!0}static get typesMap(){return Ko(this,"typesMap",new Map([[wo.INK_THICKNESS,"stroke-width"],[wo.INK_COLOR,"stroke"],[wo.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,e,n,i,r){return new pk(t,e,n,i,r,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,e,n,i,r,a){return Ek.deserialize(t,e,n,i,r,a)}static async deserialize(t,e,n){let i=null;if(t instanceof yw){const{data:{inkLists:e,rect:n,rotation:r,id:a,color:s,opacity:o,borderStyle:{rawWidth:l},popupRef:c,richText:u,contentsObj:h,creationDate:d,modificationDate:f},parent:{page:{pageNumber:p}}}=t;i=t={annotationType:bo.INK,color:Array.from(s),thickness:l,opacity:o,paths:{points:e},boxes:null,pageIndex:p-1,rect:n.slice(0),rotation:r,annotationElementId:a,id:a,deleted:!1,popupRef:c,richText:u,comment:(null===h||void 0===h?void 0:h.str)||null,creationDate:d,modificationDate:f}}const r=await super.deserialize(t,e,n);return r._initialData=i,t.comment&&r.setCommentData(t),r}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new By(this)),[["colorPicker",this._colorPicker]]}get colorType(){return wo.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:e,parent:n}=this;e.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(t,e.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions(t){let{color:e,thickness:n,opacity:i}=t;this._drawingOptions=Nk.getDefaultDrawingOptions({stroke:ol.makeHexColor(...e),"stroke-width":n,"stroke-opacity":i})}serialize(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:e,points:n}=this.serializeDraw(t),{_drawingOptions:{stroke:i,"stroke-opacity":r,"stroke-width":a}}=this,s=Object.assign(super.serialize(t),{color:md._colorManager.convert(i),opacity:r,thickness:a,paths:{lines:e,points:n}});return this.addComment(s),t?(s.isCopy=!0,s):this.annotationElementId&&!Fs(Dk,this,Lk).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:e,rect:n}=this.serializeDraw(!1);return t.updateEdited({rect:n,thickness:this._drawingOptions["stroke-width"],points:e,popup:this.comment}),null}}function Lk(t){const{color:e,thickness:n,opacity:i,pageIndex:r}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some(((t,n)=>t!==e[n]))||t.thickness!==n||t.opacity!==i||t.pageIndex!==r}c(Nk,"_type","ink"),c(Nk,"_editorType",bo.INK),c(Nk,"_defaultDrawingOptions",null);class Ik extends Ek{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}class Fk{static extractContoursFromText(t,e,n,i,r,a){let{fontFamily:s,fontStyle:o,fontWeight:l}=e,c=new OffscreenCanvas(1,1),u=c.getContext("2d",{alpha:!1});const h=u.font="".concat(o," ").concat(l," ").concat(200,"px ").concat(s),{actualBoundingBoxLeft:d,actualBoundingBoxRight:f,actualBoundingBoxAscent:p,actualBoundingBoxDescent:g,fontBoundingBoxAscent:m,fontBoundingBoxDescent:v,width:y}=u.measureText(t),b=1.5,w=Math.ceil(Math.max(Math.abs(d)+Math.abs(f)||0,y)*b),x=Math.ceil(Math.max(Math.abs(p)+Math.abs(g)||200,Math.abs(m)+Math.abs(v)||200)*b);c=new OffscreenCanvas(w,x),u=c.getContext("2d",{alpha:!0,willReadFrequently:!0}),u.font=h,u.filter="grayscale(1)",u.fillStyle="white",u.fillRect(0,0,w,x),u.fillStyle="black",u.fillText(t,.5*w/2,1.5*x/2);const _=Fs(Fk,this,Gk).call(this,u.getImageData(0,0,w,x).data),k=Fs(Fk,this,Vk).call(this,_),S=Fs(Fk,this,qk).call(this,k),A=Fs(Fk,this,Wk).call(this,_,w,x,S);return this.processDrawnLines({lines:{curves:A,width:w,height:x},pageWidth:n,pageHeight:i,rotation:r,innerMargin:a,mustSmooth:!0,areContours:!0})}static process(t,e,n,i,r){const[a,s,o]=Fs(Fk,this,Xk).call(this,t),[l,c]=Fs(Fk,this,Hk).call(this,a,s,o,Math.hypot(s,o)*Fs(Fk,this,Yk)._.sigmaSFactor,Fs(Fk,this,Yk)._.sigmaR,Fs(Fk,this,Yk)._.kernelSize),u=Fs(Fk,this,qk).call(this,c),h=Fs(Fk,this,Wk).call(this,l,s,o,u);return this.processDrawnLines({lines:{curves:h,width:s,height:o},pageWidth:e,pageHeight:n,rotation:i,innerMargin:r,mustSmooth:!0,areContours:!0})}static processDrawnLines(t){var e;let{lines:n,pageWidth:i,pageHeight:r,rotation:a,innerMargin:s,mustSmooth:o,areContours:l}=t;a%180!==0&&([i,r]=[r,i]);const{curves:c,width:u,height:h}=n,d=null!==(e=n.thickness)&&void 0!==e?e:0,f=[],p=Math.min(i/u,r/h),g=p/i,m=p/r,v=[];for(const{points:b}of c){const t=o?Fs(Fk,this,Uk).call(this,b):b;if(!t)continue;v.push(t);const e=t.length,n=new Float32Array(e),i=new Float32Array(3*(2===e?2:e-2));if(f.push({line:i,points:n}),2===e){n[0]=t[0]*g,n[1]=t[1]*m,i.set([NaN,NaN,NaN,NaN,n[0],n[1]],0);continue}let[r,a,s,l]=t;r*=g,a*=m,s*=g,l*=m,n.set([r,a,s,l],0),i.set([NaN,NaN,NaN,NaN,r,a],0);for(let o=4;o<e;o+=2){const e=n[o]=t[o]*g,c=n[o+1]=t[o+1]*m;i.set(ex.createBezierPoints(r,a,s,l,e,c),3*(o-2)),[r,a,s,l]=[s,l,e,c]}}if(0===f.length)return null;const y=l?new Ik:new Ek;return y.build(f,i,r,1,a,l?0:d,s),{outline:y,newCurves:v,areContours:l,thickness:d,width:u,height:h}}static async compressSignature(t){let e,{outlines:n,areContours:i,thickness:r,width:a,height:s}=t,o=1/0,l=-1/0,c=0;for(const y of n){c+=y.length;for(let t=2,e=y.length;t<e;t++){const e=y[t]-y[t-2];o=Math.min(o,e),l=Math.max(l,e)}}e=o>=-128&&l<=127?Int8Array:o>=-32768&&l<=32767?Int16Array:Int32Array;const u=n.length,h=8+3*u,d=new Uint32Array(h);let f=0;d[f++]=h*Uint32Array.BYTES_PER_ELEMENT+(c-2*u)*e.BYTES_PER_ELEMENT,d[f++]=0,d[f++]=a,d[f++]=s,d[f++]=i?0:1,d[f++]=Math.max(0,Math.floor(null!==r&&void 0!==r?r:0)),d[f++]=u,d[f++]=e.BYTES_PER_ELEMENT;for(const y of n)d[f++]=y.length-2,d[f++]=y[0],d[f++]=y[1];const p=new CompressionStream("deflate-raw"),g=p.writable.getWriter();await g.ready,g.write(d);const m=e.prototype.constructor;for(const y of n){const t=new m(y.length-2);for(let e=2,n=y.length;e<n;e++)t[e-2]=y[e]-y[e-2];g.write(t)}g.close();const v=await new Response(p.readable).arrayBuffer();return gl(new Uint8Array(v))}static async decompressSignature(t){try{const l=(s=t,Uint8Array.fromBase64?Uint8Array.fromBase64(s):rl(atob(s))),{readable:c,writable:u}=new DecompressionStream("deflate-raw"),h=u.getWriter();await h.ready,h.write(l).then((async()=>{await h.ready,await h.close()})).catch((()=>{}));let d=null,f=0;var e,n=!1,i=!1;try{for(var r,a=function(t){var e,n,i,r=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,i=Symbol.iterator);r--;){if(n&&null!=(e=t[n]))return e.call(t);if(i&&null!=(e=t[i]))return new Ws(e.call(t));n="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")}(c);n=!(r=await a.next()).done;n=!1){const t=r.value;d||(d=new Uint8Array(new Uint32Array(t.buffer,0,4)[0])),d.set(t,f),f+=t.length}}catch(o){i=!0,e=o}finally{try{n&&null!=a.return&&await a.return()}finally{if(i)throw e}}const p=new Uint32Array(d.buffer,0,d.length>>2),g=p[1];if(0!==g)throw new Error("Invalid version: ".concat(g));const m=p[2],v=p[3],y=0===p[4],b=p[5],w=p[6],x=p[7],_=[],k=(8+3*w)*Uint32Array.BYTES_PER_ELEMENT;let S;switch(x){case Int8Array.BYTES_PER_ELEMENT:S=new Int8Array(d.buffer,k);break;case Int16Array.BYTES_PER_ELEMENT:S=new Int16Array(d.buffer,k);break;case Int32Array.BYTES_PER_ELEMENT:S=new Int32Array(d.buffer,k)}f=0;for(let t=0;t<w;t++){const e=p[3*t+8],n=new Float32Array(e+2);_.push(n);for(let i=0;i<2;i++)n[i]=p[3*t+8+i+1];for(let t=0;t<e;t++)n[t+2]=n[t]+S[f++]}return{areContours:y,thickness:b,outlines:_,width:m,height:v}}catch(hE){return Vo("decompressSignature: ".concat(hE)),null}var s}}function Ok(t,e,n,i){return i-=e,0===(n-=t)?i>0?0:4:1===n?i+6:2-i}function Bk(t,e,n,i,r,a,s){const o=Fs(io,this,Ok).call(this,n,i,r,a);for(let l=0;l<8;l++){const r=(-l+o-s+16)%8;if(0!==t[(n+Fs(io,this,Kk)._[2*r])*e+(i+Fs(io,this,Kk)._[2*r+1])])return r}return-1}function jk(t,e,n,i,r,a,s){const o=Fs(io,this,Ok).call(this,n,i,r,a);for(let l=0;l<8;l++){const r=(l+o+s+16)%8;if(0!==t[(n+Fs(io,this,Kk)._[2*r])*e+(i+Fs(io,this,Kk)._[2*r+1])])return r}return-1}function Wk(t,e,n,i){const r=t.length,a=new Int32Array(r);for(let c=0;c<r;c++)a[c]=t[c]<=i?1:0;for(let c=1;c<n-1;c++)a[c*e]=a[c*e+e-1]=0;for(let c=0;c<e;c++)a[c]=a[e*n-1-c]=0;let s,o=1;const l=[];for(let c=1;c<n-1;c++){s=1;for(let t=1;t<e-1;t++){const n=c*e+t,i=a[n];if(0===i)continue;let r=c,u=t;if(1===i&&0===a[n-1])o+=1,u-=1;else{if(!(i>=1&&0===a[n+1])){1!==i&&(s=Math.abs(i));continue}o+=1,u+=1,i>1&&(s=i)}const h=[t,c],d=u===t+1,f={isHole:d,points:h,id:o,parent:0};let p;l.push(f);for(const t of l)if(t.id===s){p=t;break}p?p.isHole?f.parent=d?p.parent:s:f.parent=d?s:p.parent:f.parent=d?s:0;const g=Fs(io,this,Bk).call(this,a,e,c,t,r,u,0);if(-1===g){a[n]=-o,1!==a[n]&&(s=Math.abs(a[n]));continue}let m=Fs(io,this,Kk)._[2*g],v=Fs(io,this,Kk)._[2*g+1];const y=c+m,b=t+v;r=y,u=b;let w=c,x=t;for(;;){const i=Fs(io,this,jk).call(this,a,e,w,x,r,u,1);m=Fs(io,this,Kk)._[2*i],v=Fs(io,this,Kk)._[2*i+1];const l=w+m,d=x+v;h.push(d,l);const f=w*e+x;if(0===a[f+1]?a[f]=-o:1===a[f]&&(a[f]=o),l===c&&d===t&&w===y&&x===b){1!==a[n]&&(s=Math.abs(a[n]));break}r=w,u=x,w=l,x=d}}}return l}function zk(t,e,n,i){if(n-e<=4){for(let r=e;r<n-2;r+=2)i.push(t[r],t[r+1]);return}const r=t[e],a=t[e+1],s=t[n-4]-r,o=t[n-3]-a,l=Math.hypot(s,o),c=s/l,u=o/l,h=c*a-u*r,d=o/s,f=1/l,p=Math.atan(d),g=Math.cos(p),m=Math.sin(p),v=f*(Math.abs(g)+Math.abs(m)),y=f*(1-v+v**2),b=Math.max(Math.atan(Math.abs(m+g)*y),Math.atan(Math.abs(m-g)*y));let w=0,x=e;for(let _=e+2;_<n-2;_+=2){const e=Math.abs(h-c*t[_+1]+u*t[_]);e>w&&(x=_,w=e)}w>(l*b)**2?(Fs(io,this,zk).call(this,t,e,x+2,i),Fs(io,this,zk).call(this,t,x,n,i)):i.push(r,a)}function Uk(t){const e=[],n=t.length;return Fs(io,this,zk).call(this,t,0,n,e),e.push(t[n-2],t[n-1]),e.length<=4?null:e}function Hk(t,e,n,i,r,a){const s=new Float32Array(a**2),o=-2*i**2,l=a>>1;for(let p=0;p<a;p++){const t=(p-l)**2;for(let e=0;e<a;e++)s[p*a+e]=Math.exp((t+(e-l)**2)/o)}const c=new Float32Array(256),u=-2*r**2;for(let p=0;p<256;p++)c[p]=Math.exp(p**2/u);const h=t.length,d=new Uint8Array(h),f=new Uint32Array(256);for(let p=0;p<n;p++)for(let i=0;i<e;i++){const r=p*e+i,o=t[r];let u=0,h=0;for(let d=0;d<a;d++){const r=p+d-l;if(!(r<0||r>=n))for(let n=0;n<a;n++){const f=i+n-l;if(f<0||f>=e)continue;const p=t[r*e+f],g=s[d*a+n]*c[Math.abs(p-o)];u+=p*g,h+=g}}f[d[r]=Math.round(u/h)]++}return[d,f]}function Vk(t){const e=new Uint32Array(256);for(const n of t)e[n]++;return e}function Gk(t){const e=t.length,n=new Uint8ClampedArray(e>>2);let i=-1/0,r=1/0;for(let s=0,o=n.length;s<o;s++){const e=n[s]=t[s<<2];i=Math.max(i,e),r=Math.min(r,e)}const a=255/(i-r);for(let s=0,o=n.length;s<o;s++)n[s]=(n[s]-r)*a;return n}function qk(t){let e,n=-1/0,i=-1/0;const r=t.findIndex((t=>0!==t));let a=r,s=r;for(e=r;e<256;e++){const r=t[e];r>n&&(e-a>i&&(i=e-a,s=e-1),n=r,a=e)}for(e=s-1;e>=0&&!(t[e]>t[e+1]);e--);return e}function Xk(t){const e=t,{width:n,height:i}=t,{maxDim:r}=Fs(io,this,Yk)._;let a=n,s=i;if(n>r||i>r){let o=n,l=i,c=Math.log2(Math.max(n,i)/r);const u=Math.floor(c);c=c===u?u-1:u;for(let n=0;n<c;n++){a=Math.ceil(o/2),s=Math.ceil(l/2);const n=new OffscreenCanvas(a,s);n.getContext("2d").drawImage(t,0,0,o,l,0,0,a,s),o=a,l=s,t!==e&&t.close(),t=n.transferToImageBitmap()}const h=Math.min(r/a,r/s);a=Math.round(a*h),s=Math.round(s*h)}const o=new OffscreenCanvas(a,s).getContext("2d",{willReadFrequently:!0});o.fillStyle="white",o.fillRect(0,0,a,s),o.filter="grayscale(1)",o.drawImage(t,0,0,t.width,t.height,0,0,a,s);const l=o.getImageData(0,0,a,s).data;return[Fs(io,this,Gk).call(this,l),a,s]}io=Fk;var Yk={_:{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}},Kk={_:new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1])};class Qk extends F_{constructor(){super(),super.updateProperties({fill:md._defaultLineColor,"stroke-width":0})}clone(){const t=new Qk;return t.updateAll(this),t}}class $k extends Rk{constructor(t){super(t),super.updateProperties({stroke:md._defaultLineColor,"stroke-width":1})}clone(){const t=new $k(this._viewParameters);return t.updateAll(this),t}}var Jk=new WeakMap,Zk=new WeakMap,tS=new WeakMap,eS=new WeakMap;class nS extends W_{constructor(t){super(h(h({},t),{},{mustBeCommitted:!0,name:"signatureEditor"})),Is(this,Jk,!1),Is(this,Zk,null),Is(this,tS,null),Is(this,eS,null),this._willKeepAspectRatio=!0,js(tS,this,t.signatureData||null),js(Zk,this,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,e){md.initialize(t,e),this._defaultDrawingOptions=new Qk,this._defaultDrawnSignatureOptions=new $k(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!1}static get typesMap(){return Ko(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!Bs(Zk,this)}}static computeTelemetryFinalData(t){var e,n;const i=t.get("hasDescription");return{hasAltText:null!==(e=i.get(!0))&&void 0!==e?e:0,hasNoAltText:null!==(n=i.get(!1))&&void 0!==n?n:0}}get isResizable(){return!0}onScaleChanging(){null!==this._drawId&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,e;const{_isCopy:n}=this;if(n&&(this._isCopy=!1,t=this.x,e=this.y),super.render(),null===this._drawId)if(Bs(tS,this)){const{lines:t,mustSmooth:e,areContours:n,description:i,uuid:r,heightInPage:a}=Bs(tS,this),{rawDims:{pageWidth:s,pageHeight:o},rotation:l}=this.parent.viewport,c=Fk.processDrawnLines({lines:t,pageWidth:s,pageHeight:o,rotation:l,innerMargin:nS._INNER_MARGIN,mustSmooth:e,areContours:n});this.addSignature(c,a,i,r)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:Bs(Zk,this)||""}));return n&&(this._isCopy=!0,this._moveAfterPaste(t,e)),this.div}setUuid(t){js(eS,this,t),this.addEditToolbar()}getUuid(){return Bs(eS,this)}get description(){return Bs(Zk,this)}set description(t){js(Zk,this,t),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then((e=>{null===e||void 0===e||e.updateEditSignatureButton(t)})))}getSignaturePreview(){const{newCurves:t,areContours:e,thickness:n,width:i,height:r}=Bs(tS,this),a=Math.max(i,r);return{areContours:e,outline:Fk.processDrawnLines({lines:{curves:t.map((t=>({points:t}))),thickness:n,width:i,height:r},pageWidth:a,pageHeight:a,rotation:0,innerMargin:0,mustSmooth:!1,areContours:e}).outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,e,n,i){const{x:r,y:a}=this,{outline:s}=js(tS,this,t);let o;js(Jk,this,s instanceof Ik),this.description=n,Bs(Jk,this)?o=nS.getDefaultDrawingOptions():(o=nS._defaultDrawnSignatureOptions.clone(),o.updateProperties({"stroke-width":s.thickness})),this._addOutlines({drawOutlines:s,drawingOptions:o});const[,l]=this.pageDimensions;let c=e/l;c=c>=1?.5:c,this.width*=c/this.height,this.width>=1&&(c*=.9/this.width,this.width=.9),this.height=c,this.setDims(),this.x=r,this.y=a,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(i),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!i,hasDescription:!!n}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:e,pageHeight:n},rotation:i}=this.parent.viewport;return Fk.process(t,e,n,i,nS._INNER_MARGIN)}getFromText(t,e){const{rawDims:{pageWidth:n,pageHeight:i},rotation:r}=this.parent.viewport;return Fk.extractContoursFromText(t,e,n,i,r,nS._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:e,pageHeight:n},rotation:i}=this.parent.viewport;return Fk.processDrawnLines({lines:t,pageWidth:e,pageHeight:n,rotation:i,innerMargin:nS._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions(t){let{areContours:e,thickness:n}=t;e?this._drawingOptions=nS.getDefaultDrawingOptions():(this._drawingOptions=nS._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":n}))}serialize(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return null;const{lines:e,points:n}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":i}}=this,r=Object.assign(super.serialize(t),{isSignature:!0,areContours:Bs(Jk,this),color:[0,0,0],thickness:Bs(Jk,this)?0:i});return this.addComment(r),t?(r.paths={lines:e,points:n},r.uuid=Bs(eS,this),r.isCopy=!0):r.lines=e,Bs(Zk,this)&&(r.accessibilityData={type:"Figure",alt:Bs(Zk,this)}),r}static deserializeDraw(t,e,n,i,r,a){return a.areContours?Ik.deserialize(t,e,n,i,r,a):Ek.deserialize(t,e,n,i,r,a)}static async deserialize(t,e,n){var i;const r=await super.deserialize(t,e,n);return js(Jk,r,t.areContours),r.description=(null===(i=t.accessibilityData)||void 0===i?void 0:i.alt)||"",js(eS,r,t.uuid),r}}c(nS,"_type","signature"),c(nS,"_editorType",bo.SIGNATURE),c(nS,"_defaultDrawingOptions",null);var iS=new WeakMap,rS=new WeakMap,aS=new WeakMap,sS=new WeakMap,oS=new WeakMap,lS=new WeakMap,cS=new WeakMap,uS=new WeakMap,hS=new WeakMap,dS=new WeakMap,fS=new WeakMap,pS=new WeakSet;class gS extends md{constructor(t){super(h(h({},t),{},{name:"stampEditor"})),Ls(this,pS),Is(this,iS,null),Is(this,rS,null),Is(this,aS,null),Is(this,sS,null),Is(this,oS,null),Is(this,lS,""),Is(this,cS,null),Is(this,uS,!1),Is(this,hS,null),Is(this,dS,!1),Is(this,fS,!1),js(sS,this,t.bitmapUrl),js(oS,this,t.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,e){md.initialize(t,e)}static isHandlingMimeForPasting(t){return Fl.includes(t)}static paste(t,e){e.pasteEditor({mode:bo.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!(null===(t=this.altTextData)||void 0===t||!t.altText)}}static computeTelemetryFinalData(t){var e,n;const i=t.get("hasAltText");return{hasAltText:null!==(e=i.get(!0))&&void 0!==e?e:0,hasNoAltText:null!==(n=i.get(!1))&&void 0!==n?n:0}}async mlGuessAltText(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.hasAltTextData())return null;const{mlManager:n}=this._uiManager;if(!n)throw new Error("No ML.");if(!await n.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:i,width:r,height:a}=t||this.copyCanvas(null,null,!0).imageData,s=await n.guess({name:"altText",request:{data:i,width:r,height:a,channels:i.length/(r*a)}});if(!s)throw new Error("No response from the AI service.");if(s.error)throw new Error("Error from the AI service.");if(s.cancel)return null;if(!s.output)throw new Error("No valid response from the AI service.");const o=s.output;return await this.setGuessedAltText(o),e&&!this.hasAltTextData()&&(this.altTextData={alt:o,decorative:!1}),o}remove(){var t;Bs(rS,this)&&(js(iS,this,null),this._uiManager.imageManager.deleteId(Bs(rS,this)),null===(t=Bs(cS,this))||void 0===t||t.remove(),js(cS,this,null),Bs(hS,this)&&(clearTimeout(Bs(hS,this)),js(hS,this,null)));super.remove()}rebuild(){this.parent?(super.rebuild(),null!==this.div&&(Bs(rS,this)&&null===Bs(cS,this)&&Fs(pS,this,yS).call(this),this.isAttachedToDOM||this.parent.add(this))):Bs(rS,this)&&Fs(pS,this,yS).call(this)}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(Bs(aS,this)||Bs(iS,this)||Bs(sS,this)||Bs(oS,this)||Bs(rS,this)||Bs(uS,this))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,e;return this._isCopy&&(t=this.x,e=this.y),super.render(),this.div.hidden=!0,this.createAltText(),Bs(uS,this)||(Bs(iS,this)?Fs(pS,this,bS).call(this):Fs(pS,this,yS).call(this)),this._isCopy&&this._moveAfterPaste(t,e),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,e){const{id:n,bitmap:i}=this._uiManager.imageManager.getFromCanvas(t,e);e.remove(),n&&this._uiManager.imageManager.isValidId(n)&&(js(rS,this,n),i&&js(iS,this,i),js(uS,this,!1),Fs(pS,this,bS).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;null!==Bs(hS,this)&&clearTimeout(Bs(hS,this));js(hS,this,setTimeout((()=>{js(hS,this,null),Fs(pS,this,xS).call(this)}),200))}copyCanvas(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t||(t=224);const{width:i,height:r}=Bs(iS,this),a=new Il;let s=Bs(iS,this),o=i,l=r,c=null;if(e){if(i>e||r>e){const t=Math.min(e/i,e/r);o=Math.floor(i*t),l=Math.floor(r*t)}c=document.createElement("canvas");const t=c.width=Math.ceil(o*a.sx),n=c.height=Math.ceil(l*a.sy);Bs(dS,this)||(s=Fs(pS,this,wS).call(this,t,n));const u=c.getContext("2d");u.filter=this._uiManager.hcmFilter;let h="white",d="#cfcfd8";"none"!==this._uiManager.hcmFilter?d="black":Ol.isDarkMode&&(h="#8f8f9d",d="#42414d");const f=15,p=f*a.sx,g=f*a.sy,m=new OffscreenCanvas(2*p,2*g),v=m.getContext("2d");v.fillStyle=h,v.fillRect(0,0,2*p,2*g),v.fillStyle=d,v.fillRect(0,0,p,g),v.fillRect(p,g,p,g),u.fillStyle=u.createPattern(m,"repeat"),u.fillRect(0,0,t,n),u.drawImage(s,0,0,s.width,s.height,0,0,t,n)}let u=null;if(n){let e,n;if(a.symmetric&&s.width<t&&s.height<t)e=s.width,n=s.height;else if(s=Bs(iS,this),i>t||r>t){const a=Math.min(t/i,t/r);e=Math.floor(i*a),n=Math.floor(r*a),Bs(dS,this)||(s=Fs(pS,this,wS).call(this,e,n))}const o=new OffscreenCanvas(e,n).getContext("2d",{willReadFrequently:!0});o.drawImage(s,0,0,s.width,s.height,0,0,e,n),u={width:e,height:n,data:o.getImageData(0,0,e,n).data}}return{canvas:c,width:o,height:l,imageData:u}}static async deserialize(t,e,n){let i=null,r=!1;if(t instanceof Sw){var a;const{data:{rect:s,rotation:o,id:l,structParent:c,popupRef:u,richText:h,contentsObj:d,creationDate:f,modificationDate:p},container:g,parent:{page:{pageNumber:m}},canvas:v}=t;let y,b;v?(delete t.canvas,({id:y,bitmap:b}=n.imageManager.getFromCanvas(g.id,v)),v.remove()):(r=!0,t._hasNoCanvas=!0);const w=(null===(a=await e._structTree.getAriaAttributes("".concat(fl).concat(l)))||void 0===a?void 0:a.get("aria-label"))||"";i=t={annotationType:bo.STAMP,bitmapId:y,bitmap:b,pageIndex:m-1,rect:s.slice(0),rotation:o,annotationElementId:l,id:l,deleted:!1,accessibilityData:{decorative:!1,altText:w},isSvg:!1,structParent:c,popupRef:u,richText:h,comment:(null===d||void 0===d?void 0:d.str)||null,creationDate:f,modificationDate:p}}const s=await super.deserialize(t,e,n),{rect:o,bitmap:l,bitmapUrl:c,bitmapId:u,isSvg:h,accessibilityData:d}=t;r?(n.addMissingCanvas(t.id,s),js(uS,s,!0)):u&&n.imageManager.isValidId(u)?(js(rS,s,u),l&&js(iS,s,l)):js(sS,s,c),js(dS,s,h);const[f,p]=s.pageDimensions;return s.width=(o[2]-o[0])/f,s.height=(o[3]-o[1])/p,d&&(s.altTextData=d),s._initialData=i,t.comment&&s.setCommentData(t),js(fS,s,!!i),s}serialize(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=Object.assign(super.serialize(t),{bitmapId:Bs(rS,this),isSvg:Bs(dS,this)});if(this.addComment(n),t)return n.bitmapUrl=Fs(pS,this,_S).call(this,!0),n.accessibilityData=this.serializeAltText(!0),n.isCopy=!0,n;const{decorative:i,altText:r}=this.serializeAltText(!1);if(!i&&r&&(n.accessibilityData={type:"Figure",alt:r}),this.annotationElementId){const t=Fs(pS,this,kS).call(this,n);if(t.isSame)return null;var a;if(t.isSameAltText)delete n.accessibilityData;else n.accessibilityData.structParent=null!==(a=this._initialData.structParent)&&void 0!==a?a:-1;return n.id=this.annotationElementId,delete n.bitmapId,n}if(null===e)return n;e.stamps||(e.stamps=new Map);const s=Bs(dS,this)?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(e.stamps.has(Bs(rS,this))){if(Bs(dS,this)){const t=e.stamps.get(Bs(rS,this));s>t.area&&(t.area=s,t.serialized.bitmap.close(),t.serialized.bitmap=Fs(pS,this,_S).call(this,!1))}}else e.stamps.set(Bs(rS,this),{area:s,serialized:n}),n.bitmap=Fs(pS,this,_S).call(this,!1);return n}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}function mS(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t?(js(iS,this,t.bitmap),e||(js(rS,this,t.id),js(dS,this,t.isSvg)),t.file&&js(lS,this,t.file.name),Fs(pS,this,bS).call(this)):this.remove()}function vS(){if(js(aS,this,null),this._uiManager.enableWaiting(!1),Bs(cS,this))if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&Bs(iS,this))this.addEditToolbar().then((()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)}));else{if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&Bs(iS,this)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch(t){}}this.div.focus()}}function yS(){if(Bs(rS,this))return this._uiManager.enableWaiting(!0),void this._uiManager.imageManager.getFromId(Bs(rS,this)).then((t=>Fs(pS,this,mS).call(this,t,!0))).finally((()=>Fs(pS,this,vS).call(this)));if(Bs(sS,this)){const t=Bs(sS,this);return js(sS,this,null),this._uiManager.enableWaiting(!0),void js(aS,this,this._uiManager.imageManager.getFromUrl(t).then((t=>Fs(pS,this,mS).call(this,t))).finally((()=>Fs(pS,this,vS).call(this))))}if(Bs(oS,this)){const t=Bs(oS,this);return js(oS,this,null),this._uiManager.enableWaiting(!0),void js(aS,this,this._uiManager.imageManager.getFromFile(t).then((t=>Fs(pS,this,mS).call(this,t))).finally((()=>Fs(pS,this,vS).call(this))))}const t=document.createElement("input");t.type="file",t.accept=Fl.join(",");const e=this._uiManager._signal;js(aS,this,new Promise((n=>{t.addEventListener("change",(async()=>{if(t.files&&0!==t.files.length){this._uiManager.enableWaiting(!0);const e=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),Fs(pS,this,mS).call(this,e)}else this.remove();n()}),{signal:e}),t.addEventListener("cancel",(()=>{this.remove(),n()}),{signal:e})})).finally((()=>Fs(pS,this,vS).call(this)))),t.click()}function bS(){var t;const{div:e}=this;let{width:n,height:i}=Bs(iS,this);const[r,a]=this.pageDimensions,s=.75;if(this.width)n=this.width*r,i=this.height*a;else if(n>s*r||i>s*a){const t=Math.min(s*r/n,s*a/i);n*=t,i*=t}this._uiManager.enableWaiting(!1);const o=js(cS,this,document.createElement("canvas"));o.setAttribute("role","img"),this.addContainer(o),this.width=n/r,this.height=i/a,this.setDims(),null!==(t=this._initialOptions)&&void 0!==t&&t.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&!this.annotationElementId||(e.hidden=!1),Fs(pS,this,xS).call(this),Bs(fS,this)||(this.parent.addUndoableEditor(this),js(fS,this,!0)),this._reportTelemetry({action:"inserted_image"}),Bs(lS,this)&&this.div.setAttribute("aria-description",Bs(lS,this)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}function wS(t,e){const{width:n,height:i}=Bs(iS,this);let r=n,a=i,s=Bs(iS,this);for(;r>2*t||a>2*e;){const n=r,i=a;r>2*t&&(r=r>=16384?Math.floor(r/2)-1:Math.ceil(r/2)),a>2*e&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const o=new OffscreenCanvas(r,a);o.getContext("2d").drawImage(s,0,0,n,i,0,0,r,a),s=o.transferToImageBitmap()}return s}function xS(){const[t,e]=this.parentDimensions,{width:n,height:i}=this,r=new Il,a=Math.ceil(n*t*r.sx),s=Math.ceil(i*e*r.sy),o=Bs(cS,this);if(!o||o.width===a&&o.height===s)return;o.width=a,o.height=s;const l=Bs(dS,this)?Bs(iS,this):Fs(pS,this,wS).call(this,a,s),c=o.getContext("2d");c.filter=this._uiManager.hcmFilter,c.drawImage(l,0,0,l.width,l.height,0,0,a,s)}function _S(t){if(t){if(Bs(dS,this)){const t=this._uiManager.imageManager.getSvgUrl(Bs(rS,this));if(t)return t}const t=document.createElement("canvas");({width:t.width,height:t.height}=Bs(iS,this));return t.getContext("2d").drawImage(Bs(iS,this),0,0),t.toDataURL()}if(Bs(dS,this)){const[t,e]=this.pageDimensions,n=Math.round(this.width*t*bl.PDF_TO_CSS_UNITS),i=Math.round(this.height*e*bl.PDF_TO_CSS_UNITS),r=new OffscreenCanvas(n,i);return r.getContext("2d").drawImage(Bs(iS,this),0,0,Bs(iS,this).width,Bs(iS,this).height,0,0,n,i),r.transferToImageBitmap()}return structuredClone(Bs(iS,this))}function kS(t){var e;const{pageIndex:n,accessibilityData:{altText:i}}=this._initialData,r=t.pageIndex===n,a=((null===(e=t.accessibilityData)||void 0===e?void 0:e.alt)||"")===i;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&r&&a,isSameAltText:a}}c(gS,"_type","stamp"),c(gS,"_editorType",bo.STAMP);var SS=new WeakMap,AS=new WeakMap,ES=new WeakMap,CS=new WeakMap,MS=new WeakMap,TS=new WeakMap,PS=new WeakMap,RS=new WeakMap,DS=new WeakMap,NS=new WeakMap,LS=new WeakMap,IS=new WeakMap,FS=new WeakMap,OS=new WeakMap,BS=new WeakMap,jS=new WeakMap,WS=new WeakSet;class zS{constructor(t){let{uiManager:e,pageIndex:n,div:i,structTreeLayer:r,accessibilityManager:a,annotationLayer:s,drawLayer:o,textLayer:l,viewport:c,l10n:u}=t;Ls(this,WS),Is(this,SS,void 0),Is(this,AS,!1),Is(this,ES,null),Is(this,CS,null),Is(this,MS,null),Is(this,TS,new Map),Is(this,PS,!1),Is(this,RS,!1),Is(this,DS,!1),Is(this,NS,null),Is(this,LS,null),Is(this,IS,null),Is(this,FS,null),Is(this,OS,null),Is(this,BS,-1),Is(this,jS,void 0);const h=[...YS._.values()];if(!zS._initialized){zS._initialized=!0;for(const t of h)t.initialize(u,e)}e.registerEditorTypes(h),js(jS,this,e),this.pageIndex=n,this.div=i,js(SS,this,a),js(ES,this,s),this.viewport=c,js(IS,this,l),this.drawLayer=o,this._structTree=r,Bs(jS,this).addLayer(this)}get isEmpty(){return 0===Bs(TS,this).size}get isInvisible(){return this.isEmpty&&Bs(jS,this).getMode()===bo.NONE}updateToolbar(t){Bs(jS,this).updateToolbar(t)}updateMode(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bs(jS,this).getMode();switch(Fs(WS,this,XS).call(this),t){case bo.NONE:return this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),void this.disableClick();case bo.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case bo.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;if(e.toggle("nonEditing",!1),t===bo.POPUP)e.toggle("commentEditing",!0);else{e.toggle("commentEditing",!1);for(const n of YS._.values())e.toggle("".concat(n._type,"Editing"),t===n._editorType)}this.div.hidden=!1}hasTextLayer(t){var e;return t===(null===(e=Bs(IS,this))||void 0===e?void 0:e.div)}setEditingState(t){Bs(jS,this).setEditingState(t)}addCommands(t){Bs(jS,this).addCommands(t)}cleanUndoStack(t){Bs(jS,this).cleanUndoStack(t)}toggleDrawing(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.div.classList.toggle("drawing",!t)}togglePointerEvents(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(){var t;let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];null===(t=Bs(ES,this))||void 0===t||t.div.classList.toggle("disabled",!e)}async enable(){var t;js(DS,this,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),null===(t=Bs(OS,this))||void 0===t||t.abort(),js(OS,this,null);const e=new Set;for(const i of Os(WS,this,US))i.enableEditing(),i.show(!0),i.annotationElementId&&(Bs(jS,this).removeChangedExistingAnnotation(i),e.add(i.annotationElementId));const n=Bs(ES,this);if(n)for(const i of n.getEditableAnnotations()){if(i.hide(),Bs(jS,this).isDeletedAnnotationElement(i.data.id))continue;if(e.has(i.data.id))continue;const t=await this.deserialize(i);t&&(this.addOrRebuild(t),t.enableEditing())}js(DS,this,!1),Bs(jS,this)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){if(js(RS,this,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),Bs(IS,this)&&!Bs(OS,this)){js(OS,this,new AbortController);const t=Bs(jS,this).combinedSignal(Bs(OS,this));Bs(IS,this).div.addEventListener("pointerdown",(t=>{const{clientX:e,clientY:n,timeStamp:i}=t;if(i-Bs(BS,this)>500)return void js(BS,this,i);js(BS,this,-1);const{classList:r}=this.div;r.toggle("getElements",!0);const a=document.elementsFromPoint(e,n);if(r.toggle("getElements",!1),!this.div.contains(a[0]))return;let s;const o=new RegExp("^".concat(yo,"[0-9]+$"));for(const c of a)if(o.test(c.id)){s=c.id;break}if(!s)return;const l=Bs(TS,this).get(s);null===(null===l||void 0===l?void 0:l.annotationElementId)&&(t.stopPropagation(),t.preventDefault(),l.dblclick(t))}),{signal:t,capture:!0})}const t=Bs(ES,this);if(t){const n=new Map,i=new Map;for(const a of Os(WS,this,US)){var e;a.disableEditing(),a.annotationElementId?null===a.serialize()?(i.set(a.annotationElementId,a),null===(e=this.getEditableAnnotation(a.annotationElementId))||void 0===e||e.show(),a.remove()):n.set(a.annotationElementId,a):a.updateFakeAnnotationElement(t)}const r=t.getEditableAnnotations();for(const t of r){const{id:e}=t.data;if(Bs(jS,this).isDeletedAnnotationElement(e)){t.updateEdited({deleted:!0});continue}let r=i.get(e);r?(r.resetAnnotationElement(t),r.show(!1),t.show()):(r=n.get(e),r&&(Bs(jS,this).addChangedExistingAnnotation(r),r.renderAnnotationElement(t)&&r.show(!1)),t.show())}}Fs(WS,this,XS).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const i of YS._.values())n.remove("".concat(i._type,"Editing"));this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),js(RS,this,!1)}getEditableAnnotation(t){var e;return(null===(e=Bs(ES,this))||void 0===e?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){Bs(jS,this).getActive()!==t&&Bs(jS,this).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,null!==(t=Bs(IS,this))&&void 0!==t&&t.div&&!Bs(FS,this)){js(FS,this,new AbortController);const t=Bs(jS,this).combinedSignal(Bs(FS,this));Bs(IS,this).div.addEventListener("pointerdown",Fs(WS,this,HS).bind(this),{signal:t}),Bs(IS,this).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,null!==(t=Bs(IS,this))&&void 0!==t&&t.div&&Bs(FS,this)&&(Bs(FS,this).abort(),js(FS,this,null),Bs(IS,this).div.classList.remove("highlighting"))}enableClick(){if(Bs(CS,this))return;js(CS,this,new AbortController);const t=Bs(jS,this).combinedSignal(Bs(CS,this));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){var t;null===(t=Bs(CS,this))||void 0===t||t.abort(),js(CS,this,null)}attach(t){Bs(TS,this).set(t.id,t);const{annotationElementId:e}=t;e&&Bs(jS,this).isDeletedAnnotationElement(e)&&Bs(jS,this).removeDeletedAnnotationElement(t)}detach(t){var e;Bs(TS,this).delete(t.id),null===(e=Bs(SS,this))||void 0===e||e.removePointerInTextLayer(t.contentDiv),!Bs(RS,this)&&t.annotationElementId&&Bs(jS,this).addDeletedAnnotationElement(t)}remove(t){this.detach(t),Bs(jS,this).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(Bs(jS,this).addDeletedAnnotationElement(t.annotationElementId),md.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),null===(e=t.parent)||void 0===e||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(t.parent!==this||!t.isAttachedToDOM){if(this.changeParent(t),Bs(jS,this).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!Bs(DS,this)),Bs(jS,this).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var e;if(!t.isAttachedToDOM)return;const{activeElement:n}=document;t.div.contains(n)&&!Bs(MS,this)&&(t._focusEventsAllowed=!1,js(MS,this,setTimeout((()=>{js(MS,this,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",(()=>{t._focusEventsAllowed=!0}),{once:!0,signal:Bs(jS,this)._signal}),n.focus())}),0))),t._structTreeParentId=null===(e=Bs(SS,this))||void 0===e?void 0:e.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){this.addCommands({cmd:()=>t._uiManager.rebuild(t),undo:()=>{t.remove()},mustExec:!1})}getEditorByUID(t){for(const e of Bs(TS,this).values())if(e.uid===t)return e;return null}getNextId(){return Bs(jS,this).getId()}combinedSignal(t){return Bs(jS,this).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return null===(t=Os(WS,this,VS))||void 0===t?void 0:t.canCreateNewEmptyEditor()}async pasteEditor(t,e){this.updateToolbar(t),await Bs(jS,this).updateMode(t.mode);const{offsetX:n,offsetY:i}=Fs(WS,this,qS).call(this),r=this.getNextId(),a=Fs(WS,this,GS).call(this,h({parent:this,id:r,x:n,y:i,uiManager:Bs(jS,this),isCentered:!0},e));a&&this.add(a)}async deserialize(t){var e,n;return await(null===(e=YS._.get(null!==(n=t.annotationType)&&void 0!==n?n:t.annotationEditorType))||void 0===e?void 0:e.deserialize(t,this,Bs(jS,this)))||null}createAndAddNewEditor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=this.getNextId(),r=Fs(WS,this,GS).call(this,h({parent:this,id:i,x:t.offsetX,y:t.offsetY,uiManager:Bs(jS,this),isCentered:e},n));return r&&this.add(r),r}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.createAndAddNewEditor(Fs(WS,this,qS).call(this),!0,t)}setSelected(t){Bs(jS,this).setSelected(t)}toggleSelected(t){Bs(jS,this).toggleSelected(t)}unselect(t){Bs(jS,this).unselect(t)}pointerup(t){var e;const{isMac:n}=al.platform;if(0!==t.button||t.ctrlKey&&n)return;if(t.target!==this.div)return;if(!Bs(PS,this))return;if(js(PS,this,!1),null!==(e=Os(WS,this,VS))&&void 0!==e&&e.isDrawer&&Os(WS,this,VS).supportMultipleDrawings)return;if(!Bs(AS,this))return void js(AS,this,!0);const i=Bs(jS,this).getMode();i!==bo.STAMP&&i!==bo.SIGNATURE?this.createAndAddNewEditor(t,!1):Bs(jS,this).unselectAll()}pointerdown(t){var e;if(Bs(jS,this).getMode()===bo.HIGHLIGHT&&this.enableTextSelection(),Bs(PS,this))return void js(PS,this,!1);const{isMac:n}=al.platform;if(0!==t.button||t.ctrlKey&&n)return;if(t.target!==this.div)return;if(js(PS,this,!0),null!==(e=Os(WS,this,VS))&&void 0!==e&&e.isDrawer)return void this.startDrawingSession(t);const i=Bs(jS,this).getActive();js(AS,this,!i||i.isEmpty())}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),Bs(NS,this))return void Os(WS,this,VS).startDrawing(this,Bs(jS,this),!1,t);Bs(jS,this).setCurrentDrawingSession(this),js(NS,this,new AbortController);const e=Bs(jS,this).combinedSignal(Bs(NS,this));this.div.addEventListener("blur",(t=>{let{relatedTarget:e}=t;e&&!this.div.contains(e)&&(js(LS,this,null),this.commitOrRemove())}),{signal:e}),Os(WS,this,VS).startDrawing(this,Bs(jS,this),!1,t)}pause(t){if(t){const{activeElement:t}=document;this.div.contains(t)&&js(LS,this,t)}else Bs(LS,this)&&setTimeout((()=>{var t;null===(t=Bs(LS,this))||void 0===t||t.focus(),js(LS,this,null)}),0)}endDrawingSession(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Bs(NS,this)?(Bs(jS,this).setCurrentDrawingSession(null),Bs(NS,this).abort(),js(NS,this,null),js(LS,this,null),Os(WS,this,VS).endDrawing(t)):null}findNewParent(t,e,n){const i=Bs(jS,this).findParent(e,n);return null!==i&&i!==this&&(i.changeParent(t),!0)}commitOrRemove(){return!!Bs(NS,this)&&(this.endDrawingSession(),!0)}onScaleChanging(){Bs(NS,this)&&Os(WS,this,VS).onScaleChangingWhenDrawing(this)}destroy(){var t;this.commitOrRemove(),(null===(t=Bs(jS,this).getActive())||void 0===t?void 0:t.parent)===this&&(Bs(jS,this).commitOrRemove(),Bs(jS,this).setActiveEditor(null)),Bs(MS,this)&&(clearTimeout(Bs(MS,this)),js(MS,this,null));for(const n of Bs(TS,this).values()){var e;null===(e=Bs(SS,this))||void 0===e||e.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove()}this.div=null,Bs(TS,this).clear(),Bs(jS,this).removeLayer(this)}render(t){let{viewport:e}=t;this.viewport=e,Ll(this.div,e);for(const n of Bs(jS,this).getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update(t){let{viewport:e}=t;Bs(jS,this).commitOrRemove(),Fs(WS,this,XS).call(this);const n=this.viewport.rotation,i=e.rotation;if(this.viewport=e,Ll(this.div,{rotation:i}),n!==i)for(const r of Bs(TS,this).values())r.rotate(i)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return Bs(jS,this).viewParameters.realScale}}function US(t){return 0!==Bs(TS,t).size?Bs(TS,t).values():Bs(jS,t).getEditors(t.pageIndex)}function HS(t){Bs(jS,this).unselectAll();const{target:e}=t;if(e===Bs(IS,this).div||("img"===e.getAttribute("role")||e.classList.contains("endOfContent"))&&Bs(IS,this).div.contains(e)){const{isMac:e}=al.platform;if(0!==t.button||t.ctrlKey&&e)return;Bs(jS,this).showAllEditors("highlight",!0,!0),Bs(IS,this).div.classList.add("free"),this.toggleDrawing(),y_.startHighlighting(this,"ltr"===Bs(jS,this).direction,{target:Bs(IS,this).div,x:t.x,y:t.y}),Bs(IS,this).div.addEventListener("pointerup",(()=>{Bs(IS,this).div.classList.remove("free"),this.toggleDrawing(!0)}),{once:!0,signal:Bs(jS,this)._signal}),t.preventDefault()}}function VS(t){return YS._.get(Bs(jS,t).getMode())}function GS(t){const e=Os(WS,this,VS);return e?new e.prototype.constructor(t):null}function qS(){const{x:t,y:e,width:n,height:i}=this.boundingClientRect,r=Math.max(0,t),a=Math.max(0,e),s=(r+Math.min(window.innerWidth,t+n))/2-t,o=(a+Math.min(window.innerHeight,e+i))/2-e,[l,c]=this.viewport.rotation%180===0?[s,o]:[o,s];return{offsetX:l,offsetY:c}}function XS(){for(const t of Bs(TS,this).values())t.isEmpty()&&t.remove()}c(zS,"_initialized",!1);var YS={_:new Map([Gw,Nk,gS,y_,nS].map((t=>[t._editorType,t])))},KS=new WeakMap,QS=new WeakMap,$S=new WeakMap,JS=new WeakSet;class ZS{constructor(t){let{pageIndex:e}=t;Ls(this,JS),Is(this,KS,null),Is(this,QS,new Map),Is(this,$S,new Map),this.pageIndex=e}setParent(t){if(Bs(KS,this)){if(Bs(KS,this)!==t){if(Bs(QS,this).size>0)for(const e of Bs(QS,this).values())e.remove(),t.append(e);js(KS,this,t)}}else js(KS,this,t)}static get _svgFactory(){return Ko(this,"_svgFactory",new Vy)}draw(t){var e,n;let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=(rA._=(e=rA._,n=e++,e),n),s=Fs(JS,this,eA).call(this),o=ZS._svgFactory.createElement("defs");s.append(o);const l=ZS._svgFactory.createElement("path");o.append(l);const c="path_p".concat(this.pageIndex,"_").concat(a);l.setAttribute("id",c),l.setAttribute("vector-effect","non-scaling-stroke"),i&&Bs($S,this).set(a,l);const u=r?Fs(JS,this,nA).call(this,o,c):null,h=ZS._svgFactory.createElement("use");return s.append(h),h.setAttribute("href","#".concat(c)),this.updateProperties(s,t),Bs(QS,this).set(a,s),{id:a,clipPathId:"url(#".concat(u,")")}}drawOutline(t,e){var n,i;const r=(rA._=(n=rA._,i=n++,n),i),a=Fs(JS,this,eA).call(this),s=ZS._svgFactory.createElement("defs");a.append(s);const o=ZS._svgFactory.createElement("path");s.append(o);const l="path_p".concat(this.pageIndex,"_").concat(r);let c;if(o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke"),e){const t=ZS._svgFactory.createElement("mask");s.append(t),c="mask_p".concat(this.pageIndex,"_").concat(r),t.setAttribute("id",c),t.setAttribute("maskUnits","objectBoundingBox");const e=ZS._svgFactory.createElement("rect");t.append(e),e.setAttribute("width","1"),e.setAttribute("height","1"),e.setAttribute("fill","white");const n=ZS._svgFactory.createElement("use");t.append(n),n.setAttribute("href","#".concat(l)),n.setAttribute("stroke","none"),n.setAttribute("fill","black"),n.setAttribute("fill-rule","nonzero"),n.classList.add("mask")}const u=ZS._svgFactory.createElement("use");a.append(u),u.setAttribute("href","#".concat(l)),c&&u.setAttribute("mask","url(#".concat(c,")"));const h=u.cloneNode();return a.append(h),u.classList.add("mainOutline"),h.classList.add("secondaryOutline"),this.updateProperties(a,t),Bs(QS,this).set(r,a),r}finalizeDraw(t,e){Bs($S,this).delete(t),this.updateProperties(t,e)}updateProperties(t,e){if(!e)return;const{root:n,bbox:i,rootClass:r,path:a}=e,s="number"===typeof t?Bs(QS,this).get(t):t;if(s){if(n&&Fs(JS,this,iA).call(this,s,n),i&&tA.call(ZS,s,i),r){const{classList:t}=s;for(const[e,n]of Object.entries(r))t.toggle(e,n)}if(a){const t=s.firstChild.firstChild;Fs(JS,this,iA).call(this,t,a)}}}updateParent(t,e){if(e===this)return;const n=Bs(QS,this).get(t);n&&(Bs(KS,e).append(n),Bs(QS,this).delete(t),Bs(QS,e).set(t,n))}remove(t){Bs($S,this).delete(t),null!==Bs(KS,this)&&(Bs(QS,this).get(t).remove(),Bs(QS,this).delete(t))}destroy(){js(KS,this,null);for(const t of Bs(QS,this).values())t.remove();Bs(QS,this).clear(),Bs($S,this).clear()}}function tA(t,e){let[n,i,r,a]=e;const{style:s}=t;s.top="".concat(100*i,"%"),s.left="".concat(100*n,"%"),s.width="".concat(100*r,"%"),s.height="".concat(100*a,"%")}function eA(){const t=ro._svgFactory.create(1,1,!0);return Bs(KS,this).append(t),t.setAttribute("aria-hidden",!0),t}function nA(t,e){const n=ro._svgFactory.createElement("clipPath");t.append(n);const i="clip_".concat(e);n.setAttribute("id",i),n.setAttribute("clipPathUnits","objectBoundingBox");const r=ro._svgFactory.createElement("use");return n.append(r),r.setAttribute("href","#".concat(e)),r.classList.add("clip"),i}function iA(t,e){for(const[n,i]of Object.entries(e))null===i?t.removeAttribute(n):t.setAttribute(n,i)}ro=ZS;var rA={_:0};function aA(t){var e,n,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t)if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=aA(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}globalThis._pdfjsTestingUtils={HighlightOutliner:Ux},globalThis.pdfjsLib={AbortException:nl,AnnotationEditorLayer:zS,AnnotationEditorParamsType:wo,AnnotationEditorType:bo,AnnotationEditorUIManager:Mu,AnnotationLayer:Fw,AnnotationMode:vo,AnnotationType:Mo,applyOpacity:function(t,e,n,i){const r=255*(1-(i=Math.min(Math.max(null!==i&&void 0!==i?i:1,0),1)));return[t=Math.round(t*i+r),e=Math.round(e*i+r),n=Math.round(n*i+r)]},build:"f56dc8601",ColorPicker:Cy,createValidAbsoluteUrl:Xo,CSSConstants:class{static get commentForegroundColor(){const t=document.createElement("span");t.classList.add("comment","sidebar");const{style:e}=t;e.width=e.height="0",e.display="none",e.color="var(--comment-fg-color)",document.body.append(t);const{color:n}=window.getComputedStyle(t);return t.remove(),Ko(this,"commentForegroundColor",Rl(n))}},DOMSVGFactory:Vy,DrawLayer:ZS,FeatureTest:al,fetchData:wl,findContrastColor:function(t,e){const n=t[0]+256*t[1]+65536*t[2]+16777216*e[0]+4294967296*e[1]+1099511627776*e[2];let i=Ul.get(n);if(i)return i;const r=new Float32Array(9),a=r.subarray(0,3),s=r.subarray(3,6);Bl(t,s);const o=r.subarray(6,9);Bl(e,o);const l=o[2]<.5,c=l?12:4.5;if(s[2]=l?Math.sqrt(s[2]):1-Math.sqrt(1-s[2]),zl(s,o,a)<c){let t,e;l?(t=s[2],e=1):(t=0,e=s[2]);const n=.005;for(;e-t>n;){const n=s[2]=(t+e)/2;l===zl(s,o,a)<c?t=n:e=n}s[2]=l?e:t}return jl(s,a),i=ol.makeHexColor(Math.round(255*a[0]),Math.round(255*a[1]),Math.round(255*a[2])),Ul.set(n,i),i},getDocument:Mv,getFilenameFromUrl:function(t){return[t]=t.split(/[#?]/,1),t.substring(t.lastIndexOf("/")+1)},getPdfFilenameFromUrl:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!==typeof t)return e;if(kl(t))return Vo('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=(t=>{try{return new URL(t)}catch(e){try{return new URL(decodeURIComponent(t))}catch(n){try{return new URL(t,"https://foo.bar")}catch(i){try{return new URL(decodeURIComponent(t),"https://foo.bar")}catch(r){return null}}}}})(t);if(!n)return e;const i=t=>{try{let e=decodeURIComponent(t);return e.includes("/")?(e=e.split("/").at(-1),e.test(/^\.pdf$/i)?e:t):e}catch(e){return t}},r=/\.pdf$/i,a=n.pathname.split("/").at(-1);if(r.test(a))return i(a);if(n.searchParams.size>0){const t=Array.from(n.searchParams.values()).reverse();for(const n of t)if(r.test(n))return i(n);const e=Array.from(n.searchParams.keys()).reverse();for(const n of e)if(r.test(n))return i(n)}if(n.hash){const t=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(t)return i(t[0])}return e},getRGB:Rl,getUuid:dl,getXfaPageViewport:function(t,e){let{scale:n=1,rotation:i=0}=e;const{width:r,height:a}=t.attributes.style,s=[0,0,parseInt(r),parseInt(a)];return new xl({viewBox:s,userUnit:1,scale:n,rotation:i})},GlobalWorkerOptions:rm,ImageKind:Co,InvalidPDFException:Zo,isDataScheme:kl,isPdfFile:Sl,isValidExplicitDest:rf,MathClamp:pl,noContextMenu:Cl,normalizeUnicode:function(t){return ul||(ul=/([\xA0\xB5\u037E\u0EB3\u2000-\u200A\u202F\u2126\uFB00-\uFB04\uFB06\uFB20-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBA1\uFBA4-\uFBA9\uFBAE-\uFBB1\uFBD3-\uFBDC\uFBDE-\uFBE7\uFBEA-\uFBF8\uFBFC\uFBFD\uFC00-\uFC5D\uFC64-\uFCF1\uFCF5-\uFD3D\uFD88\uFDF4\uFDFA\uFDFB\uFE71\uFE77\uFE79\uFE7B\uFE7D]+)|(\uFB05+)/g,hl=new Map([["\ufb05","\u017ft"]])),t.replaceAll(ul,((t,e,n)=>e?e.normalize("NFKC"):hl.get(n)))},OPS:Io,OutputScale:Il,PasswordResponses:{NEED_PASSWORD:1,INCORRECT_PASSWORD:2},PDFDataRangeTransport:Fv,PDFDateString:Tl,PDFWorker:Xv,PermissionFlag:{PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},PixelsPerInch:bl,RenderingCancelledException:_l,renderRichText:Hl,ResponseException:tl,setLayerDimensions:Ll,shadow:Ko,SignatureExtractor:Fk,stopEvent:Ml,SupportedImageMimeTypes:Fl,TextLayer:gv,TouchManager:jh,updateUrlHash:Yo,Util:ol,VerbosityLevel:Lo,version:gy,XfaLayer:vl};const sA=function(){for(var t,e,n=0,i="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=aA(t))&&(i&&(i+=" "),i+=e);return i};var oA=Object.prototype.hasOwnProperty;function lA(t,e,n){for(n of t.keys())if(cA(n,e))return n}function cA(t,e){var n,i,r;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((i=t.length)===e.length)for(;i--&&cA(t[i],e[i]););return-1===i}if(n===Set){if(t.size!==e.size)return!1;for(i of t){if((r=i)&&"object"===typeof r&&!(r=lA(e,r)))return!1;if(!e.has(r))return!1}return!0}if(n===Map){if(t.size!==e.size)return!1;for(i of t){if((r=i[0])&&"object"===typeof r&&!(r=lA(e,r)))return!1;if(!cA(i[1],e.get(r)))return!1}return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((i=t.byteLength)===e.byteLength)for(;i--&&t.getInt8(i)===e.getInt8(i););return-1===i}if(ArrayBuffer.isView(t)){if((i=t.byteLength)===e.byteLength)for(;i--&&t[i]===e[i];);return-1===i}if(!n||"object"===typeof t){for(n in i=0,t){if(oA.call(t,n)&&++i&&!oA.call(e,n))return!1;if(!(n in e)||!cA(t[n],e[n]))return!1}return Object.keys(e).length===i}}return t!==t&&e!==e}function uA(t){let e=!1;const n=new Promise(((n,i)=>{t.then((t=>!e&&n(t))).catch((t=>!e&&i(t)))}));return{promise:n,cancel(){e=!0}}}const hA=["onCopy","onCut","onPaste","onCompositionEnd","onCompositionStart","onCompositionUpdate","onFocus","onBlur","onInput","onInvalid","onReset","onSubmit","onLoad","onError","onKeyDown","onKeyPress","onKeyUp","onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting","onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut","onScroll","onWheel","onAnimationStart","onAnimationEnd","onAnimationIteration","onTransitionEnd","onChange","onToggle"];function dA(t,e){const n={};for(const i of hA){const r=t[i];r&&(n[i]=e?t=>r(t,e(i)):r)}return n}var fA="Invariant failed";function pA(t,e){if(!t)throw new Error(fA)}var gA=n(440);const mA=(0,r.createContext)(null);class vA{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHash(){}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return pA(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){pA(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}addLinkAttributes(t,e,n){t.href=e,t.rel=this.externalLinkRel||"noopener noreferrer nofollow",t.target=n?"_blank":this.externalLinkTarget||""}goToDestination(t){return new Promise((e=>{pA(this.pdfDocument),pA(t),"string"===typeof t?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)})).then((t=>{pA(Array.isArray(t),'"'.concat(t,'" is not a valid destination array.'));const e=t[0];new Promise((t=>{pA(this.pdfDocument),e instanceof Object?this.pdfDocument.getPageIndex(e).then((e=>{t(e)})).catch((()=>{pA(!1,'"'.concat(e,'" is not a valid page reference.'))})):"number"===typeof e?t(e):pA(!1,'"'.concat(e,'" is not a valid destination reference.'))})).then((e=>{const n=e+1;pA(this.pdfViewer),pA(n>=1&&n<=this.pagesCount,'"'.concat(n,'" is not a valid page number.')),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:e,pageNumber:n})}))}))}goToPage(t){const e=t-1;pA(this.pdfViewer),pA(t>=1&&t<=this.pagesCount,'"'.concat(t,'" is not a valid page number.')),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}goToXY(){}cachePageRef(){}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}executeNamedAction(){}executeSetOCGState(){}isPageVisible(){return!0}isPageCached(){return!0}navigateTo(t){this.goToDestination(t)}}function yA(t){let{children:e,type:n}=t;return(0,ke.jsx)("div",{className:"react-pdf__message react-pdf__message--".concat(n),children:e})}const bA={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function wA(t,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return t}}function xA(){return(0,r.useReducer)(wA,{value:void 0,error:void 0})}const _A="undefined"!==typeof window,kA=_A&&"file:"===window.location.protocol;function SA(t){return function(t){return"undefined"!==typeof t}(t)&&null!==t}function AA(t){return function(t){return"string"===typeof t}(t)&&/^data:/.test(t)}function EA(t){pA(AA(t));const[e="",n=""]=t.split(",");return-1!==e.split(";").indexOf("base64")?atob(n):unescape(n)}function CA(){return _A&&window.devicePixelRatio||1}const MA="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function TA(){gA(!kA,"Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ".concat(MA))}function PA(t){(null===t||void 0===t?void 0:t.cancel)&&t.cancel()}function RA(t,e){return Object.defineProperty(t,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(t,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(t,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(t,"originalHeight",{get(){return this.view[3]},configurable:!0}),t}const DA=["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate","scale"],NA=["url"],{Tm:LA}=i,IA=(t,e)=>{switch(e){case bA.NEED_PASSWORD:t(prompt("Enter the password to open this PDF file."));break;case bA.INCORRECT_PASSWORD:t(prompt("Invalid password. Please try again."));break}};function FA(t){return"object"===typeof t&&null!==t&&("data"in t||"range"in t||"url"in t)}const OA=(0,r.forwardRef)((function(t,e){let{children:n,className:i,error:a="Failed to load PDF file.",externalLinkRel:o,externalLinkTarget:l,file:c,inputRef:u,imageResourcesPath:d,loading:f="Loading PDF\u2026",noData:p="No PDF file specified.",onItemClick:g,onLoadError:m,onLoadProgress:v,onLoadSuccess:y,onPassword:b=IA,onSourceError:w,onSourceSuccess:x,options:_,renderMode:k,rotate:S,scale:A}=t,E=s(t,DA);const[C,M]=xA(),{value:T,error:P}=C,[R,D]=xA(),{value:N,error:L}=R,I=(0,r.useRef)(new vA),F=(0,r.useRef)([]),O=(0,r.useRef)(void 0),B=(0,r.useRef)(void 0);c&&c!==O.current&&FA(c)&&(gA(!cA(c,O.current),'File prop passed to <Document /> changed, but it\'s equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.'),O.current=c),_&&_!==B.current&&(gA(!cA(_,B.current),'Options prop passed to <Document /> changed, but it\'s equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.'),B.current=_);const j=(0,r.useRef)({scrollPageIntoView:t=>{const{dest:e,pageNumber:n,pageIndex:i=n-1}=t;if(g)return void g({dest:e,pageIndex:i,pageNumber:n});const r=F.current[i];r?r.scrollIntoView():gA(!1,"An internal link leading to page ".concat(n," was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>."))}});(0,r.useImperativeHandle)(e,(()=>({linkService:I,pages:F,viewer:j})),[]),(0,r.useEffect)((function(){M({type:"RESET"})}),[c,M]);const W=(0,r.useCallback)((async()=>{if(!c)return null;if("string"===typeof c){if(AA(c)){return{data:EA(c)}}return TA(),{url:c}}if(c instanceof LA)return{range:c};if(c instanceof ArrayBuffer)return{data:c};if(_A&&function(t){return pA(_A),t instanceof Blob}(c)){const t=await function(t){return new Promise(((e,n)=>{const i=new FileReader;i.onload=()=>{if(!i.result)return n(new Error("Error while reading a file."));e(i.result)},i.onerror=t=>{if(!t.target)return n(new Error("Error while reading a file."));const{error:e}=t.target;if(!e)return n(new Error("Error while reading a file."));switch(e.code){case e.NOT_FOUND_ERR:return n(new Error("Error while reading a file: File not found."));case e.SECURITY_ERR:return n(new Error("Error while reading a file: Security error."));case e.ABORT_ERR:return n(new Error("Error while reading a file: Aborted."));default:return n(new Error("Error while reading a file."))}},i.readAsArrayBuffer(t)}))}(c);return{data:t}}if(pA("object"===typeof c),pA(FA(c)),"url"in c&&"string"===typeof c.url){if(AA(c.url)){const{url:t}=c,e=s(c,NA);return h({data:EA(t)},e)}TA()}return c}),[c]);(0,r.useEffect)((()=>{const t=uA(W());return t.promise.then((t=>{M({type:"RESOLVE",value:t})})).catch((t=>{M({type:"REJECT",error:t})})),()=>{PA(t)}}),[W,M]),(0,r.useEffect)((()=>{"undefined"!==typeof T&&(!1!==T?x&&x():P&&(gA(!1,P.toString()),w&&w(P)))}),[T]),(0,r.useEffect)((function(){D({type:"RESET"})}),[D,T]),(0,r.useEffect)((function(){if(!T)return;const t=Mv(_?h(h({},T),_):T);v&&(t.onProgress=v),b&&(t.onPassword=b);const e=t,n=e.promise.then((t=>{D({type:"RESOLVE",value:t})})).catch((t=>{e.destroyed||D({type:"REJECT",error:t})}));return()=>{n.finally((()=>e.destroy()))}}),[_,D,T]),(0,r.useEffect)((()=>{"undefined"!==typeof N&&(!1!==N?N&&(y&&y(N),F.current=new Array(N.numPages),I.current.setDocument(N)):L&&(gA(!1,L.toString()),m&&m(L)))}),[N]),(0,r.useEffect)((function(){I.current.setViewer(j.current),I.current.setExternalLinkRel(o),I.current.setExternalLinkTarget(l)}),[o,l]);const z=(0,r.useCallback)(((t,e)=>{F.current[t]=e}),[]),U=(0,r.useCallback)((t=>{delete F.current[t]}),[]),H=(0,r.useMemo)((()=>({imageResourcesPath:d,linkService:I.current,onItemClick:g,pdf:N,registerPage:z,renderMode:k,rotate:S,scale:A,unregisterPage:U})),[d,g,N,z,k,S,A,U]),V=(0,r.useMemo)((()=>dA(E,(()=>N))),[E,N]);return(0,ke.jsx)("div",h(h({className:sA("react-pdf__Document",i),ref:u},V),{},{children:c?void 0===N||null===N?(0,ke.jsx)(yA,{type:"loading",children:"function"===typeof f?f():f}):!1===N?(0,ke.jsx)(yA,{type:"error",children:"function"===typeof a?a():a}):function(){if(t=H,!Boolean(null===t||void 0===t?void 0:t.pdf))throw new Error("pdf is undefined");var t;const e="function"===typeof n?n(H):n;return(0,ke.jsx)(mA.Provider,{value:H,children:e})}():(0,ke.jsx)(yA,{type:"no-data",children:"function"===typeof p?p():p})}))})),BA=OA;function jA(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.filter(Boolean);return n.length<=1?n[0]||null:function(t){for(var e=0,i=n;e<i.length;e++){var r=i[e];"function"===typeof r?r(t):r&&(r.current=t)}}}function WA(){return(0,r.useContext)(mA)}const zA=(0,r.createContext)(null);function UA(){return(0,r.useContext)(zA)}function HA(){const t=WA(),e=UA();pA(e);const n=h(h({},t),e),{imageResourcesPath:i,linkService:a,onGetAnnotationsError:s,onGetAnnotationsSuccess:o,onRenderAnnotationLayerError:l,onRenderAnnotationLayerSuccess:c,page:u,pdf:d,renderForms:f,rotate:p,scale:g=1}=n;pA(d),pA(u),pA(a);const[m,v]=xA(),{value:y,error:b}=m,w=(0,r.useRef)(null);gA(1===Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10),"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations"),(0,r.useEffect)((function(){v({type:"RESET"})}),[v,u]),(0,r.useEffect)((function(){if(!u)return;const t=uA(u.getAnnotations()),e=t;return t.promise.then((t=>{v({type:"RESOLVE",value:t})})).catch((t=>{v({type:"REJECT",error:t})})),()=>{PA(e)}}),[v,u]),(0,r.useEffect)((()=>{void 0!==y&&(!1!==y?y&&o&&o(y):b&&(gA(!1,b.toString()),s&&s(b)))}),[y]);const x=(0,r.useMemo)((()=>u.getViewport({scale:g,rotation:p})),[u,p,g]);return(0,r.useEffect)((function(){if(!d||!u||!a||!y)return;const{current:t}=w;if(!t)return;const e=x.clone({dontFlip:!0}),n={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,annotationStorage:d.annotationStorage,commentManager:null,div:t,l10n:null,linkService:a,page:u,structTreeLayer:null,viewport:e},r={annotations:y,annotationStorage:d.annotationStorage,div:t,imageResourcesPath:i,linkService:a,page:u,renderForms:f,viewport:e};t.innerHTML="";try{new Fw(n).render(r),c&&c()}catch(s){!function(t){gA(!1,"".concat(t)),l&&l(t)}(s)}return()=>{}}),[y,i,a,u,d,f,x]),(0,ke.jsx)("div",{className:sA("react-pdf__Page__annotations","annotationLayer"),ref:w})}const VA={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},GA=/^H(\d+)$/;function qA(t){return"children"in t}function XA(t){return!!qA(t)&&(1===t.children.length&&0 in t.children&&"id"in t.children[0])}function YA(t){const e={};if(qA(t)){const{role:n}=t,i=n.match(GA);if(i)e.role="heading",e["aria-level"]=Number(i[1]);else if(function(t){return t in VA}(n)){const t=VA[n];t&&(e.role=t)}}return e}function KA(t){const e={};if(qA(t)){if(void 0!==t.alt&&(e["aria-label"]=t.alt),void 0!==t.lang&&(e.lang=t.lang),XA(t)){const[n]=t.children;if(n){const t=KA(n);return h(h({},e),t)}}}else"id"in t&&(e["aria-owns"]=t.id);return e}function QA(t){return t?h(h({},YA(t)),KA(t)):null}function $A(t){let{className:e,node:n}=t;const i=(0,r.useMemo)((()=>QA(n)),[n]),a=(0,r.useMemo)((()=>qA(n)?XA(n)?null:n.children.map(((t,e)=>(0,ke.jsx)($A,{node:t},e))):null),[n]);return(0,ke.jsx)("span",h(h({className:e},i),{},{children:a}))}function JA(){const t=UA();pA(t);const{onGetStructTreeError:e,onGetStructTreeSuccess:n}=t,[i,a]=xA(),{value:s,error:o}=i,{customTextRenderer:l,page:c}=t;return(0,r.useEffect)((function(){a({type:"RESET"})}),[a,c]),(0,r.useEffect)((function(){if(l)return;if(!c)return;const t=uA(c.getStructTree()),e=t;return t.promise.then((t=>{a({type:"RESOLVE",value:t})})).catch((t=>{a({type:"REJECT",error:t})})),()=>PA(e)}),[l,c,a]),(0,r.useEffect)((()=>{void 0!==s&&(!1!==s?s&&n&&n(s):o&&(gA(!1,o.toString()),e&&e(o)))}),[s]),s?(0,ke.jsx)($A,{className:"react-pdf__Page__structTree structTree",node:s}):null}const ZA=vo;function tE(t){const e=UA();pA(e);const n=h(h({},e),t),{_className:i,canvasBackground:a,devicePixelRatio:s=CA(),onRenderError:o,onRenderSuccess:l,page:c,renderForms:u,renderTextLayer:d,rotate:f,scale:p}=n,{canvasRef:g}=t;pA(c);const m=(0,r.useRef)(null);function v(t){(function(t){return"RenderingCancelledException"===t.name})(t)||(gA(!1,t.toString()),o&&o(t))}const y=(0,r.useMemo)((()=>c.getViewport({scale:p*s,rotation:f})),[s,c,f,p]),b=(0,r.useMemo)((()=>c.getViewport({scale:p,rotation:f})),[c,f,p]);(0,r.useEffect)((function(){if(!c)return;c.cleanup();const{current:t}=m;if(!t)return;t.width=y.width,t.height=y.height,t.style.width="".concat(Math.floor(b.width),"px"),t.style.height="".concat(Math.floor(b.height),"px"),t.style.visibility="hidden";const e={annotationMode:u?ZA.ENABLE_FORMS:ZA.ENABLE,canvas:t,canvasContext:t.getContext("2d",{alpha:!1}),viewport:y};a&&(e.background=a);const n=c.render(e),i=n;return n.promise.then((()=>{t.style.visibility="",c&&l&&l(RA(c,p))})).catch(v),()=>PA(i)}),[a,c,u,y,b]);const w=(0,r.useCallback)((()=>{const{current:t}=m;t&&(t.width=0,t.height=0)}),[]);return(0,r.useEffect)((()=>w),[w]),(0,ke.jsx)("canvas",{className:"".concat(i,"__canvas"),dir:"ltr",ref:jA(g,m),style:{display:"block",userSelect:"none"},children:d?(0,ke.jsx)(JA,{}):null})}function eE(){const t=UA();pA(t);const{customTextRenderer:e,onGetTextError:n,onGetTextSuccess:i,onRenderTextLayerError:a,onRenderTextLayerSuccess:s,page:o,pageIndex:l,pageNumber:c,rotate:u,scale:d}=t;pA(o);const[f,p]=xA(),{value:g,error:m}=f,v=(0,r.useRef)(null);gA(1===Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10),"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer"),(0,r.useEffect)((function(){p({type:"RESET"})}),[o,p]),(0,r.useEffect)((function(){if(!o)return;const t=uA(o.getTextContent()),e=t;return t.promise.then((t=>{p({type:"RESOLVE",value:t})})).catch((t=>{p({type:"REJECT",error:t})})),()=>PA(e)}),[o,p]),(0,r.useEffect)((()=>{void 0!==g&&(!1!==g?g&&i&&i(g):m&&(gA(!1,m.toString()),n&&n(m)))}),[g]);const y=(0,r.useCallback)((()=>{s&&s()}),[s]),b=(0,r.useCallback)((t=>{gA(!1,t.toString()),a&&a(t)}),[a]);const w=(0,r.useMemo)((()=>o.getViewport({scale:d,rotation:u})),[o,u,d]);return(0,r.useLayoutEffect)((function(){if(!o||!g)return;const{current:t}=v;if(!t)return;t.innerHTML="";const n=o.streamTextContent({includeMarkedContent:!0}),i=new gv({container:t,textContentSource:n,viewport:w}),r=i;return i.render().then((()=>{const n=document.createElement("div");n.className="endOfContent",t.append(n);const i=t.querySelectorAll('[role="presentation"]');if(e){let t=0;g.items.forEach(((n,r)=>{if(!function(t){return"str"in t}(n))return;const a=i[t];if(!a)return;const s=e(h({pageIndex:l,pageNumber:c,itemIndex:r},n));a.innerHTML=s,t+=n.str&&n.hasEOL?2:1}))}y()})).catch(b),()=>PA(r)}),[e,b,y,o,l,c,g,w]),(0,ke.jsx)("div",{className:sA("react-pdf__Page__textContent","textLayer"),onMouseUp:function(){const t=v.current;t&&t.classList.remove("selecting")},onMouseDown:function(){const t=v.current;t&&t.classList.add("selecting")},ref:v})}const nE=["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"],iE=1;function rE(t){const e=h(h({},WA()),t),{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:i=!0,canvasBackground:a,canvasRef:o,children:l,className:c,customRenderer:u,customTextRenderer:d,devicePixelRatio:f,error:p="Failed to load the page.",height:g,inputRef:m,loading:v="Loading page\u2026",noData:y="No page specified.",onGetAnnotationsError:b,onGetAnnotationsSuccess:w,onGetStructTreeError:x,onGetStructTreeSuccess:_,onGetTextError:k,onGetTextSuccess:S,onLoadError:A,onLoadSuccess:E,onRenderAnnotationLayerError:C,onRenderAnnotationLayerSuccess:M,onRenderError:T,onRenderSuccess:P,onRenderTextLayerError:R,onRenderTextLayerSuccess:D,pageIndex:N,pageNumber:L,pdf:I,registerPage:F,renderAnnotationLayer:O=!0,renderForms:B=!1,renderMode:j="canvas",renderTextLayer:W=!0,rotate:z,scale:U=iE,unregisterPage:H,width:V}=e,G=s(e,nE),[q,X]=xA(),{value:Y,error:K}=q,Q=(0,r.useRef)(null);pA(I);const $=SA(L)?L-1:null!==N&&void 0!==N?N:null,J=null!==L&&void 0!==L?L:SA(N)?N+1:null,Z=null!==z&&void 0!==z?z:Y?Y.rotate:null,tt=(0,r.useMemo)((()=>{if(!Y)return null;let t=1;const e=null!==U&&void 0!==U?U:iE;if(V||g){const e=Y.getViewport({scale:1,rotation:Z});V?t=V/e.width:g&&(t=g/e.height)}return e*t}),[g,Y,Z,U,V]);(0,r.useEffect)((function(){return()=>{SA($)&&i&&H&&H($)}}),[i,I,$,H]),(0,r.useEffect)((function(){X({type:"RESET"})}),[X,I,$]),(0,r.useEffect)((function(){if(!I||!J)return;const t=uA(I.getPage(J)),e=t;return t.promise.then((t=>{X({type:"RESOLVE",value:t})})).catch((t=>{X({type:"REJECT",error:t})})),()=>PA(e)}),[X,I,J]),(0,r.useEffect)((()=>{void 0!==Y&&(!1!==Y?function(){if(E){if(!Y||!tt)return;E(RA(Y,tt))}if(i&&F){if(!SA($)||!Q.current)return;F($,Q.current)}}():K&&(gA(!1,K.toString()),A&&A(K)))}),[Y,tt]);const et=(0,r.useMemo)((()=>SA($)&&J&&SA(Z)&&SA(tt)?{_className:n,canvasBackground:a,customTextRenderer:d,devicePixelRatio:f,onGetAnnotationsError:b,onGetAnnotationsSuccess:w,onGetStructTreeError:x,onGetStructTreeSuccess:_,onGetTextError:k,onGetTextSuccess:S,onRenderAnnotationLayerError:C,onRenderAnnotationLayerSuccess:M,onRenderError:T,onRenderSuccess:P,onRenderTextLayerError:R,onRenderTextLayerSuccess:D,page:Y,pageIndex:$,pageNumber:J,renderForms:B,renderTextLayer:W,rotate:Z,scale:tt}:null),[n,a,d,f,b,w,x,_,k,S,C,M,T,P,R,D,Y,$,J,B,W,Z,tt]),nt=(0,r.useMemo)((()=>dA(G,(()=>Y?tt?RA(Y,tt):void 0:Y))),[G,Y,tt]),it="".concat($,"@").concat(tt,"/").concat(Z);function rt(){switch(j){case"custom":return pA(u),(0,ke.jsx)(u,{},"".concat(it,"_custom"));case"none":return null;default:return(0,ke.jsx)(tE,{canvasRef:o},"".concat(it,"_canvas"))}}return(0,ke.jsx)("div",h(h({className:sA(n,c),"data-page-number":J,ref:jA(m,Q),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":"".concat(tt),"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:a||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},nt),{},{children:J?null===I||void 0===Y||null===Y?(0,ke.jsx)(yA,{type:"loading",children:"function"===typeof v?v():v}):!1===I||!1===Y?(0,ke.jsx)(yA,{type:"error",children:"function"===typeof p?p():p}):function(){if(t=et,!Boolean(null===t||void 0===t?void 0:t.page))throw new Error("page is undefined");var t;const e="function"===typeof l?l(et):l;return(0,ke.jsxs)(zA.Provider,{value:et,children:[rt(),W?(0,ke.jsx)(eE,{},"".concat(it,"_text")):null,O?(0,ke.jsx)(HA,{},"".concat(it,"_annotations")):null,e]})}():(0,ke.jsx)(yA,{type:"no-data",children:"function"===typeof y?y():y})}))}function aE(){const t="diploma"===new URLSearchParams(window.location.search).get("doc")?"diploma":"resume",[e,n]=r.useState(t),[i,a]=(0,r.useState)(!1),[s,o]=(0,r.useState)(0),l=(0,r.useMemo)((()=>({resume:{label:"Resume",url:"".concat("/hyder","/HyderMohyuddin-Resume.pdf")},diploma:{label:"Diploma",url:"".concat("/hyder","/HyderMohyuddin-Diploma.pdf")}})),[]),c=l[e];(0,r.useEffect)((()=>{var t;const e=window.matchMedia("(max-width: 900px)"),n=()=>a(e.matches);return n(),null===(t=e.addEventListener)||void 0===t||t.call(e,"change",n),()=>{var t;return null===(t=e.removeEventListener)||void 0===t?void 0:t.call(e,"change",n)}}),[]);const u=(0,r.useRef)(null),[h,d]=(0,r.useState)(800);return(0,r.useEffect)((()=>{if(!i)return;const t=u.current;if(!t)return;const e=new ResizeObserver((t=>{let[e]=t;const n=Math.floor(e.contentRect.width);d(Math.max(320,Math.min(1200,n)))}));return e.observe(t),()=>e.disconnect()}),[i]),(0,r.useEffect)((()=>{o(0)}),[e]),(0,ke.jsxs)("div",{className:"resume-pdf-wrapper",children:[(0,ke.jsx)("div",{className:"doc-toggle",role:"tablist","aria-label":"Document selector",children:["resume","diploma"].map((t=>(0,ke.jsx)("button",{role:"tab","aria-selected":e===t,"aria-controls":"pdf-viewer",className:"doc-toggle-btn ".concat(e===t?"active":""),onClick:()=>n(t),children:l[t].label},t)))}),i?(0,ke.jsxs)("div",{className:"pdf-viewport",children:[(0,ke.jsxs)("div",{className:"pdf-actions",role:"group","aria-label":"Current document actions",children:[(0,ke.jsxs)("a",{className:"icon-btn",href:c.url,target:"_blank",rel:"noopener noreferrer","aria-label":"Open ".concat(c.label," in a new tab"),title:"Open ".concat(c.label," in a new tab"),children:[(0,ke.jsxs)("svg",{viewBox:"0 0 24 24","aria-hidden":"true",children:[(0,ke.jsx)("path",{d:"M14 3h7v7h-2V6.41l-9.29 9.3-1.42-1.42 9.3-9.29H14V3z"}),(0,ke.jsx)("path",{d:"M19 21H5a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h7v2H5v14h14v-7h2v7a2 2 0 0 1-2 2z"})]}),(0,ke.jsx)("span",{className:"sr-only",children:"Open"})]}),(0,ke.jsxs)("a",{className:"icon-btn",href:c.url,download:!0,"aria-label":"Download ".concat(c.label," PDF"),title:"Download ".concat(c.label," PDF"),children:[(0,ke.jsxs)("svg",{viewBox:"0 0 24 24","aria-hidden":"true",children:[(0,ke.jsx)("path",{d:"M12 3v10.59l3.3-3.3 1.4 1.42-5 5-5-5 1.4-1.42 3.3 3.3V3h2z"}),(0,ke.jsx)("path",{d:"M5 19h14v2H5z"})]}),(0,ke.jsx)("span",{className:"sr-only",children:"Download"})]})]}),(0,ke.jsx)("div",{id:"pdf-viewer",className:"pdf-scroll",ref:u,children:(0,ke.jsx)(BA,{file:c.url,onLoadSuccess:t=>{let{numPages:e}=t;return o(e)},onLoadError:t=>console.error("PDF load error:",t),loading:(0,ke.jsx)("div",{className:"pdf-loading",children:"Loading\u2026"}),error:(0,ke.jsx)("div",{className:"pdf-loading",children:"Failed to load PDF."}),noData:(0,ke.jsx)("div",{className:"pdf-loading",children:"No PDF file specified."}),children:s>0&&Array.from({length:s},((t,e)=>(0,ke.jsx)(rE,{pageNumber:e+1,width:h,renderTextLayer:!1,renderAnnotationLayer:!1},"p_".concat(e+1))))},c.url)})]}):(0,ke.jsx)("object",{id:"pdf-viewer",data:"".concat(c.url,"#toolbar=0&navpanes=0&scrollbar=1"),type:"application/pdf",className:"resume-pdf-frame","aria-label":"".concat(c.label," PDF"),children:(0,ke.jsxs)("p",{className:"resume-fallback",children:["Your device can\u2019t display the PDF inline.\xa0",(0,ke.jsx)("a",{href:c.url,target:"_blank",rel:"noopener noreferrer",children:"Open"}),"\xa0or\xa0",(0,ke.jsx)("a",{href:c.url,download:!0,children:"download"})," the ",c.label,"."]})})]})}rm.workerSrc="https://unpkg.com/pdfjs-dist@".concat(gy,"/build/pdf.worker.min.mjs");const sE={SkillsMap:{component:(0,ke.jsx)(_s,{}),path:"/skills",label:"Skills",accentA:"#ff72a1",accentB:"#ffb8d0"},Projects:{component:(0,ke.jsx)(Ps,{}),path:"/projects",label:"Projects",accentA:"#b48bff",accentB:"#92a2ff"},About:{component:(0,ke.jsx)(Rs,{}),path:"/about",label:"About",accentA:"#7fd3ff",accentB:"#9fe1ff"},Resume:{component:(0,ke.jsx)(aE,{}),path:"/resume",label:"Resume",accentA:"#78ffa8",accentB:"#c7ffd8"}};function oE(){const t=dt();return(0,ke.jsx)("nav",{className:"nav-bar",role:"navigation","aria-label":"Main Navigation",children:Object.entries(sE).map((e=>{let[n,{path:i,label:r,accentA:a,accentB:s}]=e;return(0,ke.jsx)(ge,{to:i,className:"nav-link ".concat(t.pathname===i?"active":""),"aria-current":t.pathname===i?"page":void 0,style:{"--accentA":a,"--accentB":s},children:(0,ke.jsx)("span",{className:"nav-label",children:r})},n)}))})}function lE(){const[t,e]=(0,r.useState)(!1),n=dt();(0,r.useEffect)((()=>{requestAnimationFrame((()=>e(!0)))}),[]);const i="/"===n.pathname;return(0,ke.jsxs)(ke.Fragment,{children:[(0,ke.jsx)("div",{id:"bg-animation"}),(0,ke.jsxs)("div",{className:"App ".concat(t?"visible":""),children:[!i&&(0,ke.jsxs)("header",{className:"App-header",children:[(0,ke.jsx)(ge,{to:"/",className:"site-title site-title-link","aria-label":"Go to landing",children:"Hyder Mohyuddin"}),(0,ke.jsx)(oE,{})]}),(0,ke.jsx)("main",{className:"App-main",children:(0,ke.jsxs)(Dt,{children:[(0,ke.jsx)(Pt,{path:"/",element:(0,ke.jsx)(Me,{})}),Object.entries(sE).map((t=>{let[e,{path:n,component:i}]=t;return(0,ke.jsx)(Pt,{path:n,element:i},e)}))]})})]})]})}function cE(){return(0,ke.jsx)(fe,{children:(0,ke.jsx)(lE,{})})}const uE=t=>{t&&t instanceof Function&&n.e(453).then(n.bind(n,453)).then((e=>{let{getCLS:n,getFID:i,getFCP:r,getLCP:a,getTTFB:s}=e;n(t),i(t),r(t),a(t),s(t)}))};document.addEventListener("DOMContentLoaded",(()=>{const t=document.getElementById("bg-animation");if(t&&0===t.childNodes.length)for(let e=0;e<60;e++){const e=document.createElement("div");e.className="bg-dot",e.style.left="".concat(100*Math.random(),"vw"),e.style.top="".concat(100+100*Math.random(),"vh"),e.style.animationDuration="".concat(10+30*Math.random(),"s"),t.appendChild(e)}}));a.createRoot(document.getElementById("root")).render((0,ke.jsx)(r.StrictMode,{children:(0,ke.jsx)(cE,{})})),uE()})();
//# sourceMappingURL=main.828fbf4d.js.map